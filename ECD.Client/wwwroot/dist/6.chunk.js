webpackJsonp([6],{

/***/ 463:
/* exports provided: EditorsModule */
/* all exports used */
/*!*************************************************!*\
  !*** ./src/app/pages/editors/editors.module.ts ***!
  \*************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(/*! @angular/core */ 2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__(/*! @angular/common */ 14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__(/*! @angular/forms */ 10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_ckeditor__ = __webpack_require__(/*! ng2-ckeditor */ 771);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_ckeditor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng2_ckeditor__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__theme_nga_module__ = __webpack_require__(/*! ../../theme/nga.module */ 29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__editors_routing__ = __webpack_require__(/*! ./editors.routing */ 701);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__editors_component__ = __webpack_require__(/*! ./editors.component */ 618);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_ckeditor_ckeditor_component__ = __webpack_require__(/*! ./components/ckeditor/ckeditor.component */ 617);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EditorsModule\", function() { return EditorsModule; });\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar EditorsModule = (function () {\r\n    function EditorsModule() {\r\n    }\r\n    EditorsModule = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"NgModule\"])({\r\n            imports: [\r\n                __WEBPACK_IMPORTED_MODULE_1__angular_common__[\"CommonModule\"],\r\n                __WEBPACK_IMPORTED_MODULE_2__angular_forms__[\"FormsModule\"],\r\n                __WEBPACK_IMPORTED_MODULE_4__theme_nga_module__[\"a\" /* NgaModule */],\r\n                __WEBPACK_IMPORTED_MODULE_3_ng2_ckeditor__[\"CKEditorModule\"],\r\n                __WEBPACK_IMPORTED_MODULE_5__editors_routing__[\"a\" /* routing */]\r\n            ],\r\n            declarations: [\r\n                __WEBPACK_IMPORTED_MODULE_6__editors_component__[\"a\" /* Editors */],\r\n                __WEBPACK_IMPORTED_MODULE_7__components_ckeditor_ckeditor_component__[\"a\" /* Ckeditor */]\r\n            ]\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], EditorsModule);\r\n    return EditorsModule;\r\n}());\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wYWdlcy9lZGl0b3JzL2VkaXRvcnMubW9kdWxlLnRzPzgwODYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUgfSAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSAgZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IENLRWRpdG9yTW9kdWxlIH0gZnJvbSAnbmcyLWNrZWRpdG9yJztcclxuaW1wb3J0IHsgTmdhTW9kdWxlIH0gZnJvbSAnLi4vLi4vdGhlbWUvbmdhLm1vZHVsZSc7XHJcblxyXG5pbXBvcnQgeyByb3V0aW5nIH0gICAgICAgZnJvbSAnLi9lZGl0b3JzLnJvdXRpbmcnO1xyXG5pbXBvcnQgeyBFZGl0b3JzIH0gZnJvbSAnLi9lZGl0b3JzLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IENrZWRpdG9yIH0gZnJvbSAnLi9jb21wb25lbnRzL2NrZWRpdG9yL2NrZWRpdG9yLmNvbXBvbmVudCc7XHJcblxyXG5cclxuQE5nTW9kdWxlKHtcclxuICBpbXBvcnRzOiBbXHJcbiAgICBDb21tb25Nb2R1bGUsXHJcbiAgICBGb3Jtc01vZHVsZSxcclxuICAgIE5nYU1vZHVsZSxcclxuICAgIENLRWRpdG9yTW9kdWxlLFxyXG4gICAgcm91dGluZ1xyXG4gIF0sXHJcbiAgZGVjbGFyYXRpb25zOiBbXHJcbiAgICBFZGl0b3JzLFxyXG4gICAgQ2tlZGl0b3JcclxuICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBFZGl0b3JzTW9kdWxlIHtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL2FuZ3VsYXIyLXRlbXBsYXRlLWxvYWRlciEuL3NyYy9hcHAvcGFnZXMvZWRpdG9ycy9lZGl0b3JzLm1vZHVsZS50cyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQWdCQTtBQUFBO0FBQ0E7QUFkQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBRUE7QUFBQTs7Ozs7Ozs7Ozs7OyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 617:
/* exports provided: Ckeditor */
/* exports used: Ckeditor */
/*!*************************************************************************!*\
  !*** ./src/app/pages/editors/components/ckeditor/ckeditor.component.ts ***!
  \*************************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(/*! @angular/core */ 2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ckeditor_loader__ = __webpack_require__(/*! ./ckeditor.loader */ 700);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ckeditor_loader___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__ckeditor_loader__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ckeditor__ = __webpack_require__(/*! ckeditor */ 763);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ckeditor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ckeditor__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_style_loader_ckeditor_scss__ = __webpack_require__(/*! style-loader!./ckeditor.scss */ 875);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_style_loader_ckeditor_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_style_loader_ckeditor_scss__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Ckeditor; });\n\r\n\r\n\r\n\r\nvar Ckeditor = (function () {\r\n    function Ckeditor() {\r\n        this.ckeditorContent = '<p>Hello CKEditor</p>';\r\n        this.config = {\r\n            uiColor: '#F0F3F4',\r\n            height: '600',\r\n        };\r\n    }\r\n    Ckeditor = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'ckeditor-component',\r\n            template: __webpack_require__(/*! ./ckeditor.html */ 825),\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], Ckeditor);\r\n    return Ckeditor;\r\n}());\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjE3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wYWdlcy9lZGl0b3JzL2NvbXBvbmVudHMvY2tlZGl0b3IvY2tlZGl0b3IuY29tcG9uZW50LnRzP2M5ZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgJy4vY2tlZGl0b3IubG9hZGVyJztcclxuaW1wb3J0ICdja2VkaXRvcic7XHJcbmltcG9ydCAnc3R5bGUtbG9hZGVyIS4vY2tlZGl0b3Iuc2Nzcyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2NrZWRpdG9yLWNvbXBvbmVudCcsXHJcbiAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vY2tlZGl0b3IuaHRtbCcpLFxyXG59KVxyXG5cclxuZXhwb3J0IGNsYXNzIENrZWRpdG9yIHtcclxuICBwdWJsaWMgY2tlZGl0b3JDb250ZW50OnN0cmluZyA9ICc8cD5IZWxsbyBDS0VkaXRvcjwvcD4nO1xyXG4gIHB1YmxpYyBjb25maWcgPSB7XHJcbiAgICB1aUNvbG9yOiAnI0YwRjNGNCcsXHJcbiAgICBoZWlnaHQ6ICc2MDAnLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL2FuZ3VsYXIyLXRlbXBsYXRlLWxvYWRlciEuL3NyYy9hcHAvcGFnZXMvZWRpdG9ycy9jb21wb25lbnRzL2NrZWRpdG9yL2NrZWRpdG9yLmNvbXBvbmVudC50cyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQU9BO0FBTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBYkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQVdBO0FBQUE7Ozs7Ozs7OzsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 618:
/* exports provided: Editors */
/* exports used: Editors */
/*!****************************************************!*\
  !*** ./src/app/pages/editors/editors.component.ts ***!
  \****************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(/*! @angular/core */ 2);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Editors; });\n\r\nvar Editors = (function () {\r\n    function Editors() {\r\n    }\r\n    Editors = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'editors',\r\n            template: \"<router-outlet></router-outlet>\"\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], Editors);\r\n    return Editors;\r\n}());\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjE4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wYWdlcy9lZGl0b3JzL2VkaXRvcnMuY29tcG9uZW50LnRzPzIxYWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb21wb25lbnR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdlZGl0b3JzJyxcclxuICB0ZW1wbGF0ZTogYDxyb3V0ZXItb3V0bGV0Pjwvcm91dGVyLW91dGxldD5gXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBFZGl0b3JzIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9zcmMvYXBwL3BhZ2VzL2VkaXRvcnMvZWRpdG9ycy5jb21wb25lbnQudHMiXSwibWFwcGluZ3MiOiJBQUFBO0FBTUE7QUFDQTtBQUNBO0FBTkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUlBO0FBQUE7OzsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 642:
/* unknown exports provided */
/* all exports used */
/*!**************************************************!*\
  !*** ./~/ng2-ckeditor/lib/ckeditor.component.js ***!
  \**************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n// Imports\nvar core_1 = __webpack_require__(/*! @angular/core */ 2);\nvar forms_1 = __webpack_require__(/*! @angular/forms */ 10);\n/**\n * CKEditor component\n * Usage :\n *  <ckeditor [(ngModel)]=\"data\" [config]=\"{...}\" debounce=\"500\"></ckeditor>\n */\nvar CKEditorComponent = (function () {\n    /**\n     * Constructor\n     */\n    function CKEditorComponent(zone) {\n        this.change = new core_1.EventEmitter();\n        this.ready = new core_1.EventEmitter();\n        this.blur = new core_1.EventEmitter();\n        this.focus = new core_1.EventEmitter();\n        this._value = '';\n        this.zone = zone;\n    }\n    Object.defineProperty(CKEditorComponent.prototype, \"value\", {\n        get: function () { return this._value; },\n        set: function (v) {\n            if (v !== this._value) {\n                this._value = v;\n                this.onChange(v);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ;\n    /**\n     * On component destroy\n     */\n    CKEditorComponent.prototype.ngOnDestroy = function () {\n        var _this = this;\n        if (this.instance) {\n            setTimeout(function () {\n                _this.instance.removeAllListeners();\n                _this.instance.destroy();\n                _this.instance = null;\n            });\n        }\n    };\n    /**\n     * On component view init\n     */\n    CKEditorComponent.prototype.ngAfterViewInit = function () {\n        // Configuration\n        this.ckeditorInit(this.config || {});\n    };\n    /**\n     * Value update process\n     */\n    CKEditorComponent.prototype.updateValue = function (value) {\n        var _this = this;\n        this.zone.run(function () {\n            _this.value = value;\n            _this.onChange(value);\n            _this.onTouched();\n            _this.change.emit(value);\n        });\n    };\n    /**\n     * CKEditor init\n     */\n    CKEditorComponent.prototype.ckeditorInit = function (config) {\n        var _this = this;\n        if (!CKEDITOR) {\n            console.error('Please include CKEditor in your page');\n            return;\n        }\n        // CKEditor replace textarea\n        this.instance = CKEDITOR.replace(this.host.nativeElement, config);\n        // Set initial value\n        this.instance.setData(this.value);\n        // listen for instanceReady event\n        this.instance.on('instanceReady', function (evt) {\n            // send the evt to the EventEmitter\n            _this.ready.emit(evt);\n        });\n        // CKEditor change event\n        this.instance.on('change', function () {\n            _this.onTouched();\n            var value = _this.instance.getData();\n            // Debounce update\n            if (_this.debounce) {\n                if (_this.debounceTimeout)\n                    clearTimeout(_this.debounceTimeout);\n                _this.debounceTimeout = setTimeout(function () {\n                    _this.updateValue(value);\n                    _this.debounceTimeout = null;\n                }, parseInt(_this.debounce));\n            }\n            else {\n                _this.updateValue(value);\n            }\n        });\n        // CKEditor blur event\n        this.instance.on('blur', function (evt) {\n            _this.blur.emit(evt);\n        });\n        // CKEditor focus event\n        this.instance.on('focus', function (evt) {\n            _this.focus.emit(evt);\n        });\n    };\n    /**\n     * Implements ControlValueAccessor\n     */\n    CKEditorComponent.prototype.writeValue = function (value) {\n        this._value = value;\n        if (this.instance)\n            this.instance.setData(value);\n    };\n    CKEditorComponent.prototype.onChange = function (_) { };\n    CKEditorComponent.prototype.onTouched = function () { };\n    CKEditorComponent.prototype.registerOnChange = function (fn) { this.onChange = fn; };\n    CKEditorComponent.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };\n    CKEditorComponent.decorators = [\n        { type: core_1.Component, args: [{\n                    selector: 'ckeditor',\n                    providers: [\n                        {\n                            provide: forms_1.NG_VALUE_ACCESSOR,\n                            useExisting: core_1.forwardRef(function () { return CKEditorComponent; }),\n                            multi: true\n                        }\n                    ],\n                    template: \"<textarea #host></textarea>\",\n                },] },\n    ];\n    /** @nocollapse */\n    CKEditorComponent.ctorParameters = [\n        { type: core_1.NgZone, },\n    ];\n    CKEditorComponent.propDecorators = {\n        'config': [{ type: core_1.Input },],\n        'debounce': [{ type: core_1.Input },],\n        'change': [{ type: core_1.Output },],\n        'ready': [{ type: core_1.Output },],\n        'blur': [{ type: core_1.Output },],\n        'focus': [{ type: core_1.Output },],\n        'host': [{ type: core_1.ViewChild, args: ['host',] },],\n        'value': [{ type: core_1.Input },],\n    };\n    return CKEditorComponent;\n}());\nexports.CKEditorComponent = CKEditorComponent;\n//# sourceMappingURL=ckeditor.component.js.map//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9uZzItY2tlZGl0b3IvbGliL2NrZWRpdG9yLmNvbXBvbmVudC5qcz9jNTgyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLy8gSW1wb3J0c1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBmb3Jtc18xID0gcmVxdWlyZSgnQGFuZ3VsYXIvZm9ybXMnKTtcbi8qKlxuICogQ0tFZGl0b3IgY29tcG9uZW50XG4gKiBVc2FnZSA6XG4gKiAgPGNrZWRpdG9yIFsobmdNb2RlbCldPVwiZGF0YVwiIFtjb25maWddPVwiey4uLn1cIiBkZWJvdW5jZT1cIjUwMFwiPjwvY2tlZGl0b3I+XG4gKi9cbnZhciBDS0VkaXRvckNvbXBvbmVudCA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDS0VkaXRvckNvbXBvbmVudCh6b25lKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlID0gbmV3IGNvcmVfMS5FdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5yZWFkeSA9IG5ldyBjb3JlXzEuRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuYmx1ciA9IG5ldyBjb3JlXzEuRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuZm9jdXMgPSBuZXcgY29yZV8xLkV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLl92YWx1ZSA9ICcnO1xuICAgICAgICB0aGlzLnpvbmUgPSB6b25lO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ0tFZGl0b3JDb21wb25lbnQucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl92YWx1ZTsgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgaWYgKHYgIT09IHRoaXMuX3ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2O1xuICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2Uodik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIDtcbiAgICAvKipcbiAgICAgKiBPbiBjb21wb25lbnQgZGVzdHJveVxuICAgICAqL1xuICAgIENLRWRpdG9yQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uRGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmluc3RhbmNlLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgIF90aGlzLmluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogT24gY29tcG9uZW50IHZpZXcgaW5pdFxuICAgICAqL1xuICAgIENLRWRpdG9yQ29tcG9uZW50LnByb3RvdHlwZS5uZ0FmdGVyVmlld0luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIENvbmZpZ3VyYXRpb25cbiAgICAgICAgdGhpcy5ja2VkaXRvckluaXQodGhpcy5jb25maWcgfHwge30pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVmFsdWUgdXBkYXRlIHByb2Nlc3NcbiAgICAgKi9cbiAgICBDS0VkaXRvckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy56b25lLnJ1bihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgX3RoaXMub25DaGFuZ2UodmFsdWUpO1xuICAgICAgICAgICAgX3RoaXMub25Ub3VjaGVkKCk7XG4gICAgICAgICAgICBfdGhpcy5jaGFuZ2UuZW1pdCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ0tFZGl0b3IgaW5pdFxuICAgICAqL1xuICAgIENLRWRpdG9yQ29tcG9uZW50LnByb3RvdHlwZS5ja2VkaXRvckluaXQgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghQ0tFRElUT1IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BsZWFzZSBpbmNsdWRlIENLRWRpdG9yIGluIHlvdXIgcGFnZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIENLRWRpdG9yIHJlcGxhY2UgdGV4dGFyZWFcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IENLRURJVE9SLnJlcGxhY2UodGhpcy5ob3N0Lm5hdGl2ZUVsZW1lbnQsIGNvbmZpZyk7XG4gICAgICAgIC8vIFNldCBpbml0aWFsIHZhbHVlXG4gICAgICAgIHRoaXMuaW5zdGFuY2Uuc2V0RGF0YSh0aGlzLnZhbHVlKTtcbiAgICAgICAgLy8gbGlzdGVuIGZvciBpbnN0YW5jZVJlYWR5IGV2ZW50XG4gICAgICAgIHRoaXMuaW5zdGFuY2Uub24oJ2luc3RhbmNlUmVhZHknLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAvLyBzZW5kIHRoZSBldnQgdG8gdGhlIEV2ZW50RW1pdHRlclxuICAgICAgICAgICAgX3RoaXMucmVhZHkuZW1pdChldnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ0tFZGl0b3IgY2hhbmdlIGV2ZW50XG4gICAgICAgIHRoaXMuaW5zdGFuY2Uub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLm9uVG91Y2hlZCgpO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gX3RoaXMuaW5zdGFuY2UuZ2V0RGF0YSgpO1xuICAgICAgICAgICAgLy8gRGVib3VuY2UgdXBkYXRlXG4gICAgICAgICAgICBpZiAoX3RoaXMuZGVib3VuY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZGVib3VuY2VUaW1lb3V0KVxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMuZGVib3VuY2VUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZWJvdW5jZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlVmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWJvdW5jZVRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH0sIHBhcnNlSW50KF90aGlzLmRlYm91bmNlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDS0VkaXRvciBibHVyIGV2ZW50XG4gICAgICAgIHRoaXMuaW5zdGFuY2Uub24oJ2JsdXInLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBfdGhpcy5ibHVyLmVtaXQoZXZ0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENLRWRpdG9yIGZvY3VzIGV2ZW50XG4gICAgICAgIHRoaXMuaW5zdGFuY2Uub24oJ2ZvY3VzJywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgX3RoaXMuZm9jdXMuZW1pdChldnQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMgQ29udHJvbFZhbHVlQWNjZXNzb3JcbiAgICAgKi9cbiAgICBDS0VkaXRvckNvbXBvbmVudC5wcm90b3R5cGUud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZSlcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2Uuc2V0RGF0YSh2YWx1ZSk7XG4gICAgfTtcbiAgICBDS0VkaXRvckNvbXBvbmVudC5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbiAoXykgeyB9O1xuICAgIENLRWRpdG9yQ29tcG9uZW50LnByb3RvdHlwZS5vblRvdWNoZWQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgQ0tFZGl0b3JDb21wb25lbnQucHJvdG90eXBlLnJlZ2lzdGVyT25DaGFuZ2UgPSBmdW5jdGlvbiAoZm4pIHsgdGhpcy5vbkNoYW5nZSA9IGZuOyB9O1xuICAgIENLRWRpdG9yQ29tcG9uZW50LnByb3RvdHlwZS5yZWdpc3Rlck9uVG91Y2hlZCA9IGZ1bmN0aW9uIChmbikgeyB0aGlzLm9uVG91Y2hlZCA9IGZuOyB9O1xuICAgIENLRWRpdG9yQ29tcG9uZW50LmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkNvbXBvbmVudCwgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdja2VkaXRvcicsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IGZvcm1zXzEuTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRXhpc3Rpbmc6IGNvcmVfMS5mb3J3YXJkUmVmKGZ1bmN0aW9uICgpIHsgcmV0dXJuIENLRWRpdG9yQ29tcG9uZW50OyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8dGV4dGFyZWEgI2hvc3Q+PC90ZXh0YXJlYT5cIixcbiAgICAgICAgICAgICAgICB9LF0gfSxcbiAgICBdO1xuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIENLRWRpdG9yQ29tcG9uZW50LmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5OZ1pvbmUsIH0sXG4gICAgXTtcbiAgICBDS0VkaXRvckNvbXBvbmVudC5wcm9wRGVjb3JhdG9ycyA9IHtcbiAgICAgICAgJ2NvbmZpZyc6IFt7IHR5cGU6IGNvcmVfMS5JbnB1dCB9LF0sXG4gICAgICAgICdkZWJvdW5jZSc6IFt7IHR5cGU6IGNvcmVfMS5JbnB1dCB9LF0sXG4gICAgICAgICdjaGFuZ2UnOiBbeyB0eXBlOiBjb3JlXzEuT3V0cHV0IH0sXSxcbiAgICAgICAgJ3JlYWR5JzogW3sgdHlwZTogY29yZV8xLk91dHB1dCB9LF0sXG4gICAgICAgICdibHVyJzogW3sgdHlwZTogY29yZV8xLk91dHB1dCB9LF0sXG4gICAgICAgICdmb2N1cyc6IFt7IHR5cGU6IGNvcmVfMS5PdXRwdXQgfSxdLFxuICAgICAgICAnaG9zdCc6IFt7IHR5cGU6IGNvcmVfMS5WaWV3Q2hpbGQsIGFyZ3M6IFsnaG9zdCcsXSB9LF0sXG4gICAgICAgICd2YWx1ZSc6IFt7IHR5cGU6IGNvcmVfMS5JbnB1dCB9LF0sXG4gICAgfTtcbiAgICByZXR1cm4gQ0tFZGl0b3JDb21wb25lbnQ7XG59KCkpO1xuZXhwb3J0cy5DS0VkaXRvckNvbXBvbmVudCA9IENLRWRpdG9yQ29tcG9uZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2tlZGl0b3IuY29tcG9uZW50LmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9uZzItY2tlZGl0b3IvbGliL2NrZWRpdG9yLmNvbXBvbmVudC5qc1xuLy8gbW9kdWxlIGlkID0gNjQyXG4vLyBtb2R1bGUgY2h1bmtzID0gNiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 700:
/* unknown exports provided */
/*!**********************************************************************!*\
  !*** ./src/app/pages/editors/components/ckeditor/ckeditor.loader.ts ***!
  \**********************************************************************/
/***/ (function(module, exports) {

eval("window['CKEDITOR_BASEPATH'] = '/ckeditor/';\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzAwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wYWdlcy9lZGl0b3JzL2NvbXBvbmVudHMvY2tlZGl0b3IvY2tlZGl0b3IubG9hZGVyLnRzPzIwMWQiXSwic291cmNlc0NvbnRlbnQiOlsid2luZG93WydDS0VESVRPUl9CQVNFUEFUSCddID0gJy9ja2VkaXRvci8nO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL2FuZ3VsYXIyLXRlbXBsYXRlLWxvYWRlciEuL3NyYy9hcHAvcGFnZXMvZWRpdG9ycy9jb21wb25lbnRzL2NrZWRpdG9yL2NrZWRpdG9yLmxvYWRlci50cyJdLCJtYXBwaW5ncyI6IkFBQUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 701:
/* exports provided: routing */
/* exports used: routing */
/*!**************************************************!*\
  !*** ./src/app/pages/editors/editors.routing.ts ***!
  \**************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_router__ = __webpack_require__(/*! @angular/router */ 8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__editors_component__ = __webpack_require__(/*! ./editors.component */ 618);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_ckeditor_ckeditor_component__ = __webpack_require__(/*! ./components/ckeditor/ckeditor.component */ 617);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return routing; });\n\r\n\r\n\r\n// noinspection TypeScriptValidateTypes\r\nvar routes = [\r\n    {\r\n        path: '',\r\n        component: __WEBPACK_IMPORTED_MODULE_1__editors_component__[\"a\" /* Editors */],\r\n        children: [\r\n            { path: 'ckeditor', component: __WEBPACK_IMPORTED_MODULE_2__components_ckeditor_ckeditor_component__[\"a\" /* Ckeditor */] }\r\n        ]\r\n    }\r\n];\r\nvar routing = __WEBPACK_IMPORTED_MODULE_0__angular_router__[\"RouterModule\"].forChild(routes);\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzAxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wYWdlcy9lZGl0b3JzL2VkaXRvcnMucm91dGluZy50cz85NGVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlcywgUm91dGVyTW9kdWxlIH0gIGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcblxyXG5pbXBvcnQgeyBFZGl0b3JzIH0gZnJvbSAnLi9lZGl0b3JzLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IENrZWRpdG9yIH0gZnJvbSAnLi9jb21wb25lbnRzL2NrZWRpdG9yL2NrZWRpdG9yLmNvbXBvbmVudCc7XHJcblxyXG4vLyBub2luc3BlY3Rpb24gVHlwZVNjcmlwdFZhbGlkYXRlVHlwZXNcclxuY29uc3Qgcm91dGVzOiBSb3V0ZXMgPSBbXHJcbiAge1xyXG4gICAgcGF0aDogJycsXHJcbiAgICBjb21wb25lbnQ6IEVkaXRvcnMsXHJcbiAgICBjaGlsZHJlbjogW1xyXG4gICAgICB7IHBhdGg6ICdja2VkaXRvcicsIGNvbXBvbmVudDogQ2tlZGl0b3IgfVxyXG4gICAgXVxyXG4gIH1cclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCByb3V0aW5nID0gUm91dGVyTW9kdWxlLmZvckNoaWxkKHJvdXRlcyk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vc3JjL2FwcC9wYWdlcy9lZGl0b3JzL2VkaXRvcnMucm91dGluZy50cyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 763:
/* unknown exports provided */
/*!********************************!*\
  !*** ./~/ckeditor/ckeditor.js ***!
  \********************************/
/***/ (function(module, exports) {

eval("﻿/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\n(function(){window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var a=/(^|.*[\\\\\\/])ckeditor\\.js(?:\\?.*|;.*)?$/i,f={timestamp:\"GAGE\",version:\"4.6.0 (Standard)\",revision:\"5877d8b\",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:a},status:\"unloaded\",basePath:function(){var b=window.CKEDITOR_BASEPATH||\"\";if(!b)for(var c=document.getElementsByTagName(\"script\"),f=0;f<c.length;f++){var d=c[f].src.match(a);if(d){b=d[1];break}}-1==b.indexOf(\":/\")&&\"//\"!=\nb.slice(0,2)&&(b=0===b.indexOf(\"/\")?location.href.match(/^.*?:\\/\\/[^\\/]*/)[0]+b:location.href.match(/^[^\\?]*\\/(?:)/)[0]+b);if(!b)throw'The CKEditor installation path could not be automatically detected. Please set the global variable \"CKEDITOR_BASEPATH\" before creating editor instances.';return b}(),getUrl:function(a){-1==a.indexOf(\":/\")&&0!==a.indexOf(\"/\")&&(a=this.basePath+a);this.timestamp&&\"/\"!=a.charAt(a.length-1)&&!/[&?]t=/.test(a)&&(a+=(0<=a.indexOf(\"?\")?\"\\x26\":\"?\")+\"t\\x3d\"+this.timestamp);\nreturn a},domReady:function(){function a(){try{document.addEventListener?(document.removeEventListener(\"DOMContentLoaded\",a,!1),b()):document.attachEvent&&\"complete\"===document.readyState&&(document.detachEvent(\"onreadystatechange\",a),b())}catch(d){}}function b(){for(var a;a=c.shift();)a()}var c=[];return function(d){function b(){try{document.documentElement.doScroll(\"left\")}catch(g){setTimeout(b,1);return}a()}c.push(d);\"complete\"===document.readyState&&setTimeout(a,1);if(1==c.length)if(document.addEventListener)document.addEventListener(\"DOMContentLoaded\",\na,!1),window.addEventListener(\"load\",a,!1);else if(document.attachEvent){document.attachEvent(\"onreadystatechange\",a);window.attachEvent(\"onload\",a);d=!1;try{d=!window.frameElement}catch(k){}document.documentElement.doScroll&&d&&b()}}}()},b=window.CKEDITOR_GETURL;if(b){var c=f.getUrl;f.getUrl=function(a){return b.call(f,a)||c.call(f,a)}}return f}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(a){var f=CKEDITOR.event.prototype,b;for(b in f)null==a[b]&&(a[b]=f[b])},\nCKEDITOR.event.prototype=function(){function a(a){var e=f(this);return e[a]||(e[a]=new b(a))}var f=function(a){a=a.getPrivate&&a.getPrivate()||a._||(a._={});return a.events||(a.events={})},b=function(a){this.name=a;this.listeners=[]};b.prototype={getListenerIndex:function(a){for(var b=0,f=this.listeners;b<f.length;b++)if(f[b].fn==a)return b;return-1}};return{define:function(b,e){var f=a.call(this,b);CKEDITOR.tools.extend(f,e,!0)},on:function(b,e,f,l,d){function h(a,g,d,h){a={name:b,sender:this,editor:a,\ndata:g,listenerData:l,stop:d,cancel:h,removeListener:k};return!1===e.call(f,a)?!1:a.data}function k(){n.removeListener(b,e)}var g=a.call(this,b);if(0>g.getListenerIndex(e)){g=g.listeners;f||(f=this);isNaN(d)&&(d=10);var n=this;h.fn=e;h.priority=d;for(var q=g.length-1;0<=q;q--)if(g[q].priority<=d)return g.splice(q+1,0,h),{removeListener:k};g.unshift(h)}return{removeListener:k}},once:function(){var a=Array.prototype.slice.call(arguments),b=a[1];a[1]=function(a){a.removeListener();return b.apply(this,\narguments)};return this.on.apply(this,a)},capture:function(){CKEDITOR.event.useCapture=1;var a=this.on.apply(this,arguments);CKEDITOR.event.useCapture=0;return a},fire:function(){var a=0,b=function(){a=1},m=0,l=function(){m=1};return function(d,h,k){var g=f(this)[d];d=a;var n=m;a=m=0;if(g){var q=g.listeners;if(q.length)for(var q=q.slice(0),p,t=0;t<q.length;t++){if(g.errorProof)try{p=q[t].call(this,k,h,b,l)}catch(v){}else p=q[t].call(this,k,h,b,l);!1===p?m=1:\"undefined\"!=typeof p&&(h=p);if(a||m)break}}h=\nm?!1:\"undefined\"==typeof h?!0:h;a=d;m=n;return h}}(),fireOnce:function(a,b,m){b=this.fire(a,b,m);delete f(this)[a];return b},removeListener:function(a,b){var m=f(this)[a];if(m){var l=m.getListenerIndex(b);0<=l&&m.listeners.splice(l,1)}},removeAllListeners:function(){var a=f(this),b;for(b in a)delete a[b]},hasListeners:function(a){return(a=f(this)[a])&&0<a.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]);CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=\nfunction(a,f){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fire.call(this,a,f,this)},CKEDITOR.editor.prototype.fireOnce=function(a,f){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fireOnce.call(this,a,f,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var a=navigator.userAgent.toLowerCase(),f=a.match(/edge[ \\/](\\d+.?\\d*)/),b=-1<a.indexOf(\"trident/\"),b=!(!f&&!b),b={ie:b,edge:!!f,webkit:!b&&\n-1<a.indexOf(\" applewebkit/\"),air:-1<a.indexOf(\" adobeair/\"),mac:-1<a.indexOf(\"macintosh\"),quirks:\"BackCompat\"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<a.indexOf(\"mobile\"),iOS:/(ipad|iphone|ipod)/.test(a),isCustomDomain:function(){if(!this.ie)return!1;var a=document.domain,b=window.location.hostname;return a!=b&&a!=\"[\"+b+\"]\"},secure:\"https:\"==location.protocol};b.gecko=\"Gecko\"==navigator.product&&!b.webkit&&!b.ie;b.webkit&&(-1<a.indexOf(\"chrome\")?b.chrome=\n!0:b.safari=!0);var c=0;b.ie&&(c=f?parseFloat(f[1]):b.quirks||!document.documentMode?parseFloat(a.match(/msie (\\d+)/)[1]):document.documentMode,b.ie9Compat=9==c,b.ie8Compat=8==c,b.ie7Compat=7==c,b.ie6Compat=7>c||b.quirks);b.gecko&&(f=a.match(/rv:([\\d\\.]+)/))&&(f=f[1].split(\".\"),c=1E4*f[0]+100*(f[1]||0)+1*(f[2]||0));b.air&&(c=parseFloat(a.match(/ adobeair\\/(\\d+)/)[1]));b.webkit&&(c=parseFloat(a.match(/ applewebkit\\/(\\d+)/)[1]));b.version=c;b.isCompatible=!(b.ie&&7>c)&&!(b.gecko&&4E4>c)&&!(b.webkit&&\n534>c);b.hidpi=2<=window.devicePixelRatio;b.needsBrFiller=b.gecko||b.webkit||b.ie&&10<c;b.needsNbspFiller=b.ie&&11>c;b.cssClass=\"cke_browser_\"+(b.ie?\"ie\":b.gecko?\"gecko\":b.webkit?\"webkit\":\"unknown\");b.quirks&&(b.cssClass+=\" cke_browser_quirks\");b.ie&&(b.cssClass+=\" cke_browser_ie\"+(b.quirks?\"6 cke_browser_iequirks\":b.version));b.air&&(b.cssClass+=\" cke_browser_air\");b.iOS&&(b.cssClass+=\" cke_browser_ios\");b.hidpi&&(b.cssClass+=\" cke_hidpi\");return b}()),\"unloaded\"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR);\nCKEDITOR.loadFullCore=function(){if(\"basic_ready\"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var a=document.createElement(\"script\");a.type=\"text/javascript\";a.src=CKEDITOR.basePath+\"ckeditor.js\";document.getElementsByTagName(\"head\")[0].appendChild(a)}};CKEDITOR.loadFullCoreTimeout=0;CKEDITOR.add=function(a){(this._.pending||(this._.pending=[])).push(a)};(function(){CKEDITOR.domReady(function(){var a=CKEDITOR.loadFullCore,f=CKEDITOR.loadFullCoreTimeout;a&&(CKEDITOR.status=\n\"basic_ready\",a&&a._load?a():f&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1E3*f))})})();CKEDITOR.status=\"basic_loaded\"}(),\"use strict\",CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(a,f){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire(\"log\",{type:\"warn\",errorCode:a,additionalData:f})},CKEDITOR.error=function(a,f){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire(\"log\",\n{type:\"error\",errorCode:a,additionalData:f})},CKEDITOR.on(\"log\",function(a){if(window.console&&window.console.log){var f=console[a.data.type]?a.data.type:\"log\",b=a.data.errorCode;if(a=a.data.additionalData)console[f](\"[CKEDITOR] Error code: \"+b+\".\",a);else console[f](\"[CKEDITOR] Error code: \"+b+\".\");console[f](\"[CKEDITOR] For more information about this error go to http://docs.ckeditor.com/#!/guide/dev_errors-section-\"+b)}},null,null,999),CKEDITOR.dom={},function(){var a=[],f=CKEDITOR.env.gecko?\"-moz-\":\nCKEDITOR.env.webkit?\"-webkit-\":CKEDITOR.env.ie?\"-ms-\":\"\",b=/&/g,c=/>/g,e=/</g,m=/\"/g,l=/&(lt|gt|amp|quot|nbsp|shy|#\\d{1,5});/g,d={lt:\"\\x3c\",gt:\"\\x3e\",amp:\"\\x26\",quot:'\"',nbsp:\" \",shy:\"­\"},h=function(a,g){return\"#\"==g[0]?String.fromCharCode(parseInt(g.slice(1),10)):d[g]};CKEDITOR.on(\"reset\",function(){a=[]});CKEDITOR.tools={arrayCompare:function(a,g){if(!a&&!g)return!0;if(!a||!g||a.length!=g.length)return!1;for(var d=0;d<a.length;d++)if(a[d]!=g[d])return!1;return!0},getIndex:function(a,g){for(var d=\n0;d<a.length;++d)if(g(a[d]))return d;return-1},clone:function(a){var g;if(a&&a instanceof Array){g=[];for(var d=0;d<a.length;d++)g[d]=CKEDITOR.tools.clone(a[d]);return g}if(null===a||\"object\"!=typeof a||a instanceof String||a instanceof Number||a instanceof Boolean||a instanceof Date||a instanceof RegExp||a.nodeType||a.window===a)return a;g=new a.constructor;for(d in a)g[d]=CKEDITOR.tools.clone(a[d]);return g},capitalize:function(a,g){return a.charAt(0).toUpperCase()+(g?a.slice(1):a.slice(1).toLowerCase())},\nextend:function(a){var g=arguments.length,d,b;\"boolean\"==typeof(d=arguments[g-1])?g--:\"boolean\"==typeof(d=arguments[g-2])&&(b=arguments[g-1],g-=2);for(var h=1;h<g;h++){var c=arguments[h],e;for(e in c)if(!0===d||null==a[e])if(!b||e in b)a[e]=c[e]}return a},prototypedCopy:function(a){var g=function(){};g.prototype=a;return new g},copy:function(a){var g={},d;for(d in a)g[d]=a[d];return g},isArray:function(a){return\"[object Array]\"==Object.prototype.toString.call(a)},isEmpty:function(a){for(var g in a)if(a.hasOwnProperty(g))return!1;\nreturn!0},cssVendorPrefix:function(a,g,d){if(d)return f+a+\":\"+g+\";\"+a+\":\"+g;d={};d[a]=g;d[f+a]=g;return d},cssStyleToDomStyle:function(){var a=document.createElement(\"div\").style,g=\"undefined\"!=typeof a.cssFloat?\"cssFloat\":\"undefined\"!=typeof a.styleFloat?\"styleFloat\":\"float\";return function(a){return\"float\"==a?g:a.replace(/-./g,function(a){return a.substr(1).toUpperCase()})}}(),buildStyleHtml:function(a){a=[].concat(a);for(var g,d=[],b=0;b<a.length;b++)if(g=a[b])/@import|[{}]/.test(g)?d.push(\"\\x3cstyle\\x3e\"+\ng+\"\\x3c/style\\x3e\"):d.push('\\x3clink type\\x3d\"text/css\" rel\\x3dstylesheet href\\x3d\"'+g+'\"\\x3e');return d.join(\"\")},htmlEncode:function(a){return void 0===a||null===a?\"\":String(a).replace(b,\"\\x26amp;\").replace(c,\"\\x26gt;\").replace(e,\"\\x26lt;\")},htmlDecode:function(a){return a.replace(l,h)},htmlEncodeAttr:function(a){return CKEDITOR.tools.htmlEncode(a).replace(m,\"\\x26quot;\")},htmlDecodeAttr:function(a){return CKEDITOR.tools.htmlDecode(a)},transformPlainTextToHtml:function(a,g){var d=g==CKEDITOR.ENTER_BR,\nb=this.htmlEncode(a.replace(/\\r\\n/g,\"\\n\")),b=b.replace(/\\t/g,\"\\x26nbsp;\\x26nbsp; \\x26nbsp;\"),h=g==CKEDITOR.ENTER_P?\"p\":\"div\";if(!d){var c=/\\n{2}/g;if(c.test(b))var e=\"\\x3c\"+h+\"\\x3e\",f=\"\\x3c/\"+h+\"\\x3e\",b=e+b.replace(c,function(){return f+e})+f}b=b.replace(/\\n/g,\"\\x3cbr\\x3e\");d||(b=b.replace(new RegExp(\"\\x3cbr\\x3e(?\\x3d\\x3c/\"+h+\"\\x3e)\"),function(a){return CKEDITOR.tools.repeat(a,2)}));b=b.replace(/^ | $/g,\"\\x26nbsp;\");return b=b.replace(/(>|\\s) /g,function(a,g){return g+\"\\x26nbsp;\"}).replace(/ (?=<)/g,\n\"\\x26nbsp;\")},getNextNumber:function(){var a=0;return function(){return++a}}(),getNextId:function(){return\"cke_\"+this.getNextNumber()},getUniqueId:function(){for(var a=\"e\",g=0;8>g;g++)a+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return a},override:function(a,g){var d=g(a);d.prototype=a.prototype;return d},setTimeout:function(a,g,d,b,h){h||(h=window);d||(d=h);return h.setTimeout(function(){b?a.apply(d,[].concat(b)):a.apply(d)},g||0)},trim:function(){var a=/(?:^[ \\t\\n\\r]+)|(?:[ \\t\\n\\r]+$)/g;\nreturn function(g){return g.replace(a,\"\")}}(),ltrim:function(){var a=/^[ \\t\\n\\r]+/g;return function(g){return g.replace(a,\"\")}}(),rtrim:function(){var a=/[ \\t\\n\\r]+$/g;return function(g){return g.replace(a,\"\")}}(),indexOf:function(a,g){if(\"function\"==typeof g)for(var d=0,b=a.length;d<b;d++){if(g(a[d]))return d}else{if(a.indexOf)return a.indexOf(g);d=0;for(b=a.length;d<b;d++)if(a[d]===g)return d}return-1},search:function(a,g){var d=CKEDITOR.tools.indexOf(a,g);return 0<=d?a[d]:null},bind:function(a,\ng){return function(){return a.apply(g,arguments)}},createClass:function(a){var g=a.$,d=a.base,b=a.privates||a._,h=a.proto;a=a.statics;!g&&(g=function(){d&&this.base.apply(this,arguments)});if(b)var c=g,g=function(){var a=this._||(this._={}),g;for(g in b){var d=b[g];a[g]=\"function\"==typeof d?CKEDITOR.tools.bind(d,this):d}c.apply(this,arguments)};d&&(g.prototype=this.prototypedCopy(d.prototype),g.prototype.constructor=g,g.base=d,g.baseProto=d.prototype,g.prototype.base=function(){this.base=d.prototype.base;\nd.apply(this,arguments);this.base=arguments.callee});h&&this.extend(g.prototype,h,!0);a&&this.extend(g,a,!0);return g},addFunction:function(d,g){return a.push(function(){return d.apply(g||this,arguments)})-1},removeFunction:function(d){a[d]=null},callFunction:function(d){var g=a[d];return g&&g.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var a=/^-?\\d+\\.?\\d*px$/,g;return function(d){g=CKEDITOR.tools.trim(d+\"\")+\"px\";return a.test(g)?g:d||\"\"}}(),convertToPx:function(){var a;\nreturn function(g){a||(a=CKEDITOR.dom.element.createFromHtml('\\x3cdiv style\\x3d\"position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;\"\\x3e\\x3c/div\\x3e',CKEDITOR.document),CKEDITOR.document.getBody().append(a));return/%$/.test(g)?g:(a.setStyle(\"width\",g),a.$.clientWidth)}}(),repeat:function(a,g){return Array(g+1).join(a)},tryThese:function(){for(var a,g=0,d=arguments.length;g<d;g++){var b=arguments[g];try{a=b();break}catch(h){}}return a},genKey:function(){return Array.prototype.slice.call(arguments).join(\"-\")},\ndefer:function(a){return function(){var g=arguments,d=this;window.setTimeout(function(){a.apply(d,g)},0)}},normalizeCssText:function(a,g){var d=[],b,h=CKEDITOR.tools.parseCssText(a,!0,g);for(b in h)d.push(b+\":\"+h[b]);d.sort();return d.length?d.join(\";\")+\";\":\"\"},convertRgbToHex:function(a){return a.replace(/(?:rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\))/gi,function(a,d,b,h){a=[d,b,h];for(d=0;3>d;d++)a[d]=(\"0\"+parseInt(a[d],10).toString(16)).slice(-2);return\"#\"+a.join(\"\")})},normalizeHex:function(a){return a.replace(/#(([0-9a-f]{3}){1,2})($|;|\\s+)/gi,\nfunction(a,d,b,h){a=d.toLowerCase();3==a.length&&(a=a.split(\"\"),a=[a[0],a[0],a[1],a[1],a[2],a[2]].join(\"\"));return\"#\"+a+h})},parseCssText:function(a,g,d){var b={};d&&(a=(new CKEDITOR.dom.element(\"span\")).setAttribute(\"style\",a).getAttribute(\"style\")||\"\");a&&(a=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(a)));if(!a||\";\"==a)return b;a.replace(/&quot;/g,'\"').replace(/\\s*([^:;\\s]+)\\s*:\\s*([^;]+)\\s*(?=;|$)/g,function(a,d,h){g&&(d=d.toLowerCase(),\"font-family\"==d&&(h=h.replace(/\\s*,\\s*/g,\n\",\")),h=CKEDITOR.tools.trim(h));b[d]=h});return b},writeCssText:function(a,g){var d,b=[];for(d in a)b.push(d+\":\"+a[d]);g&&b.sort();return b.join(\"; \")},objectCompare:function(a,g,d){var b;if(!a&&!g)return!0;if(!a||!g)return!1;for(b in a)if(a[b]!=g[b])return!1;if(!d)for(b in g)if(a[b]!=g[b])return!1;return!0},objectKeys:function(a){var g=[],d;for(d in a)g.push(d);return g},convertArrayToObject:function(a,g){var d={};1==arguments.length&&(g=!0);for(var b=0,h=a.length;b<h;++b)d[a[b]]=g;return d},fixDomain:function(){for(var a;;)try{a=\nwindow.parent.document.domain;break}catch(g){a=a?a.replace(/.+?(?:\\.|$)/,\"\"):document.domain;if(!a)break;document.domain=a}return!!a},eventsBuffer:function(a,g,d){function b(){c=(new Date).getTime();h=!1;d?g.call(d):g()}var h,c=0;return{input:function(){if(!h){var g=(new Date).getTime()-c;g<a?h=setTimeout(b,a-g):b()}},reset:function(){h&&clearTimeout(h);h=c=0}}},enableHtml5Elements:function(a,g){for(var d=\"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video\".split(\" \"),\nb=d.length,h;b--;)h=a.createElement(d[b]),g&&a.appendChild(h)},checkIfAnyArrayItemMatches:function(a,g){for(var d=0,b=a.length;d<b;++d)if(a[d].match(g))return!0;return!1},checkIfAnyObjectPropertyMatches:function(a,g){for(var d in a)if(d.match(g))return!0;return!1},keystrokeToString:function(a,g){var d=g&16711680,b=g&65535,h=CKEDITOR.env.mac,c=[],e=[];d&CKEDITOR.CTRL&&(c.push(h?\"⌘\":a[17]),e.push(h?a[224]:a[17]));d&CKEDITOR.ALT&&(c.push(h?\"⌥\":a[18]),e.push(a[18]));d&CKEDITOR.SHIFT&&(c.push(h?\"⇧\":a[16]),\ne.push(a[16]));b&&(a[b]?(c.push(a[b]),e.push(a[b])):(c.push(String.fromCharCode(b)),e.push(String.fromCharCode(b))));return{display:c.join(\"+\"),aria:e.join(\"+\")}},transparentImageData:\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw\\x3d\\x3d\",getCookie:function(a){a=a.toLowerCase();for(var g=document.cookie.split(\";\"),d,b,h=0;h<g.length;h++)if(d=g[h].split(\"\\x3d\"),b=decodeURIComponent(CKEDITOR.tools.trim(d[0]).toLowerCase()),b===a)return decodeURIComponent(1<d.length?\nd[1]:\"\");return null},setCookie:function(a,g){document.cookie=encodeURIComponent(a)+\"\\x3d\"+encodeURIComponent(g)+\";path\\x3d/\"},getCsrfToken:function(){var a=CKEDITOR.tools.getCookie(\"ckCsrfToken\");if(!a||40!=a.length){var a=[],g=\"\";if(window.crypto&&window.crypto.getRandomValues)a=new Uint8Array(40),window.crypto.getRandomValues(a);else for(var d=0;40>d;d++)a.push(Math.floor(256*Math.random()));for(d=0;d<a.length;d++)var b=\"abcdefghijklmnopqrstuvwxyz0123456789\".charAt(a[d]%36),g=g+(.5<Math.random()?\nb.toUpperCase():b);a=g;CKEDITOR.tools.setCookie(\"ckCsrfToken\",a)}return a},escapeCss:function(a){return a?window.CSS&&CSS.escape?CSS.escape(a):isNaN(parseInt(a.charAt(0),10))?a:\"\\\\3\"+a.charAt(0)+\" \"+a.substring(1,a.length):\"\"}}}(),CKEDITOR.dtd=function(){var a=CKEDITOR.tools.extend,f=function(a,g){for(var d=CKEDITOR.tools.clone(a),b=1;b<arguments.length;b++){g=arguments[b];for(var h in g)delete d[h]}return d},b={},c={},e={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,\nfooter:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},m={command:1,link:1,meta:1,noscript:1,script:1,style:1},l={},d={\"#\":1},h={center:1,dir:1,noframes:1};a(b,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,\nselect:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,\"var\":1,video:1,wbr:1},d,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1});a(c,e,b,h);f={a:f(b,{a:1,button:1}),abbr:b,address:c,area:l,article:c,aside:c,audio:a({source:1,track:1},c),b:b,base:l,bdi:b,bdo:b,blockquote:c,body:c,br:l,button:f(b,{a:1,button:1}),canvas:b,caption:c,cite:b,code:b,col:l,colgroup:{col:1},command:l,datalist:a({option:1},b),dd:c,del:b,details:a({summary:1},c),dfn:b,div:c,dl:{dt:1,\ndd:1},dt:c,em:b,embed:l,fieldset:a({legend:1},c),figcaption:c,figure:a({figcaption:1},c),footer:c,form:c,h1:b,h2:b,h3:b,h4:b,h5:b,h6:b,head:a({title:1,base:1},m),header:c,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:l,html:a({head:1,body:1},c,m),i:b,iframe:d,img:l,input:l,ins:b,kbd:b,keygen:l,label:b,legend:b,li:c,link:l,main:c,map:c,mark:b,menu:a({li:1},c),meta:l,meter:f(b,{meter:1}),nav:c,noscript:a({link:1,meta:1,style:1},b),object:a({param:1},b),ol:{li:1},optgroup:{option:1},option:d,output:b,p:b,\nparam:l,pre:b,progress:f(b,{progress:1}),q:b,rp:b,rt:b,ruby:a({rp:1,rt:1},b),s:b,samp:b,script:d,section:c,select:{optgroup:1,option:1},small:b,source:l,span:b,strong:b,style:d,sub:b,summary:a({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},b),sup:b,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:c,textarea:d,tfoot:{tr:1},th:c,thead:{tr:1},time:f(b,{time:1}),title:d,tr:{th:1,td:1},track:l,u:b,ul:{li:1},\"var\":b,video:a({source:1,track:1},c),wbr:l,acronym:b,applet:a({param:1},c),basefont:l,\nbig:b,center:c,dialog:l,dir:{li:1},font:b,isindex:l,noframes:c,strike:b,tt:b};a(f,{$block:a({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},e,h),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,\nh1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:b,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:a({body:1,head:1,html:1},f.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,\niframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,\"var\":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,\nnoscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}});return f}(),CKEDITOR.dom.event=function(a){this.$=a},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var a=this.getKey();if(this.$.ctrlKey||this.$.metaKey)a+=CKEDITOR.CTRL;this.$.shiftKey&&(a+=CKEDITOR.SHIFT);this.$.altKey&&(a+=CKEDITOR.ALT);return a},preventDefault:function(a){var f=\nthis.$;f.preventDefault?f.preventDefault():f.returnValue=!1;a&&this.stopPropagation()},stopPropagation:function(){var a=this.$;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},getTarget:function(){var a=this.$.target||this.$.srcElement;return a?new CKEDITOR.dom.node(a):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var a=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(a.documentElement.scrollLeft||a.body.scrollLeft),y:this.$.pageY||\nthis.$.clientY+(a.documentElement.scrollTop||a.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(a){a&&(this.$=a)},CKEDITOR.dom.domObject.prototype=function(){var a=function(a,b){return function(c){\"undefined\"!=typeof CKEDITOR&&a.fire(b,new CKEDITOR.dom.event(c))}};return{getPrivate:function(){var a;(a=this.getCustomData(\"_\"))||this.setCustomData(\"_\",\na={});return a},on:function(f){var b=this.getCustomData(\"_cke_nativeListeners\");b||(b={},this.setCustomData(\"_cke_nativeListeners\",b));b[f]||(b=b[f]=a(this,f),this.$.addEventListener?this.$.addEventListener(f,b,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent(\"on\"+f,b));return CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(a){CKEDITOR.event.prototype.removeListener.apply(this,arguments);if(!this.hasListeners(a)){var b=this.getCustomData(\"_cke_nativeListeners\"),\nc=b&&b[a];c&&(this.$.removeEventListener?this.$.removeEventListener(a,c,!1):this.$.detachEvent&&this.$.detachEvent(\"on\"+a,c),delete b[a])}},removeAllListeners:function(){var a=this.getCustomData(\"_cke_nativeListeners\"),b;for(b in a){var c=a[b];this.$.detachEvent?this.$.detachEvent(\"on\"+b,c):this.$.removeEventListener&&this.$.removeEventListener(b,c,!1);delete a[b]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),function(a){var f={};CKEDITOR.on(\"reset\",function(){f={}});a.equals=function(a){try{return a&&\na.$===this.$}catch(c){return!1}};a.setCustomData=function(a,c){var e=this.getUniqueId();(f[e]||(f[e]={}))[a]=c;return this};a.getCustomData=function(a){var c=this.$[\"data-cke-expando\"];return(c=c&&f[c])&&a in c?c[a]:null};a.removeCustomData=function(a){var c=this.$[\"data-cke-expando\"],c=c&&f[c],e,m;c&&(e=c[a],m=a in c,delete c[a]);return m?e:null};a.clearCustomData=function(){this.removeAllListeners();var a=this.$[\"data-cke-expando\"];a&&delete f[a]};a.getUniqueId=function(){return this.$[\"data-cke-expando\"]||\n(this.$[\"data-cke-expando\"]=CKEDITOR.tools.getNextNumber())};CKEDITOR.event.implementOn(a)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(a){return a?new CKEDITOR.dom[a.nodeType==CKEDITOR.NODE_DOCUMENT?\"document\":a.nodeType==CKEDITOR.NODE_ELEMENT?\"element\":a.nodeType==CKEDITOR.NODE_TEXT?\"text\":a.nodeType==CKEDITOR.NODE_COMMENT?\"comment\":a.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?\"documentFragment\":\"domObject\"](a):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=\n1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(a,f){a.append(this,f);return a},clone:function(a,f){function b(c){c[\"data-cke-expando\"]&&(c[\"data-cke-expando\"]=!1);if(c.nodeType==CKEDITOR.NODE_ELEMENT||\nc.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)if(f||c.nodeType!=CKEDITOR.NODE_ELEMENT||c.removeAttribute(\"id\",!1),a){c=c.childNodes;for(var e=0;e<c.length;e++)b(c[e])}}function c(b){if(b.type==CKEDITOR.NODE_ELEMENT||b.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(b.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=b.getName();\":\"==e[0]&&b.renameNode(e.substring(1))}if(a)for(e=0;e<b.getChildCount();e++)c(b.getChild(e))}}var e=this.$.cloneNode(a);b(e);e=new CKEDITOR.dom.node(e);CKEDITOR.env.ie&&9>CKEDITOR.env.version&&\n(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&c(e);return e},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(a){a.$.parentNode.insertBefore(this.$,a.$.nextSibling);return a},insertBefore:function(a){a.$.parentNode.insertBefore(this.$,a.$);return a},insertBeforeMe:function(a){this.$.parentNode.insertBefore(a.$,this.$);return a},getAddress:function(a){for(var f=[],b=this.getDocument().$.documentElement,\nc=this.$;c&&c!=b;){var e=c.parentNode;e&&f.unshift(this.getIndex.call({$:c},a));c=e}return f},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(a){function f(a,d){var h=d?a.nextSibling:a.previousSibling;return h&&h.nodeType==CKEDITOR.NODE_TEXT?b(h)?f(h,d):h:null}function b(a){return!a.nodeValue||a.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}var c=this.$,e=-1,m;if(!this.$.parentNode||a&&c.nodeType==CKEDITOR.NODE_TEXT&&\nb(c)&&!f(c)&&!f(c,!0))return-1;do a&&c!=this.$&&c.nodeType==CKEDITOR.NODE_TEXT&&(m||b(c))||(e++,m=c.nodeType==CKEDITOR.NODE_TEXT);while(c=c.previousSibling);return e},getNextSourceNode:function(a,f,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getFirst&&this.getFirst();var e;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getNext()}for(;!a&&(e=(e||this).getParent());){if(b&&!1===b(e,!0))return null;a=e.getNext()}return!a||b&&!1===b(a)?null:\nf&&f!=a.type?a.getNextSourceNode(!1,f,b):a},getPreviousSourceNode:function(a,f,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getLast&&this.getLast();var e;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getPrevious()}for(;!a&&(e=(e||this).getParent());){if(b&&!1===b(e,!0))return null;a=e.getPrevious()}return!a||b&&!1===b(a)?null:f&&a.type!=f?a.getPreviousSourceNode(!1,f,b):a},getPrevious:function(a){var f=this.$,b;do b=(f=f.previousSibling)&&\n10!=f.nodeType&&new CKEDITOR.dom.node(f);while(b&&a&&!a(b));return b},getNext:function(a){var f=this.$,b;do b=(f=f.nextSibling)&&new CKEDITOR.dom.node(f);while(b&&a&&!a(b));return b},getParent:function(a){var f=this.$.parentNode;return f&&(f.nodeType==CKEDITOR.NODE_ELEMENT||a&&f.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(f):null},getParents:function(a){var f=this,b=[];do b[a?\"push\":\"unshift\"](f);while(f=f.getParent());return b},getCommonAncestor:function(a){if(a.equals(this))return this;\nif(a.contains&&a.contains(this))return a;var f=this.contains?this:this.getParent();do if(f.contains(a))return f;while(f=f.getParent());return null},getPosition:function(a){var f=this.$,b=a.$;if(f.compareDocumentPosition)return f.compareDocumentPosition(b);if(f==b)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&a.type==CKEDITOR.NODE_ELEMENT){if(f.contains){if(f.contains(b))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(b.contains(f))return CKEDITOR.POSITION_IS_CONTAINED+\nCKEDITOR.POSITION_FOLLOWING}if(\"sourceIndex\"in f)return 0>f.sourceIndex||0>b.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:f.sourceIndex<b.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}f=this.getAddress();a=a.getAddress();for(var b=Math.min(f.length,a.length),c=0;c<b;c++)if(f[c]!=a[c])return f[c]<a[c]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return f.length<a.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},\ngetAscendant:function(a,f){var b=this.$,c,e;f||(b=b.parentNode);\"function\"==typeof a?(e=!0,c=a):(e=!1,c=function(b){b=\"string\"==typeof b.nodeName?b.nodeName.toLowerCase():\"\";return\"string\"==typeof a?b==a:b in a});for(;b;){if(c(e?new CKEDITOR.dom.node(b):b))return new CKEDITOR.dom.node(b);try{b=b.parentNode}catch(m){b=null}}return null},hasAscendant:function(a,f){var b=this.$;f||(b=b.parentNode);for(;b;){if(b.nodeName&&b.nodeName.toLowerCase()==a)return!0;b=b.parentNode}return!1},move:function(a,f){a.append(this.remove(),\nf)},remove:function(a){var f=this.$,b=f.parentNode;if(b){if(a)for(;a=f.firstChild;)b.insertBefore(f.removeChild(a),f);b.removeChild(f)}return this},replace:function(a){this.insertBefore(a);a.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){for(var a;this.getFirst&&(a=this.getFirst());){if(a.type==CKEDITOR.NODE_TEXT){var f=CKEDITOR.tools.ltrim(a.getText()),b=a.getLength();if(f)f.length<b&&(a.split(b-f.length),this.$.removeChild(this.$.firstChild));else{a.remove();continue}}break}},\nrtrim:function(){for(var a;this.getLast&&(a=this.getLast());){if(a.type==CKEDITOR.NODE_TEXT){var f=CKEDITOR.tools.rtrim(a.getText()),b=a.getLength();if(f)f.length<b&&(a.split(f.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild));else{a.remove();continue}}break}CKEDITOR.env.needsBrFiller&&(a=this.$.lastChild)&&1==a.type&&\"br\"==a.nodeName.toLowerCase()&&a.parentNode.removeChild(a)},isReadOnly:function(a){var f=this;this.type!=CKEDITOR.NODE_ELEMENT&&(f=this.getParent());CKEDITOR.env.edge&&\nf&&f.is(\"textarea\",\"input\")&&(a=!0);if(!a&&f&&\"undefined\"!=typeof f.$.isContentEditable)return!(f.$.isContentEditable||f.data(\"cke-editable\"));for(;f;){if(f.data(\"cke-editable\"))return!1;if(f.hasAttribute(\"contenteditable\"))return\"false\"==f.getAttribute(\"contenteditable\");f=f.getParent()}return!0}}),CKEDITOR.dom.window=function(a){CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},\ngetViewPaneSize:function(){var a=this.$.document,f=\"CSS1Compat\"==a.compatMode;return{width:(f?a.documentElement.clientWidth:a.body.clientWidth)||0,height:(f?a.documentElement.clientHeight:a.body.clientHeight)||0}},getScrollPosition:function(){var a=this.$;if(\"pageXOffset\"in a)return{x:a.pageXOffset||0,y:a.pageYOffset||0};a=a.document;return{x:a.documentElement.scrollLeft||a.body.scrollLeft||0,y:a.documentElement.scrollTop||a.body.scrollTop||0}},getFrame:function(){var a=this.$.frameElement;return a?\nnew CKEDITOR.dom.element.get(a):null}}),CKEDITOR.dom.document=function(a){CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(a){if(this.$.createStyleSheet)this.$.createStyleSheet(a);else{var f=new CKEDITOR.dom.element(\"link\");f.setAttributes({rel:\"stylesheet\",type:\"text/css\",href:a});this.getHead().append(f)}},appendStyleText:function(a){if(this.$.createStyleSheet){var f=\nthis.$.createStyleSheet(\"\");f.cssText=a}else{var b=new CKEDITOR.dom.element(\"style\",this);b.append(new CKEDITOR.dom.text(a,this));this.getHead().append(b)}return f||b.$.sheet},createElement:function(a,f){var b=new CKEDITOR.dom.element(a,this);f&&(f.attributes&&b.setAttributes(f.attributes),f.styles&&b.setStyles(f.styles));return b},createText:function(a){return new CKEDITOR.dom.text(a,this)},focus:function(){this.getWindow().focus()},getActive:function(){var a;try{a=this.$.activeElement}catch(f){return null}return new CKEDITOR.dom.element(a)},\ngetById:function(a){return(a=this.$.getElementById(a))?new CKEDITOR.dom.element(a):null},getByAddress:function(a,f){for(var b=this.$.documentElement,c=0;b&&c<a.length;c++){var e=a[c];if(f)for(var m=-1,l=0;l<b.childNodes.length;l++){var d=b.childNodes[l];if(!0!==f||3!=d.nodeType||!d.previousSibling||3!=d.previousSibling.nodeType)if(m++,m==e){b=d;break}}else b=b.childNodes[e]}return b?new CKEDITOR.dom.node(b):null},getElementsByTag:function(a,f){CKEDITOR.env.ie&&8>=document.documentMode||!f||(a=f+\":\"+\na);return new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(a))},getHead:function(){var a=this.$.getElementsByTagName(\"head\")[0];return a=a?new CKEDITOR.dom.element(a):this.getDocumentElement().append(new CKEDITOR.dom.element(\"head\"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(a){this.$.open(\"text/html\",\n\"replace\");CKEDITOR.env.ie&&(a=a.replace(/(?:^\\s*<!DOCTYPE[^>]*?>)|^/i,'$\\x26\\n\\x3cscript data-cke-temp\\x3d\"1\"\\x3e('+CKEDITOR.tools.fixDomain+\")();\\x3c/script\\x3e\"));this.$.write(a);this.$.close()},find:function(a){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(a))},findOne:function(a){return(a=this.$.querySelector(a))?new CKEDITOR.dom.element(a):null},_getHtml5ShivFrag:function(){var a=this.getCustomData(\"html5ShivFrag\");a||(a=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(a,\n!0),this.setCustomData(\"html5ShivFrag\",a));return a}}),CKEDITOR.dom.nodeList=function(a){this.$=a},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(a){return 0>a||a>=this.$.length?null:(a=this.$[a])?new CKEDITOR.dom.node(a):null}},CKEDITOR.dom.element=function(a,f){\"string\"==typeof a&&(a=(f?f.$:document).createElement(a));CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.element.get=function(a){return(a=\"string\"==typeof a?document.getElementById(a)||document.getElementsByName(a)[0]:\na)&&(a.$?a:new CKEDITOR.dom.element(a))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(a,f){var b=new CKEDITOR.dom.element(\"div\",f);b.setHtml(a);return b.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(a,f,b,c){var e=f.getCustomData(\"list_marker_id\")||f.setCustomData(\"list_marker_id\",CKEDITOR.tools.getNextNumber()).getCustomData(\"list_marker_id\"),m=f.getCustomData(\"list_marker_names\")||f.setCustomData(\"list_marker_names\",{}).getCustomData(\"list_marker_names\");\na[e]=f;m[b]=1;return f.setCustomData(b,c)},CKEDITOR.dom.element.clearAllMarkers=function(a){for(var f in a)CKEDITOR.dom.element.clearMarkers(a,a[f],1)},CKEDITOR.dom.element.clearMarkers=function(a,f,b){var c=f.getCustomData(\"list_marker_names\"),e=f.getCustomData(\"list_marker_id\"),m;for(m in c)f.removeCustomData(m);f.removeCustomData(\"list_marker_names\");b&&(f.removeCustomData(\"list_marker_id\"),delete a[e])},function(){function a(a,b){return-1<(\" \"+a+\" \").replace(m,\" \").indexOf(\" \"+b+\" \")}function f(a){var b=\n!0;a.$.id||(a.$.id=\"cke_tmp_\"+CKEDITOR.tools.getNextNumber(),b=!1);return function(){b||a.removeAttribute(\"id\")}}function b(a,b){var c=CKEDITOR.tools.escapeCss(a.$.id);return\"#\"+c+\" \"+b.split(/,\\s*/).join(\", #\"+c+\" \")}function c(a){for(var b=0,c=0,g=l[a].length;c<g;c++)b+=parseInt(this.getComputedStyle(l[a][c])||0,10)||0;return b}var e=document.createElement(\"_\").classList,e=\"undefined\"!==typeof e&&null!==String(e.add).match(/\\[Native code\\]/gi),m=/[\\n\\t\\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,\n{type:CKEDITOR.NODE_ELEMENT,addClass:e?function(a){this.$.classList.add(a);return this}:function(d){var b=this.$.className;b&&(a(b,d)||(b+=\" \"+d));this.$.className=b||d;return this},removeClass:e?function(a){var b=this.$;b.classList.remove(a);b.className||b.removeAttribute(\"class\");return this}:function(d){var b=this.getAttribute(\"class\");b&&a(b,d)&&((b=b.replace(new RegExp(\"(?:^|\\\\s+)\"+d+\"(?\\x3d\\\\s|$)\"),\"\").replace(/^\\s+/,\"\"))?this.setAttribute(\"class\",b):this.removeAttribute(\"class\"));return this},\nhasClass:function(d){return a(this.$.className,d)},append:function(a,b){\"string\"==typeof a&&(a=this.getDocument().createElement(a));b?this.$.insertBefore(a.$,this.$.firstChild):this.$.appendChild(a.$);return a},appendHtml:function(a){if(this.$.childNodes.length){var b=new CKEDITOR.dom.element(\"div\",this.getDocument());b.setHtml(a);b.moveChildren(this)}else this.setHtml(a)},appendText:function(a){null!=this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=a:this.append(new CKEDITOR.dom.text(a))},\nappendBogus:function(a){if(a||CKEDITOR.env.needsBrFiller){for(a=this.getLast();a&&a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(a.getText());)a=a.getPrevious();a&&a.is&&a.is(\"br\")||(a=this.getDocument().createElement(\"br\"),CKEDITOR.env.gecko&&a.setAttribute(\"type\",\"_moz\"),this.append(a))}},breakParent:function(a,b){var c=new CKEDITOR.dom.range(this.getDocument());c.setStartAfter(this);c.setEndAfter(a);var g=c.extractContents(!1,b||!1),e;c.insertNode(this.remove());if(CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(c=\nnew CKEDITOR.dom.element(\"div\");e=g.getFirst();)e.$.style.backgroundColor&&(e.$.style.backgroundColor=e.$.style.backgroundColor),c.append(e);c.insertAfter(this);c.remove(!0)}else g.insertAfterNode(this)},contains:document.compareDocumentPosition?function(a){return!!(this.$.compareDocumentPosition(a.$)&16)}:function(a){var b=this.$;return a.type!=CKEDITOR.NODE_ELEMENT?b.contains(a.getParent().$):b!=a.$&&b.contains(a.$)},focus:function(){function a(){try{this.$.focus()}catch(b){}}return function(b){b?\nCKEDITOR.tools.setTimeout(a,100,this):a.call(this)}}(),getHtml:function(){var a=this.$.innerHTML;return CKEDITOR.env.ie?a.replace(/<\\?[^>]*>/g,\"\"):a},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\\?[^>]*>/,\"\");var a=this.$.ownerDocument.createElement(\"div\");a.appendChild(this.$.cloneNode(!0));return a.innerHTML},getClientRect:function(){var a=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());!a.width&&(a.width=a.right-a.left);!a.height&&(a.height=a.bottom-a.top);\nreturn a},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(a){try{var b=this.$;if(this.getParent())return b.innerHTML=a;var c=this.getDocument()._getHtml5ShivFrag();c.appendChild(b);b.innerHTML=a;c.removeChild(b);return a}catch(g){this.$.innerHTML=\"\";b=new CKEDITOR.dom.element(\"body\",this.getDocument());b.$.innerHTML=a;for(b=b.getChildren();b.count();)this.append(b.getItem(0));return a}}:function(a){return this.$.innerHTML=a},setText:function(){var a=document.createElement(\"p\");a.innerHTML=\n\"x\";a=a.textContent;return function(b){this.$[a?\"textContent\":\"innerText\"]=b}}(),getAttribute:function(){var a=function(a){return this.$.getAttribute(a,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){switch(a){case \"class\":a=\"className\";break;case \"http-equiv\":a=\"httpEquiv\";break;case \"name\":return this.$.name;case \"tabindex\":return a=this.$.getAttribute(a,2),0!==a&&0===this.$.tabIndex&&(a=null),a;case \"checked\":return a=this.$.attributes.getNamedItem(a),(a.specified?\na.nodeValue:this.$.checked)?\"checked\":null;case \"hspace\":case \"value\":return this.$[a];case \"style\":return this.$.style.cssText;case \"contenteditable\":case \"contentEditable\":return this.$.attributes.getNamedItem(\"contentEditable\").specified?this.$.getAttribute(\"contentEditable\"):null}return this.$.getAttribute(a,2)}:a}(),getAttributes:function(a){var b={},c=this.$.attributes,g;a=CKEDITOR.tools.isArray(a)?a:[];for(g=0;g<c.length;g++)-1===CKEDITOR.tools.indexOf(a,c[g].name)&&(b[c[g].name]=c[g].value);\nreturn b},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(a){var b=this.getWindow().$.getComputedStyle(this.$,null);return b?b.getPropertyValue(a):\"\"}:function(a){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(a)]},getDtd:function(){var a=CKEDITOR.dtd[this.getName()];this.getDtd=function(){return a};return a},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,\ngetTabIndex:function(){var a=this.$.tabIndex;return 0!==a||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute(\"tabindex\"),10)?a:-1},getText:function(){return this.$.textContent||this.$.innerText||\"\"},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var a=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var b=this.$.scopeName;\"HTML\"!=\nb&&(a=b.toLowerCase()+\":\"+a)}this.getName=function(){return a};return this.getName()},getValue:function(){return this.$.value},getFirst:function(a){var b=this.$.firstChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getNext(a));return b},getLast:function(a){var b=this.$.lastChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getPrevious(a));return b},getStyle:function(a){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]},is:function(){var a=this.getName();if(\"object\"==typeof arguments[0])return!!arguments[0][a];\nfor(var b=0;b<arguments.length;b++)if(arguments[b]==a)return!0;return!1},isEditable:function(a){var b=this.getName();return this.isReadOnly()||\"none\"==this.getComputedStyle(\"display\")||\"hidden\"==this.getComputedStyle(\"visibility\")||CKEDITOR.dtd.$nonEditable[b]||CKEDITOR.dtd.$empty[b]||this.is(\"a\")&&(this.data(\"cke-saved-name\")||this.hasAttribute(\"name\"))&&!this.getChildCount()?!1:!1!==a?(a=CKEDITOR.dtd[b]||CKEDITOR.dtd.span,!(!a||!a[\"#\"])):!0},isIdentical:function(a){var b=this.clone(0,1);a=a.clone(0,\n1);b.removeAttributes([\"_moz_dirty\",\"data-cke-expando\",\"data-cke-saved-href\",\"data-cke-saved-name\"]);a.removeAttributes([\"_moz_dirty\",\"data-cke-expando\",\"data-cke-saved-href\",\"data-cke-saved-name\"]);if(b.$.isEqualNode)return b.$.style.cssText=CKEDITOR.tools.normalizeCssText(b.$.style.cssText),a.$.style.cssText=CKEDITOR.tools.normalizeCssText(a.$.style.cssText),b.$.isEqualNode(a.$);b=b.getOuterHtml();a=a.getOuterHtml();if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is(\"a\")){var c=this.getParent();\nc.type==CKEDITOR.NODE_ELEMENT&&(c=c.clone(),c.setHtml(b),b=c.getHtml(),c.setHtml(a),a=c.getHtml())}return b==a},isVisible:function(){var a=(this.$.offsetHeight||this.$.offsetWidth)&&\"hidden\"!=this.getComputedStyle(\"visibility\"),b,c;a&&CKEDITOR.env.webkit&&(b=this.getWindow(),!b.equals(CKEDITOR.document.getWindow())&&(c=b.$.frameElement)&&(a=(new CKEDITOR.dom.element(c)).isVisible()));return!!a},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var a=this.getChildren(),\nb=0,c=a.count();b<c;b++){var g=a.getItem(b);if(g.type!=CKEDITOR.NODE_ELEMENT||!g.data(\"cke-bookmark\"))if(g.type==CKEDITOR.NODE_ELEMENT&&!g.isEmptyInlineRemoveable()||g.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(g.getText()))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var a=this.$.attributes,b=0;b<a.length;b++){var c=a[b];switch(c.nodeName){case \"class\":if(this.getAttribute(\"class\"))return!0;case \"data-cke-expando\":continue;default:if(c.specified)return!0}}return!1}:\nfunction(){var a=this.$.attributes,b=a.length,c={\"data-cke-expando\":1,_moz_dirty:1};return 0<b&&(2<b||!c[a[0].nodeName]||2==b&&!c[a[1].nodeName])},hasAttribute:function(){function a(b){var d=this.$.attributes.getNamedItem(b);if(\"input\"==this.getName())switch(b){case \"class\":return 0<this.$.className.length;case \"checked\":return!!this.$.checked;case \"value\":return b=this.getAttribute(\"type\"),\"checkbox\"==b||\"radio\"==b?\"on\"!=this.$.value:!!this.$.value}return d?d.specified:!1}return CKEDITOR.env.ie?\n8>CKEDITOR.env.version?function(b){return\"name\"==b?!!this.$.name:a.call(this,b)}:a:function(a){return!!this.$.attributes.getNamedItem(a)}}(),hide:function(){this.setStyle(\"display\",\"none\")},moveChildren:function(a,b){var c=this.$;a=a.$;if(c!=a){var g;if(b)for(;g=c.lastChild;)a.insertBefore(c.removeChild(g),a.firstChild);else for(;g=c.firstChild;)a.appendChild(c.removeChild(g))}},mergeSiblings:function(){function a(b,d,g){if(d&&d.type==CKEDITOR.NODE_ELEMENT){for(var c=[];d.data(\"cke-bookmark\")||d.isEmptyInlineRemoveable();)if(c.push(d),\nd=g?d.getNext():d.getPrevious(),!d||d.type!=CKEDITOR.NODE_ELEMENT)return;if(b.isIdentical(d)){for(var e=g?b.getLast():b.getFirst();c.length;)c.shift().move(b,!g);d.moveChildren(b,!g);d.remove();e&&e.type==CKEDITOR.NODE_ELEMENT&&e.mergeSiblings()}}}return function(b){if(!1===b||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is(\"a\"))a(this,this.getNext(),!0),a(this,this.getPrevious())}}(),show:function(){this.setStyles({display:\"\",visibility:\"\"})},setAttribute:function(){var a=function(a,b){this.$.setAttribute(a,\nb);return this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(b,c){\"class\"==b?this.$.className=c:\"style\"==b?this.$.style.cssText=c:\"tabindex\"==b?this.$.tabIndex=c:\"checked\"==b?this.$.checked=c:\"contenteditable\"==b?a.call(this,\"contentEditable\",c):a.apply(this,arguments);return this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(b,c){if(\"src\"==b&&c.match(/^http:\\/\\//))try{a.apply(this,arguments)}catch(g){}else a.apply(this,arguments);return this}:a}(),setAttributes:function(a){for(var b in a)this.setAttribute(b,\na[b]);return this},setValue:function(a){this.$.value=a;return this},removeAttribute:function(){var a=function(a){this.$.removeAttribute(a)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){\"class\"==a?a=\"className\":\"tabindex\"==a?a=\"tabIndex\":\"contenteditable\"==a&&(a=\"contentEditable\");this.$.removeAttribute(a)}:a}(),removeAttributes:function(a){if(CKEDITOR.tools.isArray(a))for(var b=0;b<a.length;b++)this.removeAttribute(a[b]);else for(b in a=a||this.getAttributes(),\na)a.hasOwnProperty(b)&&this.removeAttribute(b)},removeStyle:function(a){var b=this.$.style;if(b.removeProperty||\"border\"!=a&&\"margin\"!=a&&\"padding\"!=a)b.removeProperty?b.removeProperty(a):b.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(a)),this.$.style.cssText||this.removeAttribute(\"style\");else{var c=[\"top\",\"left\",\"right\",\"bottom\"],g;\"border\"==a&&(g=[\"color\",\"style\",\"width\"]);for(var b=[],e=0;e<c.length;e++)if(g)for(var f=0;f<g.length;f++)b.push([a,c[e],g[f]].join(\"-\"));else b.push([a,c[e]].join(\"-\"));\nfor(a=0;a<b.length;a++)this.removeStyle(b[a])}},setStyle:function(a,b){this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]=b;return this},setStyles:function(a){for(var b in a)this.setStyle(b,a[b]);return this},setOpacity:function(a){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(a=Math.round(100*a),this.setStyle(\"filter\",100<=a?\"\":\"progid:DXImageTransform.Microsoft.Alpha(opacity\\x3d\"+a+\")\")):this.setStyle(\"opacity\",a)},unselectable:function(){this.setStyles(CKEDITOR.tools.cssVendorPrefix(\"user-select\",\"none\"));\nif(CKEDITOR.env.ie){this.setAttribute(\"unselectable\",\"on\");for(var a,b=this.getElementsByTag(\"*\"),c=0,g=b.count();c<g;c++)a=b.getItem(c),a.setAttribute(\"unselectable\",\"on\")}},getPositionedAncestor:function(){for(var a=this;\"html\"!=a.getName();){if(\"static\"!=a.getComputedStyle(\"position\"))return a;a=a.getParent()}return null},getDocumentPosition:function(a){var b=0,c=0,g=this.getDocument(),e=g.getBody(),f=\"BackCompat\"==g.$.compatMode;if(document.documentElement.getBoundingClientRect&&(CKEDITOR.env.ie?\n8!==CKEDITOR.env.version:1)){var m=this.$.getBoundingClientRect(),l=g.$.documentElement,v=l.clientTop||e.$.clientTop||0,r=l.clientLeft||e.$.clientLeft||0,u=!0;CKEDITOR.env.ie&&(u=g.getDocumentElement().contains(this),g=g.getBody().contains(this),u=f&&g||!f&&u);u&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(b=e.$.scrollLeft||l.scrollLeft,c=e.$.scrollTop||l.scrollTop):(c=f?e.$:l,b=c.scrollLeft,c=c.scrollTop),b=m.left+b-r,c=m.top+c-v)}else for(v=this,r=null;v&&\"body\"!=v.getName()&&\n\"html\"!=v.getName();){b+=v.$.offsetLeft-v.$.scrollLeft;c+=v.$.offsetTop-v.$.scrollTop;v.equals(this)||(b+=v.$.clientLeft||0,c+=v.$.clientTop||0);for(;r&&!r.equals(v);)b-=r.$.scrollLeft,c-=r.$.scrollTop,r=r.getParent();r=v;v=(m=v.$.offsetParent)?new CKEDITOR.dom.element(m):null}a&&(m=this.getWindow(),v=a.getWindow(),!m.equals(v)&&m.$.frameElement&&(a=(new CKEDITOR.dom.element(m.$.frameElement)).getDocumentPosition(a),b+=a.x,c+=a.y));document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||\nf||(b+=this.$.clientLeft?1:0,c+=this.$.clientTop?1:0);return{x:b,y:c}},scrollIntoView:function(a){var b=this.getParent();if(b){do if((b.$.clientWidth&&b.$.clientWidth<b.$.scrollWidth||b.$.clientHeight&&b.$.clientHeight<b.$.scrollHeight)&&!b.is(\"body\")&&this.scrollIntoParent(b,a,1),b.is(\"html\")){var c=b.getWindow();try{var g=c.$.frameElement;g&&(b=new CKEDITOR.dom.element(g))}catch(e){}}while(b=b.getParent())}},scrollIntoParent:function(a,b,c){var g,e,f,m;function l(b,g){/body|html/.test(a.getName())?\na.getWindow().$.scrollBy(b,g):(a.$.scrollLeft+=b,a.$.scrollTop+=g)}function v(a,b){var g={x:0,y:0};if(!a.is(u?\"body\":\"html\")){var c=a.$.getBoundingClientRect();g.x=c.left;g.y=c.top}c=a.getWindow();c.equals(b)||(c=v(CKEDITOR.dom.element.get(c.$.frameElement),b),g.x+=c.x,g.y+=c.y);return g}function r(a,b){return parseInt(a.getComputedStyle(\"margin-\"+b)||0,10)||0}!a&&(a=this.getWindow());f=a.getDocument();var u=\"BackCompat\"==f.$.compatMode;a instanceof CKEDITOR.dom.window&&(a=u?f.getBody():f.getDocumentElement());\nCKEDITOR.env.webkit&&(f=this.getEditor(!1))&&(f._.previousScrollTop=null);f=a.getWindow();e=v(this,f);var B=v(a,f),x=this.$.offsetHeight;g=this.$.offsetWidth;var w=a.$.clientHeight,z=a.$.clientWidth;f=e.x-r(this,\"left\")-B.x||0;m=e.y-r(this,\"top\")-B.y||0;g=e.x+g+r(this,\"right\")-(B.x+z)||0;e=e.y+x+r(this,\"bottom\")-(B.y+w)||0;(0>m||0<e)&&l(0,!0===b?m:!1===b?e:0>m?m:e);c&&(0>f||0<g)&&l(0>f?f:g,0)},setState:function(a,b,c){b=b||\"cke\";switch(a){case CKEDITOR.TRISTATE_ON:this.addClass(b+\"_on\");this.removeClass(b+\n\"_off\");this.removeClass(b+\"_disabled\");c&&this.setAttribute(\"aria-pressed\",!0);c&&this.removeAttribute(\"aria-disabled\");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(b+\"_disabled\");this.removeClass(b+\"_off\");this.removeClass(b+\"_on\");c&&this.setAttribute(\"aria-disabled\",!0);c&&this.removeAttribute(\"aria-pressed\");break;default:this.addClass(b+\"_off\"),this.removeClass(b+\"_on\"),this.removeClass(b+\"_disabled\"),c&&this.removeAttribute(\"aria-pressed\"),c&&this.removeAttribute(\"aria-disabled\")}},\ngetFrameDocument:function(){var a=this.$;try{a.contentWindow.document}catch(b){a.src=a.src}return a&&new CKEDITOR.dom.document(a.contentWindow.document)},copyAttributes:function(a,b){var c=this.$.attributes;b=b||{};for(var g=0;g<c.length;g++){var e=c[g],f=e.nodeName.toLowerCase(),m;if(!(f in b))if(\"checked\"==f&&(m=this.getAttribute(f)))a.setAttribute(f,m);else if(!CKEDITOR.env.ie||this.hasAttribute(f))m=this.getAttribute(f),null===m&&(m=e.nodeValue),a.setAttribute(f,m)}\"\"!==this.$.style.cssText&&\n(a.$.style.cssText=this.$.style.cssText)},renameNode:function(a){if(this.getName()!=a){var b=this.getDocument();a=new CKEDITOR.dom.element(a,b);this.copyAttributes(a);this.moveChildren(a);this.getParent(!0)&&this.$.parentNode.replaceChild(a.$,this.$);a.$[\"data-cke-expando\"]=this.$[\"data-cke-expando\"];this.$=a.$;delete this.getName}},getChild:function(){function a(b,c){var g=b.childNodes;if(0<=c&&c<g.length)return g[c]}return function(b){var c=this.$;if(b.slice)for(b=b.slice();0<b.length&&c;)c=a(c,\nb.shift());else c=a(c,b);return c?new CKEDITOR.dom.node(c):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT&&b.hasClass(\"cke_enable_context_menu\")}this.on(\"contextmenu\",function(b){b.data.getTarget().getAscendant(a,!0)||b.data.preventDefault()})},getDirection:function(a){return a?this.getComputedStyle(\"direction\")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||\n\"ltr\":this.getStyle(\"direction\")||this.getAttribute(\"dir\")},data:function(a,b){a=\"data-\"+a;if(void 0===b)return this.getAttribute(a);!1===b?this.removeAttribute(a):this.setAttribute(a,b);return null},getEditor:function(a){var b=CKEDITOR.instances,c,g,e;a=a||void 0===a;for(c in b)if(g=b[c],g.element.equals(this)&&g.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!a&&(e=g.editable(),e.equals(this)||e.contains(this)))return g;return null},find:function(a){var c=f(this);a=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(b(this,\na)));c();return a},findOne:function(a){var c=f(this);a=this.$.querySelector(b(this,a));c();return a?new CKEDITOR.dom.element(a):null},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var g=a(this);if(!1!==g){c=this.getChildren();for(var e=0;e<c.count();e++)g=c.getItem(e),g.type==CKEDITOR.NODE_ELEMENT?g.forEach(a,b):b&&g.type!=b||a(g)}}});var l={width:[\"border-left-width\",\"border-right-width\",\"padding-left\",\"padding-right\"],height:[\"border-top-width\",\"border-bottom-width\",\"padding-top\",\"padding-bottom\"]};\nCKEDITOR.dom.element.prototype.setSize=function(a,b,e){\"number\"==typeof b&&(!e||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(b-=c.call(this,a)),this.setStyle(a,b+\"px\"))};CKEDITOR.dom.element.prototype.getSize=function(a,b){var e=Math.max(this.$[\"offset\"+CKEDITOR.tools.capitalize(a)],this.$[\"client\"+CKEDITOR.tools.capitalize(a)])||0;b&&(e-=c.call(this,a));return e}}(),CKEDITOR.dom.documentFragment=function(a){a=a||CKEDITOR.document;this.$=a.type==CKEDITOR.NODE_DOCUMENT?a.$.createDocumentFragment():a},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,\nCKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(a){a=a.$;a.parentNode.insertBefore(this.$,a.nextSibling)},getHtml:function(){var a=new CKEDITOR.dom.element(\"div\");this.clone(1,1).appendTo(a);return a.getHtml().replace(/\\s*data-cke-expando=\".*?\"/g,\"\")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,\ngetChildCount:1,getChild:1,getChildren:1}),function(){function a(a,b){var g=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(g.collapsed)return this.end(),null;g.optimize()}var c,d=g.startContainer;c=g.endContainer;var e=g.startOffset,k=g.endOffset,f,h=this.guard,n=this.type,m=a?\"getPreviousSourceNode\":\"getNextSourceNode\";if(!a&&!this._.guardLTR){var l=c.type==CKEDITOR.NODE_ELEMENT?c:c.getParent(),A=c.type==CKEDITOR.NODE_ELEMENT?c.getChild(k):c.getNext();this._.guardLTR=function(a,\nb){return(!b||!l.equals(a))&&(!A||!a.equals(A))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(g.root))}}if(a&&!this._.guardRTL){var C=d.type==CKEDITOR.NODE_ELEMENT?d:d.getParent(),F=d.type==CKEDITOR.NODE_ELEMENT?e?d.getChild(e-1):null:d.getPrevious();this._.guardRTL=function(a,b){return(!b||!C.equals(a))&&(!F||!a.equals(F))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(g.root))}}var E=a?this._.guardRTL:this._.guardLTR;f=h?function(a,b){return!1===E(a,b)?!1:h(a,b)}:E;this.current?c=this.current[m](!1,\nn,f):(a?c.type==CKEDITOR.NODE_ELEMENT&&(c=0<k?c.getChild(k-1):!1===f(c,!0)?null:c.getPreviousSourceNode(!0,n,f)):(c=d,c.type==CKEDITOR.NODE_ELEMENT&&((c=c.getChild(e))||(c=!1===f(d,!0)?null:d.getNextSourceNode(!0,n,f)))),c&&!1===f(c)&&(c=null));for(;c&&!this._.end;){this.current=c;if(!this.evaluator||!1!==this.evaluator(c)){if(!b)return c}else if(b&&this.evaluator)return!1;c=c[m](!1,n,f)}this.end();return this.current=null}function f(b){for(var g,c=null;g=a.call(this,b);)c=g;return c}CKEDITOR.dom.walker=\nCKEDITOR.tools.createClass({$:function(a){this.range=a;this._={}},proto:{end:function(){this._.end=1},next:function(){return a.call(this)},previous:function(){return a.call(this,1)},checkForward:function(){return!1!==a.call(this,0,1)},checkBackward:function(){return!1!==a.call(this,1,1)},lastForward:function(){return f.call(this)},lastBackward:function(){return f.call(this,1)},reset:function(){delete this.current;this._={}}}});var b={block:1,\"list-item\":1,table:1,\"table-row-group\":1,\"table-header-group\":1,\n\"table-footer-group\":1,\"table-row\":1,\"table-column-group\":1,\"table-column\":1,\"table-cell\":1,\"table-caption\":1},c={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(a){return\"none\"!=this.getComputedStyle(\"float\")||this.getComputedStyle(\"position\")in c||!b[this.getComputedStyle(\"display\")]?!!(this.is(CKEDITOR.dtd.$block)||a&&this.is(a)):!0};CKEDITOR.dom.walker.blockBoundary=function(a){return function(b){return!(b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary(a))}};CKEDITOR.dom.walker.listItemBoundary=\nfunction(){return this.blockBoundary({br:1})};CKEDITOR.dom.walker.bookmark=function(a,b){function g(a){return a&&a.getName&&\"span\"==a.getName()&&a.data(\"cke-bookmark\")}return function(c){var d,e;d=c&&c.type!=CKEDITOR.NODE_ELEMENT&&(e=c.getParent())&&g(e);d=a?d:d||g(c);return!!(b^d)}};CKEDITOR.dom.walker.whitespaces=function(a){return function(b){var g;b&&b.type==CKEDITOR.NODE_TEXT&&(g=!CKEDITOR.tools.trim(b.getText())||CKEDITOR.env.webkit&&b.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE);\nreturn!!(a^g)}};CKEDITOR.dom.walker.invisible=function(a){var b=CKEDITOR.dom.walker.whitespaces(),g=CKEDITOR.env.webkit?1:0;return function(c){b(c)?c=1:(c.type==CKEDITOR.NODE_TEXT&&(c=c.getParent()),c=c.$.offsetWidth<=g);return!!(a^c)}};CKEDITOR.dom.walker.nodeType=function(a,b){return function(g){return!!(b^g.type==a)}};CKEDITOR.dom.walker.bogus=function(a){function b(a){return!m(a)&&!l(a)}return function(g){var c=CKEDITOR.env.needsBrFiller?g.is&&g.is(\"br\"):g.getText&&e.test(g.getText());c&&(c=g.getParent(),\ng=g.getNext(b),c=c.isBlockBoundary()&&(!g||g.type==CKEDITOR.NODE_ELEMENT&&g.isBlockBoundary()));return!!(a^c)}};CKEDITOR.dom.walker.temp=function(a){return function(b){b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());b=b&&b.hasAttribute(\"data-cke-temp\");return!!(a^b)}};var e=/^[\\t\\r\\n ]*(?:&nbsp;|\\xa0)$/,m=CKEDITOR.dom.walker.whitespaces(),l=CKEDITOR.dom.walker.bookmark(),d=CKEDITOR.dom.walker.temp(),h=function(a){return l(a)||m(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$inline)&&!a.is(CKEDITOR.dtd.$empty)};\nCKEDITOR.dom.walker.ignored=function(a){return function(b){b=m(b)||l(b)||d(b);return!!(a^b)}};var k=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(a){return function(b){for(var g=0,c=b.getChildCount();g<c;++g)if(!k(b.getChild(g)))return!!a;return!a}};var g=CKEDITOR.dom.walker.empty(),n=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(a){var b={},g;for(g in a)CKEDITOR.dtd[g][\"#\"]&&(b[g]=1);return b}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=\nfunction(a){return function(b){b=k(b)?!1:b.type==CKEDITOR.NODE_TEXT||b.type==CKEDITOR.NODE_ELEMENT&&(b.is(CKEDITOR.dtd.$inline)||b.is(\"hr\")||\"false\"==b.getAttribute(\"contenteditable\")||!CKEDITOR.env.needsBrFiller&&b.is(n)&&g(b))?!0:!1;return!!(a^b)}};CKEDITOR.dom.element.prototype.getBogus=function(){var a=this;do a=a.getPreviousSourceNode();while(h(a));return a&&(CKEDITOR.env.needsBrFiller?a.is&&a.is(\"br\"):a.getText&&e.test(a.getText()))?a:!1}}(),CKEDITOR.dom.range=function(a){this.endOffset=this.endContainer=\nthis.startOffset=this.startContainer=null;this.collapsed=!0;var f=a instanceof CKEDITOR.dom.document;this.document=f?a:a.getDocument();this.root=f?a.getBody():a},function(){function a(a){a.collapsed=a.startContainer&&a.endContainer&&a.startContainer.equals(a.endContainer)&&a.startOffset==a.endOffset}function f(a,b,c,d,e){function k(a,b,g,c){var d=g?a.getPrevious():a.getNext();if(c&&m)return d;w||c?b.append(a.clone(!0,e),g):(a.remove(),l&&b.append(a));return d}function f(){var a,b,g,c=Math.min(I.length,\nH.length);for(a=0;a<c;a++)if(b=I[a],g=H[a],!b.equals(g))return a;return a-1}function h(){var b=R-1,c=E&&J&&!z.equals(D);b<P-1||b<T-1||c?(c?a.moveToPosition(D,CKEDITOR.POSITION_BEFORE_START):T==b+1&&F?a.moveToPosition(H[b],CKEDITOR.POSITION_BEFORE_END):a.moveToPosition(H[b+1],CKEDITOR.POSITION_BEFORE_START),d&&(b=I[b+1])&&b.type==CKEDITOR.NODE_ELEMENT&&(c=CKEDITOR.dom.element.createFromHtml('\\x3cspan data-cke-bookmark\\x3d\"1\" style\\x3d\"display:none\"\\x3e\\x26nbsp;\\x3c/span\\x3e',a.document),c.insertAfter(b),\nb.mergeSiblings(!1),a.moveToBookmark({startNode:c}))):a.collapse(!0)}a.optimizeBookmark();var m=0===b,l=1==b,w=2==b;b=w||l;var z=a.startContainer,D=a.endContainer,y=a.startOffset,A=a.endOffset,C,F,E,J,G,M;if(w&&D.type==CKEDITOR.NODE_TEXT&&z.equals(D))z=a.document.createText(z.substring(y,A)),c.append(z);else{D.type==CKEDITOR.NODE_TEXT?w?M=!0:D=D.split(A):0<D.getChildCount()?A>=D.getChildCount()?(D=D.getChild(A-1),F=!0):D=D.getChild(A):J=F=!0;z.type==CKEDITOR.NODE_TEXT?w?G=!0:z.split(y):0<z.getChildCount()?\n0===y?(z=z.getChild(y),C=!0):z=z.getChild(y-1):E=C=!0;for(var I=z.getParents(),H=D.getParents(),R=f(),P=I.length-1,T=H.length-1,O=c,K,ca,W,U=-1,L=R;L<=P;L++){ca=I[L];W=ca.getNext();for(L!=P||ca.equals(H[L])&&P<T?b&&(K=O.append(ca.clone(0,e))):C?k(ca,O,!1,E):G&&O.append(a.document.createText(ca.substring(y)));W;){if(W.equals(H[L])){U=L;break}W=k(W,O)}O=K}O=c;for(L=R;L<=T;L++)if(c=H[L],W=c.getPrevious(),c.equals(I[L]))b&&(O=O.getChild(0));else{L!=T||c.equals(I[L])&&T<P?b&&(K=O.append(c.clone(0,e))):\nF?k(c,O,!1,J):M&&O.append(a.document.createText(c.substring(0,A)));if(L>U)for(;W;)W=k(W,O,!0);O=K}w||h()}}function b(){var a=!1,b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(!0),d=CKEDITOR.dom.walker.bogus();return function(e){return c(e)||b(e)?!0:d(e)&&!a?a=!0:e.type==CKEDITOR.NODE_TEXT&&(e.hasAscendant(\"pre\")||CKEDITOR.tools.trim(e.getText()).length)||e.type==CKEDITOR.NODE_ELEMENT&&!e.is(m)?!1:!0}}function c(a){var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(1);\nreturn function(d){return c(d)||b(d)?!0:!a&&l(d)||d.type==CKEDITOR.NODE_ELEMENT&&d.is(CKEDITOR.dtd.$removeEmpty)}}function e(a){return function(){var b;return this[a?\"getPreviousNode\":\"getNextNode\"](function(a){!b&&k(a)&&(b=a);return h(a)&&!(l(a)&&a.equals(b))})}}var m={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,\"var\":1},l=CKEDITOR.dom.walker.bogus(),d=/^[\\t\\r\\n ]*(?:&nbsp;|\\xa0)$/,\nh=CKEDITOR.dom.walker.editable(),k=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var a=new CKEDITOR.dom.range(this.root);a._setStartContainer(this.startContainer);a.startOffset=this.startOffset;a._setEndContainer(this.endContainer);a.endOffset=this.endOffset;a.collapsed=this.collapsed;return a},collapse:function(a){a?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset);\nthis.collapsed=!0},cloneContents:function(a){var b=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||f(this,2,b,!1,\"undefined\"==typeof a?!0:a);return b},deleteContents:function(a){this.collapsed||f(this,0,null,a)},extractContents:function(a,b){var c=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||f(this,1,c,a,\"undefined\"==typeof b?!0:b);return c},createBookmark:function(a){var b,c,d,e,k=this.collapsed;b=this.document.createElement(\"span\");b.data(\"cke-bookmark\",1);b.setStyle(\"display\",\n\"none\");b.setHtml(\"\\x26nbsp;\");a&&(d=\"cke_bm_\"+CKEDITOR.tools.getNextNumber(),b.setAttribute(\"id\",d+(k?\"C\":\"S\")));k||(c=b.clone(),c.setHtml(\"\\x26nbsp;\"),a&&c.setAttribute(\"id\",d+\"E\"),e=this.clone(),e.collapse(),e.insertNode(c));e=this.clone();e.collapse(!0);e.insertNode(b);c?(this.setStartAfter(b),this.setEndBefore(c)):this.moveToPosition(b,CKEDITOR.POSITION_AFTER_END);return{startNode:a?d+(k?\"C\":\"S\"):b,endNode:a?d+\"E\":c,serializable:a,collapsed:k}},createBookmark2:function(){function a(b){var g=\nb.container,d=b.offset,e;e=g;var k=d;e=e.type!=CKEDITOR.NODE_ELEMENT||0===k||k==e.getChildCount()?0:e.getChild(k-1).type==CKEDITOR.NODE_TEXT&&e.getChild(k).type==CKEDITOR.NODE_TEXT;e&&(g=g.getChild(d-1),d=g.getLength());if(g.type==CKEDITOR.NODE_ELEMENT&&0<d){a:{for(e=g;d--;)if(k=e.getChild(d).getIndex(!0),0<=k){d=k;break a}d=-1}d+=1}if(g.type==CKEDITOR.NODE_TEXT){e=g;for(k=0;(e=e.getPrevious())&&e.type==CKEDITOR.NODE_TEXT;)k+=e.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,\"\").length;\ne=k;g.getText()?d+=e:(k=g.getPrevious(c),e?(d=e,g=k?k.getNext():g.getParent().getFirst()):(g=g.getParent(),d=k?k.getIndex(!0)+1:0))}b.container=g;b.offset=d}function b(a,g){var c=g.getCustomData(\"cke-fillingChar\");if(c){var d=a.container;c.equals(d)&&(a.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=a.offset&&(a.offset=d.getIndex(),a.container=d.getParent()))}}var c=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(c){var d=this.collapsed,e={container:this.startContainer,\noffset:this.startOffset},k={container:this.endContainer,offset:this.endOffset};c&&(a(e),b(e,this.root),d||(a(k),b(k,this.root)));return{start:e.container.getAddress(c),end:d?null:k.container.getAddress(c),startOffset:e.offset,endOffset:k.offset,normalized:c,collapsed:d,is2:!0}}}(),moveToBookmark:function(a){if(a.is2){var b=this.document.getByAddress(a.start,a.normalized),c=a.startOffset,d=a.end&&this.document.getByAddress(a.end,a.normalized);a=a.endOffset;this.setStart(b,c);d?this.setEnd(d,a):this.collapse(!0)}else b=\n(c=a.serializable)?this.document.getById(a.startNode):a.startNode,a=c?this.document.getById(a.endNode):a.endNode,this.setStartBefore(b),b.remove(),a?(this.setEndBefore(a),a.remove()):this.collapse(!0)},getBoundaryNodes:function(){var a=this.startContainer,b=this.endContainer,c=this.startOffset,d=this.endOffset,e;if(a.type==CKEDITOR.NODE_ELEMENT)if(e=a.getChildCount(),e>c)a=a.getChild(c);else if(1>e)a=a.getPreviousSourceNode();else{for(a=a.$;a.lastChild;)a=a.lastChild;a=new CKEDITOR.dom.node(a);a=\na.getNextSourceNode()||a}if(b.type==CKEDITOR.NODE_ELEMENT)if(e=b.getChildCount(),e>d)b=b.getChild(d).getPreviousSourceNode(!0);else if(1>e)b=b.getPreviousSourceNode();else{for(b=b.$;b.lastChild;)b=b.lastChild;b=new CKEDITOR.dom.node(b)}a.getPosition(b)&CKEDITOR.POSITION_FOLLOWING&&(a=b);return{startNode:a,endNode:b}},getCommonAncestor:function(a,b){var c=this.startContainer,d=this.endContainer,c=c.equals(d)?a&&c.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?c.getChild(this.startOffset):\nc:c.getCommonAncestor(d);return b&&!c.is?c.getParent():c},optimize:function(){var a=this.startContainer,b=this.startOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setStartAfter(a):this.setStartBefore(a));a=this.endContainer;b=this.endOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setEndAfter(a):this.setEndBefore(a))},optimizeBookmark:function(){var a=this.startContainer,b=this.endContainer;a.is&&a.is(\"span\")&&a.data(\"cke-bookmark\")&&this.setStartAt(a,CKEDITOR.POSITION_BEFORE_START);\nb&&b.is&&b.is(\"span\")&&b.data(\"cke-bookmark\")&&this.setEndAt(b,CKEDITOR.POSITION_AFTER_END)},trim:function(a,b){var c=this.startContainer,d=this.startOffset,e=this.collapsed;if((!a||e)&&c&&c.type==CKEDITOR.NODE_TEXT){if(d)if(d>=c.getLength())d=c.getIndex()+1,c=c.getParent();else{var k=c.split(d),d=c.getIndex()+1,c=c.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(k,this.endOffset-this.startOffset):c.equals(this.endContainer)&&(this.endOffset+=1)}else d=c.getIndex(),c=c.getParent();\nthis.setStart(c,d);if(e){this.collapse(!0);return}}c=this.endContainer;d=this.endOffset;b||e||!c||c.type!=CKEDITOR.NODE_TEXT||(d?(d>=c.getLength()||c.split(d),d=c.getIndex()+1):d=c.getIndex(),c=c.getParent(),this.setEnd(c,d))},enlarge:function(a,b){function c(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute(\"contenteditable\")?null:a}var d=new RegExp(/[^\\s\\ufeff]/);switch(a){case CKEDITOR.ENLARGE_INLINE:var e=1;case CKEDITOR.ENLARGE_ELEMENT:var k=function(a,b){var c=new CKEDITOR.dom.range(h);\nc.setStart(a,b);c.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);var c=new CKEDITOR.dom.walker(c),g;for(c.guard=function(a){return!(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())};g=c.next();){if(g.type!=CKEDITOR.NODE_TEXT)return!1;C=g!=a?g.getText():g.substring(b);if(d.test(C))return!1}return!0};if(this.collapsed)break;var f=this.getCommonAncestor(),h=this.root,m,l,w,z,D,y=!1,A,C;A=this.startContainer;var F=this.startOffset;A.type==CKEDITOR.NODE_TEXT?(F&&(A=!CKEDITOR.tools.trim(A.substring(0,F)).length&&\nA,y=!!A),A&&((z=A.getPrevious())||(w=A.getParent()))):(F&&(z=A.getChild(F-1)||A.getLast()),z||(w=A));for(w=c(w);w||z;){if(w&&!z){!D&&w.equals(f)&&(D=!0);if(e?w.isBlockBoundary():!h.contains(w))break;y&&\"inline\"==w.getComputedStyle(\"display\")||(y=!1,D?m=w:this.setStartBefore(w));z=w.getPrevious()}for(;z;)if(A=!1,z.type==CKEDITOR.NODE_COMMENT)z=z.getPrevious();else{if(z.type==CKEDITOR.NODE_TEXT)C=z.getText(),d.test(C)&&(z=null),A=/[\\s\\ufeff]$/.test(C);else if((z.$.offsetWidth>(CKEDITOR.env.webkit?1:\n0)||b&&z.is(\"br\"))&&!z.data(\"cke-bookmark\"))if(y&&CKEDITOR.dtd.$removeEmpty[z.getName()]){C=z.getText();if(d.test(C))z=null;else for(var F=z.$.getElementsByTagName(\"*\"),E=0,J;J=F[E++];)if(!CKEDITOR.dtd.$removeEmpty[J.nodeName.toLowerCase()]){z=null;break}z&&(A=!!C.length)}else z=null;A&&(y?D?m=w:w&&this.setStartBefore(w):y=!0);if(z){A=z.getPrevious();if(!w&&!A){w=z;z=null;break}z=A}else w=null}w&&(w=c(w.getParent()))}A=this.endContainer;F=this.endOffset;w=z=null;D=y=!1;A.type==CKEDITOR.NODE_TEXT?\nCKEDITOR.tools.trim(A.substring(F)).length?y=!0:(y=!A.getLength(),F==A.getLength()?(z=A.getNext())||(w=A.getParent()):k(A,F)&&(w=A.getParent())):(z=A.getChild(F))||(w=A);for(;w||z;){if(w&&!z){!D&&w.equals(f)&&(D=!0);if(e?w.isBlockBoundary():!h.contains(w))break;y&&\"inline\"==w.getComputedStyle(\"display\")||(y=!1,D?l=w:w&&this.setEndAfter(w));z=w.getNext()}for(;z;){A=!1;if(z.type==CKEDITOR.NODE_TEXT)C=z.getText(),k(z,0)||(z=null),A=/^[\\s\\ufeff]/.test(C);else if(z.type==CKEDITOR.NODE_ELEMENT){if((0<z.$.offsetWidth||\nb&&z.is(\"br\"))&&!z.data(\"cke-bookmark\"))if(y&&CKEDITOR.dtd.$removeEmpty[z.getName()]){C=z.getText();if(d.test(C))z=null;else for(F=z.$.getElementsByTagName(\"*\"),E=0;J=F[E++];)if(!CKEDITOR.dtd.$removeEmpty[J.nodeName.toLowerCase()]){z=null;break}z&&(A=!!C.length)}else z=null}else A=1;A&&y&&(D?l=w:this.setEndAfter(w));if(z){A=z.getNext();if(!w&&!A){w=z;z=null;break}z=A}else w=null}w&&(w=c(w.getParent()))}m&&l&&(f=m.contains(l)?l:m,this.setStartBefore(f),this.setEndAfter(f));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:w=\nnew CKEDITOR.dom.range(this.root);h=this.root;w.setStartAt(h,CKEDITOR.POSITION_AFTER_START);w.setEnd(this.startContainer,this.startOffset);w=new CKEDITOR.dom.walker(w);var G,M,I=CKEDITOR.dom.walker.blockBoundary(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),H=null,R=function(a){if(a.type==CKEDITOR.NODE_ELEMENT&&\"false\"==a.getAttribute(\"contenteditable\"))if(H){if(H.equals(a)){H=null;return}}else H=a;else if(H)return;var b=I(a);b||(G=a);return b},e=function(a){var b=R(a);!b&&a.is&&a.is(\"br\")&&\n(M=a);return b};w.guard=R;w=w.lastBackward();G=G||h;this.setStartAt(G,!G.is(\"br\")&&(!w&&this.checkStartOfBlock()||w&&G.contains(w))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);if(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){w=this.clone();w=new CKEDITOR.dom.walker(w);var P=CKEDITOR.dom.walker.whitespaces(),T=CKEDITOR.dom.walker.bookmark();w.evaluator=function(a){return!P(a)&&!T(a)};if((w=w.previous())&&w.type==CKEDITOR.NODE_ELEMENT&&w.is(\"br\"))break}w=this.clone();w.collapse();w.setEndAt(h,\nCKEDITOR.POSITION_BEFORE_END);w=new CKEDITOR.dom.walker(w);w.guard=a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?e:R;G=H=M=null;w=w.lastForward();G=G||h;this.setEndAt(G,!w&&this.checkEndOfBlock()||w&&G.contains(w)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);M&&this.setEndAfter(M)}},shrink:function(a,b,c){if(!this.collapsed){a=a||CKEDITOR.SHRINK_TEXT;var d=this.clone(),e=this.startContainer,k=this.endContainer,f=this.startOffset,h=this.endOffset,m=1,l=1;e&&e.type==CKEDITOR.NODE_TEXT&&(f?\nf>=e.getLength()?d.setStartAfter(e):(d.setStartBefore(e),m=0):d.setStartBefore(e));k&&k.type==CKEDITOR.NODE_TEXT&&(h?h>=k.getLength()?d.setEndAfter(k):(d.setEndAfter(k),l=0):d.setEndBefore(k));var d=new CKEDITOR.dom.walker(d),w=CKEDITOR.dom.walker.bookmark();d.evaluator=function(b){return b.type==(a==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var z;d.guard=function(b,d){if(w(b))return!0;if(a==CKEDITOR.SHRINK_ELEMENT&&b.type==CKEDITOR.NODE_TEXT||d&&b.equals(z)||!1===c&&b.type==\nCKEDITOR.NODE_ELEMENT&&b.isBlockBoundary()||b.type==CKEDITOR.NODE_ELEMENT&&b.hasAttribute(\"contenteditable\"))return!1;d||b.type!=CKEDITOR.NODE_ELEMENT||(z=b);return!0};m&&(e=d[a==CKEDITOR.SHRINK_ELEMENT?\"lastForward\":\"next\"]())&&this.setStartAt(e,b?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START);l&&(d.reset(),(d=d[a==CKEDITOR.SHRINK_ELEMENT?\"lastBackward\":\"previous\"]())&&this.setEndAt(d,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END));return!(!m&&!l)}},insertNode:function(a){this.optimizeBookmark();\nthis.trim(!1,!0);var b=this.startContainer,c=b.getChild(this.startOffset);c?a.insertBefore(c):b.append(a);a.getParent()&&a.getParent().equals(this.endContainer)&&this.endOffset++;this.setStartBefore(a)},moveToPosition:function(a,b){this.setStartAt(a,b);this.collapse(!0)},moveToRange:function(a){this.setStart(a.startContainer,a.startOffset);this.setEnd(a.endContainer,a.endOffset)},selectNodeContents:function(a){this.setStart(a,0);this.setEnd(a,a.type==CKEDITOR.NODE_TEXT?a.getLength():a.getChildCount())},\nsetStart:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex(),b=b.getParent());this._setStartContainer(b);this.startOffset=c;this.endContainer||(this._setEndContainer(b),this.endOffset=c);a(this)},setEnd:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex()+1,b=b.getParent());this._setEndContainer(b);this.endOffset=c;this.startContainer||(this._setStartContainer(b),this.startOffset=c);a(this)},setStartAfter:function(a){this.setStart(a.getParent(),\na.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:function(a){this.setEnd(a.getParent(),a.getIndex()+1)},setEndBefore:function(a){this.setEnd(a.getParent(),a.getIndex())},setStartAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setStart(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setStart(b,b.getLength()):this.setStart(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(b);\nbreak;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(b)}a(this)},setEndAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setEnd(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setEnd(b,b.getLength()):this.setEnd(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(b)}a(this)},fixBlock:function(a,b){var c=this.createBookmark(),d=this.document.createElement(b);this.collapse(a);\nthis.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(d);d.trim();this.insertNode(d);var e=d.getBogus();e&&e.remove();d.appendBogus();this.moveToBookmark(c);return d},splitBlock:function(a,b){var c=new CKEDITOR.dom.elementPath(this.startContainer,this.root),d=new CKEDITOR.dom.elementPath(this.endContainer,this.root),e=c.block,k=d.block,f=null;if(!c.blockLimit.equals(d.blockLimit))return null;\"br\"!=a&&(e||(e=this.fixBlock(!0,a),k=(new CKEDITOR.dom.elementPath(this.endContainer,\nthis.root)).block),k||(k=this.fixBlock(!1,a)));c=e&&this.checkStartOfBlock();d=k&&this.checkEndOfBlock();this.deleteContents();e&&e.equals(k)&&(d?(f=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(k,CKEDITOR.POSITION_AFTER_END),k=null):c?(f=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e=null):(k=this.splitElement(e,b||!1),e.is(\"ul\",\"ol\")||e.appendBogus()));return{previousBlock:e,nextBlock:k,wasStartOfBlock:c,\nwasEndOfBlock:d,elementPath:f}},splitElement:function(a,b){if(!this.collapsed)return null;this.setEndAt(a,CKEDITOR.POSITION_BEFORE_END);var c=this.extractContents(!1,b||!1),d=a.clone(!1,b||!1);c.appendTo(d);d.insertAfter(a);this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);return d},removeEmptyBlocksAtEnd:function(){function a(g){return function(a){return b(a)||c(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isEmptyInlineRemoveable()||g.is(\"table\")&&a.is(\"caption\")?!1:!0}}var b=CKEDITOR.dom.walker.whitespaces(),\nc=CKEDITOR.dom.walker.bookmark(!1);return function(b){for(var c=this.createBookmark(),d=this[b?\"endPath\":\"startPath\"](),e=d.block||d.blockLimit,k;e&&!e.equals(d.root)&&!e.getFirst(a(e));)k=e.getParent(),this[b?\"setEndAt\":\"setStartAt\"](e,CKEDITOR.POSITION_AFTER_END),e.remove(1),e=k;this.moveToBookmark(c)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(a,\nb){var d=b==CKEDITOR.START,e=this.clone();e.collapse(d);e[d?\"setStartAt\":\"setEndAt\"](a,d?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);e.evaluator=c(d);return e[d?\"checkBackward\":\"checkForward\"]()},checkStartOfBlock:function(){var a=this.startContainer,c=this.startOffset;CKEDITOR.env.ie&&c&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.ltrim(a.substring(0,c)),d.test(a)&&this.trim(0,1));this.trim();a=new CKEDITOR.dom.elementPath(this.startContainer,this.root);\nc=this.clone();c.collapse(!0);c.setStartAt(a.block||a.blockLimit,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkBackward()},checkEndOfBlock:function(){var a=this.endContainer,c=this.endOffset;CKEDITOR.env.ie&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.rtrim(a.substring(c)),d.test(a)&&this.trim(1,0));this.trim();a=new CKEDITOR.dom.elementPath(this.endContainer,this.root);c=this.clone();c.collapse(!1);c.setEndAt(a.block||a.blockLimit,CKEDITOR.POSITION_BEFORE_END);\na=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkForward()},getPreviousNode:function(a,b,c){var d=this.clone();d.collapse(1);d.setStartAt(c||this.root,CKEDITOR.POSITION_AFTER_START);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.previous()},getNextNode:function(a,b,c){var d=this.clone();d.collapse();d.setEndAt(c||this.root,CKEDITOR.POSITION_BEFORE_END);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.next()},checkReadOnly:function(){function a(b,c){for(;b;){if(b.type==\nCKEDITOR.NODE_ELEMENT){if(\"false\"==b.getAttribute(\"contentEditable\")&&!b.data(\"cke-editable\"))return 0;if(b.is(\"html\")||\"true\"==b.getAttribute(\"contentEditable\")&&(b.contains(c)||b.equals(c)))break}b=b.getParent()}return 1}return function(){var b=this.startContainer,c=this.endContainer;return!(a(b,c)&&a(c,b))}}(),moveToElementEditablePosition:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEditable(!1))return this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),\n!0;for(var c=0;a;){if(a.type==CKEDITOR.NODE_TEXT){b&&this.endContainer&&this.checkEndOfBlock()&&d.test(a.getText())?this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);c=1;break}if(a.type==CKEDITOR.NODE_ELEMENT)if(a.isEditable())this.moveToPosition(a,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),c=1;else if(b&&a.is(\"br\")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START);\nelse if(\"false\"==a.getAttribute(\"contenteditable\")&&a.is(CKEDITOR.dtd.$block))return this.setStartBefore(a),this.setEndAfter(a),!0;var e=a,f=c,h=void 0;e.type==CKEDITOR.NODE_ELEMENT&&e.isEditable(!1)&&(h=e[b?\"getLast\":\"getFirst\"](k));f||h||(h=e[b?\"getPrevious\":\"getNext\"](k));a=h}return!!c},moveToClosestEditablePosition:function(a,b){var c,d=0,e,k,f=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];a?(c=new CKEDITOR.dom.range(this.root),c.moveToPosition(a,f[b?0:1])):c=this.clone();if(a&&\n!a.is(CKEDITOR.dtd.$block))d=1;else if(e=c[b?\"getNextEditableNode\":\"getPreviousEditableNode\"]())d=1,(k=e.type==CKEDITOR.NODE_ELEMENT)&&e.is(CKEDITOR.dtd.$block)&&\"false\"==e.getAttribute(\"contenteditable\")?(c.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),c.setEndAt(e,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&k&&e.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(c.setEnd(e,0),c.collapse()):c.moveToPosition(e,f[b?1:0]);d&&this.moveToRange(c);return!!d},moveToElementEditStart:function(a){return this.moveToElementEditablePosition(a)},\nmoveToElementEditEnd:function(a){return this.moveToElementEditablePosition(a,!0)},getEnclosedNode:function(){var a=this.clone();a.optimize();if(a.startContainer.type!=CKEDITOR.NODE_ELEMENT||a.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var a=new CKEDITOR.dom.walker(a),b=CKEDITOR.dom.walker.bookmark(!1,!0),c=CKEDITOR.dom.walker.whitespaces(!0);a.evaluator=function(a){return c(a)&&b(a)};var d=a.next();a.reset();return d&&d.equals(a.previous())?d:null},getTouchedStartNode:function(){var a=this.startContainer;\nreturn this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.startOffset)||a},getTouchedEndNode:function(){var a=this.endContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.endOffset-1)||a},getNextEditableNode:e(),getPreviousEditableNode:e(1),scrollIntoView:function(){var a=new CKEDITOR.dom.element.createFromHtml(\"\\x3cspan\\x3e\\x26nbsp;\\x3c/span\\x3e\",this.document),b,c,d,e=this.clone();e.optimize();(d=e.startContainer.type==CKEDITOR.NODE_TEXT)?(c=e.startContainer.getText(),\nb=e.startContainer.split(e.startOffset),a.insertAfter(e.startContainer)):e.insertNode(a);a.scrollIntoView();d&&(e.startContainer.setText(c),b.remove());a.remove()},_setStartContainer:function(a){this.startContainer=a},_setEndContainer:function(a){this.endContainer=a},_find:function(a,b){var c=this.getCommonAncestor(),d=this.getBoundaryNodes(),e=[],k,f,h,m;if(c&&c.find)for(f=c.find(a),k=0;k<f.count();k++)if(c=f.getItem(k),b||!c.isReadOnly())h=c.getPosition(d.startNode)&CKEDITOR.POSITION_FOLLOWING||\nd.startNode.equals(c),m=c.getPosition(d.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED,h&&m&&e.push(c);return e}}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,\"use strict\",function(){function a(a){1>\narguments.length||(this.range=a,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function f(a){var b=[];a.forEach(function(a){if(\"true\"==a.getAttribute(\"contenteditable\"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function b(a,c,d,e){a:{null==e&&(e=f(d));for(var h;h=e.shift();)if(h.getDtd().p){e={element:h,remaining:e};break a}e=null}if(!e)return 0;if((h=CKEDITOR.filter.instances[e.element.data(\"cke-filter\")])&&!h.check(c))return b(a,c,d,e.remaining);\nc=new CKEDITOR.dom.range(e.element);c.selectNodeContents(e.element);c=c.createIterator();c.enlargeBr=a.enlargeBr;c.enforceRealBlocks=a.enforceRealBlocks;c.activeFilter=c.filter=h;a._.nestedEditable={element:e.element,container:d,remaining:e.remaining,iterator:c};return 1}function c(a,b,c){if(!b)return!1;a=a.clone();a.collapse(!c);return a.checkBoundaryOfElement(b,c?CKEDITOR.START:CKEDITOR.END)}var e=/^[\\r\\n\\t ]+$/,m=CKEDITOR.dom.walker.bookmark(!1,!0),l=CKEDITOR.dom.walker.whitespaces(!0),d=function(a){return m(a)&&\nl(a)},h={dd:1,dt:1,li:1};a.prototype={getNextParagraph:function(a){var g,f,l,p,t;a=a||\"p\";if(this._.nestedEditable){if(g=this._.nestedEditable.iterator.getNextParagraph(a))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,g;this.activeFilter=this.filter;if(b(this,a,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(a);this._.nestedEditable=null}if(!this.range.root.getDtd()[a])return null;\nif(!this._.started){var v=this.range.clone();f=v.startPath();var r=v.endPath(),u=!v.collapsed&&c(v,f.block),B=!v.collapsed&&c(v,r.block,1);v.shrink(CKEDITOR.SHRINK_ELEMENT,!0);u&&v.setStartAt(f.block,CKEDITOR.POSITION_BEFORE_END);B&&v.setEndAt(r.block,CKEDITOR.POSITION_AFTER_START);f=v.endContainer.hasAscendant(\"pre\",!0)||v.startContainer.hasAscendant(\"pre\",!0);v.enlarge(this.forceBrBreak&&!f||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS);v.collapsed||(f=new CKEDITOR.dom.walker(v.clone()),\nr=CKEDITOR.dom.walker.bookmark(!0,!0),f.evaluator=r,this._.nextNode=f.next(),f=new CKEDITOR.dom.walker(v.clone()),f.evaluator=r,f=f.previous(),this._.lastNode=f.getNextSourceNode(!0,null,v.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(r=this.range.clone(),r.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),r.checkEndOfBlock()&&(r=new CKEDITOR.dom.elementPath(r.endContainer,\nr.root),this._.lastNode=(r.block||r.blockLimit).getNextSourceNode(!0))),this._.lastNode&&v.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=v.document.createText(\"\"),this._.lastNode.insertAfter(f)),v=null);this._.started=1;f=v}r=this._.nextNode;v=this._.lastNode;for(this._.nextNode=null;r;){var u=0,B=r.hasAscendant(\"pre\"),x=r.type!=CKEDITOR.NODE_ELEMENT,w=0;if(x)r.type==CKEDITOR.NODE_TEXT&&e.test(r.getText())&&(x=0);else{var z=r.getName();if(CKEDITOR.dtd.$block[z]&&\"false\"==r.getAttribute(\"contenteditable\")){g=\nr;b(this,a,g);break}else if(r.isBlockBoundary(this.forceBrBreak&&!B&&{br:1})){if(\"br\"==z)x=1;else if(!f&&!r.getChildCount()&&\"hr\"!=z){g=r;l=r.equals(v);break}f&&(f.setEndAt(r,CKEDITOR.POSITION_BEFORE_START),\"br\"!=z&&(this._.nextNode=r));u=1}else{if(r.getFirst()){f||(f=this.range.clone(),f.setStartAt(r,CKEDITOR.POSITION_BEFORE_START));r=r.getFirst();continue}x=1}}x&&!f&&(f=this.range.clone(),f.setStartAt(r,CKEDITOR.POSITION_BEFORE_START));l=(!u||x)&&r.equals(v);if(f&&!u)for(;!r.getNext(d)&&!l;){z=\nr.getParent();if(z.isBlockBoundary(this.forceBrBreak&&!B&&{br:1})){u=1;x=0;l||z.equals(v);f.setEndAt(z,CKEDITOR.POSITION_BEFORE_END);break}r=z;x=1;l=r.equals(v);w=1}x&&f.setEndAt(r,CKEDITOR.POSITION_AFTER_END);r=this._getNextSourceNode(r,w,v);if((l=!r)||u&&f)break}if(!g){if(!f)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;g=new CKEDITOR.dom.elementPath(f.startContainer,f.root);r=g.blockLimit;u={div:1,th:1,td:1};g=g.block;!g&&r&&!this.enforceRealBlocks&&u[r.getName()]&&\nf.checkStartOfBlock()&&f.checkEndOfBlock()&&!r.equals(f.root)?g=r:!g||this.enforceRealBlocks&&g.is(h)?(g=this.range.document.createElement(a),f.extractContents().appendTo(g),g.trim(),f.insertNode(g),p=t=!0):\"li\"!=g.getName()?f.checkStartOfBlock()&&f.checkEndOfBlock()||(g=g.clone(!1),f.extractContents().appendTo(g),g.trim(),t=f.splitBlock(),p=!t.wasStartOfBlock,t=!t.wasEndOfBlock,f.insertNode(g)):l||(this._.nextNode=g.equals(v)?null:this._getNextSourceNode(f.getBoundaryNodes().endNode,1,v))}p&&(p=\ng.getPrevious())&&p.type==CKEDITOR.NODE_ELEMENT&&(\"br\"==p.getName()?p.remove():p.getLast()&&\"br\"==p.getLast().$.nodeName.toLowerCase()&&p.getLast().remove());t&&(p=g.getLast())&&p.type==CKEDITOR.NODE_ELEMENT&&\"br\"==p.getName()&&(!CKEDITOR.env.needsBrFiller||p.getPrevious(m)||p.getNext(m))&&p.remove();this._.nextNode||(this._.nextNode=l||g.equals(v)||!v?null:this._getNextSourceNode(g,1,v));return g},_getNextSourceNode:function(a,b,c){function d(a){return!(a.equals(c)||a.equals(e))}var e=this.range.root;\nfor(a=a.getNextSourceNode(b,null,d);!m(a);)a=a.getNextSourceNode(b,null,d);return a}};CKEDITOR.dom.range.prototype.createIterator=function(){return new a(this)}}(),CKEDITOR.command=function(a,f){this.uiItems=[];this.exec=function(b){if(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())return!1;this.editorFocus&&a.focus();return!1===this.fire(\"exec\")?!0:!1!==f.exec.call(this,a,b)};this.refresh=function(a,b){if(!this.readOnly&&a.readOnly)return!0;if(this.context&&!b.isContextFor(this.context)||\n!this.checkAllowed(!0))return this.disable(),!0;this.startDisabled||this.enable();this.modes&&!this.modes[a.mode]&&this.disable();return!1===this.fire(\"refresh\",{editor:a,path:b})?!0:f.refresh&&!1!==f.refresh.apply(this,arguments)};var b;this.checkAllowed=function(c){return c||\"boolean\"!=typeof b?b=a.activeFilter.checkFeature(this):b};CKEDITOR.tools.extend(this,f,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!f.context,state:CKEDITOR.TRISTATE_DISABLED});CKEDITOR.event.call(this)},CKEDITOR.command.prototype=\n{enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&\"undefined\"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(a){if(this.state==a||a!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())return!1;this.previousState=this.state;this.state=a;this.fire(\"state\");return!0},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):\nthis.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:\"config.js\",autoUpdateElement:!0,language:\"\",defaultLanguage:\"en\",contentsLangDirection:\"\",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:\"\\x3c!DOCTYPE html\\x3e\",bodyId:\"\",bodyClass:\"\",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl(\"contents.css\"),\nextraPlugins:\"\",removePlugins:\"\",protectedSource:[],tabIndex:0,width:\"\",baseFloatZIndex:1E4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function a(a,b,c,d,e){var g,f;a=[];for(g in b){f=b[g];f=\"boolean\"==typeof f?{}:\"function\"==typeof f?{match:f}:E(f);\"$\"!=g.charAt(0)&&(f.elements=g);c&&(f.featureName=c.toLowerCase());var k=f;k.elements=l(k.elements,/\\s+/)||null;k.propertiesOnly=k.propertiesOnly||!0===k.elements;var h=/\\s*,\\s*/,m=void 0;for(m in M){k[m]=l(k[m],\nh)||null;var w=k,v=I[m],z=l(k[I[m]],h),x=k[m],r=[],D=!0,n=void 0;z?D=!1:z={};for(n in x)\"!\"==n.charAt(0)&&(n=n.slice(1),r.push(n),z[n]=!0,D=!1);for(;n=r.pop();)x[n]=x[\"!\"+n],delete x[\"!\"+n];w[v]=(D?!1:z)||null}k.match=k.match||null;d.push(f);a.push(f)}b=e.elements;e=e.generic;var H;c=0;for(d=a.length;c<d;++c){g=E(a[c]);f=!0===g.classes||!0===g.styles||!0===g.attributes;k=g;m=v=h=void 0;for(h in M)k[h]=u(k[h]);w=!0;for(m in I){h=I[m];v=k[h];z=[];x=void 0;for(x in v)-1<x.indexOf(\"*\")?z.push(new RegExp(\"^\"+\nx.replace(/\\*/g,\".*\")+\"$\")):z.push(x);v=z;v.length&&(k[h]=v,w=!1)}k.nothingRequired=w;k.noProperties=!(k.attributes||k.classes||k.styles);if(!0===g.elements||null===g.elements)e[f?\"unshift\":\"push\"](g);else for(H in k=g.elements,delete g.elements,k)if(b[H])b[H][f?\"unshift\":\"push\"](g);else b[H]=[g]}}function f(a,c,e,g){if(!a.match||a.match(c))if(g||d(a,c))if(a.propertiesOnly||(e.valid=!0),e.allAttributes||(e.allAttributes=b(a.attributes,c.attributes,e.validAttributes)),e.allStyles||(e.allStyles=b(a.styles,\nc.styles,e.validStyles)),!e.allClasses){a=a.classes;c=c.classes;g=e.validClasses;if(a)if(!0===a)a=!0;else{for(var f=0,k=c.length,h;f<k;++f)h=c[f],g[h]||(g[h]=a(h));a=!1}else a=!1;e.allClasses=a}}function b(a,b,c){if(!a)return!1;if(!0===a)return!0;for(var d in b)c[d]||(c[d]=a(d));return!1}function c(a,b,c){if(!a.match||a.match(b)){if(a.noProperties)return!1;c.hadInvalidAttribute=e(a.attributes,b.attributes)||c.hadInvalidAttribute;c.hadInvalidStyle=e(a.styles,b.styles)||c.hadInvalidStyle;a=a.classes;\nb=b.classes;if(a){for(var d=!1,g=!0===a,f=b.length;f--;)if(g||a(b[f]))b.splice(f,1),d=!0;a=d}else a=!1;c.hadInvalidClass=a||c.hadInvalidClass}}function e(a,b){if(!a)return!1;var c=!1,d=!0===a,e;for(e in b)if(d||a(e))delete b[e],c=!0;return c}function m(a,b,c){if(a.disabled||a.customConfig&&!c||!b)return!1;a._.cachedChecks={};return!0}function l(a,b){if(!a)return!1;if(!0===a)return a;if(\"string\"==typeof a)return a=J(a),\"*\"==a?!0:CKEDITOR.tools.convertArrayToObject(a.split(b));if(CKEDITOR.tools.isArray(a))return a.length?\nCKEDITOR.tools.convertArrayToObject(a):!1;var c={},d=0,e;for(e in a)c[e]=a[e],d++;return d?c:!1}function d(a,b){if(a.nothingRequired)return!0;var c,d,e,g;if(e=a.requiredClasses)for(g=b.classes,c=0;c<e.length;++c)if(d=e[c],\"string\"==typeof d){if(-1==CKEDITOR.tools.indexOf(g,d))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(g,d))return!1;return h(b.styles,a.requiredStyles)&&h(b.attributes,a.requiredAttributes)}function h(a,b){if(!b)return!0;for(var c=0,d;c<b.length;++c)if(d=b[c],\"string\"==\ntypeof d){if(!(d in a))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(a,d))return!1;return!0}function k(a){if(!a)return{};a=a.split(/\\s*,\\s*/).sort();for(var b={};a.length;)b[a.shift()]=\"cke-test\";return b}function g(a){var b,c,d,e,g={},f=1;for(a=J(a);b=a.match(H);)(c=b[2])?(d=n(c,\"styles\"),e=n(c,\"attrs\"),c=n(c,\"classes\")):d=e=c=null,g[\"$\"+f++]={elements:b[1],classes:c,styles:d,attributes:e},a=a.slice(b[0].length);return g}function n(a,b){var c=a.match(R[b]);return c?J(c[1]):null}\nfunction q(a){var b=a.styleBackup=a.attributes.style,c=a.classBackup=a.attributes[\"class\"];a.styles||(a.styles=CKEDITOR.tools.parseCssText(b||\"\",1));a.classes||(a.classes=c?c.split(/\\s+/):[])}function p(a,b,d,e){var g=0,k;e.toHtml&&(b.name=b.name.replace(P,\"$1\"));if(e.doCallbacks&&a.elementCallbacks){a:{k=a.elementCallbacks;for(var h=0,m=k.length,l;h<m;++h)if(l=k[h](b)){k=l;break a}k=void 0}if(k)return k}if(e.doTransform&&(k=a._.transformations[b.name])){q(b);for(h=0;h<k.length;++h)z(a,b,k[h]);v(b)}if(e.doFilter){a:{h=\nb.name;m=a._;a=m.allowedRules.elements[h];k=m.allowedRules.generic;h=m.disallowedRules.elements[h];m=m.disallowedRules.generic;l=e.skipRequired;var w={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1},x,u;if(a||k){q(b);if(h)for(x=0,u=h.length;x<u;++x)if(!1===c(h[x],b,w)){a=null;break a}if(m)for(x=0,u=m.length;x<u;++x)c(m[x],b,w);if(a)for(x=0,u=a.length;x<u;++x)f(a[x],b,w,l);if(k)for(x=\n0,u=k.length;x<u;++x)f(k[x],b,w,l);a=w}else a=null}if(!a||!a.valid)return d.push(b),1;u=a.validAttributes;var n=a.validStyles;k=a.validClasses;var h=b.attributes,D=b.styles,m=b.classes;l=b.classBackup;var H=b.styleBackup,I,y,t=[],w=[],p=/^data-cke-/;x=!1;delete h.style;delete h[\"class\"];delete b.classBackup;delete b.styleBackup;if(!a.allAttributes)for(I in h)u[I]||(p.test(I)?I==(y=I.replace(/^data-cke-saved-/,\"\"))||u[y]||(delete h[I],x=!0):(delete h[I],x=!0));if(!a.allStyles||a.hadInvalidStyle){for(I in D)a.allStyles||\nn[I]?t.push(I+\":\"+D[I]):x=!0;t.length&&(h.style=t.sort().join(\"; \"))}else H&&(h.style=H);if(!a.allClasses||a.hadInvalidClass){for(I=0;I<m.length;++I)(a.allClasses||k[m[I]])&&w.push(m[I]);w.length&&(h[\"class\"]=w.sort().join(\" \"));l&&w.length<l.split(/\\s+/).length&&(x=!0)}else l&&(h[\"class\"]=l);x&&(g=1);if(!e.skipFinalValidation&&!r(b))return d.push(b),1}e.toHtml&&(b.name=b.name.replace(T,\"cke:$1\"));return g}function t(a){var b=[],c;for(c in a)-1<c.indexOf(\"*\")&&b.push(c.replace(/\\*/g,\".*\"));return b.length?\nnew RegExp(\"^(?:\"+b.join(\"|\")+\")$\"):null}function v(a){var b=a.attributes,c;delete b.style;delete b[\"class\"];if(c=CKEDITOR.tools.writeCssText(a.styles,!0))b.style=c;a.classes.length&&(b[\"class\"]=a.classes.sort().join(\" \"))}function r(a){switch(a.name){case \"a\":if(!(a.children.length||a.attributes.name||a.attributes.id))return!1;break;case \"img\":if(!a.attributes.src)return!1}return!0}function u(a){if(!a)return!1;if(!0===a)return!0;var b=t(a);return function(c){return c in a||b&&c.match(b)}}function B(){return new CKEDITOR.htmlParser.element(\"br\")}\nfunction x(a){return a.type==CKEDITOR.NODE_ELEMENT&&(\"br\"==a.name||F.$block[a.name])}function w(a,b,c){var d=a.name;if(F.$empty[d]||!a.children.length)\"hr\"==d&&\"br\"==b?a.replaceWith(B()):(a.parent&&c.push({check:\"it\",el:a.parent}),a.remove());else if(F.$block[d]||\"tr\"==d)if(\"br\"==b)a.previous&&!x(a.previous)&&(b=B(),b.insertBefore(a)),a.next&&!x(a.next)&&(b=B(),b.insertAfter(a)),a.replaceWithChildren();else{var d=a.children,e;b:{e=F[b];for(var g=0,f=d.length,k;g<f;++g)if(k=d[g],k.type==CKEDITOR.NODE_ELEMENT&&\n!e[k.name]){e=!1;break b}e=!0}if(e)a.name=b,a.attributes={},c.push({check:\"parent-down\",el:a});else{e=a.parent;for(var g=e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||\"body\"==e.name,h,m,f=d.length;0<f;)k=d[--f],g&&(k.type==CKEDITOR.NODE_TEXT||k.type==CKEDITOR.NODE_ELEMENT&&F.$inline[k.name])?(h||(h=new CKEDITOR.htmlParser.element(b),h.insertAfter(a),c.push({check:\"parent-down\",el:h})),h.add(k,0)):(h=null,m=F[e.name]||F.span,k.insertAfter(a),e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||k.type!=CKEDITOR.NODE_ELEMENT||\nm[k.name]||c.push({check:\"el-up\",el:k}));a.remove()}}else d in{style:1,script:1}?a.remove():(a.parent&&c.push({check:\"it\",el:a.parent}),a.replaceWithChildren())}function z(a,b,c){var d,e;for(d=0;d<c.length;++d)if(e=c[d],!(e.check&&!a.check(e.check,!1)||e.left&&!e.left(b))){e.right(b,O);break}}function D(a,b){var c=b.getDefinition(),d=c.attributes,e=c.styles,g,k,f,h;if(a.name!=c.element)return!1;for(g in d)if(\"class\"==g)for(c=d[g].split(/\\s+/),f=a.classes.join(\"|\");h=c.pop();){if(-1==f.indexOf(h))return!1}else if(a.attributes[g]!=\nd[g])return!1;for(k in e)if(a.styles[k]!=e[k])return!1;return!0}function y(a,b){var c,d;\"string\"==typeof a?c=a:a instanceof CKEDITOR.style?d=a:(c=a[0],d=a[1]);return[{element:c,left:d,right:function(a,c){c.transform(a,b)}}]}function A(a){return function(b){return D(b,a)}}function C(a){return function(b,c){c[a](b)}}var F=CKEDITOR.dtd,E=CKEDITOR.tools.copy,J=CKEDITOR.tools.trim,G=[\"\",\"p\",\"br\",\"div\"];CKEDITOR.FILTER_SKIP_TREE=2;CKEDITOR.filter=function(a){this.allowedContent=[];this.disallowedContent=\n[];this.elementCallbacks=null;this.disabled=!1;this.editor=null;this.id=CKEDITOR.tools.getNextNumber();this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{}};CKEDITOR.filter.instances[this.id]=this;if(a instanceof CKEDITOR.editor){a=this.editor=a;this.customConfig=!0;var b=a.config.allowedContent;!0===b?this.disabled=!0:(b||(this.customConfig=!1),this.allow(b,\"config\",1),this.allow(a.config.extraAllowedContent,\"extra\",1),this.allow(G[a.enterMode]+\n\" \"+G[a.shiftEnterMode],\"default\",1),this.disallow(a.config.disallowedContent))}else this.customConfig=!1,this.allow(a,\"default\",1)};CKEDITOR.filter.instances={};CKEDITOR.filter.prototype={allow:function(b,c,d){if(!m(this,b,d))return!1;var e,k;if(\"string\"==typeof b)b=g(b);else if(b instanceof CKEDITOR.style){if(b.toAllowedContentRules)return this.allow(b.toAllowedContentRules(this.editor),c,d);e=b.getDefinition();b={};d=e.attributes;b[e.element]=e={styles:e.styles,requiredStyles:e.styles&&CKEDITOR.tools.objectKeys(e.styles)};\nd&&(d=E(d),e.classes=d[\"class\"]?d[\"class\"].split(/\\s+/):null,e.requiredClasses=e.classes,delete d[\"class\"],e.attributes=d,e.requiredAttributes=d&&CKEDITOR.tools.objectKeys(d))}else if(CKEDITOR.tools.isArray(b)){for(e=0;e<b.length;++e)k=this.allow(b[e],c,d);return k}a(this,b,c,this.allowedContent,this._.allowedRules);return!0},applyTo:function(a,b,c,d){if(this.disabled)return!1;var e=this,g=[],k=this.editor&&this.editor.config.protectedSource,f,h=!1,m={doFilter:!c,doTransform:!0,doCallbacks:!0,toHtml:b};\na.forEach(function(a){if(a.type==CKEDITOR.NODE_ELEMENT){if(\"off\"==a.attributes[\"data-cke-filter\"])return!1;if(!b||\"span\"!=a.name||!~CKEDITOR.tools.objectKeys(a.attributes).join(\"|\").indexOf(\"data-cke-\"))if(f=p(e,a,g,m),f&1)h=!0;else if(f&2)return!1}else if(a.type==CKEDITOR.NODE_COMMENT&&a.value.match(/^\\{cke_protected\\}(?!\\{C\\})/)){var c;a:{var d=decodeURIComponent(a.value.replace(/^\\{cke_protected\\}/,\"\"));c=[];var l,w,x;if(k)for(w=0;w<k.length;++w)if((x=d.match(k[w]))&&x[0].length==d.length){c=!0;\nbreak a}d=CKEDITOR.htmlParser.fragment.fromHtml(d);1==d.children.length&&(l=d.children[0]).type==CKEDITOR.NODE_ELEMENT&&p(e,l,c,m);c=!c.length}c||g.push(a)}},null,!0);g.length&&(h=!0);var l;a=[];d=G[d||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];for(var x;c=g.pop();)c.type==CKEDITOR.NODE_ELEMENT?w(c,d,a):c.remove();for(;l=a.pop();)if(c=l.el,c.parent)switch(x=F[c.parent.name]||F.span,l.check){case \"it\":F.$removeEmpty[c.name]&&!c.children.length?w(c,d,a):r(c)||w(c,d,a);break;case \"el-up\":c.parent.type==\nCKEDITOR.NODE_DOCUMENT_FRAGMENT||x[c.name]||w(c,d,a);break;case \"parent-down\":c.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||x[c.name]||w(c.parent,d,a)}return h},checkFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));return!a.requiredContent||this.check(a.requiredContent)},disable:function(){this.disabled=!0},disallow:function(b){if(!m(this,b,!0))return!1;\"string\"==typeof b&&(b=g(b));a(this,b,null,this.disallowedContent,this._.disallowedRules);return!0},\naddContentForms:function(a){if(!this.disabled&&a){var b,c,d=[],e;for(b=0;b<a.length&&!e;++b)c=a[b],(\"string\"==typeof c||c instanceof CKEDITOR.style)&&this.check(c)&&(e=c);if(e){for(b=0;b<a.length;++b)d.push(y(a[b],e));this.addTransformations(d)}}},addElementCallback:function(a){this.elementCallbacks||(this.elementCallbacks=[]);this.elementCallbacks.push(a)},addFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));this.allow(a.allowedContent,a.name);this.addTransformations(a.contentTransformations);\nthis.addContentForms(a.contentForms);return a.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(a.requiredContent):!0},addTransformations:function(a){var b,c;if(!this.disabled&&a){var d=this._.transformations,e;for(e=0;e<a.length;++e){b=a[e];var g=void 0,k=void 0,f=void 0,h=void 0,m=void 0,l=void 0;c=[];for(k=0;k<b.length;++k)f=b[k],\"string\"==typeof f?(f=f.split(/\\s*:\\s*/),h=f[0],m=null,l=f[1]):(h=f.check,m=f.left,l=f.right),g||(g=f,g=g.element?g.element:h?h.match(/^([a-z0-9]+)/i)[0]:\ng.left.getDefinition().element),m instanceof CKEDITOR.style&&(m=A(m)),c.push({check:h==g?null:h,left:m,right:\"string\"==typeof l?C(l):l});b=g;d[b]||(d[b]=[]);d[b].push(c)}}},check:function(a,b,c){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(a)){for(var d=a.length;d--;)if(this.check(a[d],b,c))return!0;return!1}var e,f;if(\"string\"==typeof a){f=a+\"\\x3c\"+(!1===b?\"0\":\"1\")+(c?\"1\":\"0\")+\"\\x3e\";if(f in this._.cachedChecks)return this._.cachedChecks[f];d=g(a).$1;e=d.styles;var h=d.classes;d.name=d.elements;\nd.classes=h=h?h.split(/\\s*,\\s*/):[];d.styles=k(e);d.attributes=k(d.attributes);d.children=[];h.length&&(d.attributes[\"class\"]=h.join(\" \"));e&&(d.attributes.style=CKEDITOR.tools.writeCssText(d.styles));e=d}else d=a.getDefinition(),e=d.styles,h=d.attributes||{},e&&!CKEDITOR.tools.isEmpty(e)?(e=E(e),h.style=CKEDITOR.tools.writeCssText(e,!0)):e={},e={name:d.element,attributes:h,classes:h[\"class\"]?h[\"class\"].split(/\\s+/):[],styles:e,children:[]};var h=CKEDITOR.tools.clone(e),m=[],l;if(!1!==b&&(l=this._.transformations[e.name])){for(d=\n0;d<l.length;++d)z(this,e,l[d]);v(e)}p(this,h,m,{doFilter:!0,doTransform:!1!==b,skipRequired:!c,skipFinalValidation:!c});b=0<m.length?!1:CKEDITOR.tools.objectCompare(e.attributes,h.attributes,!0)?!0:!1;\"string\"==typeof a&&(this._.cachedChecks[f]=b);return b},getAllowedEnterMode:function(){var a=[\"p\",\"div\",\"br\"],b={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(c,d){var e=a.slice(),g;if(this.check(G[c]))return c;for(d||(e=e.reverse());g=e.pop();)if(this.check(g))return b[g];\nreturn CKEDITOR.ENTER_BR}}(),destroy:function(){delete CKEDITOR.filter.instances[this.id];delete this._;delete this.allowedContent;delete this.disallowedContent}};var M={styles:1,attributes:1,classes:1},I={styles:\"requiredStyles\",attributes:\"requiredAttributes\",classes:\"requiredClasses\"},H=/^([a-z0-9\\-*\\s]+)((?:\\s*\\{[!\\w\\-,\\s\\*]+\\}\\s*|\\s*\\[[!\\w\\-,\\s\\*]+\\]\\s*|\\s*\\([!\\w\\-,\\s\\*]+\\)\\s*){0,3})(?:;\\s*|$)/i,R={styles:/{([^}]+)}/,attrs:/\\[([^\\]]+)\\]/,classes:/\\(([^\\)]+)\\)/},P=/^cke:(object|embed|param)$/,\nT=/^(object|embed|param)$/,O;O=CKEDITOR.filter.transformationsTools={sizeToStyle:function(a){this.lengthToStyle(a,\"width\");this.lengthToStyle(a,\"height\")},sizeToAttribute:function(a){this.lengthToAttribute(a,\"width\");this.lengthToAttribute(a,\"height\")},lengthToStyle:function(a,b,c){c=c||b;if(!(c in a.styles)){var d=a.attributes[b];d&&(/^\\d+$/.test(d)&&(d+=\"px\"),a.styles[c]=d)}delete a.attributes[b]},lengthToAttribute:function(a,b,c){c=c||b;if(!(c in a.attributes)){var d=a.styles[b],e=d&&d.match(/^(\\d+)(?:\\.\\d*)?px$/);\ne?a.attributes[c]=e[1]:\"cke-test\"==d&&(a.attributes[c]=\"cke-test\")}delete a.styles[b]},alignmentToStyle:function(a){if(!(\"float\"in a.styles)){var b=a.attributes.align;if(\"left\"==b||\"right\"==b)a.styles[\"float\"]=b}delete a.attributes.align},alignmentToAttribute:function(a){if(!(\"align\"in a.attributes)){var b=a.styles[\"float\"];if(\"left\"==b||\"right\"==b)a.attributes.align=b}delete a.styles[\"float\"]},splitBorderShorthand:function(a){function b(d){a.styles[\"border-top-width\"]=c[d[0]];a.styles[\"border-right-width\"]=\nc[d[1]];a.styles[\"border-bottom-width\"]=c[d[2]];a.styles[\"border-left-width\"]=c[d[3]]}if(a.styles.border){var c=a.styles.border.match(/([\\.\\d]+\\w+)/g)||[\"0px\"];switch(c.length){case 1:a.styles[\"border-width\"]=c[0];break;case 2:b([0,1,0,1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}a.styles[\"border-style\"]=a.styles[\"border-style\"]||(a.styles.border.match(/(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|initial|inherit)/)||[])[0];a.styles[\"border-style\"]||delete a.styles[\"border-style\"];\ndelete a.styles.border}},listTypeToStyle:function(a){if(a.attributes.type)switch(a.attributes.type){case \"a\":a.styles[\"list-style-type\"]=\"lower-alpha\";break;case \"A\":a.styles[\"list-style-type\"]=\"upper-alpha\";break;case \"i\":a.styles[\"list-style-type\"]=\"lower-roman\";break;case \"I\":a.styles[\"list-style-type\"]=\"upper-roman\";break;case \"1\":a.styles[\"list-style-type\"]=\"decimal\";break;default:a.styles[\"list-style-type\"]=a.attributes.type}},splitMarginShorthand:function(a){function b(d){a.styles[\"margin-top\"]=\nc[d[0]];a.styles[\"margin-right\"]=c[d[1]];a.styles[\"margin-bottom\"]=c[d[2]];a.styles[\"margin-left\"]=c[d[3]]}if(a.styles.margin){var c=a.styles.margin.match(/(\\-?[\\.\\d]+\\w+)/g)||[\"0px\"];switch(c.length){case 1:a.styles.margin=c[0];break;case 2:b([0,1,0,1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}delete a.styles.margin}},matchesStyle:D,transform:function(a,b){if(\"string\"==typeof b)a.name=b;else{var c=b.getDefinition(),d=c.styles,e=c.attributes,g,f,k,h;a.name=c.element;for(g in e)if(\"class\"==\ng)for(c=a.classes.join(\"|\"),k=e[g].split(/\\s+/);h=k.pop();)-1==c.indexOf(h)&&a.classes.push(h);else a.attributes[g]=e[g];for(f in d)a.styles[f]=d[f]}}}}(),function(){CKEDITOR.focusManager=function(a){if(a.focusManager)return a.focusManager;this.hasFocus=!1;this.currentActive=null;this._={editor:a};return this};CKEDITOR.focusManager._={blurDelay:200};CKEDITOR.focusManager.prototype={focus:function(a){this._.timer&&clearTimeout(this._.timer);a&&(this.currentActive=a);this.hasFocus||this._.locked||((a=\nCKEDITOR.currentInstance)&&a.focusManager.blur(1),this.hasFocus=!0,(a=this._.editor.container)&&a.addClass(\"cke_focus\"),this._.editor.fire(\"focus\"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(a){function f(){if(this.hasFocus){this.hasFocus=!1;var a=this._.editor.container;a&&a.removeClass(\"cke_focus\");this._.editor.fire(\"blur\")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var b=CKEDITOR.focusManager._.blurDelay;a||!b?f.call(this):this._.timer=\nCKEDITOR.tools.setTimeout(function(){delete this._.timer;f.call(this)},b,this)}},add:function(a,f){var b=a.getCustomData(\"focusmanager\");if(!b||b!=this){b&&b.remove(a);var b=\"focus\",c=\"blur\";f&&(CKEDITOR.env.ie?(b=\"focusin\",c=\"focusout\"):CKEDITOR.event.useCapture=1);var e={blur:function(){a.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(a)}};a.on(b,e.focus,this);a.on(c,e.blur,this);f&&(CKEDITOR.event.useCapture=0);a.setCustomData(\"focusmanager\",this);a.setCustomData(\"focusmanager_handlers\",\ne)}},remove:function(a){a.removeCustomData(\"focusmanager\");var f=a.removeCustomData(\"focusmanager_handlers\");a.removeListener(\"blur\",f.blur);a.removeListener(\"focus\",f.focus)}}}(),CKEDITOR.keystrokeHandler=function(a){if(a.keystrokeHandler)return a.keystrokeHandler;this.keystrokes={};this.blockedKeystrokes={};this._={editor:a};return this},function(){var a,f=function(b){b=b.data;var e=b.getKeystroke(),f=this.keystrokes[e],l=this._.editor;a=!1===l.fire(\"key\",{keyCode:e,domEvent:b});a||(f&&(a=!1!==\nl.execCommand(f,{from:\"keystrokeHandler\"})),a||(a=!!this.blockedKeystrokes[e]));a&&b.preventDefault(!0);return!a},b=function(b){a&&(a=!1,b.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(a){a.on(\"keydown\",f,this);if(CKEDITOR.env.gecko&&CKEDITOR.env.mac)a.on(\"keypress\",b,this)}}}(),function(){CKEDITOR.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,\"de-ch\":1,el:1,\"en-au\":1,\"en-ca\":1,\"en-gb\":1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,\"fr-ca\":1,fr:1,gl:1,\ngu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,\"pt-br\":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,\"sr-latn\":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,\"zh-cn\":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(a,f,b){a&&CKEDITOR.lang.languages[a]||(a=this.detect(f,a));var c=this;f=function(){c[a].dir=c.rtl[a]?\"rtl\":\"ltr\";b(a,c[a])};this[a]?f():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(\"lang/\"+a+\".js\"),f,this)},detect:function(a,f){var b=\nthis.languages;f=f||navigator.userLanguage||navigator.language||a;var c=f.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),e=c[1],c=c[2];b[e+\"-\"+c]?e=e+\"-\"+c:b[e]||(e=null);CKEDITOR.lang.detect=e?function(){return e}:function(a){return a};return e||a}}}(),CKEDITOR.scriptLoader=function(){var a={},f={};return{load:function(b,c,e,m){var l=\"string\"==typeof b;l&&(b=[b]);e||(e=CKEDITOR);var d=b.length,h=[],k=[],g=function(a){c&&(l?c.call(e,a):c.call(e,h,k))};if(0===d)g(!0);else{var n=function(a,b){(b?h:k).push(a);\n0>=--d&&(m&&CKEDITOR.document.getDocumentElement().removeStyle(\"cursor\"),g(b))},q=function(b,c){a[b]=1;var d=f[b];delete f[b];for(var e=0;e<d.length;e++)d[e](b,c)},p=function(b){if(a[b])n(b,!0);else{var d=f[b]||(f[b]=[]);d.push(n);if(!(1<d.length)){var e=new CKEDITOR.dom.element(\"script\");e.setAttributes({type:\"text/javascript\",src:b});c&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?e.$.onreadystatechange=function(){if(\"loaded\"==e.$.readyState||\"complete\"==e.$.readyState)e.$.onreadystatechange=\nnull,q(b,!0)}:(e.$.onload=function(){setTimeout(function(){q(b,!0)},0)},e.$.onerror=function(){q(b,!1)}));e.appendTo(CKEDITOR.document.getHead())}}};m&&CKEDITOR.document.getDocumentElement().setStyle(\"cursor\",\"wait\");for(var t=0;t<d;t++)p(b[t])}},queue:function(){function a(){var b;(b=c[0])&&this.load(b.scriptUrl,b.callback,CKEDITOR,0)}var c=[];return function(e,f){var l=this;c.push({scriptUrl:e,callback:function(){f&&f.apply(this,arguments);c.shift();a.call(l)}});1==c.length&&a.call(this)}}()}}(),\nCKEDITOR.resourceManager=function(a,f){this.basePath=a;this.fileName=f;this.registered={};this.loaded={};this.externals={};this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(a,f){if(this.registered[a])throw Error('[CKEDITOR.resourceManager.add] The resource name \"'+a+'\" is already registered.');var b=this.registered[a]=f||{};b.name=a;b.path=this.getPath(a);CKEDITOR.fire(a+CKEDITOR.tools.capitalize(this.fileName)+\"Ready\",b);return this.get(a)},get:function(a){return this.registered[a]||\nnull},getPath:function(a){var f=this.externals[a];return CKEDITOR.getUrl(f&&f.dir||this.basePath+a+\"/\")},getFilePath:function(a){var f=this.externals[a];return CKEDITOR.getUrl(this.getPath(a)+(f?f.file:this.fileName+\".js\"))},addExternal:function(a,f,b){a=a.split(\",\");for(var c=0;c<a.length;c++){var e=a[c];b||(f=f.replace(/[^\\/]+$/,function(a){b=a;return\"\"}));this.externals[e]={dir:f,file:b||this.fileName+\".js\"}}},load:function(a,f,b){CKEDITOR.tools.isArray(a)||(a=a?[a]:[]);for(var c=this.loaded,e=\nthis.registered,m=[],l={},d={},h=0;h<a.length;h++){var k=a[h];if(k)if(c[k]||e[k])d[k]=this.get(k);else{var g=this.getFilePath(k);m.push(g);g in l||(l[g]=[]);l[g].push(k)}}CKEDITOR.scriptLoader.load(m,function(a,e){if(e.length)throw Error('[CKEDITOR.resourceManager.load] Resource name \"'+l[e[0]].join(\",\")+'\" was not found at \"'+e[0]+'\".');for(var g=0;g<a.length;g++)for(var k=l[a[g]],h=0;h<k.length;h++){var m=k[h];d[m]=this.get(m);c[m]=1}f.call(b,d)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager(\"plugins/\",\n\"plugin\"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(a){var f={};return function(b,c,e){var m={},l=function(b){a.call(this,b,function(a){CKEDITOR.tools.extend(m,a);var b=[],d;for(d in a){var n=a[d],q=n&&n.requires;if(!f[d]){if(n.icons)for(var p=n.icons.split(\",\"),t=p.length;t--;)CKEDITOR.skin.addIcon(p[t],n.path+\"icons/\"+(CKEDITOR.env.hidpi&&n.hidpi?\"hidpi/\":\"\")+p[t]+\".png\");f[d]=1}if(q)for(q.split&&(q=q.split(\",\")),n=0;n<q.length;n++)m[q[n]]||b.push(q[n])}if(b.length)l.call(this,\nb);else{for(d in m)n=m[d],n.onLoad&&!n.onLoad._called&&(!1===n.onLoad()&&delete m[d],n.onLoad._called=1);c&&c.call(e||window,m)}},this)};l.call(this,b)}}),CKEDITOR.plugins.setLang=function(a,f,b){var c=this.get(a);a=c.langEntries||(c.langEntries={});c=c.lang||(c.lang=[]);c.split&&(c=c.split(\",\"));-1==CKEDITOR.tools.indexOf(c,f)&&c.push(f);a[f]=b},CKEDITOR.ui=function(a){if(a.ui)return a.ui;this.items={};this.instances={};this.editor=a;this._={handlers:{}};return this},CKEDITOR.ui.prototype={add:function(a,\nf,b){b.name=a.toLowerCase();var c=this.items[a]={type:f,command:b.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(c,b)},get:function(a){return this.instances[a]},create:function(a){var f=this.items[a],b=f&&this._.handlers[f.type],c=f&&f.command&&this.editor.getCommand(f.command),b=b&&b.create.apply(this,f.args);this.instances[a]=b;c&&c.uiItems.push(b);b&&!b.type&&(b.type=f.type);return b},addHandler:function(a,f){this._.handlers[a]=f},space:function(a){return CKEDITOR.document.getById(this.spaceId(a))},\nspaceId:function(a){return this.editor.id+\"_\"+a}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function a(a,e,g){CKEDITOR.event.call(this);a=a&&CKEDITOR.tools.clone(a);if(void 0!==e){if(!(e instanceof CKEDITOR.dom.element))throw Error(\"Expect element of type CKEDITOR.dom.element.\");if(!g)throw Error(\"One of the element modes must be specified.\");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&g==CKEDITOR.ELEMENT_MODE_INLINE)throw Error(\"Inline element mode is not supported on IE quirks.\");if(!b(e,\ng))throw Error('The specified element mode is not supported on element: \"'+e.getName()+'\".');this.element=e;this.elementMode=g;this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(e.getId()||e.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={};this.commands={};this.templates={};this.name=this.name||f();this.id=CKEDITOR.tools.getNextId();this.status=\"unloaded\";this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config);this.ui=new CKEDITOR.ui(this);this.focusManager=new CKEDITOR.focusManager(this);\nthis.keystrokeHandler=new CKEDITOR.keystrokeHandler(this);this.on(\"readOnly\",c);this.on(\"selectionChange\",function(a){m(this,a.data.path)});this.on(\"activeFilterChange\",function(){m(this,this.elementPath(),!0)});this.on(\"mode\",c);this.on(\"instanceReady\",function(){this.config.startupFocus&&this.focus()});CKEDITOR.fire(\"instanceCreated\",null,this);CKEDITOR.add(this);CKEDITOR.tools.setTimeout(function(){\"destroyed\"!==this.status?d(this,a):CKEDITOR.warn(\"editor-incorrect-destroy\")},0,this)}function f(){do var a=\n\"editor\"+ ++p;while(CKEDITOR.instances[a]);return a}function b(a,b){return b==CKEDITOR.ELEMENT_MODE_INLINE?a.is(CKEDITOR.dtd.$editable)||a.is(\"textarea\"):b==CKEDITOR.ELEMENT_MODE_REPLACE?!a.is(CKEDITOR.dtd.$nonBodyContent):1}function c(){var a=this.commands,b;for(b in a)e(this,a[b])}function e(a,b){b[b.startDisabled?\"disable\":a.readOnly&&!b.readOnly?\"disable\":b.modes[a.mode]?\"enable\":\"disable\"]()}function m(a,b,c){if(b){var d,e,g=a.commands;for(e in g)d=g[e],(c||d.contextSensitive)&&d.refresh(a,b)}}\nfunction l(a){var b=a.config.customConfig;if(!b)return!1;var b=CKEDITOR.getUrl(b),c=t[b]||(t[b]={});c.fn?(c.fn.call(a,a.config),CKEDITOR.getUrl(a.config.customConfig)!=b&&l(a)||a.fireOnce(\"customConfigLoaded\")):CKEDITOR.scriptLoader.queue(b,function(){c.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){};l(a)});return!0}function d(a,b){a.on(\"customConfigLoaded\",function(){if(b){if(b.on)for(var c in b.on)a.on(c,b.on[c]);CKEDITOR.tools.extend(a.config,b,!0);delete a.config.on}c=a.config;a.readOnly=\nc.readOnly?!0:a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.is(\"textarea\")?a.element.hasAttribute(\"disabled\")||a.element.hasAttribute(\"readonly\"):a.element.isReadOnly():a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.element.hasAttribute(\"disabled\")||a.element.hasAttribute(\"readonly\"):!1;a.blockless=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(a.element.is(\"textarea\")||CKEDITOR.dtd[a.element.getName()].p):!1;a.tabIndex=c.tabIndex||a.element&&a.element.getAttribute(\"tabindex\")||0;a.activeEnterMode=\na.enterMode=a.blockless?CKEDITOR.ENTER_BR:c.enterMode;a.activeShiftEnterMode=a.shiftEnterMode=a.blockless?CKEDITOR.ENTER_BR:c.shiftEnterMode;c.skin&&(CKEDITOR.skinName=c.skin);a.fireOnce(\"configLoaded\");a.dataProcessor=new CKEDITOR.htmlDataProcessor(a);a.filter=a.activeFilter=new CKEDITOR.filter(a);h(a)});b&&null!=b.customConfig&&(a.config.customConfig=b.customConfig);l(a)||a.fireOnce(\"customConfigLoaded\")}function h(a){CKEDITOR.skin.loadPart(\"editor\",function(){k(a)})}function k(a){CKEDITOR.lang.load(a.config.language,\na.config.defaultLanguage,function(b,c){var d=a.config.title;a.langCode=b;a.lang=CKEDITOR.tools.prototypedCopy(c);a.title=\"string\"==typeof d||!1===d?d:[a.lang.editor,a.name].join(\", \");a.config.contentsLangDirection||(a.config.contentsLangDirection=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.getDirection(1):a.lang.dir);a.fire(\"langLoaded\");g(a)})}function g(a){a.getStylesSet(function(b){a.once(\"loaded\",function(){a.fire(\"stylesSet\",{styles:b})},null,null,1);n(a)})}function n(a){var b=a.config,\nc=b.plugins,d=b.extraPlugins,e=b.removePlugins;if(d)var g=new RegExp(\"(?:^|,)(?:\"+d.replace(/\\s*,\\s*/g,\"|\")+\")(?\\x3d,|$)\",\"g\"),c=c.replace(g,\"\"),c=c+(\",\"+d);if(e)var f=new RegExp(\"(?:^|,)(?:\"+e.replace(/\\s*,\\s*/g,\"|\")+\")(?\\x3d,|$)\",\"g\"),c=c.replace(f,\"\");CKEDITOR.env.air&&(c+=\",adobeair\");CKEDITOR.plugins.load(c.split(\",\"),function(c){var d=[],e=[],g=[];a.plugins=c;for(var k in c){var h=c[k],m=h.lang,l=null,w=h.requires,x;CKEDITOR.tools.isArray(w)&&(w=w.join(\",\"));if(w&&(x=w.match(f)))for(;w=x.pop();)CKEDITOR.error(\"editor-plugin-required\",\n{plugin:w.replace(\",\",\"\"),requiredBy:k});m&&!a.lang[k]&&(m.split&&(m=m.split(\",\")),0<=CKEDITOR.tools.indexOf(m,a.langCode)?l=a.langCode:(l=a.langCode.replace(/-.*/,\"\"),l=l!=a.langCode&&0<=CKEDITOR.tools.indexOf(m,l)?l:0<=CKEDITOR.tools.indexOf(m,\"en\")?\"en\":m[0]),h.langEntries&&h.langEntries[l]?(a.lang[k]=h.langEntries[l],l=null):g.push(CKEDITOR.getUrl(h.path+\"lang/\"+l+\".js\")));e.push(l);d.push(h)}CKEDITOR.scriptLoader.load(g,function(){for(var c=[\"beforeInit\",\"init\",\"afterInit\"],g=0;g<c.length;g++)for(var f=\n0;f<d.length;f++){var k=d[f];0===g&&e[f]&&k.lang&&k.langEntries&&(a.lang[k.name]=k.langEntries[e[f]]);if(k[c[g]])k[c[g]](a)}a.fireOnce(\"pluginsLoaded\");b.keystrokes&&a.setKeystroke(a.config.keystrokes);for(f=0;f<a.config.blockedKeystrokes.length;f++)a.keystrokeHandler.blockedKeystrokes[a.config.blockedKeystrokes[f]]=1;a.status=\"loaded\";a.fireOnce(\"loaded\");CKEDITOR.fire(\"instanceLoaded\",null,a)})})}function q(){var a=this.element;if(a&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var b=this.getData();\nthis.config.htmlEncodeOutput&&(b=CKEDITOR.tools.htmlEncode(b));a.is(\"textarea\")?a.setValue(b):a.setHtml(b);return!0}return!1}a.prototype=CKEDITOR.editor.prototype;CKEDITOR.editor=a;var p=0,t={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(a,b){b.name=a.toLowerCase();var c=new CKEDITOR.command(this,b);this.mode&&e(this,c);return this.commands[a]=c},_attachToForm:function(){function a(b){c.updateElement();c._.required&&!d.getValue()&&!1===c.fire(\"required\")&&b.data.preventDefault()}\nfunction b(a){return!!(a&&a.call&&a.apply)}var c=this,d=c.element,e=new CKEDITOR.dom.element(d.$.form);d.is(\"textarea\")&&e&&(e.on(\"submit\",a),b(e.$.submit)&&(e.$.submit=CKEDITOR.tools.override(e.$.submit,function(b){return function(){a();b.apply?b.apply(this):b()}})),c.on(\"destroy\",function(){e.removeListener(\"submit\",a)}))},destroy:function(a){this.fire(\"beforeDestroy\");!a&&q.call(this);this.editable(null);this.filter&&(this.filter.destroy(),delete this.filter);delete this.activeFilter;this.status=\n\"destroyed\";this.fire(\"destroy\");this.removeAllListeners();CKEDITOR.remove(this);CKEDITOR.fire(\"instanceDestroyed\",null,this)},elementPath:function(a){if(!a){a=this.getSelection();if(!a)return null;a=a.getStartElement()}return a?new CKEDITOR.dom.elementPath(a,this.editable()):null},createRange:function(){var a=this.editable();return a?new CKEDITOR.dom.range(a):null},execCommand:function(a,b){var c=this.getCommand(a),d={name:a,commandData:b,command:c};return c&&c.state!=CKEDITOR.TRISTATE_DISABLED&&\n!1!==this.fire(\"beforeCommandExec\",d)&&(d.returnValue=c.exec(d.commandData),!c.async&&!1!==this.fire(\"afterCommandExec\",d))?d.returnValue:!1},getCommand:function(a){return this.commands[a]},getData:function(a){!a&&this.fire(\"beforeGetData\");var b=this._.data;\"string\"!=typeof b&&(b=(b=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?b.is(\"textarea\")?b.getValue():b.getHtml():\"\");b={dataValue:b};!a&&this.fire(\"getData\",b);return b.dataValue},getSnapshot:function(){var a=this.fire(\"getSnapshot\");\n\"string\"!=typeof a&&(a=(a=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.is(\"textarea\")?a.getValue():a.getHtml():\"\");return a},loadSnapshot:function(a){this.fire(\"loadSnapshot\",a)},setData:function(a,b,c){var d=!0,e=b;b&&\"object\"==typeof b&&(c=b.internal,e=b.callback,d=!b.noSnapshot);!c&&d&&this.fire(\"saveSnapshot\");if(e||!c)this.once(\"dataReady\",function(a){!c&&d&&this.fire(\"saveSnapshot\");e&&e.call(a.editor)});a={dataValue:a};!c&&this.fire(\"setData\",a);this._.data=a.dataValue;\n!c&&this.fire(\"afterSetData\",a)},setReadOnly:function(a){a=null==a||a;this.readOnly!=a&&(this.readOnly=a,this.keystrokeHandler.blockedKeystrokes[8]=+a,this.editable().setReadOnly(a),this.fire(\"readOnly\"))},insertHtml:function(a,b,c){this.fire(\"insertHtml\",{dataValue:a,mode:b,range:c})},insertText:function(a){this.fire(\"insertText\",a)},insertElement:function(a){this.fire(\"insertElement\",a)},getSelectedHtml:function(a){var b=this.editable(),c=this.getSelection(),c=c&&c.getRanges();if(!b||!c||0===c.length)return null;\nfor(var d=new CKEDITOR.dom.documentFragment,e,g,f,k=0;k<c.length;k++){var h=c[k],m=h.startContainer;m.getName&&\"tr\"==m.getName()?(e||(e=m.getAscendant(\"table\").clone(),e.append(m.getAscendant(\"tbody\").clone()),d.append(e),e=e.findOne(\"tbody\")),g&&g.equals(m)||(g=m,f=m.clone(),e.append(f)),f.append(h.cloneContents())):d.append(h.cloneContents())}b=e?d:b.getHtmlFromRange(c[0]);return a?b.getHtml():b},extractSelectedHtml:function(a,b){var c=this.editable(),d=this.getSelection().getRanges();if(!c||0===\nd.length)return null;d=d[0];c=c.extractHtmlFromRange(d,b);b||this.getSelection().selectRanges([d]);return a?c.getHtml():c},focus:function(){this.fire(\"beforeFocus\")},checkDirty:function(){return\"ready\"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return q.call(this)},setKeystroke:function(){for(var a=this.keystrokeHandler.keystrokes,b=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,\n0)],c,d,e=b.length;e--;)c=b[e],d=0,CKEDITOR.tools.isArray(c)&&(d=c[1],c=c[0]),d?a[c]=d:delete a[c]},getCommandKeystroke:function(a){var b=a.name,c=this.keystrokeHandler.keystrokes,d;if(a.fakeKeystroke)return a.fakeKeystroke;for(d in c)if(c.hasOwnProperty(d)&&c[d]==b)return d;return null},addFeature:function(a){return this.filter.addFeature(a)},setActiveFilter:function(a){a||(a=this.filter);this.activeFilter!==a&&(this.activeFilter=a,this.fire(\"activeFilterChange\"),a===this.filter?this.setActiveEnterMode(null,\nnull):this.setActiveEnterMode(a.getAllowedEnterMode(this.enterMode),a.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(a,b){a=a?this.blockless?CKEDITOR.ENTER_BR:a:this.enterMode;b=b?this.blockless?CKEDITOR.ENTER_BR:b:this.shiftEnterMode;if(this.activeEnterMode!=a||this.activeShiftEnterMode!=b)this.activeEnterMode=a,this.activeShiftEnterMode=b,this.fire(\"activeEnterModeChange\")},showNotification:function(a){alert(a)}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=\n1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)--\\x3e)|(?:([^\\/\\s>]+)((?:\\s+[\\w\\-:.]+(?:\\s*=\\s*?(?:(?:\"[^\"]*\")|(?:'[^']*')|[^\\s\"'\\/>]+))?)*)[\\S\\s]*?(\\/?)>))/g}},function(){var a=/([\\w\\-:.]+)(?:(?:\\s*=\\s*(?:(?:\"([^\"]*)\")|(?:'([^']*)')|([^\\s>]+)))|(?=\\s|$))/g,f={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};\nCKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(b){for(var c,e,m=0,l;c=this._.htmlPartsRegex.exec(b);){e=c.index;if(e>m)if(m=b.substring(m,e),l)l.push(m);else this.onText(m);m=this._.htmlPartsRegex.lastIndex;if(e=c[1])if(e=e.toLowerCase(),l&&CKEDITOR.dtd.$cdata[e]&&(this.onCDATA(l.join(\"\")),l=null),!l){this.onTagClose(e);continue}if(l)l.push(c[0]);else if(e=c[3]){if(e=e.toLowerCase(),!/=\"/.test(e)){var d=\n{},h,k=c[4];c=!!c[5];if(k)for(;h=a.exec(k);){var g=h[1].toLowerCase();h=h[2]||h[3]||h[4]||\"\";d[g]=!h&&f[g]?g:CKEDITOR.tools.htmlDecodeAttr(h)}this.onTagOpen(e,d,c);!l&&CKEDITOR.dtd.$cdata[e]&&(l=[])}}else if(e=c[2])this.onComment(e)}if(b.length>m)this.onText(b.substring(m,b.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(a){this._.output.push(\"\\x3c\",a)},openTagClose:function(a,f){f?this._.output.push(\" /\\x3e\"):this._.output.push(\"\\x3e\")},\nattribute:function(a,f){\"string\"==typeof f&&(f=CKEDITOR.tools.htmlEncodeAttr(f));this._.output.push(\" \",a,'\\x3d\"',f,'\"')},closeTag:function(a){this._.output.push(\"\\x3c/\",a,\"\\x3e\")},text:function(a){this._.output.push(a)},comment:function(a){this._.output.push(\"\\x3c!--\",a,\"--\\x3e\")},write:function(a){this._.output.push(a)},reset:function(){this._.output=[];this._.indent=!1},getHtml:function(a){var f=this._.output.join(\"\");a&&this.reset();return f}}}),\"use strict\",function(){CKEDITOR.htmlParser.node=\nfunction(){};CKEDITOR.htmlParser.node.prototype={remove:function(){var a=this.parent.children,f=CKEDITOR.tools.indexOf(a,this),b=this.previous,c=this.next;b&&(b.next=c);c&&(c.previous=b);a.splice(f,1);this.parent=null},replaceWith:function(a){var f=this.parent.children,b=CKEDITOR.tools.indexOf(f,this),c=a.previous=this.previous,e=a.next=this.next;c&&(c.next=a);e&&(e.previous=a);f[b]=a;a.parent=this.parent;this.parent=null},insertAfter:function(a){var f=a.parent.children,b=CKEDITOR.tools.indexOf(f,\na),c=a.next;f.splice(b+1,0,this);this.next=a.next;this.previous=a;a.next=this;c&&(c.previous=this);this.parent=a.parent},insertBefore:function(a){var f=a.parent.children,b=CKEDITOR.tools.indexOf(f,a);f.splice(b,0,this);this.next=a;(this.previous=a.previous)&&(a.previous.next=this);a.previous=this;this.parent=a.parent},getAscendant:function(a){var f=\"function\"==typeof a?a:\"string\"==typeof a?function(b){return b.name==a}:function(b){return b.name in a},b=this.parent;for(;b&&b.type==CKEDITOR.NODE_ELEMENT;){if(f(b))return b;\nb=b.parent}return null},wrapWith:function(a){this.replaceWith(a);a.add(this);return a},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(a){return a||{}}}}(),\"use strict\",CKEDITOR.htmlParser.comment=function(a){this.value=a;this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(a,f){var b=this.value;if(!(b=a.onComment(f,b,this)))return this.remove(),\n!1;if(\"string\"!=typeof b)return this.replaceWith(b),!1;this.value=b;return!0},writeHtml:function(a,f){f&&this.filter(f);a.comment(this.value)}}),\"use strict\",function(){CKEDITOR.htmlParser.text=function(a){this.value=a;this._={isBlockLike:!1}};CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(a,f){if(!(this.value=a.onText(f,this.value,this)))return this.remove(),!1},writeHtml:function(a,f){f&&this.filter(f);a.text(this.value)}})}(),\n\"use strict\",function(){CKEDITOR.htmlParser.cdata=function(a){this.value=a};CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(a){a.write(this.value)}})}(),\"use strict\",CKEDITOR.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function a(a){return a.attributes[\"data-cke-survive\"]?!1:\"a\"==a.name&&a.attributes.href||CKEDITOR.dtd.$removeEmpty[a.name]}\nvar f=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),b={ol:1,ul:1},c=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),e={ul:\"li\",ol:\"li\",dl:\"dd\",table:\"tbody\",tbody:\"tr\",thead:\"tr\",tfoot:\"tr\",tr:\"td\"};CKEDITOR.htmlParser.fragment.fromHtml=function(m,l,d){function h(a){var b;if(0<r.length)for(var c=0;c<r.length;c++){var d=r[c],e=d.name,g=CKEDITOR.dtd[e],f=B.name&&CKEDITOR.dtd[B.name];\nf&&!f[e]||a&&g&&!g[a]&&CKEDITOR.dtd[a]?e==B.name&&(n(B,B.parent,1),c--):(b||(k(),b=1),d=d.clone(),d.parent=B,B=d,r.splice(c,1),c--)}}function k(){for(;u.length;)n(u.shift(),B)}function g(a){if(a._.isBlockLike&&\"pre\"!=a.name&&\"textarea\"!=a.name){var b=a.children.length,c=a.children[b-1],d;c&&c.type==CKEDITOR.NODE_TEXT&&((d=CKEDITOR.tools.rtrim(c.value))?c.value=d:a.children.length=b-1)}}function n(b,c,e){c=c||B||v;var f=B;void 0===b.previous&&(q(c,b)&&(B=c,t.onTagOpen(d,{}),b.returnPoint=c=B),g(b),\na(b)&&!b.children.length||c.add(b),\"pre\"==b.name&&(w=!1),\"textarea\"==b.name&&(x=!1));b.returnPoint?(B=b.returnPoint,delete b.returnPoint):B=e?c:f}function q(a,b){if((a==v||\"body\"==a.name)&&d&&(!a.name||CKEDITOR.dtd[a.name][d])){var c,e;return(c=b.attributes&&(e=b.attributes[\"data-cke-real-element-type\"])?e:b.name)&&c in CKEDITOR.dtd.$inline&&!(c in CKEDITOR.dtd.head)&&!b.isOrphan||b.type==CKEDITOR.NODE_TEXT}}function p(a,b){return a in CKEDITOR.dtd.$listItem||a in CKEDITOR.dtd.$tableContent?a==b||\n\"dt\"==a&&\"dd\"==b||\"dd\"==a&&\"dt\"==b:!1}var t=new CKEDITOR.htmlParser,v=l instanceof CKEDITOR.htmlParser.element?l:\"string\"==typeof l?new CKEDITOR.htmlParser.element(l):new CKEDITOR.htmlParser.fragment,r=[],u=[],B=v,x=\"textarea\"==v.name,w=\"pre\"==v.name;t.onTagOpen=function(d,e,g,m){e=new CKEDITOR.htmlParser.element(d,e);e.isUnknown&&g&&(e.isEmpty=!0);e.isOptionalClose=m;if(a(e))r.push(e);else{if(\"pre\"==d)w=!0;else{if(\"br\"==d&&w){B.add(new CKEDITOR.htmlParser.text(\"\\n\"));return}\"textarea\"==d&&(x=!0)}if(\"br\"==\nd)u.push(e);else{for(;!(m=(g=B.name)?CKEDITOR.dtd[g]||(B._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c,e.isUnknown||B.isUnknown||m[d]);)if(B.isOptionalClose)t.onTagClose(g);else if(d in b&&g in b)g=B.children,(g=g[g.length-1])&&\"li\"==g.name||n(g=new CKEDITOR.htmlParser.element(\"li\"),B),!e.returnPoint&&(e.returnPoint=B),B=g;else if(d in CKEDITOR.dtd.$listItem&&!p(d,g))t.onTagOpen(\"li\"==d?\"ul\":\"dl\",{},0,1);else if(g in f&&!p(d,g))!e.returnPoint&&(e.returnPoint=B),B=B.parent;else if(g in CKEDITOR.dtd.$inline&&\nr.unshift(B),B.parent)n(B,B.parent,1);else{e.isOrphan=1;break}h(d);k();e.parent=B;e.isEmpty?n(e):B=e}}};t.onTagClose=function(a){for(var b=r.length-1;0<=b;b--)if(a==r[b].name){r.splice(b,1);return}for(var c=[],e=[],g=B;g!=v&&g.name!=a;)g._.isBlockLike||e.unshift(g),c.push(g),g=g.returnPoint||g.parent;if(g!=v){for(b=0;b<c.length;b++){var f=c[b];n(f,f.parent)}B=g;g._.isBlockLike&&k();n(g,g.parent);g==B&&(B=B.parent);r=r.concat(e)}\"body\"==a&&(d=!1)};t.onText=function(a){if(!(B._.hasInlineStarted&&!u.length||\nw||x)&&(a=CKEDITOR.tools.ltrim(a),0===a.length))return;var b=B.name,g=b?CKEDITOR.dtd[b]||(B._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c;if(!x&&!g[\"#\"]&&b in f)t.onTagOpen(e[b]||\"\"),t.onText(a);else{k();h();w||x||(a=a.replace(/[\\t\\r\\n ]{2,}|[\\t\\r\\n]/g,\" \"));a=new CKEDITOR.htmlParser.text(a);if(q(B,a))this.onTagOpen(d,{},0,1);B.add(a)}};t.onCDATA=function(a){B.add(new CKEDITOR.htmlParser.cdata(a))};t.onComment=function(a){k();h();B.add(new CKEDITOR.htmlParser.comment(a))};t.parse(m);for(k();B!=\nv;)n(B,B.parent,1);g(v);return v};CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(a,b){isNaN(b)&&(b=this.children.length);var c=0<b?this.children[b-1]:null;if(c){if(a._.isBlockLike&&c.type==CKEDITOR.NODE_TEXT&&(c.value=CKEDITOR.tools.rtrim(c.value),0===c.value.length)){this.children.pop();this.add(a);return}c.next=a}a.previous=c;a.parent=this;this.children.splice(b,0,a);this._.hasInlineStarted||(this._.hasInlineStarted=a.type==CKEDITOR.NODE_TEXT||a.type==\nCKEDITOR.NODE_ELEMENT&&!a._.isBlockLike)},filter:function(a,b){b=this.getFilterContext(b);a.onRoot(b,this);this.filterChildren(a,!1,b)},filterChildren:function(a,b,c){if(this.childrenFilteredBy!=a.id){c=this.getFilterContext(c);if(b&&!this.parent)a.onRoot(c,this);this.childrenFilteredBy=a.id;for(b=0;b<this.children.length;b++)!1===this.children[b].filter(a,c)&&b--}},writeHtml:function(a,b){b&&this.filter(b);this.writeChildrenHtml(a)},writeChildrenHtml:function(a,b,c){var e=this.getFilterContext();\nif(c&&!this.parent&&b)b.onRoot(e,this);b&&this.filterChildren(b,!1,e);b=0;c=this.children;for(e=c.length;b<e;b++)c[b].writeHtml(a)},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var e=a(this);if(!1!==e){c=this.children;for(var f=0;f<c.length;f++)e=c[f],e.type==CKEDITOR.NODE_ELEMENT?e.forEach(a,b):b&&e.type!=b||a(e)}},getFilterContext:function(a){return a||{}}}}(),\"use strict\",function(){function a(){this.rules=[]}function f(b,c,e,f){var l,d;for(l in c)(d=b[l])||(d=b[l]=new a),d.add(c[l],e,f)}CKEDITOR.htmlParser.filter=\nCKEDITOR.tools.createClass({$:function(b){this.id=CKEDITOR.tools.getNextNumber();this.elementNameRules=new a;this.attributeNameRules=new a;this.elementsRules={};this.attributesRules={};this.textRules=new a;this.commentRules=new a;this.rootRules=new a;b&&this.addRules(b,10)},proto:{addRules:function(a,c){var e;\"number\"==typeof c?e=c:c&&\"priority\"in c&&(e=c.priority);\"number\"!=typeof e&&(e=10);\"object\"!=typeof c&&(c={});a.elementNames&&this.elementNameRules.addMany(a.elementNames,e,c);a.attributeNames&&\nthis.attributeNameRules.addMany(a.attributeNames,e,c);a.elements&&f(this.elementsRules,a.elements,e,c);a.attributes&&f(this.attributesRules,a.attributes,e,c);a.text&&this.textRules.add(a.text,e,c);a.comment&&this.commentRules.add(a.comment,e,c);a.root&&this.rootRules.add(a.root,e,c)},applyTo:function(a){a.filter(this)},onElementName:function(a,c){return this.elementNameRules.execOnName(a,c)},onAttributeName:function(a,c){return this.attributeNameRules.execOnName(a,c)},onText:function(a,c,e){return this.textRules.exec(a,\nc,e)},onComment:function(a,c,e){return this.commentRules.exec(a,c,e)},onRoot:function(a,c){return this.rootRules.exec(a,c)},onElement:function(a,c){for(var e=[this.elementsRules[\"^\"],this.elementsRules[c.name],this.elementsRules.$],f,l=0;3>l;l++)if(f=e[l]){f=f.exec(a,c,this);if(!1===f)return null;if(f&&f!=c)return this.onNode(a,f);if(c.parent&&!c.name)break}return c},onNode:function(a,c){var e=c.type;return e==CKEDITOR.NODE_ELEMENT?this.onElement(a,c):e==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(a,\nc.value)):e==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(a,c.value)):null},onAttribute:function(a,c,e,f){return(e=this.attributesRules[e])?e.exec(a,f,c,this):f}}});CKEDITOR.htmlParser.filterRulesGroup=a;a.prototype={add:function(a,c,e){this.rules.splice(this.findIndex(c),0,{value:a,priority:c,options:e})},addMany:function(a,c,e){for(var f=[this.findIndex(c),0],l=0,d=a.length;l<d;l++)f.push({value:a[l],priority:c,options:e});this.rules.splice.apply(this.rules,f)},findIndex:function(a){for(var c=\nthis.rules,e=c.length-1;0<=e&&a<c[e].priority;)e--;return e+1},exec:function(a,c){var e=c instanceof CKEDITOR.htmlParser.node||c instanceof CKEDITOR.htmlParser.fragment,f=Array.prototype.slice.call(arguments,1),l=this.rules,d=l.length,h,k,g,n;for(n=0;n<d;n++)if(e&&(h=c.type,k=c.name),g=l[n],!(a.nonEditable&&!g.options.applyToAll||a.nestedEditable&&g.options.excludeNestedEditable)){g=g.value.apply(null,f);if(!1===g||e&&g&&(g.name!=k||g.type!=h))return g;null!=g&&(f[0]=c=g)}return c},execOnName:function(a,\nc){for(var e=0,f=this.rules,l=f.length,d;c&&e<l;e++)d=f[e],a.nonEditable&&!d.options.applyToAll||a.nestedEditable&&d.options.excludeNestedEditable||(c=c.replace(d.value[0],d.value[1]));return c}}}(),function(){function a(a,d){function g(a){return a||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(\" \"):new CKEDITOR.htmlParser.element(\"br\",{\"data-cke-bogus\":1})}function f(a,d){return function(e){if(e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var f=[],h=b(e),l,w;if(h)for(k(h,1)&&f.push(h);h;)m(h)&&\n(l=c(h))&&k(l)&&((w=c(l))&&!m(w)?f.push(l):(g(x).insertAfter(l),l.remove())),h=h.previous;for(h=0;h<f.length;h++)f[h].remove();if(f=!a||!1!==(\"function\"==typeof d?d(e):d))x||CKEDITOR.env.needsBrFiller||e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT?x||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||e.name in CKEDITOR.dtd.tr||e.name in CKEDITOR.dtd.$listItem)?(f=b(e),f=!f||\"form\"==e.name&&\"input\"==f.name):f=!1:f=!1;f&&e.add(g(a))}}}function k(a,b){if((!x||CKEDITOR.env.needsBrFiller)&&a.type==CKEDITOR.NODE_ELEMENT&&\n\"br\"==a.name&&!a.attributes[\"data-cke-eol\"])return!0;var c;return a.type==CKEDITOR.NODE_TEXT&&(c=a.value.match(r))&&(c.index&&((new CKEDITOR.htmlParser.text(a.value.substring(0,c.index))).insertBefore(a),a.value=c[0]),!CKEDITOR.env.needsBrFiller&&x&&(!b||a.parent.name in n)||!x&&((c=a.previous)&&\"br\"==c.name||!c||m(c)))?!0:!1}var h={elements:{}},x=\"html\"==d,n=CKEDITOR.tools.extend({},w),z;for(z in n)\"#\"in B[z]||delete n[z];for(z in n)h.elements[z]=f(x,a.config.fillEmptyBlocks);h.root=f(x,!1);h.elements.br=\nfunction(a){return function(b){if(b.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var d=b.attributes;if(\"data-cke-bogus\"in d||\"data-cke-eol\"in d)delete d[\"data-cke-bogus\"];else{for(d=b.next;d&&e(d);)d=d.next;var f=c(b);!d&&m(b.parent)?l(b.parent,g(a)):m(d)&&f&&!m(f)&&g(a).insertBefore(d)}}}}(x);return h}function f(a,b){return a!=CKEDITOR.ENTER_BR&&!1!==b?a==CKEDITOR.ENTER_DIV?\"div\":\"p\":!1}function b(a){for(a=a.children[a.children.length-1];a&&e(a);)a=a.previous;return a}function c(a){for(a=a.previous;a&&\ne(a);)a=a.previous;return a}function e(a){return a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(a.value)||a.type==CKEDITOR.NODE_ELEMENT&&a.attributes[\"data-cke-bookmark\"]}function m(a){return a&&(a.type==CKEDITOR.NODE_ELEMENT&&a.name in w||a.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function l(a,b){var c=a.children[a.children.length-1];a.children.push(b);b.parent=a;c&&(c.next=b,b.previous=c)}function d(a){a=a.attributes;\"false\"!=a.contenteditable&&(a[\"data-cke-editable\"]=a.contenteditable?\"true\":1);\na.contenteditable=\"false\"}function h(a){a=a.attributes;switch(a[\"data-cke-editable\"]){case \"true\":a.contenteditable=\"true\";break;case \"1\":delete a.contenteditable}}function k(a){return a.replace(C,function(a,b,c){return\"\\x3c\"+b+c.replace(F,function(a,b){return E.test(b)&&-1==c.indexOf(\"data-cke-saved-\"+b)?\" data-cke-saved-\"+a+\" data-cke-\"+CKEDITOR.rnd+\"-\"+a:a})+\"\\x3e\"})}function g(a,b){return a.replace(b,function(a,b,c){0===a.indexOf(\"\\x3ctextarea\")&&(a=b+p(c).replace(/</g,\"\\x26lt;\").replace(/>/g,\n\"\\x26gt;\")+\"\\x3c/textarea\\x3e\");return\"\\x3ccke:encoded\\x3e\"+encodeURIComponent(a)+\"\\x3c/cke:encoded\\x3e\"})}function n(a){return a.replace(M,function(a,b){return decodeURIComponent(b)})}function q(a){return a.replace(/\\x3c!--(?!{cke_protected})[\\s\\S]+?--\\x3e/g,function(a){return\"\\x3c!--\"+u+\"{C}\"+encodeURIComponent(a).replace(/--/g,\"%2D%2D\")+\"--\\x3e\"})}function p(a){return a.replace(/\\x3c!--\\{cke_protected\\}\\{C\\}([\\s\\S]+?)--\\x3e/g,function(a,b){return decodeURIComponent(b)})}function t(a,b){var c=b._.dataStore;\nreturn a.replace(/\\x3c!--\\{cke_protected\\}([\\s\\S]+?)--\\x3e/g,function(a,b){return decodeURIComponent(b)}).replace(/\\{cke_protected_(\\d+)\\}/g,function(a,b){return c&&c[b]||\"\"})}function v(a,b){var c=[],d=b.config.protectedSource,e=b._.dataStore||(b._.dataStore={id:1}),g=/<\\!--\\{cke_temp(comment)?\\}(\\d*?)--\\x3e/g,d=[/<script[\\s\\S]*?(<\\/script>|$)/gi,/<noscript[\\s\\S]*?<\\/noscript>/gi,/<meta[\\s\\S]*?\\/?>/gi].concat(d);a=a.replace(/\\x3c!--[\\s\\S]*?--\\x3e/g,function(a){return\"\\x3c!--{cke_tempcomment}\"+(c.push(a)-\n1)+\"--\\x3e\"});for(var f=0;f<d.length;f++)a=a.replace(d[f],function(a){a=a.replace(g,function(a,b,d){return c[d]});return/cke_temp(comment)?/.test(a)?a:\"\\x3c!--{cke_temp}\"+(c.push(a)-1)+\"--\\x3e\"});a=a.replace(g,function(a,b,d){return\"\\x3c!--\"+u+(b?\"{C}\":\"\")+encodeURIComponent(c[d]).replace(/--/g,\"%2D%2D\")+\"--\\x3e\"});a=a.replace(/<\\w+(?:\\s+(?:(?:[^\\s=>]+\\s*=\\s*(?:[^'\"\\s>]+|'[^']*'|\"[^\"]*\"))|[^\\s=\\/>]+))+\\s*\\/?>/g,function(a){return a.replace(/\\x3c!--\\{cke_protected\\}([^>]*)--\\x3e/g,function(a,b){e[e.id]=\ndecodeURIComponent(b);return\"{cke_protected_\"+e.id++ +\"}\"})});return a=a.replace(/<(title|iframe|textarea)([^>]*)>([\\s\\S]*?)<\\/\\1>/g,function(a,c,d,e){return\"\\x3c\"+c+d+\"\\x3e\"+t(p(e),b)+\"\\x3c/\"+c+\"\\x3e\"})}CKEDITOR.htmlDataProcessor=function(b){var c,d,e=this;this.editor=b;this.dataFilter=c=new CKEDITOR.htmlParser.filter;this.htmlFilter=d=new CKEDITOR.htmlParser.filter;this.writer=new CKEDITOR.htmlParser.basicWriter;c.addRules(z);c.addRules(D,{applyToAll:!0});c.addRules(a(b,\"data\"),{applyToAll:!0});\nd.addRules(y);d.addRules(A,{applyToAll:!0});d.addRules(a(b,\"html\"),{applyToAll:!0});b.on(\"toHtml\",function(a){a=a.data;var c=a.dataValue,d,c=v(c,b),c=g(c,G),c=k(c),c=g(c,J),c=c.replace(I,\"$1cke:$2\"),c=c.replace(R,\"\\x3ccke:$1$2\\x3e\\x3c/cke:$1\\x3e\"),c=c.replace(/(<pre\\b[^>]*>)(\\r\\n|\\n)/g,\"$1$2$2\"),c=c.replace(/([^a-z0-9<\\-])(on\\w{3,})(?!>)/gi,\"$1data-cke-\"+CKEDITOR.rnd+\"-$2\");d=a.context||b.editable().getName();var e;CKEDITOR.env.ie&&9>CKEDITOR.env.version&&\"pre\"==d&&(d=\"div\",c=\"\\x3cpre\\x3e\"+c+\"\\x3c/pre\\x3e\",\ne=1);d=b.document.createElement(d);d.setHtml(\"a\"+c);c=d.getHtml().substr(1);c=c.replace(new RegExp(\"data-cke-\"+CKEDITOR.rnd+\"-\",\"ig\"),\"\");e&&(c=c.replace(/^<pre>|<\\/pre>$/gi,\"\"));c=c.replace(H,\"$1$2\");c=n(c);c=p(c);d=!1===a.fixForBody?!1:f(a.enterMode,b.config.autoParagraph);c=CKEDITOR.htmlParser.fragment.fromHtml(c,a.context,d);d&&(e=c,!e.children.length&&CKEDITOR.dtd[e.name][d]&&(d=new CKEDITOR.htmlParser.element(d),e.add(d)));a.dataValue=c},null,null,5);b.on(\"toHtml\",function(a){a.data.filter.applyTo(a.data.dataValue,\n!0,a.data.dontFilter,a.data.enterMode)&&b.fire(\"dataFiltered\")},null,null,6);b.on(\"toHtml\",function(a){a.data.dataValue.filterChildren(e.dataFilter,!0)},null,null,10);b.on(\"toHtml\",function(a){a=a.data;var b=a.dataValue,c=new CKEDITOR.htmlParser.basicWriter;b.writeChildrenHtml(c);b=c.getHtml(!0);a.dataValue=q(b)},null,null,15);b.on(\"toDataFormat\",function(a){var c=a.data.dataValue;a.data.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/^<br *\\/?>/i,\"\"));a.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(c,\na.data.context,f(a.data.enterMode,b.config.autoParagraph))},null,null,5);b.on(\"toDataFormat\",function(a){a.data.dataValue.filterChildren(e.htmlFilter,!0)},null,null,10);b.on(\"toDataFormat\",function(a){a.data.filter.applyTo(a.data.dataValue,!1,!0)},null,null,11);b.on(\"toDataFormat\",function(a){var c=a.data.dataValue,d=e.writer;d.reset();c.writeChildrenHtml(d);c=d.getHtml(!0);c=p(c);c=t(c,b);a.data.dataValue=c},null,null,15)};CKEDITOR.htmlDataProcessor.prototype={toHtml:function(a,b,c,d){var e=this.editor,\ng,f,k,h;b&&\"object\"==typeof b?(g=b.context,c=b.fixForBody,d=b.dontFilter,f=b.filter,k=b.enterMode,h=b.protectedWhitespaces):g=b;g||null===g||(g=e.editable().getName());return e.fire(\"toHtml\",{dataValue:a,context:g,fixForBody:c,dontFilter:d,filter:f||e.filter,enterMode:k||e.enterMode,protectedWhitespaces:h}).dataValue},toDataFormat:function(a,b){var c,d,e;b&&(c=b.context,d=b.filter,e=b.enterMode);c||null===c||(c=this.editor.editable().getName());return this.editor.fire(\"toDataFormat\",{dataValue:a,\nfilter:d||this.editor.filter,context:c,enterMode:e||this.editor.enterMode}).dataValue}};var r=/(?:&nbsp;|\\xa0)$/,u=\"{cke_protected}\",B=CKEDITOR.dtd,x=\"caption colgroup col thead tfoot tbody\".split(\" \"),w=CKEDITOR.tools.extend({},B.$blockLimit,B.$block),z={elements:{input:d,textarea:d}},D={attributeNames:[[/^on/,\"data-cke-pa-on\"],[/^data-cke-expando$/,\"\"]]},y={elements:{embed:function(a){var b=a.parent;if(b&&\"object\"==b.name){var c=b.attributes.width,b=b.attributes.height;c&&(a.attributes.width=c);\nb&&(a.attributes.height=b)}},a:function(a){var b=a.attributes;if(!(a.children.length||b.name||b.id||a.attributes[\"data-cke-saved-name\"]))return!1}}},A={elementNames:[[/^cke:/,\"\"],[/^\\?xml:namespace$/,\"\"]],attributeNames:[[/^data-cke-(saved|pa)-/,\"\"],[/^data-cke-.*/,\"\"],[\"hidefocus\",\"\"]],elements:{$:function(a){var b=a.attributes;if(b){if(b[\"data-cke-temp\"])return!1;for(var c=[\"name\",\"href\",\"src\"],d,e=0;e<c.length;e++)d=\"data-cke-saved-\"+c[e],d in b&&delete b[c[e]]}return a},table:function(a){a.children.slice(0).sort(function(a,\nb){var c,d;a.type==CKEDITOR.NODE_ELEMENT&&b.type==a.type&&(c=CKEDITOR.tools.indexOf(x,a.name),d=CKEDITOR.tools.indexOf(x,b.name));-1<c&&-1<d&&c!=d||(c=a.parent?a.getIndex():-1,d=b.parent?b.getIndex():-1);return c>d?1:-1})},param:function(a){a.children=[];a.isEmpty=!0;return a},span:function(a){\"Apple-style-span\"==a.attributes[\"class\"]&&delete a.name},html:function(a){delete a.attributes.contenteditable;delete a.attributes[\"class\"]},body:function(a){delete a.attributes.spellcheck;delete a.attributes.contenteditable},\nstyle:function(a){var b=a.children[0];b&&b.value&&(b.value=CKEDITOR.tools.trim(b.value));a.attributes.type||(a.attributes.type=\"text/css\")},title:function(a){var b=a.children[0];!b&&l(a,b=new CKEDITOR.htmlParser.text);b.value=a.attributes[\"data-cke-title\"]||\"\"},input:h,textarea:h},attributes:{\"class\":function(a){return CKEDITOR.tools.ltrim(a.replace(/(?:^|\\s+)cke_[^\\s]*/g,\"\"))||!1}}};CKEDITOR.env.ie&&(A.attributes.style=function(a){return a.replace(/(^|;)([^\\:]+)/g,function(a){return a.toLowerCase()})});\nvar C=/<(a|area|img|input|source)\\b([^>]*)>/gi,F=/([\\w-:]+)\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|(?:[^ \"'>]+))/gi,E=/^(href|src|name)$/i,J=/(?:<style(?=[ >])[^>]*>[\\s\\S]*?<\\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,G=/(<textarea(?=[ >])[^>]*>)([\\s\\S]*?)(?:<\\/textarea>)/gi,M=/<cke:encoded>([^<]*)<\\/cke:encoded>/gi,I=/(<\\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,H=/(<\\/?)cke:((?:html|body|head|title)[^>]*>)/gi,R=/<cke:(param|embed)([^>]*?)\\/?>(?!\\s*<\\/cke:\\1)/gi}(),\"use strict\",CKEDITOR.htmlParser.element=\nfunction(a,f){this.name=a;this.attributes=f||{};this.children=[];var b=a||\"\",c=b.match(/^cke:(.*)/);c&&(b=c[1]);b=!!(CKEDITOR.dtd.$nonBodyContent[b]||CKEDITOR.dtd.$block[b]||CKEDITOR.dtd.$listItem[b]||CKEDITOR.dtd.$tableContent[b]||CKEDITOR.dtd.$nonEditable[b]||\"br\"==b);this.isEmpty=!!CKEDITOR.dtd.$empty[a];this.isUnknown=!CKEDITOR.dtd[a];this._={isBlockLike:b,hasInlineStarted:this.isEmpty||!b}},CKEDITOR.htmlParser.cssStyle=function(a){var f={};((a instanceof CKEDITOR.htmlParser.element?a.attributes.style:\na)||\"\").replace(/&quot;/g,'\"').replace(/\\s*([^ :;]+)\\s*:\\s*([^;]+)\\s*(?=;|$)/g,function(a,c,e){\"font-family\"==c&&(e=e.replace(/[\"']/g,\"\"));f[c.toLowerCase()]=e});return{rules:f,populate:function(a){var c=this.toString();c&&(a instanceof CKEDITOR.dom.element?a.setAttribute(\"style\",c):a instanceof CKEDITOR.htmlParser.element?a.attributes.style=c:a.style=c)},toString:function(){var a=[],c;for(c in f)f[c]&&a.push(c,\":\",f[c],\";\");return a.join(\"\")}}},function(){function a(a){return function(b){return b.type==\nCKEDITOR.NODE_ELEMENT&&(\"string\"==typeof a?b.name==a:b.name in a)}}var f=function(a,b){a=a[0];b=b[0];return a<b?-1:a>b?1:0},b=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:b.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(a,b){var f=this,l,d;b=f.getFilterContext(b);if(b.off)return!0;if(!f.parent)a.onRoot(b,f);for(;;){l=f.name;if(!(d=\na.onElementName(b,l)))return this.remove(),!1;f.name=d;if(!(f=a.onElement(b,f)))return this.remove(),!1;if(f!==this)return this.replaceWith(f),!1;if(f.name==l)break;if(f.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(f),!1;if(!f.name)return this.replaceWithChildren(),!1}l=f.attributes;var h,k;for(h in l){for(d=l[h];;)if(k=a.onAttributeName(b,h))if(k!=h)delete l[h],h=k;else break;else{delete l[h];break}k&&(!1===(d=a.onAttribute(b,f,k,d))?delete l[k]:l[k]=d)}f.isEmpty||this.filterChildren(a,!1,\nb);return!0},filterChildren:b.filterChildren,writeHtml:function(a,b){b&&this.filter(b);var m=this.name,l=[],d=this.attributes,h,k;a.openTag(m,d);for(h in d)l.push([h,d[h]]);a.sortAttributes&&l.sort(f);h=0;for(k=l.length;h<k;h++)d=l[h],a.attribute(d[0],d[1]);a.openTagClose(m,this.isEmpty);this.writeChildrenHtml(a);this.isEmpty||a.closeTag(m)},writeChildrenHtml:b.writeChildrenHtml,replaceWithChildren:function(){for(var a=this.children,b=a.length;b;)a[--b].insertAfter(this);this.remove()},forEach:b.forEach,\ngetFirst:function(b){if(!b)return this.children.length?this.children[0]:null;\"function\"!=typeof b&&(b=a(b));for(var e=0,f=this.children.length;e<f;++e)if(b(this.children[e]))return this.children[e];return null},getHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeChildrenHtml(a);return a.getHtml()},setHtml:function(a){a=this.children=CKEDITOR.htmlParser.fragment.fromHtml(a).children;for(var b=0,f=a.length;b<f;++b)a[b].parent=this},getOuterHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;\nthis.writeHtml(a);return a.getHtml()},split:function(a){for(var b=this.children.splice(a,this.children.length-a),f=this.clone(),l=0;l<b.length;++l)b[l].parent=f;f.children=b;b[0]&&(b[0].previous=null);0<a&&(this.children[a-1].next=null);this.parent.add(f,this.getIndex()+1);return f},find:function(a,b){void 0===b&&(b=!1);var f=[],l;for(l=0;l<this.children.length;l++){var d=this.children[l];\"function\"==typeof a&&a(d)?f.push(d):\"string\"==typeof a&&d.name===a&&f.push(d);b&&d.find&&(f=f.concat(d.find(a,\nb)))}return f},addClass:function(a){if(!this.hasClass(a)){var b=this.attributes[\"class\"]||\"\";this.attributes[\"class\"]=b+(b?\" \":\"\")+a}},removeClass:function(a){var b=this.attributes[\"class\"];b&&((b=CKEDITOR.tools.trim(b.replace(new RegExp(\"(?:\\\\s+|^)\"+a+\"(?:\\\\s+|$)\"),\" \")))?this.attributes[\"class\"]=b:delete this.attributes[\"class\"])},hasClass:function(a){var b=this.attributes[\"class\"];return b?(new RegExp(\"(?:^|\\\\s)\"+a+\"(?\\x3d\\\\s|$)\")).test(b):!1},getFilterContext:function(a){var b=[];a||(a={off:!1,\nnonEditable:!1,nestedEditable:!1});a.off||\"off\"!=this.attributes[\"data-cke-processor\"]||b.push(\"off\",!0);a.nonEditable||\"false\"!=this.attributes.contenteditable?a.nonEditable&&!a.nestedEditable&&\"true\"==this.attributes.contenteditable&&b.push(\"nestedEditable\",!0):b.push(\"nonEditable\",!0);if(b.length){a=CKEDITOR.tools.copy(a);for(var f=0;f<b.length;f+=2)a[b[f]]=b[f+1]}return a}},!0)}(),function(){var a={},f=/{([^}]+)}/g,b=/([\\\\'])/g,c=/\\n/g,e=/\\r/g;CKEDITOR.template=function(m){if(a[m])this.output=\na[m];else{var l=m.replace(b,\"\\\\$1\").replace(c,\"\\\\n\").replace(e,\"\\\\r\").replace(f,function(a,b){return\"',data['\"+b+\"']\\x3d\\x3dundefined?'{\"+b+\"}':data['\"+b+\"'],'\"});this.output=a[m]=Function(\"data\",\"buffer\",\"return buffer?buffer.push('\"+l+\"'):['\"+l+\"'].join('');\")}}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(a){CKEDITOR.instances[a.name]=a;a.on(\"focus\",function(){CKEDITOR.currentInstance!=a&&(CKEDITOR.currentInstance=\na,CKEDITOR.fire(\"currentInstance\"))});a.on(\"blur\",function(){CKEDITOR.currentInstance==a&&(CKEDITOR.currentInstance=null,CKEDITOR.fire(\"currentInstance\"))});CKEDITOR.fire(\"instance\",null,a)},CKEDITOR.remove=function(a){delete CKEDITOR.instances[a.name]},function(){var a={};CKEDITOR.addTemplate=function(f,b){var c=a[f];if(c)return c;c={name:f,source:b};CKEDITOR.fire(\"template\",c);return a[f]=new CKEDITOR.template(c.source)};CKEDITOR.getTemplate=function(f){return a[f]}}(),function(){var a=[];CKEDITOR.addCss=\nfunction(f){a.push(f)};CKEDITOR.getCss=function(){return a.join(\"\\n\")}}(),CKEDITOR.on(\"instanceDestroyed\",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire(\"reset\")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,function(){CKEDITOR.inline=function(a,f){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance \"'+a.getEditor().name+'\" is already attached to the provided element.';var b=new CKEDITOR.editor(f,\na,CKEDITOR.ELEMENT_MODE_INLINE),c=a.is(\"textarea\")?a:null;c?(b.setData(c.getValue(),null,!0),a=CKEDITOR.dom.element.createFromHtml('\\x3cdiv contenteditable\\x3d\"'+!!b.readOnly+'\" class\\x3d\"cke_textarea_inline\"\\x3e'+c.getValue()+\"\\x3c/div\\x3e\",CKEDITOR.document),a.insertAfter(c),c.hide(),c.$.form&&b._attachToForm()):b.setData(a.getHtml(),null,!0);b.on(\"loaded\",function(){b.fire(\"uiReady\");b.editable(a);b.container=a;b.ui.contentsElement=a;b.setData(b.getData(1));b.resetDirty();b.fire(\"contentDom\");\nb.mode=\"wysiwyg\";b.fire(\"mode\");b.status=\"ready\";b.fireOnce(\"instanceReady\");CKEDITOR.fire(\"instanceReady\",null,b)},null,null,1E4);b.on(\"destroy\",function(){c&&(b.container.clearCustomData(),b.container.remove(),c.show());b.element.clearCustomData();delete b.element});return b};CKEDITOR.inlineAll=function(){var a,f,b;for(b in CKEDITOR.dtd.$editable)for(var c=CKEDITOR.document.getElementsByTag(b),e=0,m=c.count();e<m;e++)a=c.getItem(e),\"true\"==a.getAttribute(\"contenteditable\")&&(f={element:a,config:{}},\n!1!==CKEDITOR.fire(\"inline\",f)&&CKEDITOR.inline(a,f.config))};CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})}(),CKEDITOR.replaceClass=\"ckeditor\",function(){function a(a,e,m,l){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance \"'+a.getEditor().name+'\" is already attached to the provided element.';var d=new CKEDITOR.editor(e,a,l);l==CKEDITOR.ELEMENT_MODE_REPLACE&&(a.setStyle(\"visibility\",\"hidden\"),d._.required=\na.hasAttribute(\"required\"),a.removeAttribute(\"required\"));m&&d.setData(m,null,!0);d.on(\"loaded\",function(){b(d);l==CKEDITOR.ELEMENT_MODE_REPLACE&&d.config.autoUpdateElement&&a.$.form&&d._attachToForm();d.setMode(d.config.startupMode,function(){d.resetDirty();d.status=\"ready\";d.fireOnce(\"instanceReady\");CKEDITOR.fire(\"instanceReady\",null,d)})});d.on(\"destroy\",f);return d}function f(){var a=this.container,b=this.element;a&&(a.clearCustomData(),a.remove());b&&(b.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&\n(b.show(),this._.required&&b.setAttribute(\"required\",\"required\")),delete this.element)}function b(a){var b=a.name,f=a.element,l=a.elementMode,d=a.fire(\"uiSpace\",{space:\"top\",html:\"\"}).html,h=a.fire(\"uiSpace\",{space:\"bottom\",html:\"\"}).html,k=new CKEDITOR.template('\\x3c{outerEl} id\\x3d\"cke_{name}\" class\\x3d\"{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'\"  dir\\x3d\"{langDir}\" lang\\x3d\"{langCode}\" role\\x3d\"application\"'+(a.title?' aria-labelledby\\x3d\"cke_{name}_arialbl\"':\n\"\")+\"\\x3e\"+(a.title?'\\x3cspan id\\x3d\"cke_{name}_arialbl\" class\\x3d\"cke_voice_label\"\\x3e{voiceLabel}\\x3c/span\\x3e':\"\")+'\\x3c{outerEl} class\\x3d\"cke_inner cke_reset\" role\\x3d\"presentation\"\\x3e{topHtml}\\x3c{outerEl} id\\x3d\"{contentId}\" class\\x3d\"cke_contents cke_reset\" role\\x3d\"presentation\"\\x3e\\x3c/{outerEl}\\x3e{bottomHtml}\\x3c/{outerEl}\\x3e\\x3c/{outerEl}\\x3e'),b=CKEDITOR.dom.element.createFromHtml(k.output({id:a.id,name:b,langDir:a.lang.dir,langCode:a.langCode,voiceLabel:a.title,topHtml:d?'\\x3cspan id\\x3d\"'+\na.ui.spaceId(\"top\")+'\" class\\x3d\"cke_top cke_reset_all\" role\\x3d\"presentation\" style\\x3d\"height:auto\"\\x3e'+d+\"\\x3c/span\\x3e\":\"\",contentId:a.ui.spaceId(\"contents\"),bottomHtml:h?'\\x3cspan id\\x3d\"'+a.ui.spaceId(\"bottom\")+'\" class\\x3d\"cke_bottom cke_reset_all\" role\\x3d\"presentation\"\\x3e'+h+\"\\x3c/span\\x3e\":\"\",outerEl:CKEDITOR.env.ie?\"span\":\"div\"}));l==CKEDITOR.ELEMENT_MODE_REPLACE?(f.hide(),b.insertAfter(f)):f.append(b);a.container=b;a.ui.contentsElement=a.ui.space(\"contents\");d&&a.ui.space(\"top\").unselectable();\nh&&a.ui.space(\"bottom\").unselectable();f=a.config.width;l=a.config.height;f&&b.setStyle(\"width\",CKEDITOR.tools.cssLength(f));l&&a.ui.space(\"contents\").setStyle(\"height\",CKEDITOR.tools.cssLength(l));b.disableContextMenu();CKEDITOR.env.webkit&&b.on(\"focus\",function(){a.focus()});a.fireOnce(\"uiReady\")}CKEDITOR.replace=function(b,e){return a(b,e,null,CKEDITOR.ELEMENT_MODE_REPLACE)};CKEDITOR.appendTo=function(b,e,f){return a(b,e,f,CKEDITOR.ELEMENT_MODE_APPENDTO)};CKEDITOR.replaceAll=function(){for(var a=\ndocument.getElementsByTagName(\"textarea\"),b=0;b<a.length;b++){var f=null,l=a[b];if(l.name||l.id){if(\"string\"==typeof arguments[0]){if(!(new RegExp(\"(?:^|\\\\s)\"+arguments[0]+\"(?:$|\\\\s)\")).test(l.className))continue}else if(\"function\"==typeof arguments[0]&&(f={},!1===arguments[0](l,f)))continue;this.replace(l,f)}}};CKEDITOR.editor.prototype.addMode=function(a,b){(this._.modes||(this._.modes={}))[a]=b};CKEDITOR.editor.prototype.setMode=function(a,b){var f=this,l=this._.modes;if(a!=f.mode&&l&&l[a]){f.fire(\"beforeSetMode\",\na);if(f.mode){var d=f.checkDirty(),l=f._.previousModeData,h,k=0;f.fire(\"beforeModeUnload\");f.editable(0);f._.previousMode=f.mode;f._.previousModeData=h=f.getData(1);\"source\"==f.mode&&l==h&&(f.fire(\"lockSnapshot\",{forceUpdate:!0}),k=1);f.ui.space(\"contents\").setHtml(\"\");f.mode=\"\"}else f._.previousModeData=f.getData(1);this._.modes[a](function(){f.mode=a;void 0!==d&&!d&&f.resetDirty();k?f.fire(\"unlockSnapshot\"):\"wysiwyg\"==a&&f.fire(\"saveSnapshot\");setTimeout(function(){f.fire(\"mode\");b&&b.call(f)},\n0)})}};CKEDITOR.editor.prototype.resize=function(a,b,f,l){var d=this.container,h=this.ui.space(\"contents\"),k=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;l=l?this.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass(\"cke_inner\")}):d;l.setSize(\"width\",a,!0);k&&(k.style.width=\"1%\");var g=(l.$.offsetHeight||0)-(h.$.clientHeight||0),d=Math.max(b-(f?0:g),0);b=f?b+g:b;h.setStyle(\"height\",d+\"px\");k&&(k.style.width=\"100%\");this.fire(\"resize\",{outerHeight:b,\ncontentsHeight:d,outerWidth:a||l.getSize(\"width\")})};CKEDITOR.editor.prototype.getResizable=function(a){return a?this.ui.space(\"contents\"):this.container};CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode=\"wysiwyg\",function(){function a(a){var b=a.editor,d=a.data.path,e=d.blockLimit,g=a.data.selection,k=g.getRanges()[0],h;if(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)if(g=f(g,d))g.appendBogus(),h=CKEDITOR.env.ie;\nl(b,d.block,e)&&k.collapsed&&!k.getCommonAncestor().isReadOnly()&&(d=k.clone(),d.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),e=new CKEDITOR.dom.walker(d),e.guard=function(a){return!c(a)||a.type==CKEDITOR.NODE_COMMENT||a.isReadOnly()},!e.checkForward()||d.checkStartOfBlock()&&d.checkEndOfBlock())&&(b=k.fixBlock(!0,b.activeEnterMode==CKEDITOR.ENTER_DIV?\"div\":\"p\"),CKEDITOR.env.needsBrFiller||(b=b.getFirst(c))&&b.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(b.getText()).match(/^(?:&nbsp;|\\xa0)$/)&&b.remove(),\nh=1,a.cancel());h&&k.select()}function f(a,b){if(a.isFake)return 0;var d=b.block||b.blockLimit,e=d&&d.getLast(c);if(!(!d||!d.isBlockBoundary()||e&&e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()||d.is(\"pre\")||d.getBogus()))return d}function b(a){var b=a.data.getTarget();b.is(\"input\")&&(b=b.getAttribute(\"type\"),\"submit\"!=b&&\"reset\"!=b||a.data.preventDefault())}function c(a){return g(a)&&n(a)}function e(a,b){return function(c){var d=c.data.$.toElement||c.data.$.fromElement||c.data.$.relatedTarget;\n(d=d&&d.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(d):null)&&(b.equals(d)||b.contains(d))||a.call(this,c)}}function m(a){function b(a){return function(b,e){e&&b.type==CKEDITOR.NODE_ELEMENT&&b.is(g)&&(d=b);if(!(e||!c(b)||a&&p(b)))return!1}}var d,e=a.getRanges()[0];a=a.root;var g={table:1,ul:1,ol:1,dl:1};if(e.startPath().contains(g)){var f=e.clone();f.collapse(1);f.setStartAt(a,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(f);a.guard=b();a.checkBackward();if(d)return f=e.clone(),\nf.collapse(),f.setEndAt(d,CKEDITOR.POSITION_AFTER_END),a=new CKEDITOR.dom.walker(f),a.guard=b(!0),d=!1,a.checkForward(),d}return null}function l(a,b,c){return!1!==a.config.autoParagraph&&a.activeEnterMode!=CKEDITOR.ENTER_BR&&(a.editable().equals(c)&&!b||b&&\"true\"==b.getAttribute(\"contenteditable\"))}function d(a){return a.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==a.config.autoParagraph?a.activeEnterMode==CKEDITOR.ENTER_DIV?\"div\":\"p\":!1}function h(a){var b=a.editor;b.getSelection().scrollIntoView();\nsetTimeout(function(){b.fire(\"saveSnapshot\")},0)}function k(a,b,c){var d=a.getCommonAncestor(b);for(b=a=c?b:a;(a=a.getParent())&&!d.equals(a)&&1==a.getChildCount();)b=a;b.remove()}var g,n,q,p,t,v,r,u,B;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(a,b){this.base(b.$||b);this.editor=a;this.status=\"unloaded\";this.hasFocus=!1;this.setup()},proto:{focus:function(){var a;if(CKEDITOR.env.webkit&&!this.hasFocus&&(a=this.editor._.previousActive||this.getDocument().getActive(),\nthis.contains(a))){a.focus();return}CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document)?this.$.focus():this.$.setActive()}catch(b){if(!CKEDITOR.env.ie)throw b;}CKEDITOR.env.safari&&!this.isInline()&&(a=CKEDITOR.document.getActive(),a.equals(this.getWindow().getFrame())||this.getWindow().focus())},\non:function(a,b){var c=Array.prototype.slice.call(arguments,0);CKEDITOR.env.ie&&/^focus|blur$/.exec(a)&&(a=\"focus\"==a?\"focusin\":\"focusout\",b=e(b,this),c[0]=a,c[1]=b);return CKEDITOR.dom.element.prototype.on.apply(this,c)},attachListener:function(a){!this._.listeners&&(this._.listeners=[]);var b=Array.prototype.slice.call(arguments,1),b=a.on.apply(a,b);this._.listeners.push(b);return b},clearListeners:function(){var a=this._.listeners;try{for(;a.length;)a.pop().removeListener()}catch(b){}},restoreAttrs:function(){var a=\nthis._.attrChanges,b,c;for(c in a)a.hasOwnProperty(c)&&(b=a[c],null!==b?this.setAttribute(c,b):this.removeAttribute(c))},attachClass:function(a){var b=this.getCustomData(\"classes\");this.hasClass(a)||(!b&&(b=[]),b.push(a),this.setCustomData(\"classes\",b),this.addClass(a))},changeAttr:function(a,b){var c=this.getAttribute(a);b!==c&&(!this._.attrChanges&&(this._.attrChanges={}),a in this._.attrChanges||(this._.attrChanges[a]=c),this.setAttribute(a,b))},insertText:function(a){this.editor.focus();this.insertHtml(this.transformPlainTextToHtml(a),\n\"text\")},transformPlainTextToHtml:function(a){var b=this.editor.getSelection().getStartElement().hasAscendant(\"pre\",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(a,b)},insertHtml:function(a,b,c){var d=this.editor;d.focus();d.fire(\"saveSnapshot\");c||(c=d.getSelection().getRanges()[0]);v(this,b||\"html\",a,c);c.select();h(this);this.editor.fire(\"afterInsertHtml\",{})},insertHtmlIntoRange:function(a,b,c){v(this,c||\"html\",a,b);this.editor.fire(\"afterInsertHtml\",\n{intoRange:b})},insertElement:function(a,b){var d=this.editor;d.focus();d.fire(\"saveSnapshot\");var e=d.activeEnterMode,d=d.getSelection(),g=a.getName(),g=CKEDITOR.dtd.$block[g];b||(b=d.getRanges()[0]);this.insertElementIntoRange(a,b)&&(b.moveToPosition(a,CKEDITOR.POSITION_AFTER_END),g&&((g=a.getNext(function(a){return c(a)&&!p(a)}))&&g.type==CKEDITOR.NODE_ELEMENT&&g.is(CKEDITOR.dtd.$block)?g.getDtd()[\"#\"]?b.moveToElementEditStart(g):b.moveToElementEditEnd(a):g||e==CKEDITOR.ENTER_BR||(g=b.fixBlock(!0,\ne==CKEDITOR.ENTER_DIV?\"div\":\"p\"),b.moveToElementEditStart(g))));d.selectRanges([b]);h(this)},insertElementIntoSelection:function(a){this.insertElement(a)},insertElementIntoRange:function(a,b){var c=this.editor,d=c.config.enterMode,e=a.getName(),g=CKEDITOR.dtd.$block[e];if(b.checkReadOnly())return!1;b.deleteContents(1);b.startContainer.type==CKEDITOR.NODE_ELEMENT&&b.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})&&r(b);var f,k;if(g)for(;(f=b.getCommonAncestor(0,1))&&(k=CKEDITOR.dtd[f.getName()])&&\n(!k||!k[e]);)f.getName()in CKEDITOR.dtd.span?b.splitElement(f):b.checkStartOfBlock()&&b.checkEndOfBlock()?(b.setStartBefore(f),b.collapse(!0),f.remove()):b.splitBlock(d==CKEDITOR.ENTER_DIV?\"div\":\"p\",c.editable());b.insertNode(a);return!0},setData:function(a,b){b||(a=this.editor.dataProcessor.toHtml(a));this.setHtml(a);this.fixInitialSelection();\"unloaded\"==this.status&&(this.status=\"ready\");this.editor.fire(\"dataReady\")},getData:function(a){var b=this.getHtml();a||(b=this.editor.dataProcessor.toDataFormat(b));\nreturn b},setReadOnly:function(a){this.setAttribute(\"contenteditable\",!a)},detach:function(){this.removeClass(\"cke_editable\");this.status=\"detached\";var a=this.editor;this._.detach();delete a.document;delete a.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function a(){var b=c.getDocument().$,d=b.getSelection(),e;a:if(d.anchorNode&&d.anchorNode==c.$)e=!0;else{if(CKEDITOR.env.webkit&&(e=c.getDocument().getActive())&&e.equals(c)&&!d.anchorNode){e=\n!0;break a}e=void 0}e&&(e=new CKEDITOR.dom.range(c),e.moveToElementEditStart(c),b=b.createRange(),b.setStart(e.startContainer.$,e.startOffset),b.collapse(!0),d.removeAllRanges(),d.addRange(b))}function b(){var a=c.getDocument().$,d=a.selection,e=c.getDocument().getActive();\"None\"==d.type&&e.equals(c)&&(d=new CKEDITOR.dom.range(c),a=a.body.createTextRange(),d.moveToElementEditStart(c),d=d.startContainer,d.type!=CKEDITOR.NODE_ELEMENT&&(d=d.getParent()),a.moveToElementText(d.$),a.collapse(!0),a.select())}\nvar c=this;if(CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks))this.hasFocus&&(this.focus(),b());else if(this.hasFocus)this.focus(),a();else this.once(\"focus\",function(){a()},null,null,-999)},getHtmlFromRange:function(a){if(a.collapsed)return new CKEDITOR.dom.documentFragment(a.document);a={doc:this.getDocument(),range:a.clone()};u.eol.detect(a,this);u.bogus.exclude(a);u.cell.shrink(a);a.fragment=a.range.cloneContents();u.tree.rebuild(a,this);u.eol.fix(a,this);return new CKEDITOR.dom.documentFragment(a.fragment.$)},\nextractHtmlFromRange:function(a,b){var c=B,d={range:a,doc:a.document},e=this.getHtmlFromRange(a);if(a.collapsed)return a.optimize(),e;a.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.table.detectPurge(d);d.bookmark=a.createBookmark();delete d.range;var g=this.editor.createRange();g.moveToPosition(d.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START);d.targetBookmark=g.createBookmark();c.list.detectMerge(d,this);c.table.detectRanges(d,this);c.block.detectMerge(d,this);d.tableContentsRanges?(c.table.deleteRanges(d),\na.moveToBookmark(d.bookmark),d.range=a):(a.moveToBookmark(d.bookmark),d.range=a,a.extractContents(c.detectExtractMerge(d)));a.moveToBookmark(d.targetBookmark);a.optimize();c.fixUneditableRangePosition(a);c.list.merge(d,this);c.table.purge(d,this);c.block.merge(d,this);if(b){c=a.startPath();if(d=a.checkStartOfBlock()&&a.checkEndOfBlock()&&c.block&&!a.root.equals(c.block)){a:{var d=c.block.getElementsByTag(\"span\"),g=0,f;if(d)for(;f=d.getItem(g++);)if(!n(f)){d=!0;break a}d=!1}d=!d}d&&(a.moveToPosition(c.block,\nCKEDITOR.POSITION_BEFORE_START),c.block.remove())}else c.autoParagraph(this.editor,a),q(a.startContainer)&&a.startContainer.appendBogus();a.startContainer.mergeSiblings();return e},setup:function(){var a=this.editor;this.attachListener(a,\"beforeGetData\",function(){var b=this.getData();this.is(\"textarea\")||!1!==a.config.ignoreEmptyParagraph&&(b=b.replace(t,function(a,b){return b}));a.setData(b,null,1)},this);this.attachListener(a,\"getSnapshot\",function(a){a.data=this.getData(1)},this);this.attachListener(a,\n\"afterSetData\",function(){this.setData(a.getData(1))},this);this.attachListener(a,\"loadSnapshot\",function(a){this.setData(a.data,1)},this);this.attachListener(a,\"beforeFocus\",function(){var b=a.getSelection();(b=b&&b.getNative())&&\"Control\"==b.type||this.focus()},this);this.attachListener(a,\"insertHtml\",function(a){this.insertHtml(a.data.dataValue,a.data.mode,a.data.range)},this);this.attachListener(a,\"insertElement\",function(a){this.insertElement(a.data)},this);this.attachListener(a,\"insertText\",\nfunction(a){this.insertText(a.data)},this);this.setReadOnly(a.readOnly);this.attachClass(\"cke_editable\");a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass(\"cke_editable_inline\"):a.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&a.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass(\"cke_editable_themed\");this.attachClass(\"cke_contents_\"+a.config.contentsLangDirection);a.keystrokeHandler.blockedKeystrokes[8]=+a.readOnly;a.keystrokeHandler.attach(this);this.on(\"blur\",function(){this.hasFocus=\n!1},null,null,-1);this.on(\"focus\",function(){this.hasFocus=!0},null,null,-1);if(CKEDITOR.env.webkit)this.on(\"scroll\",function(){a._.previousScrollTop=a.editable().$.scrollTop},null,null,-1);if(CKEDITOR.env.edge&&14<CKEDITOR.env.version){var d=function(){var b=a.editable();null!=a._.previousScrollTop&&b.getDocument().equals(CKEDITOR.document)&&(b.$.scrollTop=a._.previousScrollTop,a._.previousScrollTop=null,this.removeListener(\"scroll\",d))};this.on(\"scroll\",d)}a.focusManager.add(this);this.equals(CKEDITOR.document.getActive())&&\n(this.hasFocus=!0,a.once(\"contentDom\",function(){a.focusManager.focus(this)},this));this.isInline()&&this.changeAttr(\"tabindex\",a.tabIndex);if(!this.is(\"textarea\")){a.document=this.getDocument();a.window=this.getWindow();var e=a.document;this.changeAttr(\"spellcheck\",!a.config.disableNativeSpellChecker);var f=a.config.contentsLangDirection;this.getDirection(1)!=f&&this.changeAttr(\"dir\",f);var h=CKEDITOR.getCss();if(h){var f=e.getHead(),l=f.getCustomData(\"stylesheet\");l?h!=l.getText()&&(CKEDITOR.env.ie&&\n9>CKEDITOR.env.version?l.$.styleSheet.cssText=h:l.setText(h)):(h=e.appendStyleText(h),h=new CKEDITOR.dom.element(h.ownerNode||h.owningElement),f.setCustomData(\"stylesheet\",h),h.data(\"cke-temp\",1))}f=e.getCustomData(\"stylesheet_ref\")||0;e.setCustomData(\"stylesheet_ref\",f+1);this.setCustomData(\"cke_includeReadonly\",!a.config.disableReadonlyStyling);this.attachListener(this,\"click\",function(a){a=a.data;var b=(new CKEDITOR.dom.elementPath(a.getTarget(),this)).contains(\"a\");b&&2!=a.$.button&&b.isReadOnly()&&\na.preventDefault()});var n={8:1,46:1};this.attachListener(a,\"key\",function(b){if(a.readOnly)return!0;var c=b.data.domEvent.getKey(),d;if(c in n){b=a.getSelection();var e,f=b.getRanges()[0],k=f.startPath(),h,l,w,c=8==c;CKEDITOR.env.ie&&11>CKEDITOR.env.version&&(e=b.getSelectedElement())||(e=m(b))?(a.fire(\"saveSnapshot\"),f.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove(),f.select(),a.fire(\"saveSnapshot\"),d=1):f.collapsed&&((h=k.block)&&(w=h[c?\"getPrevious\":\"getNext\"](g))&&w.type==CKEDITOR.NODE_ELEMENT&&\nw.is(\"table\")&&f[c?\"checkStartOfBlock\":\"checkEndOfBlock\"]()?(a.fire(\"saveSnapshot\"),f[c?\"checkEndOfBlock\":\"checkStartOfBlock\"]()&&h.remove(),f[\"moveToElementEdit\"+(c?\"End\":\"Start\")](w),f.select(),a.fire(\"saveSnapshot\"),d=1):k.blockLimit&&k.blockLimit.is(\"td\")&&(l=k.blockLimit.getAscendant(\"table\"))&&f.checkBoundaryOfElement(l,c?CKEDITOR.START:CKEDITOR.END)&&(w=l[c?\"getPrevious\":\"getNext\"](g))?(a.fire(\"saveSnapshot\"),f[\"moveToElementEdit\"+(c?\"End\":\"Start\")](w),f.checkStartOfBlock()&&f.checkEndOfBlock()?\nw.remove():f.select(),a.fire(\"saveSnapshot\"),d=1):(l=k.contains([\"td\",\"th\",\"caption\"]))&&f.checkBoundaryOfElement(l,c?CKEDITOR.START:CKEDITOR.END)&&(d=1))}return!d});a.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,\"keyup\",function(b){b.data.getKeystroke()in n&&!this.getFirst(c)&&(this.appendBogus(),b=a.createRange(),b.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),b.select())});this.attachListener(this,\"dblclick\",function(b){if(a.readOnly)return!1;b={element:b.data.getTarget()};\na.fire(\"doubleclick\",b)});CKEDITOR.env.ie&&this.attachListener(this,\"click\",b);CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,\"mousedown\",function(b){var c=b.data.getTarget();c.is(\"img\",\"hr\",\"input\",\"textarea\",\"select\")&&!c.isReadOnly()&&(a.getSelection().selectElement(c),c.is(\"input\",\"textarea\",\"select\")&&b.data.preventDefault())});CKEDITOR.env.edge&&this.attachListener(this,\"mouseup\",function(b){(b=b.data.getTarget())&&b.is(\"img\")&&a.getSelection().selectElement(b)});CKEDITOR.env.gecko&&\nthis.attachListener(this,\"mouseup\",function(b){if(2==b.data.$.button&&(b=b.data.getTarget(),!b.getOuterHtml().replace(t,\"\"))){var c=a.createRange();c.moveToElementEditStart(b);c.select(!0)}});CKEDITOR.env.webkit&&(this.attachListener(this,\"click\",function(a){a.data.getTarget().is(\"input\",\"select\")&&a.data.preventDefault()}),this.attachListener(this,\"mouseup\",function(a){a.data.getTarget().is(\"input\",\"textarea\")&&a.data.preventDefault()}));CKEDITOR.env.webkit&&this.attachListener(a,\"key\",function(b){if(a.readOnly)return!0;\nb=b.data.domEvent.getKey();if(b in n){var c=8==b,d=a.getSelection().getRanges()[0];b=d.startPath();if(d.collapsed)a:{var e=b.block;if(e&&d[c?\"checkStartOfBlock\":\"checkEndOfBlock\"]()&&d.moveToClosestEditablePosition(e,!c)&&d.collapsed){if(d.startContainer.type==CKEDITOR.NODE_ELEMENT){var g=d.startContainer.getChild(d.startOffset-(c?1:0));if(g&&g.type==CKEDITOR.NODE_ELEMENT&&g.is(\"hr\")){a.fire(\"saveSnapshot\");g.remove();b=!0;break a}}d=d.startPath().block;if(!d||d&&d.contains(e))b=void 0;else{a.fire(\"saveSnapshot\");\nvar f;(f=(c?d:e).getBogus())&&f.remove();f=a.getSelection();g=f.createBookmarks();(c?e:d).moveChildren(c?d:e,!1);b.lastElement.mergeSiblings();k(e,d,!c);f.selectBookmarks(g);b=!0}}else b=!1}else c=d,f=b.block,d=c.endPath().block,f&&d&&!f.equals(d)?(a.fire(\"saveSnapshot\"),(e=f.getBogus())&&e.remove(),c.enlarge(CKEDITOR.ENLARGE_INLINE),c.deleteContents(),d.getParent()&&(d.moveChildren(f,!1),b.lastElement.mergeSiblings(),k(f,d,!0)),c=a.getSelection().getRanges()[0],c.collapse(1),c.optimize(),\"\"===c.startContainer.getHtml()&&\nc.startContainer.appendBogus(),c.select(),b=!0):b=!1;if(!b)return;a.getSelection().scrollIntoView();a.fire(\"saveSnapshot\");return!1}},this,null,100)}}},_:{detach:function(){this.editor.setData(this.editor.getData(),0,1);this.clearListeners();this.restoreAttrs();var a;if(a=this.removeCustomData(\"classes\"))for(;a.length;)this.removeClass(a.pop());if(!this.is(\"textarea\")){a=this.getDocument();var b=a.getHead();if(b.getCustomData(\"stylesheet\")){var c=a.getCustomData(\"stylesheet_ref\");--c?a.setCustomData(\"stylesheet_ref\",\nc):(a.removeCustomData(\"stylesheet_ref\"),b.removeCustomData(\"stylesheet\").remove())}}this.editor.fire(\"contentDomUnload\");delete this.editor}}});CKEDITOR.editor.prototype.editable=function(a){var b=this._.editable;if(b&&a)return 0;arguments.length&&(b=this._.editable=a?a instanceof CKEDITOR.editable?a:new CKEDITOR.editable(this,a):(b&&b.detach(),null));return b};CKEDITOR.on(\"instanceLoaded\",function(b){var c=b.editor;c.on(\"insertElement\",function(a){a=a.data;a.type==CKEDITOR.NODE_ELEMENT&&(a.is(\"input\")||\na.is(\"textarea\"))&&(\"false\"!=a.getAttribute(\"contentEditable\")&&a.data(\"cke-editable\",a.hasAttribute(\"contenteditable\")?\"true\":\"1\"),a.setAttribute(\"contentEditable\",!1))});c.on(\"selectionChange\",function(b){if(!c.readOnly){var d=c.getSelection();d&&!d.isLocked&&(d=c.checkDirty(),c.fire(\"lockSnapshot\"),a(b),c.fire(\"unlockSnapshot\"),!d&&c.resetDirty())}})});CKEDITOR.on(\"instanceCreated\",function(a){var b=a.editor;b.on(\"mode\",function(){var a=b.editable();if(a&&a.isInline()){var c=b.title;a.changeAttr(\"role\",\n\"textbox\");a.changeAttr(\"aria-label\",c);c&&a.changeAttr(\"title\",c);var d=b.fire(\"ariaEditorHelpLabel\",{}).label;if(d&&(c=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?\"top\":\"contents\"))){var e=CKEDITOR.tools.getNextId(),d=CKEDITOR.dom.element.createFromHtml('\\x3cspan id\\x3d\"'+e+'\" class\\x3d\"cke_voice_label\"\\x3e'+d+\"\\x3c/span\\x3e\");c.append(d);a.changeAttr(\"aria-describedby\",e)}}})});CKEDITOR.addCss(\".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}\");\ng=CKEDITOR.dom.walker.whitespaces(!0);n=CKEDITOR.dom.walker.bookmark(!1,!0);q=CKEDITOR.dom.walker.empty();p=CKEDITOR.dom.walker.bogus();t=/(^|<body\\b[^>]*>)\\s*<(p|div|address|h\\d|center|pre)[^>]*>\\s*(?:<br[^>]*>|&nbsp;|\\u00A0|&#160;)?\\s*(:?<\\/\\2>)?\\s*(?=$|<\\/body>)/gi;v=function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT}function b(c,d){var e,g,f,k,h=[],l=d.range.startContainer;e=d.range.startPath();for(var l=m[l.getName()],n=0,u=c.getChildren(),r=u.count(),z=-1,t=-1,p=0,v=e.contains(m.$list);n<\nr;++n)e=u.getItem(n),a(e)?(f=e.getName(),v&&f in CKEDITOR.dtd.$list?h=h.concat(b(e,d)):(k=!!l[f],\"br\"!=f||!e.data(\"cke-eol\")||n&&n!=r-1||(p=(g=n?h[n-1].node:u.getItem(n+1))&&(!a(g)||!g.is(\"br\")),g=g&&a(g)&&m.$block[g.getName()]),-1!=z||k||(z=n),k||(t=n),h.push({isElement:1,isLineBreak:p,isBlock:e.isBlockBoundary(),hasBlockSibling:g,node:e,name:f,allowed:k}),g=p=0)):h.push({isElement:0,node:e,allowed:1});-1<z&&(h[z].firstNotAllowed=1);-1<t&&(h[t].lastNotAllowed=1);return h}function e(b,c){var d=[],\ng=b.getChildren(),f=g.count(),k,h=0,l=m[c],n=!b.is(m.$inline)||b.is(\"br\");for(n&&d.push(\" \");h<f;h++)k=g.getItem(h),a(k)&&!k.is(l)?d=d.concat(e(k,c)):d.push(k);n&&d.push(\" \");return d}function g(b){return a(b.startContainer)&&b.startContainer.getChild(b.startOffset-1)}function f(b){return b&&a(b)&&(b.is(m.$removeEmpty)||b.is(\"a\")&&!b.isBlockBoundary())}function k(b,c,d,e){var g=b.clone(),f,h;g.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);(f=(new CKEDITOR.dom.walker(g)).next())&&a(f)&&n[f.getName()]&&\n(h=f.getPrevious())&&a(h)&&!h.getParent().equals(b.startContainer)&&d.contains(h)&&e.contains(f)&&f.isIdentical(h)&&(f.moveChildren(h),f.remove(),k(b,c,d,e))}function h(b,c){function d(b,c){if(c.isBlock&&c.isElement&&!c.node.is(\"br\")&&a(b)&&b.is(\"br\"))return b.remove(),1}var e=c.endContainer.getChild(c.endOffset),g=c.endContainer.getChild(c.endOffset-1);e&&d(e,b[b.length-1]);g&&d(g,b[0])&&(c.setEnd(c.endContainer,c.endOffset-1),c.collapse())}var m=CKEDITOR.dtd,n={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,\nh6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},u={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},r=CKEDITOR.tools.extend({},m.$inline);delete r.br;return function(n,t,H,p){var v=n.editor,B=!1;\"unfiltered_html\"==t&&(t=\"html\",B=!0);if(!p.checkReadOnly()){var q=(new CKEDITOR.dom.elementPath(p.startContainer,p.root)).blockLimit||p.root;n={type:t,dontFilter:B,editable:n,editor:v,range:p,blockLimit:q,mergeCandidates:[],zombies:[]};t=n.range;p=n.mergeCandidates;var K,E;\"text\"==n.type&&t.shrink(CKEDITOR.SHRINK_ELEMENT,\n!0,!1)&&(K=CKEDITOR.dom.element.createFromHtml(\"\\x3cspan\\x3e\\x26nbsp;\\x3c/span\\x3e\",t.document),t.insertNode(K),t.setStartAfter(K));B=new CKEDITOR.dom.elementPath(t.startContainer);n.endPath=q=new CKEDITOR.dom.elementPath(t.endContainer);if(!t.collapsed){var v=q.block||q.blockLimit,W=t.getCommonAncestor();v&&!v.equals(W)&&!v.contains(W)&&t.checkEndOfBlock()&&n.zombies.push(v);t.deleteContents()}for(;(E=g(t))&&a(E)&&E.isBlockBoundary()&&B.contains(E);)t.moveToPosition(E,CKEDITOR.POSITION_BEFORE_END);\nk(t,n.blockLimit,B,q);K&&(t.setEndBefore(K),t.collapse(),K.remove());K=t.startPath();if(v=K.contains(f,!1,1))t.splitElement(v),n.inlineStylesRoot=v,n.inlineStylesPeak=K.lastElement;K=t.createBookmark();(v=K.startNode.getPrevious(c))&&a(v)&&f(v)&&p.push(v);(v=K.startNode.getNext(c))&&a(v)&&f(v)&&p.push(v);for(v=K.startNode;(v=v.getParent())&&f(v);)p.push(v);t.moveToBookmark(K);if(K=H){K=n.range;if(\"text\"==n.type&&n.inlineStylesRoot){E=n.inlineStylesPeak;t=E.getDocument().createText(\"{cke-peak}\");for(p=\nn.inlineStylesRoot.getParent();!E.equals(p);)t=t.appendTo(E.clone()),E=E.getParent();H=t.getOuterHtml().split(\"{cke-peak}\").join(H)}E=n.blockLimit.getName();if(/^\\s+|\\s+$/.test(H)&&\"span\"in CKEDITOR.dtd[E]){var U='\\x3cspan data-cke-marker\\x3d\"1\"\\x3e\\x26nbsp;\\x3c/span\\x3e';H=U+H+U}H=n.editor.dataProcessor.toHtml(H,{context:null,fixForBody:!1,protectedWhitespaces:!!U,dontFilter:n.dontFilter,filter:n.editor.activeFilter,enterMode:n.editor.activeEnterMode});E=K.document.createElement(\"body\");E.setHtml(H);\nU&&(E.getFirst().remove(),E.getLast().remove());if((U=K.startPath().block)&&(1!=U.getChildCount()||!U.getBogus()))a:{var L;if(1==E.getChildCount()&&a(L=E.getFirst())&&L.is(u)&&!L.hasAttribute(\"contenteditable\")){U=L.getElementsByTag(\"*\");K=0;for(p=U.count();K<p;K++)if(t=U.getItem(K),!t.is(r))break a;L.moveChildren(L.getParent(1));L.remove()}}n.dataWrapper=E;K=H}if(K){L=n.range;K=L.document;var N;E=n.blockLimit;p=0;var S,U=[],Q,Y;H=v=0;var V,da;t=L.startContainer;var B=n.endPath.elements[0],Z,q=B.getPosition(t),\nW=!!B.getCommonAncestor(t)&&q!=CKEDITOR.POSITION_IDENTICAL&&!(q&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);t=b(n.dataWrapper,n);for(h(t,L);p<t.length;p++){q=t[p];if(N=q.isLineBreak){N=L;V=E;var X=void 0,fa=void 0;q.hasBlockSibling?N=1:(X=N.startContainer.getAscendant(m.$block,1))&&X.is({div:1,p:1})?(fa=X.getPosition(V),fa==CKEDITOR.POSITION_IDENTICAL||fa==CKEDITOR.POSITION_CONTAINS?N=0:(V=N.splitElement(X),N.moveToPosition(V,CKEDITOR.POSITION_AFTER_START),N=1)):N=0}if(N)H=0<p;else{N=\nL.startPath();!q.isBlock&&l(n.editor,N.block,N.blockLimit)&&(Y=d(n.editor))&&(Y=K.createElement(Y),Y.appendBogus(),L.insertNode(Y),CKEDITOR.env.needsBrFiller&&(S=Y.getBogus())&&S.remove(),L.moveToPosition(Y,CKEDITOR.POSITION_BEFORE_END));if((N=L.startPath().block)&&!N.equals(Q)){if(S=N.getBogus())S.remove(),U.push(N);Q=N}q.firstNotAllowed&&(v=1);if(v&&q.isElement){N=L.startContainer;for(V=null;N&&!m[N.getName()][q.name];){if(N.equals(E)){N=null;break}V=N;N=N.getParent()}if(N)V&&(da=L.splitElement(V),\nn.zombies.push(da),n.zombies.push(V));else{V=E.getName();Z=!p;N=p==t.length-1;V=e(q.node,V);for(var X=[],fa=V.length,ba=0,ea=void 0,ga=0,ha=-1;ba<fa;ba++)ea=V[ba],\" \"==ea?(ga||Z&&!ba||(X.push(new CKEDITOR.dom.text(\" \")),ha=X.length),ga=1):(X.push(ea),ga=0);N&&ha==X.length&&X.pop();Z=X}}if(Z){for(;N=Z.pop();)L.insertNode(N);Z=0}else L.insertNode(q.node);q.lastNotAllowed&&p<t.length-1&&((da=W?B:da)&&L.setEndAt(da,CKEDITOR.POSITION_AFTER_START),v=0);L.collapse()}}1!=t.length?S=!1:(S=t[0],S=S.isElement&&\n\"false\"==S.node.getAttribute(\"contenteditable\"));S&&(H=!0,N=t[0].node,L.setStartAt(N,CKEDITOR.POSITION_BEFORE_START),L.setEndAt(N,CKEDITOR.POSITION_AFTER_END));n.dontMoveCaret=H;n.bogusNeededBlocks=U}S=n.range;var aa;da=n.bogusNeededBlocks;for(Z=S.createBookmark();Q=n.zombies.pop();)Q.getParent()&&(Y=S.clone(),Y.moveToElementEditStart(Q),Y.removeEmptyBlocksAtEnd());if(da)for(;Q=da.pop();)CKEDITOR.env.needsBrFiller?Q.appendBogus():Q.append(S.document.createText(\" \"));for(;Q=n.mergeCandidates.pop();)Q.mergeSiblings();\nS.moveToBookmark(Z);if(!n.dontMoveCaret){for(Q=g(S);Q&&a(Q)&&!Q.is(m.$empty);){if(Q.isBlockBoundary())S.moveToPosition(Q,CKEDITOR.POSITION_BEFORE_END);else{if(f(Q)&&Q.getHtml().match(/(\\s|&nbsp;)$/g)){aa=null;break}aa=S.clone();aa.moveToPosition(Q,CKEDITOR.POSITION_BEFORE_END)}Q=Q.getLast(c)}aa&&S.moveToRange(aa)}}}}();r=function(){function a(b){b=new CKEDITOR.dom.walker(b);b.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$tableContent)};b.evaluator=function(a){return a.type==\nCKEDITOR.NODE_ELEMENT};return b}function b(a,c,d){c=a.getDocument().createElement(c);a.append(c,d);return c}function c(a){var b=a.count(),d;for(b;0<b--;)d=a.getItem(b),CKEDITOR.tools.trim(d.getHtml())||(d.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&d.getChildCount()&&d.getFirst().remove())}return function(d){var e=d.startContainer,g=e.getAscendant(\"table\",1),f=!1;c(g.getElementsByTag(\"td\"));c(g.getElementsByTag(\"th\"));g=d.clone();g.setStart(e,0);g=a(g).lastBackward();g||(g=d.clone(),g.setEndAt(e,\nCKEDITOR.POSITION_BEFORE_END),g=a(g).lastForward(),f=!0);g||(g=e);g.is(\"table\")?(d.setStartAt(g,CKEDITOR.POSITION_BEFORE_START),d.collapse(!0),g.remove()):(g.is({tbody:1,thead:1,tfoot:1})&&(g=b(g,\"tr\",f)),g.is(\"tr\")&&(g=b(g,g.getParent().is(\"thead\")?\"th\":\"td\",f)),(e=g.getBogus())&&e.remove(),d.moveToPosition(g,f?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}();u={eol:{detect:function(a,b){var c=a.range,d=c.clone(),e=c.clone(),g=new CKEDITOR.dom.elementPath(c.startContainer,b),f=new CKEDITOR.dom.elementPath(c.endContainer,\nb);d.collapse(1);e.collapse();g.block&&d.checkBoundaryOfElement(g.block,CKEDITOR.END)&&(c.setStartAfter(g.block),a.prependEolBr=1);f.block&&e.checkBoundaryOfElement(f.block,CKEDITOR.START)&&(c.setEndBefore(f.block),a.appendEolBr=1)},fix:function(a,b){var c=b.getDocument(),d;a.appendEolBr&&(d=this.createEolBr(c),a.fragment.append(d));!a.prependEolBr||d&&!d.getPrevious()||a.fragment.append(this.createEolBr(c),1)},createEolBr:function(a){return a.createElement(\"br\",{attributes:{\"data-cke-eol\":1}})}},\nbogus:{exclude:function(a){var b=a.range.getBoundaryNodes(),c=b.startNode,b=b.endNode;!b||!p(b)||c&&c.equals(b)||a.range.setEndBefore(b)}},tree:{rebuild:function(a,b){var c=a.range,d=c.getCommonAncestor(),e=new CKEDITOR.dom.elementPath(d,b),g=new CKEDITOR.dom.elementPath(c.startContainer,b),c=new CKEDITOR.dom.elementPath(c.endContainer,b),f;d.type==CKEDITOR.NODE_TEXT&&(d=d.getParent());if(e.blockLimit.is({tr:1,table:1})){var k=e.contains(\"table\").getParent();f=function(a){return!a.equals(k)}}else if(e.block&&\ne.block.is(CKEDITOR.dtd.$listItem)&&(g=g.contains(CKEDITOR.dtd.$list),c=c.contains(CKEDITOR.dtd.$list),!g.equals(c))){var h=e.contains(CKEDITOR.dtd.$list).getParent();f=function(a){return!a.equals(h)}}f||(f=function(a){return!a.equals(e.block)&&!a.equals(e.blockLimit)});this.rebuildFragment(a,b,d,f)},rebuildFragment:function(a,b,c,d){for(var e;c&&!c.equals(b)&&d(c);)e=c.clone(0,1),a.fragment.appendTo(e),a.fragment=e,c=c.getParent()}},cell:{shrink:function(a){a=a.range;var b=a.startContainer,c=a.endContainer,\nd=a.startOffset,e=a.endOffset;b.type==CKEDITOR.NODE_ELEMENT&&b.equals(c)&&b.is(\"tr\")&&++d==e&&a.shrink(CKEDITOR.SHRINK_TEXT)}}};B=function(){function a(b,c){var d=b.getParent();if(d.is(CKEDITOR.dtd.$inline))b[c?\"insertBefore\":\"insertAfter\"](d)}function b(c,d,e){a(d);a(e,1);for(var g;g=e.getNext();)g.insertAfter(d),d=g;q(c)&&c.remove()}function c(a,b){var d=new CKEDITOR.dom.range(a);d.setStartAfter(b.startNode);d.setEndBefore(b.endNode);return d}return{list:{detectMerge:function(a,b){var d=c(b,a.bookmark),\ne=d.startPath(),g=d.endPath(),f=e.contains(CKEDITOR.dtd.$list),k=g.contains(CKEDITOR.dtd.$list);a.mergeList=f&&k&&f.getParent().equals(k.getParent())&&!f.equals(k);a.mergeListItems=e.block&&g.block&&e.block.is(CKEDITOR.dtd.$listItem)&&g.block.is(CKEDITOR.dtd.$listItem);if(a.mergeList||a.mergeListItems)d=d.clone(),d.setStartBefore(a.bookmark.startNode),d.setEndAfter(a.bookmark.endNode),a.mergeListBookmark=d.createBookmark()},merge:function(a,c){if(a.mergeListBookmark){var d=a.mergeListBookmark.startNode,\ne=a.mergeListBookmark.endNode,g=new CKEDITOR.dom.elementPath(d,c),f=new CKEDITOR.dom.elementPath(e,c);if(a.mergeList){var k=g.contains(CKEDITOR.dtd.$list),h=f.contains(CKEDITOR.dtd.$list);k.equals(h)||(h.moveChildren(k),h.remove())}a.mergeListItems&&(g=g.contains(CKEDITOR.dtd.$listItem),f=f.contains(CKEDITOR.dtd.$listItem),g.equals(f)||b(f,d,e));d.remove();e.remove()}}},block:{detectMerge:function(a,b){if(!a.tableContentsRanges&&!a.mergeListBookmark){var c=new CKEDITOR.dom.range(b);c.setStartBefore(a.bookmark.startNode);\nc.setEndAfter(a.bookmark.endNode);a.mergeBlockBookmark=c.createBookmark()}},merge:function(a,c){if(a.mergeBlockBookmark&&!a.purgeTableBookmark){var d=a.mergeBlockBookmark.startNode,e=a.mergeBlockBookmark.endNode,g=new CKEDITOR.dom.elementPath(d,c),f=new CKEDITOR.dom.elementPath(e,c),g=g.block,f=f.block;g&&f&&!g.equals(f)&&b(f,d,e);d.remove();e.remove()}}},table:function(){function a(c){var e=[],g,f=new CKEDITOR.dom.walker(c),k=c.startPath().contains(d),h=c.endPath().contains(d),l={};f.guard=function(a,\nf){if(a.type==CKEDITOR.NODE_ELEMENT){var m=\"visited_\"+(f?\"out\":\"in\");if(a.getCustomData(m))return;CKEDITOR.dom.element.setMarker(l,a,m,1)}if(f&&k&&a.equals(k))g=c.clone(),g.setEndAt(k,CKEDITOR.POSITION_BEFORE_END),e.push(g);else if(!f&&h&&a.equals(h))g=c.clone(),g.setStartAt(h,CKEDITOR.POSITION_AFTER_START),e.push(g);else{if(m=!f)m=a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&(!k||b(a,k))&&(!h||b(a,h));m&&(g=c.clone(),g.selectNodeContents(a),e.push(g))}};f.lastForward();CKEDITOR.dom.element.clearAllMarkers(l);\nreturn e}function b(a,c){var d=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,e=a.getPosition(c);return e===CKEDITOR.POSITION_IDENTICAL?!1:0===(e&d)}var d={td:1,th:1,caption:1};return{detectPurge:function(a){var b=a.range,c=b.clone();c.enlarge(CKEDITOR.ENLARGE_ELEMENT);var c=new CKEDITOR.dom.walker(c),e=0;c.evaluator=function(a){a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&++e};c.checkForward();if(1<e){var c=b.startPath().contains(\"table\"),g=b.endPath().contains(\"table\");c&&g&&b.checkBoundaryOfElement(c,\nCKEDITOR.START)&&b.checkBoundaryOfElement(g,CKEDITOR.END)&&(b=a.range.clone(),b.setStartBefore(c),b.setEndAfter(g),a.purgeTableBookmark=b.createBookmark())}},detectRanges:function(e,g){var f=c(g,e.bookmark),k=f.clone(),h,l,m=f.getCommonAncestor();m.is(CKEDITOR.dtd.$tableContent)&&!m.is(d)&&(m=m.getAscendant(\"table\",!0));l=m;m=new CKEDITOR.dom.elementPath(f.startContainer,l);l=new CKEDITOR.dom.elementPath(f.endContainer,l);m=m.contains(\"table\");l=l.contains(\"table\");if(m||l)m&&l&&b(m,l)?(e.tableSurroundingRange=\nk,k.setStartAt(m,CKEDITOR.POSITION_AFTER_END),k.setEndAt(l,CKEDITOR.POSITION_BEFORE_START),k=f.clone(),k.setEndAt(m,CKEDITOR.POSITION_AFTER_END),h=f.clone(),h.setStartAt(l,CKEDITOR.POSITION_BEFORE_START),h=a(k).concat(a(h))):m?l||(e.tableSurroundingRange=k,k.setStartAt(m,CKEDITOR.POSITION_AFTER_END),f.setEndAt(m,CKEDITOR.POSITION_AFTER_END)):(e.tableSurroundingRange=k,k.setEndAt(l,CKEDITOR.POSITION_BEFORE_START),f.setStartAt(l,CKEDITOR.POSITION_AFTER_START)),e.tableContentsRanges=h?h:a(f)},deleteRanges:function(a){for(var b;b=\na.tableContentsRanges.pop();)b.extractContents(),q(b.startContainer)&&b.startContainer.appendBogus();a.tableSurroundingRange&&a.tableSurroundingRange.extractContents()},purge:function(a){if(a.purgeTableBookmark){var b=a.doc,c=a.range.clone(),b=b.createElement(\"p\");b.insertBefore(a.purgeTableBookmark.startNode);c.moveToBookmark(a.purgeTableBookmark);c.deleteContents();a.range.moveToPosition(b,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(a){return!(a.range.startPath().contains(CKEDITOR.dtd.$listItem)&&\na.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(a){a.startContainer.getDtd()[\"#\"]||a.moveToClosestEditablePosition(null,!0)},autoParagraph:function(a,b){var c=b.startPath(),e;l(a,c.block,c.blockLimit)&&(e=d(a))&&(e=b.document.createElement(e),e.appendBogus(),b.insertNode(e),b.moveToPosition(e,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function a(){var a=this._.fakeSelection,b;a&&(b=this.getSelection(1),b&&b.isHidden()||(a.reset(),a=0));if(!a&&(a=b||\nthis.getSelection(1),!a||a.getType()==CKEDITOR.SELECTION_NONE))return;this.fire(\"selectionCheck\",a);b=this.elementPath();if(!b.compare(this._.selectionPreviousPath)){var c=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(b.blockLimit);CKEDITOR.env.webkit&&!c&&(this._.previousActive=this.document.getActive());this._.selectionPreviousPath=b;this.fire(\"selectionChange\",{selection:a,path:b})}}function f(){r=!0;v||(b.call(this),v=CKEDITOR.tools.setTimeout(b,200,this))}function b(){v=\nnull;r&&(CKEDITOR.tools.setTimeout(a,0,this),r=!1)}function c(a){return u(a)||a.type==CKEDITOR.NODE_ELEMENT&&!a.is(CKEDITOR.dtd.$empty)?!0:!1}function e(a){function b(c,d){return c&&c.type!=CKEDITOR.NODE_TEXT?a.clone()[\"moveToElementEdit\"+(d?\"End\":\"Start\")](c):!1}if(!(a.root instanceof CKEDITOR.editable))return!1;var d=a.startContainer,e=a.getPreviousNode(c,null,d),g=a.getNextNode(c,null,d);return b(e)||b(g,1)||!(e||g||d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()&&d.getBogus())?!0:!1}function m(a){l(a,\n!1);var b=a.getDocument().createText(p);a.setCustomData(\"cke-fillingChar\",b);return b}function l(a,b){var c=a&&a.removeCustomData(\"cke-fillingChar\");if(c){if(!1!==b){var e=a.getDocument().getSelection().getNative(),g=e&&\"None\"!=e.type&&e.getRangeAt(0),f=p.length;if(c.getLength()>f&&g&&g.intersectsNode(c.$)){var k=[{node:e.anchorNode,offset:e.anchorOffset},{node:e.focusNode,offset:e.focusOffset}];e.anchorNode==c.$&&e.anchorOffset>f&&(k[0].offset-=f);e.focusNode==c.$&&e.focusOffset>f&&(k[1].offset-=\nf)}}c.setText(d(c.getText(),1));k&&(c=a.getDocument().$,e=c.getSelection(),c=c.createRange(),c.setStart(k[0].node,k[0].offset),c.collapse(!0),e.removeAllRanges(),e.addRange(c),e.extend(k[1].node,k[1].offset))}}function d(a,b){return b?a.replace(t,function(a,b){return b?\" \":\"\"}):a.replace(p,\"\")}function h(a,b){var c=CKEDITOR.dom.element.createFromHtml('\\x3cdiv data-cke-hidden-sel\\x3d\"1\" data-cke-temp\\x3d\"1\" style\\x3d\"'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?\"display:none\":\"position:fixed;top:0;left:-1000px\")+\n'\"\\x3e'+(b||\"\\x26nbsp;\")+\"\\x3c/div\\x3e\",a.document);a.fire(\"lockSnapshot\");a.editable().append(c);var d=a.getSelection(1),e=a.createRange(),g=d.root.on(\"selectionchange\",function(a){a.cancel()},null,null,0);e.setStartAt(c,CKEDITOR.POSITION_AFTER_START);e.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);d.selectRanges([e]);g.removeListener();a.fire(\"unlockSnapshot\");a._.hiddenSelectionContainer=c}function k(a){var b={37:1,39:1,8:1,46:1};return function(c){var d=c.data.getKeystroke();if(b[d]){var e=a.getSelection().getRanges(),\ng=e[0];1==e.length&&g.collapsed&&(d=g[38>d?\"getPreviousEditableNode\":\"getNextEditableNode\"]())&&d.type==CKEDITOR.NODE_ELEMENT&&\"false\"==d.getAttribute(\"contenteditable\")&&(a.getSelection().fake(d),c.data.preventDefault(),c.cancel())}}}function g(a){for(var b=0;b<a.length;b++){var c=a[b];c.getCommonAncestor().isReadOnly()&&a.splice(b,1);if(!c.collapsed){if(c.startContainer.isReadOnly())for(var d=c.startContainer,e;d&&!((e=d.type==CKEDITOR.NODE_ELEMENT)&&d.is(\"body\")||!d.isReadOnly());)e&&\"false\"==\nd.getAttribute(\"contentEditable\")&&c.setStartAfter(d),d=d.getParent();d=c.startContainer;e=c.endContainer;var g=c.startOffset,f=c.endOffset,k=c.clone();d&&d.type==CKEDITOR.NODE_TEXT&&(g>=d.getLength()?k.setStartAfter(d):k.setStartBefore(d));e&&e.type==CKEDITOR.NODE_TEXT&&(f?k.setEndAfter(e):k.setEndBefore(e));d=new CKEDITOR.dom.walker(k);d.evaluator=function(d){if(d.type==CKEDITOR.NODE_ELEMENT&&d.isReadOnly()){var e=c.clone();c.setEndBefore(d);c.collapsed&&a.splice(b--,1);d.getPosition(k.endContainer)&\nCKEDITOR.POSITION_CONTAINS||(e.setStartAfter(d),e.collapsed||a.splice(b+1,0,e));return!0}return!1};d.next()}}return a}var n=\"function\"!=typeof window.getSelection,q=1,p=CKEDITOR.tools.repeat(\"​\",7),t=new RegExp(p+\"( )?\",\"g\"),v,r,u=CKEDITOR.dom.walker.invisible(1),B=function(){function a(b){return function(a){var c=a.editor.createRange();c.moveToClosestEditablePosition(a.selected,b)&&a.editor.getSelection().selectRanges([c]);return!1}}function b(a){return function(b){var c=b.editor,d=c.createRange(),\ne;(e=d.moveToClosestEditablePosition(b.selected,a))||(e=d.moveToClosestEditablePosition(b.selected,!a));e&&c.getSelection().selectRanges([d]);c.fire(\"saveSnapshot\");b.selected.remove();e||(d.moveToElementEditablePosition(c.editable()),c.getSelection().selectRanges([d]));c.fire(\"saveSnapshot\");return!1}}var c=a(),d=a(1);return{37:c,38:c,39:d,40:d,8:b(),46:b(1)}}();CKEDITOR.on(\"instanceCreated\",function(b){function c(){var a=d.getSelection();a&&a.removeAllRanges()}var d=b.editor;d.on(\"contentDom\",function(){function b(){r=\nnew CKEDITOR.dom.selection(d.getSelection());r.lock()}function c(){g.removeListener(\"mouseup\",c);u.removeListener(\"mouseup\",c);var a=CKEDITOR.document.$.selection,b=a.createRange();\"None\"!=a.type&&b.parentElement().ownerDocument==e.$&&b.select()}var e=d.document,g=CKEDITOR.document,h=d.editable(),m=e.getBody(),u=e.getDocumentElement(),w=h.isInline(),t,r;CKEDITOR.env.gecko&&h.attachListener(h,\"focus\",function(a){a.removeListener();0!==t&&(a=d.getSelection().getNative())&&a.isCollapsed&&a.anchorNode==\nh.$&&(a=d.createRange(),a.moveToElementEditStart(h),a.select())},null,null,-2);h.attachListener(h,CKEDITOR.env.webkit?\"DOMFocusIn\":\"focus\",function(){t&&CKEDITOR.env.webkit&&(t=d._.previousActive&&d._.previousActive.equals(e.getActive()))&&null!=d._.previousScrollTop&&d._.previousScrollTop!=h.$.scrollTop&&(h.$.scrollTop=d._.previousScrollTop);d.unlockSelection(t);t=0},null,null,-1);h.attachListener(h,\"mousedown\",function(){t=0});if(CKEDITOR.env.ie||w)n?h.attachListener(h,\"beforedeactivate\",b,null,\nnull,-1):h.attachListener(d,\"selectionCheck\",b,null,null,-1),h.attachListener(h,CKEDITOR.env.webkit?\"DOMFocusOut\":\"blur\",function(){d.lockSelection(r);t=1},null,null,-1),h.attachListener(h,\"mousedown\",function(){t=0});if(CKEDITOR.env.ie&&!w){var p;h.attachListener(h,\"mousedown\",function(a){2==a.data.$.button&&((a=d.document.getSelection())&&a.getType()!=CKEDITOR.SELECTION_NONE||(p=d.window.getScrollPosition()))});h.attachListener(h,\"mouseup\",function(a){2==a.data.$.button&&p&&(d.document.$.documentElement.scrollLeft=\np.x,d.document.$.documentElement.scrollTop=p.y);p=null});if(\"BackCompat\"!=e.$.compatMode){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat){var v,z;u.on(\"mousedown\",function(a){function b(a){a=a.data.$;if(v){var c=m.$.createTextRange();try{c.moveToPoint(a.clientX,a.clientY)}catch(d){}v.setEndPoint(0>z.compareEndPoints(\"StartToStart\",c)?\"EndToEnd\":\"StartToStart\",c);v.select()}}function c(){u.removeListener(\"mousemove\",b);g.removeListener(\"mouseup\",c);u.removeListener(\"mouseup\",c);v.select()}a=a.data;\nif(a.getTarget().is(\"html\")&&a.$.y<u.$.clientHeight&&a.$.x<u.$.clientWidth){v=m.$.createTextRange();try{v.moveToPoint(a.$.clientX,a.$.clientY)}catch(d){}z=v.duplicate();u.on(\"mousemove\",b);g.on(\"mouseup\",c);u.on(\"mouseup\",c)}})}if(7<CKEDITOR.env.version&&11>CKEDITOR.env.version)u.on(\"mousedown\",function(a){a.data.getTarget().is(\"html\")&&(g.on(\"mouseup\",c),u.on(\"mouseup\",c))})}}h.attachListener(h,\"selectionchange\",a,d);h.attachListener(h,\"keyup\",f,d);h.attachListener(h,CKEDITOR.env.webkit?\"DOMFocusIn\":\n\"focus\",function(){d.forceNextSelectionCheck();d.selectionChange(1)});if(w&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var q;h.attachListener(h,\"mousedown\",function(){q=1});h.attachListener(e.getDocumentElement(),\"mouseup\",function(){q&&f.call(d);q=0})}else h.attachListener(CKEDITOR.env.ie?h:e.getDocumentElement(),\"mouseup\",f,d);CKEDITOR.env.webkit&&h.attachListener(e,\"keydown\",function(a){switch(a.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:l(h)}},\nnull,null,-1);h.attachListener(h,\"keydown\",k(d),null,null,-1)});d.on(\"setData\",function(){d.unlockSelection();CKEDITOR.env.webkit&&c()});d.on(\"contentDomUnload\",function(){d.unlockSelection()});if(CKEDITOR.env.ie9Compat)d.on(\"beforeDestroy\",c,null,null,9);d.on(\"dataReady\",function(){delete d._.fakeSelection;delete d._.hiddenSelectionContainer;d.selectionChange(1)});d.on(\"loadSnapshot\",function(){var a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),b=d.editable().getLast(a);b&&b.hasAttribute(\"data-cke-hidden-sel\")&&\n(b.remove(),CKEDITOR.env.gecko&&(a=d.editable().getFirst(a))&&a.is(\"br\")&&a.getAttribute(\"_moz_editor_bogus_node\")&&a.remove())},null,null,100);d.on(\"key\",function(a){if(\"wysiwyg\"==d.mode){var b=d.getSelection();if(b.isFake){var c=B[a.data.keyCode];if(c)return c({editor:d,selected:b.getSelectedElement(),selection:b,keyEvent:a})}}})});if(CKEDITOR.env.webkit)CKEDITOR.on(\"instanceReady\",function(a){var b=a.editor;b.on(\"selectionChange\",function(){var a=b.editable(),c=a.getCustomData(\"cke-fillingChar\");\nc&&(c.getCustomData(\"ready\")?l(a):c.setCustomData(\"ready\",1))},null,null,-1);b.on(\"beforeSetMode\",function(){l(b.editable())},null,null,-1);b.on(\"getSnapshot\",function(a){a.data&&(a.data=d(a.data))},b,null,20);b.on(\"toDataFormat\",function(a){a.data.dataValue=d(a.data.dataValue)},null,null,0)});CKEDITOR.editor.prototype.selectionChange=function(b){(b?a:f).call(this)};CKEDITOR.editor.prototype.getSelection=function(a){return!this._.savedSelection&&!this._.fakeSelection||a?(a=this.editable())&&\"wysiwyg\"==\nthis.mode?new CKEDITOR.dom.selection(a):null:this._.savedSelection||this._.fakeSelection};CKEDITOR.editor.prototype.lockSelection=function(a){a=a||this.getSelection(1);return a.getType()!=CKEDITOR.SELECTION_NONE?(!a.isLocked&&a.lock(),this._.savedSelection=a,!0):!1};CKEDITOR.editor.prototype.unlockSelection=function(a){var b=this._.savedSelection;return b?(b.unlock(a),delete this._.savedSelection,!0):!1};CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};\nCKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)};CKEDITOR.dom.range.prototype.select=function(){var a=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);a.selectRanges([this]);return a};CKEDITOR.SELECTION_NONE=1;CKEDITOR.SELECTION_TEXT=2;CKEDITOR.SELECTION_ELEMENT=3;CKEDITOR.dom.selection=function(a){if(a instanceof CKEDITOR.dom.selection){var b=a;a=a.root}var c=a instanceof CKEDITOR.dom.element;\nthis.rev=b?b.rev:q++;this.document=a instanceof CKEDITOR.dom.document?a:a.getDocument();this.root=c?a:this.document.getBody();this.isLocked=0;this._={cache:{}};if(b)return CKEDITOR.tools.extend(this._.cache,b._.cache),this.isFake=b.isFake,this.isLocked=b.isLocked,this;a=this.getNative();var d,e;if(a)if(a.getRangeAt)d=(e=a.rangeCount&&a.getRangeAt(0))&&new CKEDITOR.dom.node(e.commonAncestorContainer);else{try{e=a.createRange()}catch(g){}d=e&&CKEDITOR.dom.element.get(e.item&&e.item(0)||e.parentElement())}if(!d||\nd.type!=CKEDITOR.NODE_ELEMENT&&d.type!=CKEDITOR.NODE_TEXT||!this.root.equals(d)&&!this.root.contains(d))this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText=\"\",this._.cache.ranges=new CKEDITOR.dom.rangeList;return this};var x={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:d,\n_createFillingCharSequenceNode:m,FILLING_CHAR_SEQUENCE:p});CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=n?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:n?function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_NONE;try{var c=this.getNative(),d=c.type;\"Text\"==d&&(b=CKEDITOR.SELECTION_TEXT);\"Control\"==d&&(b=CKEDITOR.SELECTION_ELEMENT);c.createRange().parentElement()&&\n(b=CKEDITOR.SELECTION_TEXT)}catch(e){}return a.type=b}:function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_TEXT,c=this.getNative();if(!c||!c.rangeCount)b=CKEDITOR.SELECTION_NONE;else if(1==c.rangeCount){var c=c.getRangeAt(0),d=c.startContainer;d==c.endContainer&&1==d.nodeType&&1==c.endOffset-c.startOffset&&x[d.childNodes[c.startOffset].nodeName.toLowerCase()]&&(b=CKEDITOR.SELECTION_ELEMENT)}return a.type=b},getRanges:function(){var a=n?function(){function a(b){return(new CKEDITOR.dom.node(b)).getIndex()}\nvar b=function(b,c){b=b.duplicate();b.collapse(c);var d=b.parentElement();if(!d.hasChildNodes())return{container:d,offset:0};for(var e=d.children,g,f,k=b.duplicate(),h=0,l=e.length-1,m=-1,n,u;h<=l;)if(m=Math.floor((h+l)/2),g=e[m],k.moveToElementText(g),n=k.compareEndPoints(\"StartToStart\",b),0<n)l=m-1;else if(0>n)h=m+1;else return{container:d,offset:a(g)};if(-1==m||m==e.length-1&&0>n){k.moveToElementText(d);k.setEndPoint(\"StartToStart\",b);k=k.text.replace(/(\\r\\n|\\r)/g,\"\\n\").length;e=d.childNodes;if(!k)return g=\ne[e.length-1],g.nodeType!=CKEDITOR.NODE_TEXT?{container:d,offset:e.length}:{container:g,offset:g.nodeValue.length};for(d=e.length;0<k&&0<d;)f=e[--d],f.nodeType==CKEDITOR.NODE_TEXT&&(u=f,k-=f.nodeValue.length);return{container:u,offset:-k}}k.collapse(0<n?!0:!1);k.setEndPoint(0<n?\"StartToStart\":\"EndToStart\",b);k=k.text.replace(/(\\r\\n|\\r)/g,\"\\n\").length;if(!k)return{container:d,offset:a(g)+(0<n?0:1)};for(;0<k;)try{f=g[0<n?\"previousSibling\":\"nextSibling\"],f.nodeType==CKEDITOR.NODE_TEXT&&(k-=f.nodeValue.length,\nu=f),g=f}catch(t){return{container:d,offset:a(g)}}return{container:u,offset:0<n?-k:u.nodeValue.length+k}};return function(){var a=this.getNative(),c=a&&a.createRange(),d=this.getType();if(!a)return[];if(d==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),d=b(c,!0),a.setStart(new CKEDITOR.dom.node(d.container),d.offset),d=b(c),a.setEnd(new CKEDITOR.dom.node(d.container),d.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&\na.collapse(),[a];if(d==CKEDITOR.SELECTION_ELEMENT){for(var d=[],e=0;e<c.length;e++){for(var g=c.item(e),f=g.parentNode,k=0,a=new CKEDITOR.dom.range(this.root);k<f.childNodes.length&&f.childNodes[k]!=g;k++);a.setStart(new CKEDITOR.dom.node(f),k);a.setEnd(new CKEDITOR.dom.node(f),k+1);d.push(a)}return d}return[]}}():function(){var a=[],b,c=this.getNative();if(!c)return a;for(var d=0;d<c.rangeCount;d++){var e=c.getRangeAt(d);b=new CKEDITOR.dom.range(this.root);b.setStart(new CKEDITOR.dom.node(e.startContainer),\ne.startOffset);b.setEnd(new CKEDITOR.dom.node(e.endContainer),e.endOffset);a.push(b)}return a};return function(b){var c=this._.cache,d=c.ranges;d||(c.ranges=d=new CKEDITOR.dom.rangeList(a.call(this)));return b?g(new CKEDITOR.dom.rangeList(d.slice())):d}}(),getStartElement:function(){var a=this._.cache;if(void 0!==a.startElement)return a.startElement;var b;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var c=this.getRanges()[0];\nif(c){if(c.collapsed)b=c.startContainer,b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());else{for(c.optimize();b=c.startContainer,c.startOffset==(b.getChildCount?b.getChildCount():b.getLength())&&!b.isBlockBoundary();)c.setStartAfter(b);b=c.startContainer;if(b.type!=CKEDITOR.NODE_ELEMENT)return b.getParent();if((b=b.getChild(c.startOffset))&&b.type==CKEDITOR.NODE_ELEMENT)for(c=b.getFirst();c&&c.type==CKEDITOR.NODE_ELEMENT;)b=c,c=c.getFirst();else b=c.startContainer}b=b.$}}return a.startElement=b?\nnew CKEDITOR.dom.element(b):null},getSelectedElement:function(){var a=this._.cache;if(void 0!==a.selectedElement)return a.selectedElement;var b=this,c=CKEDITOR.tools.tryThese(function(){return b.getNative().createRange().item(0)},function(){for(var a=b.getRanges()[0].clone(),c,d,e=2;e&&!((c=a.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&x[c.getName()]&&(d=c));e--)a.shrink(CKEDITOR.SHRINK_ELEMENT);return d&&d.$});return a.selectedElement=c?new CKEDITOR.dom.element(c):null},getSelectedText:function(){var a=\nthis._.cache;if(void 0!==a.selectedText)return a.selectedText;var b=this.getNative(),b=n?\"Control\"==b.type?\"\":b.createRange().text:b.toString();return a.selectedText=b},lock:function(){this.getRanges();this.getStartElement();this.getSelectedElement();this.getSelectedText();this._.cache.nativeSel=null;this.isLocked=1},unlock:function(a){if(this.isLocked){if(a)var b=this.getSelectedElement(),c=!b&&this.getRanges(),d=this.isFake;this.isLocked=0;this.reset();a&&(a=b||c[0]&&c[0].getCommonAncestor())&&\na.getAscendant(\"body\",1)&&(d?this.fake(b):b?this.selectElement(b):this.selectRanges(c))}},reset:function(){this._.cache={};this.isFake=0;var a=this.root.editor;if(a&&a._.fakeSelection)if(this.rev==a._.fakeSelection.rev){delete a._.fakeSelection;var b=a._.hiddenSelectionContainer;if(b){var c=a.checkDirty();a.fire(\"lockSnapshot\");b.remove();a.fire(\"unlockSnapshot\");!c&&a.resetDirty()}delete a._.hiddenSelectionContainer}else CKEDITOR.warn(\"selection-fake-reset\");this.rev=q++},selectElement:function(a){var b=\nnew CKEDITOR.dom.range(this.root);b.setStartBefore(a);b.setEndAfter(a);this.selectRanges([b])},selectRanges:function(a){var b=this.root.editor,b=b&&b._.hiddenSelectionContainer;this.reset();if(b)for(var b=this.root,c,d=0;d<a.length;++d)c=a[d],c.endContainer.equals(b)&&(c.endOffset=Math.min(c.endOffset,b.getChildCount()));if(a.length)if(this.isLocked){var g=CKEDITOR.document.getActive();this.unlock();this.selectRanges(a);this.lock();g&&!g.equals(this.root)&&g.focus()}else{var f;a:{var k,h;if(1==a.length&&\n!(h=a[0]).collapsed&&(f=h.getEnclosedNode())&&f.type==CKEDITOR.NODE_ELEMENT&&(h=h.clone(),h.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(k=h.getEnclosedNode())&&k.type==CKEDITOR.NODE_ELEMENT&&(f=k),\"false\"==f.getAttribute(\"contenteditable\")))break a;f=void 0}if(f)this.fake(f);else{if(n){h=CKEDITOR.dom.walker.whitespaces(!0);k=/\\ufeff|\\u00a0/;b={table:1,tbody:1,tr:1};1<a.length&&(f=a[a.length-1],a[0].setEnd(f.endContainer,f.endOffset));f=a[0];a=f.collapsed;var u,t,r;if((c=f.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&\nc.getName()in x&&(!c.is(\"a\")||!c.getText()))try{r=c.$.createControlRange();r.addElement(c.$);r.select();return}catch(p){}if(f.startContainer.type==CKEDITOR.NODE_ELEMENT&&f.startContainer.getName()in b||f.endContainer.type==CKEDITOR.NODE_ELEMENT&&f.endContainer.getName()in b)f.shrink(CKEDITOR.NODE_ELEMENT,!0),a=f.collapsed;r=f.createBookmark();b=r.startNode;a||(g=r.endNode);r=f.document.$.body.createTextRange();r.moveToElementText(b.$);r.moveStart(\"character\",1);g?(k=f.document.$.body.createTextRange(),\nk.moveToElementText(g.$),r.setEndPoint(\"EndToEnd\",k),r.moveEnd(\"character\",-1)):(u=b.getNext(h),t=b.hasAscendant(\"pre\"),u=!(u&&u.getText&&u.getText().match(k))&&(t||!b.hasPrevious()||b.getPrevious().is&&b.getPrevious().is(\"br\")),t=f.document.createElement(\"span\"),t.setHtml(\"\\x26#65279;\"),t.insertBefore(b),u&&f.document.createText(\"﻿\").insertBefore(b));f.setStartBefore(b);b.remove();a?(u?(r.moveStart(\"character\",-1),r.select(),f.document.$.selection.clear()):r.select(),f.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START),\nt.remove()):(f.setEndBefore(g),g.remove(),r.select())}else{g=this.getNative();if(!g)return;this.removeAllRanges();for(r=0;r<a.length;r++){if(r<a.length-1&&(u=a[r],t=a[r+1],k=u.clone(),k.setStart(u.endContainer,u.endOffset),k.setEnd(t.startContainer,t.startOffset),!k.collapsed&&(k.shrink(CKEDITOR.NODE_ELEMENT,!0),f=k.getCommonAncestor(),k=k.getEnclosedNode(),f.isReadOnly()||k&&k.isReadOnly()))){t.setStart(u.startContainer,u.startOffset);a.splice(r--,1);continue}f=a[r];t=this.document.$.createRange();\nf.collapsed&&CKEDITOR.env.webkit&&e(f)&&(k=m(this.root),f.insertNode(k),(u=k.getNext())&&!k.getPrevious()&&u.type==CKEDITOR.NODE_ELEMENT&&\"br\"==u.getName()?(l(this.root),f.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START)):f.moveToPosition(k,CKEDITOR.POSITION_AFTER_END));t.setStart(f.startContainer.$,f.startOffset);try{t.setEnd(f.endContainer.$,f.endOffset)}catch(v){if(0<=v.toString().indexOf(\"NS_ERROR_ILLEGAL_VALUE\"))f.collapse(1),t.setEnd(f.endContainer.$,f.endOffset);else throw v;}g.addRange(t)}}this.reset();\nthis.root.fire(\"selectionchange\")}}},fake:function(a,b){var c=this.root.editor;void 0===b&&a.hasAttribute(\"aria-label\")&&(b=a.getAttribute(\"aria-label\"));this.reset();h(c,b);var d=this._.cache,e=new CKEDITOR.dom.range(this.root);e.setStartBefore(a);e.setEndAfter(a);d.ranges=new CKEDITOR.dom.rangeList(e);d.selectedElement=d.startElement=a;d.type=CKEDITOR.SELECTION_ELEMENT;d.selectedText=d.nativeSel=null;this.isFake=1;this.rev=q++;c._.fakeSelection=this;this.root.fire(\"selectionchange\")},isHidden:function(){var a=\nthis.getCommonAncestor();a&&a.type==CKEDITOR.NODE_TEXT&&(a=a.getParent());return!(!a||!a.data(\"cke-hidden-sel\"))},createBookmarks:function(a){a=this.getRanges().createBookmarks(a);this.isFake&&(a.isFake=1);return a},createBookmarks2:function(a){a=this.getRanges().createBookmarks2(a);this.isFake&&(a.isFake=1);return a},selectBookmarks:function(a){for(var b=[],c,d=0;d<a.length;d++){var e=new CKEDITOR.dom.range(this.root);e.moveToBookmark(a[d]);b.push(e)}a.isFake&&(c=b[0].getEnclosedNode(),c&&c.type==\nCKEDITOR.NODE_ELEMENT||(CKEDITOR.warn(\"selection-not-fake\"),a.isFake=0));a.isFake?this.fake(c):this.selectRanges(b);return this},getCommonAncestor:function(){var a=this.getRanges();return a.length?a[0].startContainer.getCommonAncestor(a[a.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var a=this.getNative();try{a&&a[n?\"empty\":\"removeAllRanges\"]()}catch(b){}this.reset()}}}}(),\n\"use strict\",CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function a(a,b){for(var c,d;(a=a.getParent())&&!a.equals(b);)if(a.getAttribute(\"data-nostyle\"))c=a;else if(!d){var e=a.getAttribute(\"contentEditable\");\"false\"==e?c=a:\"true\"==e&&(d=1)}return c}function f(a,b,c,d){return(a.getPosition(b)|d)==d&&(!c.childRule||c.childRule(a))}function b(c){var d=c.document;if(c.collapsed)d=u(this,d),c.insertNode(d),c.moveToPosition(d,CKEDITOR.POSITION_BEFORE_END);else{var g=\nthis.element,k=this._.definition,h,l=k.ignoreReadonly,m=l||k.includeReadonly;null==m&&(m=c.root.getCustomData(\"cke_includeReadonly\"));var n=CKEDITOR.dtd[g];n||(h=!0,n=CKEDITOR.dtd.span);c.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.trim();var r=c.createBookmark(),p=r.startNode,v=r.endNode,q=p,B;if(!l){var w=c.getCommonAncestor(),l=a(p,w),w=a(v,w);l&&(q=l.getNextSourceNode(!0));w&&(v=w)}for(q.getPosition(v)==CKEDITOR.POSITION_FOLLOWING&&(q=0);q;){l=!1;if(q.equals(v))q=null,l=!0;else{var x=q.type==CKEDITOR.NODE_ELEMENT?\nq.getName():null,w=x&&\"false\"==q.getAttribute(\"contentEditable\"),z=x&&q.getAttribute(\"data-nostyle\");if(x&&q.data(\"cke-bookmark\")){q=q.getNextSourceNode(!0);continue}if(w&&m&&CKEDITOR.dtd.$block[x])for(var D=q,y=e(D),A=void 0,C=y.length,ea=0,D=C&&new CKEDITOR.dom.range(D.getDocument());ea<C;++ea){var A=y[ea],ga=CKEDITOR.filter.instances[A.data(\"cke-filter\")];if(ga?ga.check(this):1)D.selectNodeContents(A),b.call(this,D)}y=x?!n[x]||z?0:w&&!m?0:f(q,v,k,M):1;if(y)if(A=q.getParent(),y=k,C=g,ea=h,!A||!(A.getDtd()||\nCKEDITOR.dtd.span)[C]&&!ea||y.parentRule&&!y.parentRule(A))l=!0;else{if(B||x&&CKEDITOR.dtd.$removeEmpty[x]&&(q.getPosition(v)|M)!=M||(B=c.clone(),B.setStartBefore(q)),x=q.type,x==CKEDITOR.NODE_TEXT||w||x==CKEDITOR.NODE_ELEMENT&&!q.getChildCount()){for(var x=q,E;(l=!x.getNext(J))&&(E=x.getParent(),n[E.getName()])&&f(E,p,k,I);)x=E;B.setEndAfter(x)}}else l=!0;q=q.getNextSourceNode(z||w)}if(l&&B&&!B.collapsed){for(var l=u(this,d),w=l.hasAttributes(),z=B.getCommonAncestor(),x={},y={},A={},C={},aa,G,F;l&&\nz;){if(z.getName()==g){for(aa in k.attributes)!C[aa]&&(F=z.getAttribute(G))&&(l.getAttribute(aa)==F?y[aa]=1:C[aa]=1);for(G in k.styles)!A[G]&&(F=z.getStyle(G))&&(l.getStyle(G)==F?x[G]=1:A[G]=1)}z=z.getParent()}for(aa in y)l.removeAttribute(aa);for(G in x)l.removeStyle(G);w&&!l.hasAttributes()&&(l=null);l?(B.extractContents().appendTo(l),B.insertNode(l),t.call(this,l),l.mergeSiblings(),CKEDITOR.env.ie||l.$.normalize()):(l=new CKEDITOR.dom.element(\"span\"),B.extractContents().appendTo(l),B.insertNode(l),\nt.call(this,l),l.remove(!0));B=null}}c.moveToBookmark(r);c.shrink(CKEDITOR.SHRINK_TEXT);c.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function c(a){function b(){for(var a=new CKEDITOR.dom.elementPath(d.getParent()),c=new CKEDITOR.dom.elementPath(l.getParent()),e=null,g=null,f=0;f<a.elements.length;f++){var k=a.elements[f];if(k==a.block||k==a.blockLimit)break;m.checkElementRemovable(k,!0)&&(e=k)}for(f=0;f<c.elements.length;f++){k=c.elements[f];if(k==c.block||k==c.blockLimit)break;m.checkElementRemovable(k,!0)&&\n(g=k)}g&&l.breakParent(g);e&&d.breakParent(e)}a.enlarge(CKEDITOR.ENLARGE_INLINE,1);var c=a.createBookmark(),d=c.startNode;if(a.collapsed){for(var e=new CKEDITOR.dom.elementPath(d.getParent(),a.root),g,f=0,k;f<e.elements.length&&(k=e.elements[f])&&k!=e.block&&k!=e.blockLimit;f++)if(this.checkElementRemovable(k)){var h;a.collapsed&&(a.checkBoundaryOfElement(k,CKEDITOR.END)||(h=a.checkBoundaryOfElement(k,CKEDITOR.START)))?(g=k,g.match=h?\"start\":\"end\"):(k.mergeSiblings(),k.is(this.element)?p.call(this,\nk):v(k,w(this)[k.getName()]))}if(g){k=d;for(f=0;;f++){h=e.elements[f];if(h.equals(g))break;else if(h.match)continue;else h=h.clone();h.append(k);k=h}k[\"start\"==g.match?\"insertBefore\":\"insertAfter\"](g)}}else{var l=c.endNode,m=this;b();for(e=d;!e.equals(l);)g=e.getNextSourceNode(),e.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(e)&&(e.getName()==this.element?p.call(this,e):v(e,w(this)[e.getName()]),g.type==CKEDITOR.NODE_ELEMENT&&g.contains(d)&&(b(),g=d.getNext())),e=g}a.moveToBookmark(c);\na.shrink(CKEDITOR.NODE_ELEMENT,!0)}function e(a){var b=[];a.forEach(function(a){if(\"true\"==a.getAttribute(\"contenteditable\"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function m(a){var b=a.getEnclosedNode()||a.getCommonAncestor(!1,!0);(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1))&&!a.isReadOnly()&&B(a,this)}function l(a){var b=a.getCommonAncestor(!0,!0);if(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1)){var b=this._.definition,c=b.attributes;\nif(c)for(var d in c)a.removeAttribute(d,c[d]);if(b.styles)for(var e in b.styles)b.styles.hasOwnProperty(e)&&a.removeStyle(e)}}function d(a){var b=a.createBookmark(!0),c=a.createIterator();c.enforceRealBlocks=!0;this._.enterMode&&(c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var d,e=a.document,g;d=c.getNextParagraph();)!d.isReadOnly()&&(c.activeFilter?c.activeFilter.check(this):1)&&(g=u(this,e,d),k(d,g));a.moveToBookmark(b)}function h(a){var b=a.createBookmark(1),c=a.createIterator();c.enforceRealBlocks=\n!0;c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var d,e;d=c.getNextParagraph();)this.checkElementRemovable(d)&&(d.is(\"pre\")?((e=this._.enterMode==CKEDITOR.ENTER_BR?null:a.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"))&&d.copyAttributes(e),k(d,e)):p.call(this,d));a.moveToBookmark(b)}function k(a,b){var c=!b;c&&(b=a.getDocument().createElement(\"div\"),a.copyAttributes(b));var d=b&&b.is(\"pre\"),e=a.is(\"pre\"),f=!d&&e;if(d&&!e){e=b;(f=a.getBogus())&&f.remove();f=a.getHtml();\nf=n(f,/(?:^[ \\t\\n\\r]+)|(?:[ \\t\\n\\r]+$)/g,\"\");f=f.replace(/[ \\t\\r\\n]*(<br[^>]*>)[ \\t\\r\\n]*/gi,\"$1\");f=f.replace(/([ \\t\\n\\r]+|&nbsp;)/g,\" \");f=f.replace(/<br\\b[^>]*>/gi,\"\\n\");if(CKEDITOR.env.ie){var k=a.getDocument().createElement(\"div\");k.append(e);e.$.outerHTML=\"\\x3cpre\\x3e\"+f+\"\\x3c/pre\\x3e\";e.copyAttributes(k.getFirst());e=k.getFirst().remove()}else e.setHtml(f);b=e}else f?b=q(c?[a.getHtml()]:g(a),b):a.moveChildren(b);b.replace(a);if(d){var c=b,h;(h=c.getPrevious(G))&&h.type==CKEDITOR.NODE_ELEMENT&&\nh.is(\"pre\")&&(d=n(h.getHtml(),/\\n$/,\"\")+\"\\n\\n\"+n(c.getHtml(),/^\\n/,\"\"),CKEDITOR.env.ie?c.$.outerHTML=\"\\x3cpre\\x3e\"+d+\"\\x3c/pre\\x3e\":c.setHtml(d),h.remove())}else c&&r(b)}function g(a){var b=[];n(a.getOuterHtml(),/(\\S\\s*)\\n(?:\\s|(<span[^>]+data-cke-bookmark.*?\\/span>))*\\n(?!$)/gi,function(a,b,c){return b+\"\\x3c/pre\\x3e\"+c+\"\\x3cpre\\x3e\"}).replace(/<pre\\b.*?>([\\s\\S]*?)<\\/pre>/gi,function(a,c){b.push(c)});return b}function n(a,b,c){var d=\"\",e=\"\";a=a.replace(/(^<span[^>]+data-cke-bookmark.*?\\/span>)|(<span[^>]+data-cke-bookmark.*?\\/span>$)/gi,\nfunction(a,b,c){b&&(d=b);c&&(e=c);return\"\"});return d+a.replace(b,c)+e}function q(a,b){var c;1<a.length&&(c=new CKEDITOR.dom.documentFragment(b.getDocument()));for(var d=0;d<a.length;d++){var e=a[d],e=e.replace(/(\\r\\n|\\r)/g,\"\\n\"),e=n(e,/^[ \\t]*\\n/,\"\"),e=n(e,/\\n$/,\"\"),e=n(e,/^[ \\t]+|[ \\t]+$/g,function(a,b){return 1==a.length?\"\\x26nbsp;\":b?\" \"+CKEDITOR.tools.repeat(\"\\x26nbsp;\",a.length-1):CKEDITOR.tools.repeat(\"\\x26nbsp;\",a.length-1)+\" \"}),e=e.replace(/\\n/g,\"\\x3cbr\\x3e\"),e=e.replace(/[ \\t]{2,}/g,function(a){return CKEDITOR.tools.repeat(\"\\x26nbsp;\",\na.length-1)+\" \"});if(c){var g=b.clone();g.setHtml(e);c.append(g)}else b.setHtml(e)}return c||b}function p(a,b){var c=this._.definition,d=c.attributes,c=c.styles,e=w(this)[a.getName()],g=CKEDITOR.tools.isEmpty(d)&&CKEDITOR.tools.isEmpty(c),f;for(f in d)if(\"class\"!=f&&!this._.definition.fullMatch||a.getAttribute(f)==z(f,d[f]))b&&\"data-\"==f.slice(0,5)||(g=a.hasAttribute(f),a.removeAttribute(f));for(var k in c)this._.definition.fullMatch&&a.getStyle(k)!=z(k,c[k],!0)||(g=g||!!a.getStyle(k),a.removeStyle(k));\nv(a,e,A[a.getName()]);g&&(this._.definition.alwaysRemoveElement?r(a,1):!CKEDITOR.dtd.$block[a.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!a.hasAttributes()?r(a):a.renameNode(this._.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"))}function t(a){for(var b=w(this),c=a.getElementsByTag(this.element),d,e=c.count();0<=--e;)d=c.getItem(e),d.isReadOnly()||p.call(this,d,!0);for(var g in b)if(g!=this.element)for(c=a.getElementsByTag(g),e=c.count()-1;0<=e;e--)d=c.getItem(e),d.isReadOnly()||v(d,b[g])}function v(a,\nb,c){if(b=b&&b.attributes)for(var d=0;d<b.length;d++){var e=b[d][0],g;if(g=a.getAttribute(e)){var f=b[d][1];(null===f||f.test&&f.test(g)||\"string\"==typeof f&&g==f)&&a.removeAttribute(e)}}c||r(a)}function r(a,b){if(!a.hasAttributes()||b)if(CKEDITOR.dtd.$block[a.getName()]){var c=a.getPrevious(G),d=a.getNext(G);!c||c.type!=CKEDITOR.NODE_TEXT&&c.isBlockBoundary({br:1})||a.append(\"br\",1);!d||d.type!=CKEDITOR.NODE_TEXT&&d.isBlockBoundary({br:1})||a.append(\"br\");a.remove(!0)}else c=a.getFirst(),d=a.getLast(),\na.remove(!0),c&&(c.type==CKEDITOR.NODE_ELEMENT&&c.mergeSiblings(),d&&!c.equals(d)&&d.type==CKEDITOR.NODE_ELEMENT&&d.mergeSiblings())}function u(a,b,c){var d;d=a.element;\"*\"==d&&(d=\"span\");d=new CKEDITOR.dom.element(d,b);c&&c.copyAttributes(d);d=B(d,a);b.getCustomData(\"doc_processing_style\")&&d.hasAttribute(\"id\")?d.removeAttribute(\"id\"):b.setCustomData(\"doc_processing_style\",1);return d}function B(a,b){var c=b._.definition,d=c.attributes,c=CKEDITOR.style.getStyleText(c);if(d)for(var e in d)a.setAttribute(e,\nd[e]);c&&a.setAttribute(\"style\",c);return a}function x(a,b){for(var c in a)a[c]=a[c].replace(E,function(a,c){return b[c]})}function w(a){if(a._.overrides)return a._.overrides;var b=a._.overrides={},c=a._.definition.overrides;if(c){CKEDITOR.tools.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++){var e=c[d],g,f;\"string\"==typeof e?g=e.toLowerCase():(g=e.element?e.element.toLowerCase():a.element,f=e.attributes);e=b[g]||(b[g]={});if(f){var e=e.attributes=e.attributes||[],k;for(k in f)e.push([k.toLowerCase(),\nf[k]])}}}return b}function z(a,b,c){var d=new CKEDITOR.dom.element(\"span\");d[c?\"setStyle\":\"setAttribute\"](a,b);return d[c?\"getStyle\":\"getAttribute\"](a)}function D(a,b){function c(a,b){return\"font-family\"==b.toLowerCase()?a.replace(/[\"']/g,\"\"):a}\"string\"==typeof a&&(a=CKEDITOR.tools.parseCssText(a));\"string\"==typeof b&&(b=CKEDITOR.tools.parseCssText(b,!0));for(var d in a)if(!(d in b)||c(b[d],d)!=c(a[d],d)&&\"inherit\"!=a[d]&&\"inherit\"!=b[d])return!1;return!0}function y(a,b,c){var d=a.document,e=a.getRanges();\nb=b?this.removeFromRange:this.applyToRange;for(var g,f=e.createIterator();g=f.getNextRange();)b.call(this,g,c);a.selectRanges(e);d.removeCustomData(\"doc_processing_style\")}var A={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},C={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,\ndd:1,form:1,audio:1,video:1},F=/\\s*(?:;\\s*|$)/,E=/#\\((.+?)\\)/g,J=CKEDITOR.dom.walker.bookmark(0,1),G=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(a,b){if(\"string\"==typeof a.type)return new CKEDITOR.style.customHandlers[a.type](a);var c=a.attributes;c&&c.style&&(a.styles=CKEDITOR.tools.extend({},a.styles,CKEDITOR.tools.parseCssText(c.style)),delete c.style);b&&(a=CKEDITOR.tools.clone(a),x(a.attributes,b),x(a.styles,b));c=this.element=a.element?\"string\"==typeof a.element?a.element.toLowerCase():\na.element:\"*\";this.type=a.type||(A[c]?CKEDITOR.STYLE_BLOCK:C[c]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE);\"object\"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT);this._={definition:a}};CKEDITOR.style.prototype={apply:function(a){if(a instanceof CKEDITOR.dom.document)return y.call(this,a.getSelection());if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);y.call(this,a.getSelection(),0,a);this._.enterMode=b}},remove:function(a){if(a instanceof\nCKEDITOR.dom.document)return y.call(this,a.getSelection(),1);if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);y.call(this,a.getSelection(),1,a);this._.enterMode=b}},applyToRange:function(a){this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?b:this.type==CKEDITOR.STYLE_BLOCK?d:this.type==CKEDITOR.STYLE_OBJECT?m:null;return this.applyToRange(a)},removeFromRange:function(a){this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?c:this.type==CKEDITOR.STYLE_BLOCK?\nh:this.type==CKEDITOR.STYLE_OBJECT?l:null;return this.removeFromRange(a)},applyToObject:function(a){B(a,this)},checkActive:function(a,b){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(a.block||a.blockLimit,!0,b);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var c=a.elements,d=0,e;d<c.length;d++)if(e=c[d],this.type!=CKEDITOR.STYLE_INLINE||e!=a.block&&e!=a.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var g=e.getName();if(!(\"string\"==typeof this.element?\ng==this.element:g in this.element))continue}if(this.checkElementRemovable(e,!0,b))return!0}}return!1},checkApplicable:function(a,b,c){b&&b instanceof CKEDITOR.filter&&(c=b);if(c&&!c.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!a.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!a.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(a,b){var c=this._.definition;if(!a||!c.ignoreReadonly&&a.isReadOnly())return!1;var d=a.getName();if(\"string\"==typeof this.element?\nd==this.element:d in this.element){if(!b&&!a.hasAttributes())return!0;if(d=c._AC)c=d;else{var d={},e=0,g=c.attributes;if(g)for(var f in g)e++,d[f]=g[f];if(f=CKEDITOR.style.getStyleText(c))d.style||e++,d.style=f;d._length=e;c=c._AC=d}if(c._length){for(var k in c)if(\"_length\"!=k)if(d=a.getAttribute(k)||\"\",\"style\"==k?D(c[k],d):c[k]==d){if(!b)return!0}else if(b)return!1;if(b)return!0}else return!0}return!1},checkElementRemovable:function(a,b,c){if(this.checkElementMatch(a,b,c))return!0;if(b=w(this)[a.getName()]){var d;\nif(!(b=b.attributes))return!0;for(c=0;c<b.length;c++)if(d=b[c][0],d=a.getAttribute(d)){var e=b[c][1];if(null===e)return!0;if(\"string\"==typeof e){if(d==e)return!0}else if(e.test(d))return!0}}return!1},buildPreview:function(a){var b=this._.definition,c=[],d=b.element;\"bdo\"==d&&(d=\"span\");var c=[\"\\x3c\",d],e=b.attributes;if(e)for(var g in e)c.push(\" \",g,'\\x3d\"',e[g],'\"');(e=CKEDITOR.style.getStyleText(b))&&c.push(' style\\x3d\"',e,'\"');c.push(\"\\x3e\",a||b.name,\"\\x3c/\",d,\"\\x3e\");return c.join(\"\")},getDefinition:function(){return this._.definition}};\nCKEDITOR.style.getStyleText=function(a){var b=a._ST;if(b)return b;var b=a.styles,c=a.attributes&&a.attributes.style||\"\",d=\"\";c.length&&(c=c.replace(F,\";\"));for(var e in b){var g=b[e],f=(e+\":\"+g).replace(F,\";\");\"inherit\"==g?d+=f:c+=f}c.length&&(c=CKEDITOR.tools.normalizeCssText(c,!0));return a._ST=c+d};CKEDITOR.style.customHandlers={};CKEDITOR.style.addCustomHandler=function(a){var b=function(a){this._={definition:a};this.setup&&this.setup(a)};b.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),\n{assignedTo:CKEDITOR.STYLE_OBJECT},a,!0);return this.customHandlers[a.type]=b};var M=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,I=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(a,f){this.requiredContent=this.allowedContent=this.style=a;CKEDITOR.tools.extend(this,f,!0)},CKEDITOR.styleCommand.prototype.exec=function(a){a.focus();this.state==CKEDITOR.TRISTATE_OFF?a.applyStyle(this.style):\nthis.state==CKEDITOR.TRISTATE_ON&&a.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager(\"\",\"stylesSet\"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(a,f,b){CKEDITOR.stylesSet.addExternal(a,f,\"\");CKEDITOR.stylesSet.load(a,b)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(a,f){var b=this._.styleStateChangeCallbacks;b||(b=this._.styleStateChangeCallbacks=[],this.on(\"selectionChange\",\nfunction(a){for(var e=0;e<b.length;e++){var f=b[e],l=f.style.checkActive(a.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;f.fn.call(this,l)}}));b.push({style:a,fn:f})},applyStyle:function(a){a.apply(this)},removeStyle:function(a){a.remove(this)},getStylesSet:function(a){if(this._.stylesDefinitions)a(this._.stylesDefinitions);else{var f=this,b=f.config.stylesCombo_stylesSet||f.config.stylesSet;if(!1===b)a(null);else if(b instanceof Array)f._.stylesDefinitions=b,a(b);else{b||(b=\"default\");\nvar b=b.split(\":\"),c=b[0];CKEDITOR.stylesSet.addExternal(c,b[1]?b.slice(1).join(\":\"):CKEDITOR.getUrl(\"styles.js\"),\"\");CKEDITOR.stylesSet.load(c,function(b){f._.stylesDefinitions=b[c];a(f._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(a,f){\"string\"==typeof a&&(a=(f?f.$:document).createComment(a));CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return\"\\x3c!--\"+\nthis.$.nodeValue+\"--\\x3e\"}}),\"use strict\",function(){var a={},f={},b;for(b in CKEDITOR.dtd.$blockLimit)b in CKEDITOR.dtd.$list||(a[b]=1);for(b in CKEDITOR.dtd.$block)b in CKEDITOR.dtd.$blockLimit||b in CKEDITOR.dtd.$empty||(f[b]=1);CKEDITOR.dom.elementPath=function(b,e){var m=null,l=null,d=[],h=b,k;e=e||b.getDocument().getBody();do if(h.type==CKEDITOR.NODE_ELEMENT){d.push(h);if(!this.lastElement&&(this.lastElement=h,h.is(CKEDITOR.dtd.$object)||\"false\"==h.getAttribute(\"contenteditable\")))continue;\nif(h.equals(e))break;if(!l&&(k=h.getName(),\"true\"==h.getAttribute(\"contenteditable\")?l=h:!m&&f[k]&&(m=h),a[k])){if(k=!m&&\"div\"==k){a:{k=h.getChildren();for(var g=0,n=k.count();g<n;g++){var q=k.getItem(g);if(q.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[q.getName()]){k=!0;break a}}k=!1}k=!k}k?m=h:l=h}}while(h=h.getParent());l||(l=e);this.block=m;this.blockLimit=l;this.root=e;this.elements=d}}(),CKEDITOR.dom.elementPath.prototype={compare:function(a){var f=this.elements;a=a&&a.elements;if(!a||\nf.length!=a.length)return!1;for(var b=0;b<f.length;b++)if(!f[b].equals(a[b]))return!1;return!0},contains:function(a,f,b){var c;\"string\"==typeof a&&(c=function(b){return b.getName()==a});a instanceof CKEDITOR.dom.element?c=function(b){return b.equals(a)}:CKEDITOR.tools.isArray(a)?c=function(b){return-1<CKEDITOR.tools.indexOf(a,b.getName())}:\"function\"==typeof a?c=a:\"object\"==typeof a&&(c=function(b){return b.getName()in a});var e=this.elements,m=e.length;f&&m--;b&&(e=Array.prototype.slice.call(e,0),\ne.reverse());for(f=0;f<m;f++)if(c(e[f]))return e[f];return null},isContextFor:function(a){var f;return a in CKEDITOR.dtd.$block?(f=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!f.getDtd()[a]):!0},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(a,f){\"string\"==typeof a&&(a=(f?f.$:document).createTextNode(a));this.$=a},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,\n{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(a){this.$.nodeValue=a},split:function(a){var f=this.$.parentNode,b=f.childNodes.length,c=this.getLength(),e=this.getDocument(),m=new CKEDITOR.dom.text(this.$.splitText(a),e);f.childNodes.length==b&&(a>=c?(m=e.createText(\"\"),m.insertAfter(this)):(a=e.createText(\"\"),a.insertAfter(m),a.remove()));return m},substring:function(a,f){return\"number\"!=typeof f?this.$.nodeValue.substr(a):\nthis.$.nodeValue.substring(a,f)}}),function(){function a(a,c,e){var f=a.serializable,l=c[e?\"endContainer\":\"startContainer\"],d=e?\"endOffset\":\"startOffset\",h=f?c.document.getById(a.startNode):a.startNode;a=f?c.document.getById(a.endNode):a.endNode;l.equals(h.getPrevious())?(c.startOffset=c.startOffset-l.getLength()-a.getPrevious().getLength(),l=a.getNext()):l.equals(a.getPrevious())&&(c.startOffset-=l.getLength(),l=a.getNext());l.equals(h.getParent())&&c[d]++;l.equals(a.getParent())&&c[d]++;c[e?\"endContainer\":\n\"startContainer\"]=l;return c}CKEDITOR.dom.rangeList=function(a){if(a instanceof CKEDITOR.dom.rangeList)return a;a?a instanceof CKEDITOR.dom.range&&(a=[a]):a=[];return CKEDITOR.tools.extend(a,f)};var f={createIterator:function(){var a=this,c=CKEDITOR.dom.walker.bookmark(),e=[],f;return{getNextRange:function(l){f=void 0===f?0:f+1;var d=a[f];if(d&&1<a.length){if(!f)for(var h=a.length-1;0<=h;h--)e.unshift(a[h].createBookmark(!0));if(l)for(var k=0;a[f+k+1];){var g=d.document;l=0;h=g.getById(e[k].endNode);\nfor(g=g.getById(e[k+1].startNode);;){h=h.getNextSourceNode(!1);if(g.equals(h))l=1;else if(c(h)||h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary())continue;break}if(!l)break;k++}for(d.moveToBookmark(e.shift());k--;)h=a[++f],h.moveToBookmark(e.shift()),d.setEnd(h.endContainer,h.endOffset)}return d}}},createBookmarks:function(b){for(var c=[],e,f=0;f<this.length;f++){c.push(e=this[f].createBookmark(b,!0));for(var l=f+1;l<this.length;l++)this[l]=a(e,this[l]),this[l]=a(e,this[l],!0)}return c},createBookmarks2:function(a){for(var c=\n[],e=0;e<this.length;e++)c.push(this[e].createBookmark2(a));return c},moveToBookmarks:function(a){for(var c=0;c<this.length;c++)this[c].moveToBookmark(a[c])}}}(),function(){function a(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(\",\")[1]||\"skins/\"+CKEDITOR.skinName.split(\",\")[0]+\"/\")}function f(b){var c=CKEDITOR.skin[\"ua_\"+b],d=CKEDITOR.env;if(c)for(var c=c.split(\",\").sort(function(a,b){return a>b?-1:1}),e=0,f;e<c.length;e++)if(f=c[e],d.ie&&(f.replace(/^ie/,\"\")==d.version||d.quirks&&\"iequirks\"==\nf)&&(f=\"ie\"),d[f]){b+=\"_\"+c[e];break}return CKEDITOR.getUrl(a()+b+\".css\")}function b(a,b){m[a]||(CKEDITOR.document.appendStyleSheet(f(a)),m[a]=1);b&&b()}function c(a){var b=a.getById(l);b||(b=a.getHead().append(\"style\"),b.setAttribute(\"id\",l),b.setAttribute(\"type\",\"text/css\"));return b}function e(a,b,c){var d,e,f;if(CKEDITOR.env.webkit)for(b=b.split(\"}\").slice(0,-1),e=0;e<b.length;e++)b[e]=b[e].split(\"{\");for(var h=0;h<a.length;h++)if(CKEDITOR.env.webkit)for(e=0;e<b.length;e++){f=b[e][1];for(d=0;d<\nc.length;d++)f=f.replace(c[d][0],c[d][1]);a[h].$.sheet.addRule(b[e][0],f)}else{f=b;for(d=0;d<c.length;d++)f=f.replace(c[d][0],c[d][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?a[h].$.styleSheet.cssText+=f:a[h].$.innerHTML+=f}}var m={};CKEDITOR.skin={path:a,loadPart:function(c,d){CKEDITOR.skin.name!=CKEDITOR.skinName.split(\",\")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(a()+\"skin.js\"),function(){b(c,d)}):b(c,d)},getPath:function(a){return CKEDITOR.getUrl(f(a))},icons:{},addIcon:function(a,b,c,d){a=\na.toLowerCase();this.icons[a]||(this.icons[a]={path:b,offset:c||0,bgsize:d||\"16px\"})},getIconStyle:function(a,b,c,d,e){var f;a&&(a=a.toLowerCase(),b&&(f=this.icons[a+\"-rtl\"]),f||(f=this.icons[a]));a=c||f&&f.path||\"\";d=d||f&&f.offset;e=e||f&&f.bgsize||\"16px\";a&&(a=a.replace(/'/g,\"\\\\'\"));return a&&\"background-image:url('\"+CKEDITOR.getUrl(a)+\"');background-position:0 \"+d+\"px;background-size:\"+e+\";\"}};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(a){var b=\nc(CKEDITOR.document);return(this.setUiColor=function(a){this.uiColor=a;var c=CKEDITOR.skin.chameleon,f=\"\",k=\"\";\"function\"==typeof c&&(f=c(this,\"editor\"),k=c(this,\"panel\"));a=[[h,a]];e([b],f,a);e(d,k,a)}).call(this,a)}});var l=\"cke_ui_color\",d=[],h=/\\$color/g;CKEDITOR.on(\"instanceLoaded\",function(a){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var b=a.editor;a=function(a){a=(a.data[0]||a.data).element.getElementsByTag(\"iframe\").getItem(0).getFrameDocument();if(!a.getById(\"cke_ui_color\")){a=c(a);d.push(a);\nvar f=b.getUiColor();f&&e([a],CKEDITOR.skin.chameleon(b,\"panel\"),[[h,f]])}};b.on(\"panelShow\",a);b.on(\"menuShow\",a);b.config.uiColor&&b.setUiColor(b.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var a=CKEDITOR.dom.element.createFromHtml('\\x3cdiv style\\x3d\"width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue\"\\x3e\\x3c/div\\x3e',CKEDITOR.document);a.appendTo(CKEDITOR.document.getHead());try{var f=a.getComputedStyle(\"border-top-color\"),\nb=a.getComputedStyle(\"border-right-color\");CKEDITOR.env.hc=!(!f||f!=b)}catch(c){CKEDITOR.env.hc=!1}a.remove()}CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=\" cke_hc\");CKEDITOR.document.appendStyleText(\".cke{visibility:hidden;}\");CKEDITOR.status=\"loaded\";CKEDITOR.fireOnce(\"loaded\");if(a=CKEDITOR._.pending)for(delete CKEDITOR._.pending,f=0;f<a.length;f++)CKEDITOR.editor.prototype.constructor.apply(a[f][0],a[f][1]),CKEDITOR.add(a[f][0])}(),CKEDITOR.skin.name=\"moono-lisa\",CKEDITOR.skin.ua_editor=\"ie,iequirks,ie8,gecko\",\nCKEDITOR.skin.ua_dialog=\"ie,iequirks,ie8\",CKEDITOR.skin.chameleon=function(){var a=function(){return function(a,c){for(var e=a.match(/[^#]./g),f=0;3>f;f++){var l=f,d;d=parseInt(e[f],16);d=(\"0\"+(0>c?0|d*(1+c):0|d+(255-d)*c).toString(16)).slice(-2);e[l]=d}return\"#\"+e.join(\"\")}}(),f={editor:new CKEDITOR.template(\"{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] \"),\npanel:new CKEDITOR.template(\".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] \")};\nreturn function(b,c){var e=a(b.uiColor,.4),e={id:\".\"+b.id,defaultBorder:a(e,-.2),toolbarElementsBorder:a(e,-.25),defaultBackground:e,lightBackground:a(e,.8),darkBackground:a(e,-.15),ckeButtonOn:a(e,.4),ckeResizer:a(e,-.4),ckeColorauto:a(e,.8),dialogBody:a(e,.7),dialogTab:a(e,.65),dialogTabSelected:\"#FFF\",dialogTabSelectedBorder:\"#FFF\",elementsPathColor:a(e,-.6),menubuttonHover:a(e,.1),menubuttonIcon:a(e,.5),menubuttonIconHover:a(e,.3)};return f[c].output(e).replace(/\\[/g,\"{\").replace(/\\]/g,\"}\")}}(),\nCKEDITOR.plugins.add(\"dialogui\",{onLoad:function(){var a=function(a){this._||(this._={});this._[\"default\"]=this._.initValue=a[\"default\"]||\"\";this._.required=a.required||!1;for(var b=[this._],c=1;c<arguments.length;c++)b.push(arguments[c]);b.push(!0);CKEDITOR.tools.extend.apply(CKEDITOR.tools,b);return this._},f={build:function(a,b,c){return new CKEDITOR.ui.dialog.textInput(a,b,c)}},b={build:function(a,b,c){return new CKEDITOR.ui.dialog[b.type](a,b,c)}},c={isChanged:function(){return this.getValue()!=\nthis.getInitValue()},reset:function(a){this.setValue(this.getInitValue(),a)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._[\"default\"]},getInitValue:function(){return this._.initValue}},e=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(a,b){this._.domOnChangeRegistered||(a.on(\"load\",function(){this.getInputElement().on(\"change\",function(){a.parts.dialog.isVisible()&&this.fire(\"change\",{value:this.getValue()})},\nthis)},this),this._.domOnChangeRegistered=!0);this.on(\"change\",b)}},!0),m=/^on([A-Z]\\w+)/,l=function(a){for(var b in a)(m.test(b)||\"title\"==b||\"type\"==b)&&delete a[b];return a},d=function(a){a=a.data.getKeystroke();a==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker(\"ltr\"):a==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker(\"rtl\")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(b,c,d,e){if(!(4>arguments.length)){var f=a.call(this,c);f.labelId=CKEDITOR.tools.getNextId()+\n\"_label\";this._.children=[];var l={role:c.role||\"presentation\"};c.includeLabel&&(l[\"aria-labelledby\"]=f.labelId);CKEDITOR.ui.dialog.uiElement.call(this,b,c,d,\"div\",null,l,function(){var a=[],d=c.required?\" cke_required\":\"\";\"horizontal\"!=c.labelLayout?a.push('\\x3clabel class\\x3d\"cke_dialog_ui_labeled_label'+d+'\" ',' id\\x3d\"'+f.labelId+'\"',f.inputId?' for\\x3d\"'+f.inputId+'\"':\"\",(c.labelStyle?' style\\x3d\"'+c.labelStyle+'\"':\"\")+\"\\x3e\",c.label,\"\\x3c/label\\x3e\",'\\x3cdiv class\\x3d\"cke_dialog_ui_labeled_content\"',\nc.controlStyle?' style\\x3d\"'+c.controlStyle+'\"':\"\",' role\\x3d\"presentation\"\\x3e',e.call(this,b,c),\"\\x3c/div\\x3e\"):(d={type:\"hbox\",widths:c.widths,padding:0,children:[{type:\"html\",html:'\\x3clabel class\\x3d\"cke_dialog_ui_labeled_label'+d+'\" id\\x3d\"'+f.labelId+'\" for\\x3d\"'+f.inputId+'\"'+(c.labelStyle?' style\\x3d\"'+c.labelStyle+'\"':\"\")+\"\\x3e\"+CKEDITOR.tools.htmlEncode(c.label)+\"\\x3c/label\\x3e\"},{type:\"html\",html:'\\x3cspan class\\x3d\"cke_dialog_ui_labeled_content\"'+(c.controlStyle?' style\\x3d\"'+c.controlStyle+\n'\"':\"\")+\"\\x3e\"+e.call(this,b,c)+\"\\x3c/span\\x3e\"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(b,d,a));return a.join(\"\")})}},textInput:function(b,c,e){if(!(3>arguments.length)){a.call(this,c);var f=this._.inputId=CKEDITOR.tools.getNextId()+\"_textInput\",l={\"class\":\"cke_dialog_ui_input_\"+c.type,id:f,type:c.type};c.validate&&(this.validate=c.validate);c.maxLength&&(l.maxlength=c.maxLength);c.size&&(l.size=c.size);c.inputStyle&&(l.style=c.inputStyle);var m=this,t=!1;b.on(\"load\",function(){m.getInputElement().on(\"keydown\",\nfunction(a){13==a.data.getKeystroke()&&(t=!0)});m.getInputElement().on(\"keyup\",function(a){13==a.data.getKeystroke()&&t&&(b.getButton(\"ok\")&&setTimeout(function(){b.getButton(\"ok\").click()},0),t=!1);m.bidi&&d.call(m,a)},null,null,1E3)});CKEDITOR.ui.dialog.labeledElement.call(this,b,c,e,function(){var a=['\\x3cdiv class\\x3d\"cke_dialog_ui_input_',c.type,'\" role\\x3d\"presentation\"'];c.width&&a.push('style\\x3d\"width:'+c.width+'\" ');a.push(\"\\x3e\\x3cinput \");l[\"aria-labelledby\"]=this._.labelId;this._.required&&\n(l[\"aria-required\"]=this._.required);for(var b in l)a.push(b+'\\x3d\"'+l[b]+'\" ');a.push(\" /\\x3e\\x3c/div\\x3e\");return a.join(\"\")})}},textarea:function(b,c,e){if(!(3>arguments.length)){a.call(this,c);var f=this,l=this._.inputId=CKEDITOR.tools.getNextId()+\"_textarea\",m={};c.validate&&(this.validate=c.validate);m.rows=c.rows||5;m.cols=c.cols||20;m[\"class\"]=\"cke_dialog_ui_input_textarea \"+(c[\"class\"]||\"\");\"undefined\"!=typeof c.inputStyle&&(m.style=c.inputStyle);c.dir&&(m.dir=c.dir);if(f.bidi)b.on(\"load\",\nfunction(){f.getInputElement().on(\"keyup\",d)},f);CKEDITOR.ui.dialog.labeledElement.call(this,b,c,e,function(){m[\"aria-labelledby\"]=this._.labelId;this._.required&&(m[\"aria-required\"]=this._.required);var a=['\\x3cdiv class\\x3d\"cke_dialog_ui_input_textarea\" role\\x3d\"presentation\"\\x3e\\x3ctextarea id\\x3d\"',l,'\" '],b;for(b in m)a.push(b+'\\x3d\"'+CKEDITOR.tools.htmlEncode(m[b])+'\" ');a.push(\"\\x3e\",CKEDITOR.tools.htmlEncode(f._[\"default\"]),\"\\x3c/textarea\\x3e\\x3c/div\\x3e\");return a.join(\"\")})}},checkbox:function(b,\nc,d){if(!(3>arguments.length)){var e=a.call(this,c,{\"default\":!!c[\"default\"]});c.validate&&(this.validate=c.validate);CKEDITOR.ui.dialog.uiElement.call(this,b,c,d,\"span\",null,null,function(){var a=CKEDITOR.tools.extend({},c,{id:c.id?c.id+\"_checkbox\":CKEDITOR.tools.getNextId()+\"_checkbox\"},!0),d=[],f=CKEDITOR.tools.getNextId()+\"_label\",g={\"class\":\"cke_dialog_ui_checkbox_input\",type:\"checkbox\",\"aria-labelledby\":f};l(a);c[\"default\"]&&(g.checked=\"checked\");\"undefined\"!=typeof a.inputStyle&&(a.style=a.inputStyle);\ne.checkbox=new CKEDITOR.ui.dialog.uiElement(b,a,d,\"input\",null,g);d.push(' \\x3clabel id\\x3d\"',f,'\" for\\x3d\"',g.id,'\"'+(c.labelStyle?' style\\x3d\"'+c.labelStyle+'\"':\"\")+\"\\x3e\",CKEDITOR.tools.htmlEncode(c.label),\"\\x3c/label\\x3e\");return d.join(\"\")})}},radio:function(b,c,d){if(!(3>arguments.length)){a.call(this,c);this._[\"default\"]||(this._[\"default\"]=this._.initValue=c.items[0][1]);c.validate&&(this.validate=c.validate);var e=[],f=this;c.role=\"radiogroup\";c.includeLabel=!0;CKEDITOR.ui.dialog.labeledElement.call(this,\nb,c,d,function(){for(var a=[],d=[],g=(c.id?c.id:CKEDITOR.tools.getNextId())+\"_radio\",m=0;m<c.items.length;m++){var u=c.items[m],B=void 0!==u[2]?u[2]:u[0],x=void 0!==u[1]?u[1]:u[0],w=CKEDITOR.tools.getNextId()+\"_radio_input\",z=w+\"_label\",w=CKEDITOR.tools.extend({},c,{id:w,title:null,type:null},!0),B=CKEDITOR.tools.extend({},w,{title:B},!0),D={type:\"radio\",\"class\":\"cke_dialog_ui_radio_input\",name:g,value:x,\"aria-labelledby\":z},y=[];f._[\"default\"]==x&&(D.checked=\"checked\");l(w);l(B);\"undefined\"!=typeof w.inputStyle&&\n(w.style=w.inputStyle);w.keyboardFocusable=!0;e.push(new CKEDITOR.ui.dialog.uiElement(b,w,y,\"input\",null,D));y.push(\" \");new CKEDITOR.ui.dialog.uiElement(b,B,y,\"label\",null,{id:z,\"for\":D.id},u[0]);a.push(y.join(\"\"))}new CKEDITOR.ui.dialog.hbox(b,e,a,d);return d.join(\"\")});this._.children=e}},button:function(b,c,d){if(arguments.length){\"function\"==typeof c&&(c=c(b.getParentEditor()));a.call(this,c,{disabled:c.disabled||!1});CKEDITOR.event.implementOn(this);var e=this;b.on(\"load\",function(){var a=this.getElement();\n(function(){a.on(\"click\",function(a){e.click();a.data.preventDefault()});a.on(\"keydown\",function(a){a.data.getKeystroke()in{32:1}&&(e.click(),a.data.preventDefault())})})();a.unselectable()},this);var f=CKEDITOR.tools.extend({},c);delete f.style;var l=CKEDITOR.tools.getNextId()+\"_label\";CKEDITOR.ui.dialog.uiElement.call(this,b,f,d,\"a\",null,{style:c.style,href:\"javascript:void(0)\",title:c.label,hidefocus:\"true\",\"class\":c[\"class\"],role:\"button\",\"aria-labelledby\":l},'\\x3cspan id\\x3d\"'+l+'\" class\\x3d\"cke_dialog_ui_button\"\\x3e'+\nCKEDITOR.tools.htmlEncode(c.label)+\"\\x3c/span\\x3e\")}},select:function(b,c,d){if(!(3>arguments.length)){var e=a.call(this,c);c.validate&&(this.validate=c.validate);e.inputId=CKEDITOR.tools.getNextId()+\"_select\";CKEDITOR.ui.dialog.labeledElement.call(this,b,c,d,function(){var a=CKEDITOR.tools.extend({},c,{id:c.id?c.id+\"_select\":CKEDITOR.tools.getNextId()+\"_select\"},!0),d=[],f=[],g={id:e.inputId,\"class\":\"cke_dialog_ui_input_select\",\"aria-labelledby\":this._.labelId};d.push('\\x3cdiv class\\x3d\"cke_dialog_ui_input_',\nc.type,'\" role\\x3d\"presentation\"');c.width&&d.push('style\\x3d\"width:'+c.width+'\" ');d.push(\"\\x3e\");void 0!==c.size&&(g.size=c.size);void 0!==c.multiple&&(g.multiple=c.multiple);l(a);for(var m=0,u;m<c.items.length&&(u=c.items[m]);m++)f.push('\\x3coption value\\x3d\"',CKEDITOR.tools.htmlEncode(void 0!==u[1]?u[1]:u[0]).replace(/\"/g,\"\\x26quot;\"),'\" /\\x3e ',CKEDITOR.tools.htmlEncode(u[0]));\"undefined\"!=typeof a.inputStyle&&(a.style=a.inputStyle);e.select=new CKEDITOR.ui.dialog.uiElement(b,a,d,\"select\",null,\ng,f.join(\"\"));d.push(\"\\x3c/div\\x3e\");return d.join(\"\")})}},file:function(b,c,d){if(!(3>arguments.length)){void 0===c[\"default\"]&&(c[\"default\"]=\"\");var e=CKEDITOR.tools.extend(a.call(this,c),{definition:c,buttons:[]});c.validate&&(this.validate=c.validate);b.on(\"load\",function(){CKEDITOR.document.getById(e.frameId).getParent().addClass(\"cke_dialog_ui_input_file\")});CKEDITOR.ui.dialog.labeledElement.call(this,b,c,d,function(){e.frameId=CKEDITOR.tools.getNextId()+\"_fileInput\";var a=['\\x3ciframe frameborder\\x3d\"0\" allowtransparency\\x3d\"0\" class\\x3d\"cke_dialog_ui_input_file\" role\\x3d\"presentation\" id\\x3d\"',\ne.frameId,'\" title\\x3d\"',c.label,'\" src\\x3d\"javascript:void('];a.push(CKEDITOR.env.ie?\"(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"})()\":\"0\");a.push(')\"\\x3e\\x3c/iframe\\x3e');return a.join(\"\")})}},fileButton:function(b,c,d){var e=this;if(!(3>arguments.length)){a.call(this,c);c.validate&&(this.validate=c.validate);var f=CKEDITOR.tools.extend({},c),l=f.onClick;f.className=(f.className?f.className+\" \":\"\")+\"cke_dialog_ui_button\";f.onClick=function(a){var d=\nc[\"for\"];l&&!1===l.call(this,a)||(b.getContentElement(d[0],d[1]).submit(),this.disable())};b.on(\"load\",function(){b.getContentElement(c[\"for\"][0],c[\"for\"][1])._.buttons.push(e)});CKEDITOR.ui.dialog.button.call(this,b,f,d)}},html:function(){var a=/^\\s*<[\\w:]+\\s+([^>]*)?>/,b=/^(\\s*<[\\w:]+(?:\\s+[^>]*)?)((?:.|\\r|\\n)+)$/,c=/\\/$/;return function(d,e,f){if(!(3>arguments.length)){var l=[],m=e.html;\"\\x3c\"!=m.charAt(0)&&(m=\"\\x3cspan\\x3e\"+m+\"\\x3c/span\\x3e\");var r=e.focus;if(r){var u=this.focus;this.focus=function(){(\"function\"==\ntypeof r?r:u).call(this);this.fire(\"focus\")};e.isFocusable&&(this.isFocusable=this.isFocusable);this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,d,e,l,\"span\",null,null,\"\");l=l.join(\"\").match(a);m=m.match(b)||[\"\",\"\",\"\"];c.test(m[1])&&(m[1]=m[1].slice(0,-1),m[2]=\"/\"+m[2]);f.push([m[1],\" \",l[1]||\"\",m[2]].join(\"\"))}}}(),fieldset:function(a,b,c,d,e){var f=e.label;this._={children:b};CKEDITOR.ui.dialog.uiElement.call(this,a,e,d,\"fieldset\",null,null,function(){var a=[];f&&a.push(\"\\x3clegend\"+\n(e.labelStyle?' style\\x3d\"'+e.labelStyle+'\"':\"\")+\"\\x3e\"+f+\"\\x3c/legend\\x3e\");for(var b=0;b<c.length;b++)a.push(c[b]);return a.join(\"\")})}},!0);CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement;CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(a){var b=CKEDITOR.document.getById(this._.labelId);1>b.getChildCount()?(new CKEDITOR.dom.text(a,CKEDITOR.document)).appendTo(b):b.getChild(0).$.nodeValue=a;return this},getLabel:function(){var a=\nCKEDITOR.document.getById(this._.labelId);return!a||1>a.getChildCount()?\"\":a.getChild(0).getText()},eventProcessors:e},!0);CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return this._.disabled?!1:this.fire(\"click\",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var a=this.getElement();a&&a.removeClass(\"cke_disabled\")},disable:function(){this._.disabled=!0;this.getElement().addClass(\"cke_disabled\")},isVisible:function(){return this.getElement().getFirst().isVisible()},\nisEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(a,b){this.on(\"click\",function(){b.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},\nfocus:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&b.$.focus()},0)},select:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&(b.$.focus(),b.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(a){if(this.bidi){var b=a&&a.charAt(0);(b=\"‪\"==b?\"ltr\":\"‫\"==b?\"rtl\":null)&&(a=a.slice(1));this.setDirectionMarker(b)}a||(a=\"\");return CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},\ngetValue:function(){var a=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&a){var b=this.getDirectionMarker();b&&(a=(\"ltr\"==b?\"‪\":\"‫\")+a)}return a},setDirectionMarker:function(a){var b=this.getInputElement();a?b.setAttributes({dir:a,\"data-cke-dir-marker\":a}):this.getDirectionMarker()&&b.removeAttributes([\"dir\",\"data-cke-dir-marker\"])},getDirectionMarker:function(){return this.getInputElement().data(\"cke-dir-marker\")},keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.textarea.prototype=\nnew CKEDITOR.ui.dialog.textInput;CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(a,b,c){var d=new CKEDITOR.dom.element(\"option\",this.getDialog().getParentEditor().document),e=this.getInputElement().$;d.$.text=a;d.$.value=void 0===b||null===b?a:b;void 0===c||null===c?CKEDITOR.env.ie?e.add(d.$):e.add(d.$,null):e.add(d.$,c);return this},remove:function(a){this.getInputElement().$.remove(a);\nreturn this},clear:function(){for(var a=this.getInputElement().$;0<a.length;)a.remove(0);return this},keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(a,b){this.getInputElement().$.checked=a;!b&&this.fire(\"change\",{value:a})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(a,\nb){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return e.onChange.apply(this,arguments);a.on(\"load\",function(){var a=this._.checkbox.getElement();a.on(\"propertychange\",function(b){b=b.data.$;\"checked\"==b.propertyName&&this.fire(\"change\",{value:a.$.checked})},this)},this);this.on(\"change\",b);return null}},keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(a,b){for(var c=this._.children,d,e=0;e<c.length&&(d=c[e]);e++)d.getElement().$.checked=\nd.getValue()==a;!b&&this.fire(\"change\",{value:a})},getValue:function(){for(var a=this._.children,b=0;b<a.length;b++)if(a[b].getElement().$.checked)return a[b].getValue();return null},accessKeyUp:function(){var a=this._.children,b;for(b=0;b<a.length;b++)if(a[b].getElement().$.checked){a[b].getElement().focus();return}a[0].getElement().focus()},eventProcessors:{onChange:function(a,b){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return e.onChange.apply(this,arguments);a.on(\"load\",function(){for(var a=\nthis._.children,b=this,c=0;c<a.length;c++)a[c].getElement().on(\"propertychange\",function(a){a=a.data.$;\"checked\"==a.propertyName&&this.$.checked&&b.fire(\"change\",{value:this.getAttribute(\"value\")})})},this);this.on(\"change\",b);return null}}},c,!0);CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,c,{getInputElement:function(){var a=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<a.$.forms.length?new CKEDITOR.dom.element(a.$.forms[0].elements[0]):\nthis.getElement()},submit:function(){this.getInputElement().getParent().$.submit();return this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(a){var b=/^on([A-Z]\\w+)/,c,d=function(a,b,c,d){a.on(\"formLoaded\",function(){a.getInputElement().on(c,d,a)})},e;for(e in a)if(c=e.match(b))this.eventProcessors[e]?this.eventProcessors[e].call(this,this._.dialog,a[e]):d(this,this._.dialog,c[1].toLowerCase(),a[e]);return this},reset:function(){function a(){c.$.open();\nvar h=\"\";d.size&&(h=d.size-(CKEDITOR.env.ie?7:0));var B=b.frameId+\"_input\";c.$.write(['\\x3chtml dir\\x3d\"'+m+'\" lang\\x3d\"'+r+'\"\\x3e\\x3chead\\x3e\\x3ctitle\\x3e\\x3c/title\\x3e\\x3c/head\\x3e\\x3cbody style\\x3d\"margin: 0; overflow: hidden; background: transparent;\"\\x3e','\\x3cform enctype\\x3d\"multipart/form-data\" method\\x3d\"POST\" dir\\x3d\"'+m+'\" lang\\x3d\"'+r+'\" action\\x3d\"',CKEDITOR.tools.htmlEncode(d.action),'\"\\x3e\\x3clabel id\\x3d\"',b.labelId,'\" for\\x3d\"',B,'\" style\\x3d\"display:none\"\\x3e',CKEDITOR.tools.htmlEncode(d.label),\n'\\x3c/label\\x3e\\x3cinput style\\x3d\"width:100%\" id\\x3d\"',B,'\" aria-labelledby\\x3d\"',b.labelId,'\" type\\x3d\"file\" name\\x3d\"',CKEDITOR.tools.htmlEncode(d.id||\"cke_upload\"),'\" size\\x3d\"',CKEDITOR.tools.htmlEncode(0<h?h:\"\"),'\" /\\x3e\\x3c/form\\x3e\\x3c/body\\x3e\\x3c/html\\x3e\\x3cscript\\x3e',CKEDITOR.env.ie?\"(\"+CKEDITOR.tools.fixDomain+\")();\":\"\",\"window.parent.CKEDITOR.tools.callFunction(\"+f+\");\",\"window.onbeforeunload \\x3d function() {window.parent.CKEDITOR.tools.callFunction(\"+l+\")}\",\"\\x3c/script\\x3e\"].join(\"\"));\nc.$.close();for(h=0;h<e.length;h++)e[h].enable()}var b=this._,c=CKEDITOR.document.getById(b.frameId).getFrameDocument(),d=b.definition,e=b.buttons,f=this.formLoadedNumber,l=this.formUnloadNumber,m=b.dialog._.editor.lang.dir,r=b.dialog._.editor.langCode;f||(f=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire(\"formLoaded\")},this),l=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(f);\nCKEDITOR.tools.removeFunction(l)}));CKEDITOR.env.gecko?setTimeout(a,500):a()},getValue:function(){return this.getInputElement().$.value||\"\"},setInitValue:function(){this._.initValue=\"\"},eventProcessors:{onChange:function(a,b){this._.domOnChangeRegistered||(this.on(\"formLoaded\",function(){this.getInputElement().on(\"change\",function(){this.fire(\"change\",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0);this.on(\"change\",b)}},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.fileButton.prototype=\nnew CKEDITOR.ui.dialog.button;CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype);CKEDITOR.dialog.addUIElement(\"text\",f);CKEDITOR.dialog.addUIElement(\"password\",f);CKEDITOR.dialog.addUIElement(\"textarea\",b);CKEDITOR.dialog.addUIElement(\"checkbox\",b);CKEDITOR.dialog.addUIElement(\"radio\",b);CKEDITOR.dialog.addUIElement(\"button\",b);CKEDITOR.dialog.addUIElement(\"select\",b);CKEDITOR.dialog.addUIElement(\"file\",b);CKEDITOR.dialog.addUIElement(\"fileButton\",b);CKEDITOR.dialog.addUIElement(\"html\",\nb);CKEDITOR.dialog.addUIElement(\"fieldset\",{build:function(a,b,c){for(var d=b.children,e,f=[],l=[],m=0;m<d.length&&(e=d[m]);m++){var r=[];f.push(r);l.push(CKEDITOR.dialog._.uiElementBuilders[e.type].build(a,e,r))}return new CKEDITOR.ui.dialog[b.type](a,l,f,c,b)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function a(){for(var a=this._.tabIdList.length,\nb=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+a,c=b-1;c>b-a;c--)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function f(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),c=b+1;c<b+a;c++)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function b(a,b){for(var c=a.$.getElementsByTagName(\"input\"),d=0,e=c.length;d<e;d++){var f=new CKEDITOR.dom.element(c[d]);\n\"text\"==f.getAttribute(\"type\").toLowerCase()&&(b?(f.setAttribute(\"value\",f.getCustomData(\"fake_value\")||\"\"),f.removeCustomData(\"fake_value\")):(f.setCustomData(\"fake_value\",f.getAttribute(\"value\")),f.setAttribute(\"value\",\"\")))}}function c(a,b){var c=this.getInputElement();c&&(a?c.removeAttribute(\"aria-invalid\"):c.setAttribute(\"aria-invalid\",!0));a||(this.select?this.select():this.focus());b&&alert(b);this.fire(\"validated\",{valid:a,msg:b})}function e(){var a=this.getInputElement();a&&a.removeAttribute(\"aria-invalid\")}\nfunction m(a){var b=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate(\"dialog\",v).output({id:CKEDITOR.tools.getNextNumber(),editorId:a.id,langDir:a.lang.dir,langCode:a.langCode,editorDialogClass:\"cke_editor_\"+a.name.replace(/\\./g,\"\\\\.\")+\"_dialog\",closeTitle:a.lang.common.close,hidpi:CKEDITOR.env.hidpi?\"cke_hidpi\":\"\"})),c=b.getChild([0,0,0,0,0]),d=c.getChild(0),e=c.getChild(1);a.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(c);!CKEDITOR.env.ie||CKEDITOR.env.quirks||\nCKEDITOR.env.edge||(a=\"javascript:void(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"}())\",CKEDITOR.dom.element.createFromHtml('\\x3ciframe frameBorder\\x3d\"0\" class\\x3d\"cke_iframe_shim\" src\\x3d\"'+a+'\" tabIndex\\x3d\"-1\"\\x3e\\x3c/iframe\\x3e').appendTo(c.getParent()));d.unselectable();e.unselectable();return{element:b,parts:{dialog:b.getChild(0),title:d,close:e,tabs:c.getChild(2),contents:c.getChild([3,0,0,0]),footer:c.getChild([3,0,1,0])}}}function l(a,\nb,c){this.element=b;this.focusIndex=c;this.tabIndex=0;this.isFocusable=function(){return!b.getAttribute(\"disabled\")&&b.isVisible()};this.focus=function(){a._.currentFocusIndex=this.focusIndex;this.element.focus()};b.on(\"keydown\",function(a){a.data.getKeystroke()in{32:1,13:1}&&this.fire(\"click\")});b.on(\"focus\",function(){this.fire(\"mouseover\")});b.on(\"blur\",function(){this.fire(\"mouseout\")})}function d(a){function b(){a.layout()}var c=CKEDITOR.document.getWindow();c.on(\"resize\",b);a.on(\"hide\",function(){c.removeListener(\"resize\",\nb)})}function h(a,b){this._={dialog:a};CKEDITOR.tools.extend(this,b)}function k(a){function b(c){var k=a.getSize(),l=CKEDITOR.document.getWindow().getViewPaneSize(),m=c.data.$.screenX,n=c.data.$.screenY,u=m-d.x,r=n-d.y;d={x:m,y:n};e.x+=u;e.y+=r;a.move(e.x+h[3]<g?-h[3]:e.x-h[1]>l.width-k.width-g?l.width-k.width+(\"rtl\"==f.lang.dir?0:h[1]):e.x,e.y+h[0]<g?-h[0]:e.y-h[2]>l.height-k.height-g?l.height-k.height+h[2]:e.y,1);c.data.preventDefault()}function c(){CKEDITOR.document.removeListener(\"mousemove\",\nb);CKEDITOR.document.removeListener(\"mouseup\",c);if(CKEDITOR.env.ie6Compat){var a=y.getChild(0).getFrameDocument();a.removeListener(\"mousemove\",b);a.removeListener(\"mouseup\",c)}}var d=null,e=null,f=a.getParentEditor(),g=f.config.dialog_magnetDistance,h=CKEDITOR.skin.margins||[0,0,0,0];\"undefined\"==typeof g&&(g=20);a.parts.title.on(\"mousedown\",function(f){d={x:f.data.$.screenX,y:f.data.$.screenY};CKEDITOR.document.on(\"mousemove\",b);CKEDITOR.document.on(\"mouseup\",c);e=a.getPosition();if(CKEDITOR.env.ie6Compat){var g=\ny.getChild(0).getFrameDocument();g.on(\"mousemove\",b);g.on(\"mouseup\",c)}f.data.preventDefault()},a)}function g(a){function b(c){var n=\"rtl\"==f.lang.dir,u=m.width,r=m.height,t=u+(c.data.$.screenX-l.x)*(n?-1:1)*(a._.moved?1:2),v=r+(c.data.$.screenY-l.y)*(a._.moved?1:2),B=a._.element.getFirst(),B=n&&B.getComputedStyle(\"right\"),x=a.getPosition();x.y+v>k.height&&(v=k.height-x.y);(n?B:x.x)+t>k.width&&(t=k.width-(n?B:x.x));if(e==CKEDITOR.DIALOG_RESIZE_WIDTH||e==CKEDITOR.DIALOG_RESIZE_BOTH)u=Math.max(d.minWidth||\n0,t-g);if(e==CKEDITOR.DIALOG_RESIZE_HEIGHT||e==CKEDITOR.DIALOG_RESIZE_BOTH)r=Math.max(d.minHeight||0,v-h);a.resize(u,r);a._.moved||a.layout();c.data.preventDefault()}function c(){CKEDITOR.document.removeListener(\"mouseup\",c);CKEDITOR.document.removeListener(\"mousemove\",b);n&&(n.remove(),n=null);if(CKEDITOR.env.ie6Compat){var a=y.getChild(0).getFrameDocument();a.removeListener(\"mouseup\",c);a.removeListener(\"mousemove\",b)}}var d=a.definition,e=d.resizable;if(e!=CKEDITOR.DIALOG_RESIZE_NONE){var f=a.getParentEditor(),\ng,h,k,l,m,n,u=CKEDITOR.tools.addFunction(function(d){m=a.getSize();var e=a.parts.contents;e.$.getElementsByTagName(\"iframe\").length&&(n=CKEDITOR.dom.element.createFromHtml('\\x3cdiv class\\x3d\"cke_dialog_resize_cover\" style\\x3d\"height: 100%; position: absolute; width: 100%;\"\\x3e\\x3c/div\\x3e'),e.append(n));h=m.height-a.parts.contents.getSize(\"height\",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks));g=m.width-a.parts.contents.getSize(\"width\",1);l={x:d.screenX,y:d.screenY};k=CKEDITOR.document.getWindow().getViewPaneSize();\nCKEDITOR.document.on(\"mousemove\",b);CKEDITOR.document.on(\"mouseup\",c);CKEDITOR.env.ie6Compat&&(e=y.getChild(0).getFrameDocument(),e.on(\"mousemove\",b),e.on(\"mouseup\",c));d.preventDefault&&d.preventDefault()});a.on(\"load\",function(){var b=\"\";e==CKEDITOR.DIALOG_RESIZE_WIDTH?b=\" cke_resizer_horizontal\":e==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(b=\" cke_resizer_vertical\");b=CKEDITOR.dom.element.createFromHtml('\\x3cdiv class\\x3d\"cke_resizer'+b+\" cke_resizer_\"+f.lang.dir+'\" title\\x3d\"'+CKEDITOR.tools.htmlEncode(f.lang.common.resize)+\n'\" onmousedown\\x3d\"CKEDITOR.tools.callFunction('+u+', event )\"\\x3e'+(\"ltr\"==f.lang.dir?\"◢\":\"◣\")+\"\\x3c/div\\x3e\");a.parts.footer.append(b,1)});f.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(u)})}}function n(a){a.data.preventDefault(1)}function q(a){var b=CKEDITOR.document.getWindow(),c=a.config,d=CKEDITOR.skinName||a.config.skin,e=c.dialog_backgroundCoverColor||(\"moono-lisa\"==d?\"black\":\"white\"),d=c.dialog_backgroundCoverOpacity,f=c.baseFloatZIndex,c=CKEDITOR.tools.genKey(e,d,f),g=D[c];g?g.show():\n(f=['\\x3cdiv tabIndex\\x3d\"-1\" style\\x3d\"position: ',CKEDITOR.env.ie6Compat?\"absolute\":\"fixed\",\"; z-index: \",f,\"; top: 0px; left: 0px; \",CKEDITOR.env.ie6Compat?\"\":\"background-color: \"+e,'\" class\\x3d\"cke_dialog_background_cover\"\\x3e'],CKEDITOR.env.ie6Compat&&(e=\"\\x3chtml\\x3e\\x3cbody style\\x3d\\\\'background-color:\"+e+\";\\\\'\\x3e\\x3c/body\\x3e\\x3c/html\\x3e\",f.push('\\x3ciframe hidefocus\\x3d\"true\" frameborder\\x3d\"0\" id\\x3d\"cke_dialog_background_iframe\" src\\x3d\"javascript:'),f.push(\"void((function(){\"+encodeURIComponent(\"document.open();(\"+\nCKEDITOR.tools.fixDomain+\")();document.write( '\"+e+\"' );document.close();\")+\"})())\"),f.push('\" style\\x3d\"position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity\\x3d0)\"\\x3e\\x3c/iframe\\x3e')),f.push(\"\\x3c/div\\x3e\"),g=CKEDITOR.dom.element.createFromHtml(f.join(\"\")),g.setOpacity(void 0!==d?d:.5),g.on(\"keydown\",n),g.on(\"keypress\",n),g.on(\"keyup\",n),g.appendTo(CKEDITOR.document.getBody()),D[c]=g);a.focusManager.add(g);y=g;a=function(){var a=b.getViewPaneSize();\ng.setStyles({width:a.width+\"px\",height:a.height+\"px\"})};var h=function(){var a=b.getScrollPosition(),c=CKEDITOR.dialog._.currentTop;g.setStyles({left:a.x+\"px\",top:a.y+\"px\"});if(c){do a=c.getPosition(),c.move(a.x,a.y);while(c=c._.parentDialog)}};z=a;b.on(\"resize\",a);a();CKEDITOR.env.mac&&CKEDITOR.env.webkit||g.focus();if(CKEDITOR.env.ie6Compat){var k=function(){h();arguments.callee.prevScrollHandler.apply(this,arguments)};b.$.setTimeout(function(){k.prevScrollHandler=window.onscroll||function(){};\nwindow.onscroll=k},0);h()}}function p(a){y&&(a.focusManager.remove(y),a=CKEDITOR.document.getWindow(),y.hide(),a.removeListener(\"resize\",z),CKEDITOR.env.ie6Compat&&a.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),z=null)}var t=CKEDITOR.tools.cssLength,v='\\x3cdiv class\\x3d\"cke_reset_all {editorId} {editorDialogClass} {hidpi}\" dir\\x3d\"{langDir}\" lang\\x3d\"{langCode}\" role\\x3d\"dialog\" aria-labelledby\\x3d\"cke_dialog_title_{id}\"\\x3e\\x3ctable class\\x3d\"cke_dialog '+\nCKEDITOR.env.cssClass+' cke_{langDir}\" style\\x3d\"position:absolute\" role\\x3d\"presentation\"\\x3e\\x3ctr\\x3e\\x3ctd role\\x3d\"presentation\"\\x3e\\x3cdiv class\\x3d\"cke_dialog_body\" role\\x3d\"presentation\"\\x3e\\x3cdiv id\\x3d\"cke_dialog_title_{id}\" class\\x3d\"cke_dialog_title\" role\\x3d\"presentation\"\\x3e\\x3c/div\\x3e\\x3ca id\\x3d\"cke_dialog_close_button_{id}\" class\\x3d\"cke_dialog_close_button\" href\\x3d\"javascript:void(0)\" title\\x3d\"{closeTitle}\" role\\x3d\"button\"\\x3e\\x3cspan class\\x3d\"cke_label\"\\x3eX\\x3c/span\\x3e\\x3c/a\\x3e\\x3cdiv id\\x3d\"cke_dialog_tabs_{id}\" class\\x3d\"cke_dialog_tabs\" role\\x3d\"tablist\"\\x3e\\x3c/div\\x3e\\x3ctable class\\x3d\"cke_dialog_contents\" role\\x3d\"presentation\"\\x3e\\x3ctr\\x3e\\x3ctd id\\x3d\"cke_dialog_contents_{id}\" class\\x3d\"cke_dialog_contents_body\" role\\x3d\"presentation\"\\x3e\\x3c/td\\x3e\\x3c/tr\\x3e\\x3ctr\\x3e\\x3ctd id\\x3d\"cke_dialog_footer_{id}\" class\\x3d\"cke_dialog_footer\" role\\x3d\"presentation\"\\x3e\\x3c/td\\x3e\\x3c/tr\\x3e\\x3c/table\\x3e\\x3c/div\\x3e\\x3c/td\\x3e\\x3c/tr\\x3e\\x3c/table\\x3e\\x3c/div\\x3e';\nCKEDITOR.dialog=function(b,d){function h(){var a=y._.focusList;a.sort(function(a,b){return a.tabIndex!=b.tabIndex?b.tabIndex-a.tabIndex:a.focusIndex-b.focusIndex});for(var b=a.length,c=0;c<b;c++)a[c].focusIndex=c}function l(a){var b=y._.focusList;a=a||0;if(!(1>b.length)){var c=y._.currentFocusIndex;y._.tabBarMode&&0>a&&(c=0);try{b[c].getInputElement().$.blur()}catch(d){}var e=c,f=1<y._.pageCount;do{e+=a;if(f&&!y._.tabBarMode&&(e==b.length||-1==e)){y._.tabBarMode=!0;y._.tabs[y._.currentTabId][0].focus();\ny._.currentFocusIndex=-1;return}e=(e+b.length)%b.length;if(e==c)break}while(a&&!b[e].isFocusable());b[e].focus();\"text\"==b[e].type&&b[e].select()}}function n(c){if(y==CKEDITOR.dialog._.currentTop){var d=c.data.getKeystroke(),e=\"rtl\"==b.lang.dir,g=[37,38,39,40];q=z=0;if(9==d||d==CKEDITOR.SHIFT+9)l(d==CKEDITOR.SHIFT+9?-1:1),q=1;else if(d==CKEDITOR.ALT+121&&!y._.tabBarMode&&1<y.getPageCount())y._.tabBarMode=!0,y._.tabs[y._.currentTabId][0].focus(),y._.currentFocusIndex=-1,q=1;else if(-1!=CKEDITOR.tools.indexOf(g,\nd)&&y._.tabBarMode)d=-1!=CKEDITOR.tools.indexOf([e?39:37,38],d)?a.call(y):f.call(y),y.selectPage(d),y._.tabs[d][0].focus(),q=1;else if(13!=d&&32!=d||!y._.tabBarMode)if(13==d)d=c.data.getTarget(),d.is(\"a\",\"button\",\"select\",\"textarea\")||d.is(\"input\")&&\"button\"==d.$.type||((d=this.getButton(\"ok\"))&&CKEDITOR.tools.setTimeout(d.click,0,d),q=1),z=1;else if(27==d)(d=this.getButton(\"cancel\"))?CKEDITOR.tools.setTimeout(d.click,0,d):!1!==this.fire(\"cancel\",{hide:!0}).hide&&this.hide(),z=1;else return;else this.selectPage(this._.currentTabId),\nthis._.tabBarMode=!1,this._.currentFocusIndex=-1,l(1),q=1;u(c)}}function u(a){q?a.data.preventDefault(1):z&&a.data.stopPropagation()}var t=CKEDITOR.dialog._.dialogDefinitions[d],v=CKEDITOR.tools.clone(r),B=b.config.dialog_buttonsOrder||\"OS\",x=b.lang.dir,p={},q,z;(\"OS\"==B&&CKEDITOR.env.mac||\"rtl\"==B&&\"ltr\"==x||\"ltr\"==B&&\"rtl\"==x)&&v.buttons.reverse();t=CKEDITOR.tools.extend(t(b),v);t=CKEDITOR.tools.clone(t);t=new w(this,t);v=m(b);this._={editor:b,element:v.element,name:d,contentSize:{width:0,height:0},\nsize:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1};this.parts=v.parts;CKEDITOR.tools.setTimeout(function(){b.fire(\"ariaWidget\",this.parts.contents)},0,this);v={position:CKEDITOR.env.ie6Compat?\"absolute\":\"fixed\",top:0,visibility:\"hidden\"};v[\"rtl\"==x?\"right\":\"left\"]=0;this.parts.dialog.setStyles(v);CKEDITOR.event.call(this);this.definition=t=CKEDITOR.fire(\"dialogDefinition\",\n{name:d,definition:t},b).definition;if(!(\"removeDialogTabs\"in b._)&&b.config.removeDialogTabs){v=b.config.removeDialogTabs.split(\";\");for(x=0;x<v.length;x++)if(B=v[x].split(\":\"),2==B.length){var D=B[0];p[D]||(p[D]=[]);p[D].push(B[1])}b._.removeDialogTabs=p}if(b._.removeDialogTabs&&(p=b._.removeDialogTabs[d]))for(x=0;x<p.length;x++)t.removeContents(p[x]);if(t.onLoad)this.on(\"load\",t.onLoad);if(t.onShow)this.on(\"show\",t.onShow);if(t.onHide)this.on(\"hide\",t.onHide);if(t.onOk)this.on(\"ok\",function(a){b.fire(\"saveSnapshot\");\nsetTimeout(function(){b.fire(\"saveSnapshot\")},0);!1===t.onOk.call(this,a)&&(a.data.hide=!1)});this.state=CKEDITOR.DIALOG_STATE_IDLE;if(t.onCancel)this.on(\"cancel\",function(a){!1===t.onCancel.call(this,a)&&(a.data.hide=!1)});var y=this,A=function(a){var b=y._.contents,c=!1,d;for(d in b)for(var e in b[d])if(c=a.call(this,b[d][e]))return};this.on(\"ok\",function(a){A(function(b){if(b.validate){var d=b.validate(this),e=\"string\"==typeof d||!1===d;e&&(a.data.hide=!1,a.stop());c.call(b,!e,\"string\"==typeof d?\nd:void 0);return e}})},this,null,0);this.on(\"cancel\",function(a){A(function(c){if(c.isChanged())return b.config.dialog_noConfirmCancel||confirm(b.lang.common.confirmCancel)||(a.data.hide=!1),!0})},this,null,0);this.parts.close.on(\"click\",function(a){!1!==this.fire(\"cancel\",{hide:!0}).hide&&this.hide();a.data.preventDefault()},this);this.changeFocus=l;var C=this._.element;b.focusManager.add(C,1);this.on(\"show\",function(){C.on(\"keydown\",n,this);if(CKEDITOR.env.gecko)C.on(\"keypress\",u,this)});this.on(\"hide\",\nfunction(){C.removeListener(\"keydown\",n);CKEDITOR.env.gecko&&C.removeListener(\"keypress\",u);A(function(a){e.apply(a)})});this.on(\"iframeAdded\",function(a){(new CKEDITOR.dom.document(a.data.iframe.$.contentWindow.document)).on(\"keydown\",n,this,null,0)});this.on(\"show\",function(){h();var a=1<y._.pageCount;b.config.dialog_startupFocusTab&&a?(y._.tabBarMode=!0,y._.tabs[y._.currentTabId][0].focus(),y._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=a?-1:this._.focusList.length-1,t.onFocus?\n(a=t.onFocus.call(this))&&a.focus():l(1))},this,null,4294967295);if(CKEDITOR.env.ie6Compat)this.on(\"load\",function(){var a=this.getElement(),b=a.getFirst();b.remove();b.appendTo(a)},this);k(this);g(this);(new CKEDITOR.dom.text(t.title,CKEDITOR.document)).appendTo(this.parts.title);for(x=0;x<t.contents.length;x++)(p=t.contents[x])&&this.addPage(p);this.parts.tabs.on(\"click\",function(a){var b=a.data.getTarget();b.hasClass(\"cke_dialog_tab\")&&(b=b.$.id,this.selectPage(b.substring(4,b.lastIndexOf(\"_\"))),\nthis._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,l(1)),a.data.preventDefault())},this);x=[];p=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:\"hbox\",className:\"cke_dialog_footer_buttons\",widths:[],children:t.buttons},x).getChild();this.parts.footer.setHtml(x.join(\"\"));for(x=0;x<p.length;x++)this._.buttons[p[x].id]=p[x]};CKEDITOR.dialog.prototype={destroy:function(){this.hide();this._.element.remove()},resize:function(){return function(a,b){this._.contentSize&&this._.contentSize.width==\na&&this._.contentSize.height==b||(CKEDITOR.dialog.fire(\"resize\",{dialog:this,width:a,height:b},this._.editor),this.fire(\"resize\",{width:a,height:b},this._.editor),this.parts.contents.setStyles({width:a+\"px\",height:b+\"px\"}),\"rtl\"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle(\"right\"),10)),this._.contentSize={width:a,height:b})}}(),getSize:function(){var a=this._.element.getFirst();\nreturn{width:a.$.offsetWidth||0,height:a.$.offsetHeight||0}},move:function(a,b,c){var d=this._.element.getFirst(),e=\"rtl\"==this._.editor.lang.dir,f=\"fixed\"==d.getComputedStyle(\"position\");CKEDITOR.env.ie&&d.setStyle(\"zoom\",\"100%\");f&&this._.position&&this._.position.x==a&&this._.position.y==b||(this._.position={x:a,y:b},f||(f=CKEDITOR.document.getWindow().getScrollPosition(),a+=f.x,b+=f.y),e&&(f=this.getSize(),a=CKEDITOR.document.getWindow().getViewPaneSize().width-f.width-a),b={top:(0<b?b:0)+\"px\"},\nb[e?\"right\":\"left\"]=(0<a?a:0)+\"px\",d.setStyles(b),c&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var a=this._.element,b=this.definition;a.getParent()&&a.getParent().equals(CKEDITOR.document.getBody())?a.setStyle(\"display\",\"block\"):a.appendTo(CKEDITOR.document.getBody());this.resize(this._.contentSize&&this._.contentSize.width||b.width||b.minWidth,this._.contentSize&&this._.contentSize.height||b.height||b.minHeight);this.reset();this.selectPage(this.definition.contents[0].id);\nnull===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex);this._.element.getFirst().setStyle(\"z-index\",CKEDITOR.dialog._.currentZIndex+=10);null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,q(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this);\na.on(\"keydown\",C);a.on(\"keyup\",F);this._.hasFocus=!1;for(var c in b.contents)if(b.contents[c]){var a=b.contents[c],e=this._.tabs[a.id],f=a.requiredContent,g=0;if(e){for(var h in this._.contents[a.id]){var k=this._.contents[a.id][h];\"hbox\"!=k.type&&\"vbox\"!=k.type&&k.getInputElement()&&(k.requiredContent&&!this._.editor.activeFilter.check(k.requiredContent)?k.disable():(k.enable(),g++))}!g||f&&!this._.editor.activeFilter.check(f)?e[0].addClass(\"cke_dialog_tab_disabled\"):e[0].removeClass(\"cke_dialog_tab_disabled\")}}CKEDITOR.tools.setTimeout(function(){this.layout();\nd(this);this.parts.dialog.setStyle(\"visibility\",\"\");this.fireOnce(\"load\",{});CKEDITOR.ui.fire(\"ready\",this);this.fire(\"show\",{});this._.editor.fire(\"dialogShow\",this);this._.parentDialog||this._.editor.focusManager.lock();this.foreach(function(a){a.setInitValue&&a.setInitValue()})},100,this)},layout:function(){var a=this.parts.dialog,b=this.getSize(),c=CKEDITOR.document.getWindow().getViewPaneSize(),d=(c.width-b.width)/2,e=(c.height-b.height)/2;CKEDITOR.env.ie6Compat||(b.height+(0<e?e:0)>c.height||\nb.width+(0<d?d:0)>c.width?a.setStyle(\"position\",\"absolute\"):a.setStyle(\"position\",\"fixed\"));this.move(this._.moved?this._.position.x:d,this._.moved?this._.position.y:e)},foreach:function(a){for(var b in this._.contents)for(var c in this._.contents[b])a.call(this,this._.contents[b][c]);return this},reset:function(){var a=function(a){a.reset&&a.reset(1)};return function(){this.foreach(a);return this}}(),setupContent:function(){var a=arguments;this.foreach(function(b){b.setup&&b.setup.apply(b,a)})},\ncommitContent:function(){var a=arguments;this.foreach(function(b){CKEDITOR.env.ie&&this._.currentFocusIndex==b.focusIndex&&b.getInputElement().$.blur();b.commit&&b.commit.apply(b,a)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire(\"hide\",{});this._.editor.fire(\"dialogHide\",this);this.selectPage(this._.tabIdList[0]);var a=this._.element;a.setStyle(\"display\",\"none\");this.parts.dialog.setStyle(\"visibility\",\"hidden\");for(J(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();\nif(this._.parentDialog){var b=this._.parentDialog.getElement().getFirst();b.setStyle(\"z-index\",parseInt(b.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else p(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null;a.removeListener(\"keydown\",C);a.removeListener(\"keyup\",F);var c=this._.editor;c.focus();setTimeout(function(){c.focusManager.unlock();CKEDITOR.env.iOS&&c.window.focus()},0)}delete this._.parentDialog;\nthis.foreach(function(a){a.resetInitValue&&a.resetInitValue()});this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(a){if(!a.requiredContent||this._.editor.filter.check(a.requiredContent)){for(var b=[],c=a.label?' title\\x3d\"'+CKEDITOR.tools.htmlEncode(a.label)+'\"':\"\",d=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:\"vbox\",className:\"cke_dialog_page_contents\",children:a.elements,expand:!!a.expand,padding:a.padding,style:a.style||\"width: 100%;\"},b),e=this._.contents[a.id]={},f=d.getChild(),\ng=0;d=f.shift();)d.notAllowed||\"hbox\"==d.type||\"vbox\"==d.type||g++,e[d.id]=d,\"function\"==typeof d.getChild&&f.push.apply(f,d.getChild());g||(a.hidden=!0);b=CKEDITOR.dom.element.createFromHtml(b.join(\"\"));b.setAttribute(\"role\",\"tabpanel\");d=CKEDITOR.env;e=\"cke_\"+a.id+\"_\"+CKEDITOR.tools.getNextNumber();c=CKEDITOR.dom.element.createFromHtml(['\\x3ca class\\x3d\"cke_dialog_tab\"',0<this._.pageCount?\" cke_last\":\"cke_first\",c,a.hidden?' style\\x3d\"display:none\"':\"\",' id\\x3d\"',e,'\"',d.gecko&&!d.hc?\"\":' href\\x3d\"javascript:void(0)\"',\n' tabIndex\\x3d\"-1\" hidefocus\\x3d\"true\" role\\x3d\"tab\"\\x3e',a.label,\"\\x3c/a\\x3e\"].join(\"\"));b.setAttribute(\"aria-labelledby\",e);this._.tabs[a.id]=[c,b];this._.tabIdList.push(a.id);!a.hidden&&this._.pageCount++;this._.lastTab=c;this.updateStyle();b.setAttribute(\"name\",a.id);b.appendTo(this.parts.contents);c.unselectable();this.parts.tabs.append(c);a.accessKey&&(E(this,this,\"CTRL+\"+a.accessKey,M,G),this._.accessKeyMap[\"CTRL+\"+a.accessKey]=a.id)}},selectPage:function(a){if(this._.currentTabId!=a&&!this._.tabs[a][0].hasClass(\"cke_dialog_tab_disabled\")&&\n!1!==this.fire(\"selectPage\",{page:a,currentPage:this._.currentTabId})){for(var c in this._.tabs){var d=this._.tabs[c][0],e=this._.tabs[c][1];c!=a&&(d.removeClass(\"cke_dialog_tab_selected\"),e.hide());e.setAttribute(\"aria-hidden\",c!=a)}var f=this._.tabs[a];f[0].addClass(\"cke_dialog_tab_selected\");CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(b(f[1]),f[1].show(),setTimeout(function(){b(f[1],1)},0)):f[1].show();this._.currentTabId=a;this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,a)}},\nupdateStyle:function(){this.parts.dialog[(1===this._.pageCount?\"add\":\"remove\")+\"Class\"](\"cke_single_page\")},hidePage:function(b){var c=this._.tabs[b]&&this._.tabs[b][0];c&&1!=this._.pageCount&&c.isVisible()&&(b==this._.currentTabId&&this.selectPage(a.call(this)),c.hide(),this._.pageCount--,this.updateStyle())},showPage:function(a){if(a=this._.tabs[a]&&this._.tabs[a][0])a.show(),this._.pageCount++,this.updateStyle()},getElement:function(){return this._.element},getName:function(){return this._.name},\ngetContentElement:function(a,b){var c=this._.contents[a];return c&&c[b]},getValueOf:function(a,b){return this.getContentElement(a,b).getValue()},setValueOf:function(a,b,c){return this.getContentElement(a,b).setValue(c)},getButton:function(a){return this._.buttons[a]},click:function(a){return this._.buttons[a].click()},disableButton:function(a){return this._.buttons[a].disable()},enableButton:function(a){return this._.buttons[a].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},\ngetSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(a,b){if(\"undefined\"==typeof b)b=this._.focusList.length,this._.focusList.push(new l(this,a,b));else{this._.focusList.splice(b,0,new l(this,a,b));for(var c=b+1;c<this._.focusList.length;c++)this._.focusList[c].focusIndex++}},setState:function(a){if(this.state!=a){this.state=a;if(a==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var b=this.getParentEditor().lang.dir,c={attributes:{\"class\":\"cke_dialog_spinner\"},\nstyles:{\"float\":\"rtl\"==b?\"right\":\"left\"}};c.styles[\"margin-\"+(\"rtl\"==b?\"left\":\"right\")]=\"8px\";this.parts.spinner=CKEDITOR.document.createElement(\"div\",c);this.parts.spinner.setHtml(\"\\x26#8987;\");this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show();this.getButton(\"ok\").disable()}else a==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton(\"ok\").enable());this.fire(\"state\",a)}}};CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(a,b){this._.dialogDefinitions[a]&&\n\"function\"!=typeof b||(this._.dialogDefinitions[a]=b)},exists:function(a){return!!this._.dialogDefinitions[a]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(a,b,c){a=a.config.removeDialogTabs;return!(a&&a.match(new RegExp(\"(?:^|;)\"+b+\":\"+c+\"(?:$|;)\",\"i\")))},okButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:\"ok\",type:\"button\",label:a.lang.common.ok,\"class\":\"cke_dialog_ui_button_ok\",onClick:function(a){a=a.data.dialog;!1!==a.fire(\"ok\",\n{hide:!0}).hide&&a.hide()}},b,!0)};a.type=\"button\";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:\"button\"},!0)};return a}(),cancelButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:\"cancel\",type:\"button\",label:a.lang.common.cancel,\"class\":\"cke_dialog_ui_button_cancel\",onClick:function(a){a=a.data.dialog;!1!==a.fire(\"cancel\",{hide:!0}).hide&&a.hide()}},b,!0)};a.type=\"button\";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,\nb)},{type:\"button\"},!0)};return a}(),addUIElement:function(a,b){this._.uiElementBuilders[a]=b}});CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};CKEDITOR.event.implementOn(CKEDITOR.dialog);CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var r={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},u=function(a,b,c){for(var d=0,e;e=a[d];d++)if(e.id==b||c&&e[c]&&(e=u(e[c],\nb,c)))return e;return null},B=function(a,b,c,d,e){if(c){for(var f=0,g;g=a[f];f++){if(g.id==c)return a.splice(f,0,b),b;if(d&&g[d]&&(g=B(g[d],b,c,d,!0)))return g}if(e)return null}a.push(b);return b},x=function(a,b,c){for(var d=0,e;e=a[d];d++){if(e.id==b)return a.splice(d,1);if(c&&e[c]&&(e=x(e[c],b,c)))return e}return null},w=function(a,b){this.dialog=a;for(var c=b.contents,d=0,e;e=c[d];d++)c[d]=e&&new h(a,e);CKEDITOR.tools.extend(this,b)};w.prototype={getContents:function(a){return u(this.contents,\na)},getButton:function(a){return u(this.buttons,a)},addContents:function(a,b){return B(this.contents,a,b)},addButton:function(a,b){return B(this.buttons,a,b)},removeContents:function(a){x(this.contents,a)},removeButton:function(a){x(this.buttons,a)}};h.prototype={get:function(a){return u(this.elements,a,\"children\")},add:function(a,b){return B(this.elements,a,b,\"children\")},remove:function(a){x(this.elements,a,\"children\")}};var z,D={},y,A={},C=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=\na.data.$.altKey,d=a.data.$.shiftKey,e=String.fromCharCode(a.data.$.keyCode);(b=A[(b?\"CTRL+\":\"\")+(c?\"ALT+\":\"\")+(d?\"SHIFT+\":\"\")+e])&&b.length&&(b=b[b.length-1],b.keydown&&b.keydown.call(b.uiElement,b.dialog,b.key),a.data.preventDefault())},F=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,d=a.data.$.shiftKey,e=String.fromCharCode(a.data.$.keyCode);(b=A[(b?\"CTRL+\":\"\")+(c?\"ALT+\":\"\")+(d?\"SHIFT+\":\"\")+e])&&b.length&&(b=b[b.length-1],b.keyup&&(b.keyup.call(b.uiElement,b.dialog,b.key),\na.data.preventDefault()))},E=function(a,b,c,d,e){(A[c]||(A[c]=[])).push({uiElement:a,dialog:b,key:c,keyup:e||a.accessKeyUp,keydown:d||a.accessKeyDown})},J=function(a){for(var b in A){for(var c=A[b],d=c.length-1;0<=d;d--)c[d].dialog!=a&&c[d].uiElement!=a||c.splice(d,1);0===c.length&&delete A[b]}},G=function(a,b){a._.accessKeyMap[b]&&a.selectPage(a._.accessKeyMap[b])},M=function(){};(function(){CKEDITOR.ui.dialog={uiElement:function(a,b,c,d,e,f,g){if(!(4>arguments.length)){var h=(d.call?d(b):d)||\"div\",\nk=[\"\\x3c\",h,\" \"],l=(e&&e.call?e(b):e)||{},m=(f&&f.call?f(b):f)||{},n=(g&&g.call?g.call(this,a,b):g)||\"\",u=this.domId=m.id||CKEDITOR.tools.getNextId()+\"_uiElement\";b.requiredContent&&!a.getParentEditor().filter.check(b.requiredContent)&&(l.display=\"none\",this.notAllowed=!0);m.id=u;var r={};b.type&&(r[\"cke_dialog_ui_\"+b.type]=1);b.className&&(r[b.className]=1);b.disabled&&(r.cke_disabled=1);for(var t=m[\"class\"]&&m[\"class\"].split?m[\"class\"].split(\" \"):[],u=0;u<t.length;u++)t[u]&&(r[t[u]]=1);t=[];for(u in r)t.push(u);\nm[\"class\"]=t.join(\" \");b.title&&(m.title=b.title);r=(b.style||\"\").split(\";\");b.align&&(t=b.align,l[\"margin-left\"]=\"left\"==t?0:\"auto\",l[\"margin-right\"]=\"right\"==t?0:\"auto\");for(u in l)r.push(u+\":\"+l[u]);b.hidden&&r.push(\"display:none\");for(u=r.length-1;0<=u;u--)\"\"===r[u]&&r.splice(u,1);0<r.length&&(m.style=(m.style?m.style+\"; \":\"\")+r.join(\"; \"));for(u in m)k.push(u+'\\x3d\"'+CKEDITOR.tools.htmlEncode(m[u])+'\" ');k.push(\"\\x3e\",n,\"\\x3c/\",h,\"\\x3e\");c.push(k.join(\"\"));(this._||(this._={})).dialog=a;\"boolean\"==\ntypeof b.isChanged&&(this.isChanged=function(){return b.isChanged});\"function\"==typeof b.isChanged&&(this.isChanged=b.isChanged);\"function\"==typeof b.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(a){return function(c){a.call(this,b.setValue.call(this,c))}}));\"function\"==typeof b.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(a){return function(){return b.getValue.call(this,a.call(this))}}));CKEDITOR.event.implementOn(this);this.registerEvents(b);\nthis.accessKeyUp&&this.accessKeyDown&&b.accessKey&&E(this,a,\"CTRL+\"+b.accessKey);var x=this;a.on(\"load\",function(){var b=x.getInputElement();if(b){var c=x.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?\"cke_dialog_ui_focused\":\"\";b.on(\"focus\",function(){a._.tabBarMode=!1;a._.hasFocus=!0;x.fire(\"focus\");c&&this.addClass(c)});b.on(\"blur\",function(){x.fire(\"blur\");c&&this.removeClass(c)})}});CKEDITOR.tools.extend(this,b);this.keyboardFocusable&&(this.tabIndex=b.tabIndex||0,this.focusIndex=\na._.focusList.push(this)-1,this.on(\"focus\",function(){a._.currentFocusIndex=x.focusIndex}))}},hbox:function(a,b,c,d,e){if(!(4>arguments.length)){this._||(this._={});var f=this._.children=b,g=e&&e.widths||null,h=e&&e.height||null,k,l={role:\"presentation\"};e&&e.align&&(l.align=e.align);CKEDITOR.ui.dialog.uiElement.call(this,a,e||{type:\"hbox\"},d,\"table\",{},l,function(){var a=['\\x3ctbody\\x3e\\x3ctr class\\x3d\"cke_dialog_ui_hbox\"\\x3e'];for(k=0;k<c.length;k++){var b=\"cke_dialog_ui_hbox_child\",d=[];0===k&&\n(b=\"cke_dialog_ui_hbox_first\");k==c.length-1&&(b=\"cke_dialog_ui_hbox_last\");a.push('\\x3ctd class\\x3d\"',b,'\" role\\x3d\"presentation\" ');g?g[k]&&d.push(\"width:\"+t(g[k])):d.push(\"width:\"+Math.floor(100/c.length)+\"%\");h&&d.push(\"height:\"+t(h));e&&void 0!==e.padding&&d.push(\"padding:\"+t(e.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&f[k].align&&d.push(\"text-align:\"+f[k].align);0<d.length&&a.push('style\\x3d\"'+d.join(\"; \")+'\" ');a.push(\"\\x3e\",c[k],\"\\x3c/td\\x3e\")}a.push(\"\\x3c/tr\\x3e\\x3c/tbody\\x3e\");return a.join(\"\")})}},\nvbox:function(a,b,c,d,e){if(!(3>arguments.length)){this._||(this._={});var f=this._.children=b,g=e&&e.width||null,h=e&&e.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,a,e||{type:\"vbox\"},d,\"div\",null,{role:\"presentation\"},function(){var b=['\\x3ctable role\\x3d\"presentation\" cellspacing\\x3d\"0\" border\\x3d\"0\" '];b.push('style\\x3d\"');e&&e.expand&&b.push(\"height:100%;\");b.push(\"width:\"+t(g||\"100%\"),\";\");CKEDITOR.env.webkit&&b.push(\"float:none;\");b.push('\"');b.push('align\\x3d\"',CKEDITOR.tools.htmlEncode(e&&\ne.align||(\"ltr\"==a.getParentEditor().lang.dir?\"left\":\"right\")),'\" ');b.push(\"\\x3e\\x3ctbody\\x3e\");for(var d=0;d<c.length;d++){var k=[];b.push('\\x3ctr\\x3e\\x3ctd role\\x3d\"presentation\" ');g&&k.push(\"width:\"+t(g||\"100%\"));h?k.push(\"height:\"+t(h[d])):e&&e.expand&&k.push(\"height:\"+Math.floor(100/c.length)+\"%\");e&&void 0!==e.padding&&k.push(\"padding:\"+t(e.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&f[d].align&&k.push(\"text-align:\"+f[d].align);0<k.length&&b.push('style\\x3d\"',k.join(\"; \"),'\" ');b.push(' class\\x3d\"cke_dialog_ui_vbox_child\"\\x3e',\nc[d],\"\\x3c/td\\x3e\\x3c/tr\\x3e\")}b.push(\"\\x3c/tbody\\x3e\\x3c/table\\x3e\");return b.join(\"\")})}}}})();CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(a,b){this.getInputElement().setValue(a);!b&&this.fire(\"change\",{value:a});return this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var a=\nthis.getInputElement();(a=a.getParent())&&-1==a.$.className.search(\"cke_dialog_page_contents\"););if(!a)return this;a=a.getAttribute(\"name\");this._.dialog._.currentTabId!=a&&this._.dialog.selectPage(a);return this},focus:function(){this.selectParentTab().getInputElement().focus();return this},registerEvents:function(a){var b=/^on([A-Z]\\w+)/,c,d=function(a,b,c,d){b.on(\"load\",function(){a.getInputElement().on(c,d,a)})},e;for(e in a)if(c=e.match(b))this.eventProcessors[e]?this.eventProcessors[e].call(this,\nthis._.dialog,a[e]):d(this,this._.dialog,c[1].toLowerCase(),a[e]);return this},eventProcessors:{onLoad:function(a,b){a.on(\"load\",b,this)},onShow:function(a,b){a.on(\"show\",b,this)},onHide:function(a,b){a.on(\"hide\",b,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var a=this.getElement();this.getInputElement().setAttribute(\"disabled\",\"true\");a.addClass(\"cke_disabled\")},enable:function(){var a=this.getElement();this.getInputElement().removeAttribute(\"disabled\");\na.removeClass(\"cke_disabled\")},isEnabled:function(){return!this.getElement().hasClass(\"cke_disabled\")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return this.isEnabled()&&this.isVisible()?!0:!1}};CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(a){if(1>arguments.length)return this._.children.concat();a.splice||(a=[a]);return 2>a.length?this._.children[a[0]]:this._.children[a[0]]&&this._.children[a[0]].getChild?\nthis._.children[a[0]].getChild(a.slice(1,a.length)):null}},!0);CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox;(function(){var a={build:function(a,b,c){for(var d=b.children,e,f=[],g=[],h=0;h<d.length&&(e=d[h]);h++){var k=[];f.push(k);g.push(CKEDITOR.dialog._.uiElementBuilders[e.type].build(a,e,k))}return new CKEDITOR.ui.dialog[b.type](a,g,f,c,b)}};CKEDITOR.dialog.addUIElement(\"hbox\",a);CKEDITOR.dialog.addUIElement(\"vbox\",a)})();CKEDITOR.dialogCommand=function(a,b){this.dialogName=a;\nCKEDITOR.tools.extend(this,b,!0)};CKEDITOR.dialogCommand.prototype={exec:function(a){a.openDialog(this.dialogName)},canUndo:!1,editorFocus:1};(function(){var a=/^([a]|[^a])+$/,b=/^\\d*$/,c=/^\\d*(?:\\.\\d+)?$/,d=/^(((\\d*(\\.\\d+))|(\\d*))(px|\\%)?)?$/,e=/^(((\\d*(\\.\\d+))|(\\d*))(px|em|ex|in|cm|mm|pt|pc|\\%)?)?$/i,f=/^(\\s*[\\w-]+\\s*:\\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1;CKEDITOR.VALIDATE_AND=2;CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(){var b=this&&this.getValue?this.getValue():\na[0],c,d=CKEDITOR.VALIDATE_AND,e=[],f;for(f=0;f<a.length;f++)if(\"function\"==typeof a[f])e.push(a[f]);else break;f<a.length&&\"string\"==typeof a[f]&&(c=a[f],f++);f<a.length&&\"number\"==typeof a[f]&&(d=a[f]);var g=d==CKEDITOR.VALIDATE_AND?!0:!1;for(f=0;f<e.length;f++)g=d==CKEDITOR.VALIDATE_AND?g&&e[f](b):g||e[f](b);return g?!0:c}},regex:function(a,b){return function(c){c=this&&this.getValue?this.getValue():c;return a.test(c)?!0:b}},notEmpty:function(b){return this.regex(a,b)},integer:function(a){return this.regex(b,\na)},number:function(a){return this.regex(c,a)},cssLength:function(a){return this.functions(function(a){return e.test(CKEDITOR.tools.trim(a))},a)},htmlLength:function(a){return this.functions(function(a){return d.test(CKEDITOR.tools.trim(a))},a)},inlineStyle:function(a){return this.functions(function(a){return f.test(CKEDITOR.tools.trim(a))},a)},equals:function(a,b){return this.functions(function(b){return b==a},b)},notEqual:function(a,b){return this.functions(function(b){return b!=a},b)}};CKEDITOR.on(\"instanceDestroyed\",\nfunction(a){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var b;b=CKEDITOR.dialog._.currentTop;)b.hide();for(var c in D)D[c].remove();D={}}a=a.editor._.storedDialogs;for(var d in a)a[d].destroy()})})();CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(a,b){var c=null,d=CKEDITOR.dialog._.dialogDefinitions[a];null===CKEDITOR.dialog._.currentTop&&q(this);if(\"function\"==typeof d)c=this._.storedDialogs||(this._.storedDialogs={}),c=c[a]||(c[a]=new CKEDITOR.dialog(this,a)),b&&b.call(c,\nc),c.show();else{if(\"failed\"==d)throw p(this),Error('[CKEDITOR.dialog.openDialog] Dialog \"'+a+'\" failed when loading definition.');\"string\"==typeof d&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(d),function(){\"function\"!=typeof CKEDITOR.dialog._.dialogDefinitions[a]&&(CKEDITOR.dialog._.dialogDefinitions[a]=\"failed\");this.openDialog(a,b)},this,0,1)}CKEDITOR.skin.loadPart(\"dialog\");return c}})}(),CKEDITOR.plugins.add(\"dialog\",{requires:\"dialogui\",init:function(a){a.on(\"doubleclick\",function(f){f.data.dialog&&\na.openDialog(f.data.dialog)},null,null,999)}}),function(){CKEDITOR.plugins.add(\"a11yhelp\",{requires:\"dialog\",availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,\"de-ch\":1,el:1,en:1,\"en-gb\":1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,\"fr-ca\":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,pl:1,pt:1,\"pt-br\":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,\"sr-latn\":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,\"zh-cn\":1},init:function(a){var f=this;a.addCommand(\"a11yHelp\",\n{exec:function(){var b=a.langCode,b=f.availableLangs[b]?b:f.availableLangs[b.replace(/-.*/,\"\")]?b.replace(/-.*/,\"\"):\"en\";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(f.path+\"dialogs/lang/\"+b+\".js\"),function(){a.lang.a11yhelp=f.langEntries[b];a.openDialog(\"a11yHelp\")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1});a.setKeystroke(CKEDITOR.ALT+48,\"a11yHelp\");CKEDITOR.dialog.add(\"a11yHelp\",this.path+\"dialogs/a11yhelp.js\");a.on(\"ariaEditorHelpLabel\",function(b){b.data.label=a.lang.common.editorHelp})}})}(),\nCKEDITOR.plugins.add(\"about\",{requires:\"dialog\",init:function(a){var f=a.addCommand(\"about\",new CKEDITOR.dialogCommand(\"about\"));f.modes={wysiwyg:1,source:1};f.canUndo=!1;f.readOnly=1;a.ui.addButton&&a.ui.addButton(\"About\",{label:a.lang.about.title,command:\"about\",toolbar:\"about\"});CKEDITOR.dialog.add(\"about\",this.path+\"dialogs/about.js\")}}),CKEDITOR.plugins.add(\"basicstyles\",{init:function(a){var f=0,b=function(b,d,e,k){if(k){k=new CKEDITOR.style(k);var g=c[e];g.unshift(k);a.attachStyleStateChange(k,\nfunction(b){!a.readOnly&&a.getCommand(e).setState(b)});a.addCommand(e,new CKEDITOR.styleCommand(k,{contentForms:g}));a.ui.addButton&&a.ui.addButton(b,{label:d,command:e,toolbar:\"basicstyles,\"+(f+=10)})}},c={bold:[\"strong\",\"b\",[\"span\",function(a){a=a.styles[\"font-weight\"];return\"bold\"==a||700<=+a}]],italic:[\"em\",\"i\",[\"span\",function(a){return\"italic\"==a.styles[\"font-style\"]}]],underline:[\"u\",[\"span\",function(a){return\"underline\"==a.styles[\"text-decoration\"]}]],strike:[\"s\",\"strike\",[\"span\",function(a){return\"line-through\"==\na.styles[\"text-decoration\"]}]],subscript:[\"sub\"],superscript:[\"sup\"]},e=a.config,m=a.lang.basicstyles;b(\"Bold\",m.bold,\"bold\",e.coreStyles_bold);b(\"Italic\",m.italic,\"italic\",e.coreStyles_italic);b(\"Underline\",m.underline,\"underline\",e.coreStyles_underline);b(\"Strike\",m.strike,\"strike\",e.coreStyles_strike);b(\"Subscript\",m.subscript,\"subscript\",e.coreStyles_subscript);b(\"Superscript\",m.superscript,\"superscript\",e.coreStyles_superscript);a.setKeystroke([[CKEDITOR.CTRL+66,\"bold\"],[CKEDITOR.CTRL+73,\"italic\"],\n[CKEDITOR.CTRL+85,\"underline\"]])}}),CKEDITOR.config.coreStyles_bold={element:\"strong\",overrides:\"b\"},CKEDITOR.config.coreStyles_italic={element:\"em\",overrides:\"i\"},CKEDITOR.config.coreStyles_underline={element:\"u\"},CKEDITOR.config.coreStyles_strike={element:\"s\",overrides:\"strike\"},CKEDITOR.config.coreStyles_subscript={element:\"sub\"},CKEDITOR.config.coreStyles_superscript={element:\"sup\"},function(){var a={exec:function(a){var b=a.getCommand(\"blockquote\").state,c=a.getSelection(),e=c&&c.getRanges()[0];\nif(e){var m=c.createBookmarks();if(CKEDITOR.env.ie){var l=m[0].startNode,d=m[0].endNode,h;if(l&&\"blockquote\"==l.getParent().getName())for(h=l;h=h.getNext();)if(h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary()){l.move(h,!0);break}if(d&&\"blockquote\"==d.getParent().getName())for(h=d;h=h.getPrevious();)if(h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary()){d.move(h);break}}var k=e.createIterator();k.enlargeBr=a.config.enterMode!=CKEDITOR.ENTER_BR;if(b==CKEDITOR.TRISTATE_OFF){for(l=[];b=k.getNextParagraph();)l.push(b);\n1>l.length&&(b=a.document.createElement(a.config.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"),d=m.shift(),e.insertNode(b),b.append(new CKEDITOR.dom.text(\"﻿\",a.document)),e.moveToBookmark(d),e.selectNodeContents(b),e.collapse(!0),d=e.createBookmark(),l.push(b),m.unshift(d));h=l[0].getParent();e=[];for(d=0;d<l.length;d++)b=l[d],h=h.getCommonAncestor(b.getParent());for(b={table:1,tbody:1,tr:1,ol:1,ul:1};b[h.getName()];)h=h.getParent();for(d=null;0<l.length;){for(b=l.shift();!b.getParent().equals(h);)b=b.getParent();\nb.equals(d)||e.push(b);d=b}for(;0<e.length;)if(b=e.shift(),\"blockquote\"==b.getName()){for(d=new CKEDITOR.dom.documentFragment(a.document);b.getFirst();)d.append(b.getFirst().remove()),l.push(d.getLast());d.replace(b)}else l.push(b);e=a.document.createElement(\"blockquote\");for(e.insertBefore(l[0]);0<l.length;)b=l.shift(),e.append(b)}else if(b==CKEDITOR.TRISTATE_ON){d=[];for(h={};b=k.getNextParagraph();){for(l=e=null;b.getParent();){if(\"blockquote\"==b.getParent().getName()){e=b.getParent();l=b;break}b=\nb.getParent()}e&&l&&!l.getCustomData(\"blockquote_moveout\")&&(d.push(l),CKEDITOR.dom.element.setMarker(h,l,\"blockquote_moveout\",!0))}CKEDITOR.dom.element.clearAllMarkers(h);b=[];l=[];for(h={};0<d.length;)k=d.shift(),e=k.getParent(),k.getPrevious()?k.getNext()?(k.breakParent(k.getParent()),l.push(k.getNext())):k.remove().insertAfter(e):k.remove().insertBefore(e),e.getCustomData(\"blockquote_processed\")||(l.push(e),CKEDITOR.dom.element.setMarker(h,e,\"blockquote_processed\",!0)),b.push(k);CKEDITOR.dom.element.clearAllMarkers(h);\nfor(d=l.length-1;0<=d;d--){e=l[d];a:{h=e;for(var k=0,g=h.getChildCount(),n=void 0;k<g&&(n=h.getChild(k));k++)if(n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()){h=!1;break a}h=!0}h&&e.remove()}if(a.config.enterMode==CKEDITOR.ENTER_BR)for(e=!0;b.length;)if(k=b.shift(),\"div\"==k.getName()){d=new CKEDITOR.dom.documentFragment(a.document);!e||!k.getPrevious()||k.getPrevious().type==CKEDITOR.NODE_ELEMENT&&k.getPrevious().isBlockBoundary()||d.append(a.document.createElement(\"br\"));for(e=k.getNext()&&\n!(k.getNext().type==CKEDITOR.NODE_ELEMENT&&k.getNext().isBlockBoundary());k.getFirst();)k.getFirst().remove().appendTo(d);e&&d.append(a.document.createElement(\"br\"));d.replace(k);e=!1}}c.selectBookmarks(m);a.focus()}},refresh:function(a,b){this.setState(a.elementPath(b.block||b.blockLimit).contains(\"blockquote\",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:\"blockquote\",allowedContent:\"blockquote\",requiredContent:\"blockquote\"};CKEDITOR.plugins.add(\"blockquote\",{init:function(f){f.blockless||\n(f.addCommand(\"blockquote\",a),f.ui.addButton&&f.ui.addButton(\"Blockquote\",{label:f.lang.blockquote.toolbar,command:\"blockquote\",toolbar:\"blocks,10\"}))}})}(),\"use strict\",function(){function a(a,b,c){b.type||(b.type=\"auto\");if(c&&!1===a.fire(\"beforePaste\",b)||!b.dataValue&&b.dataTransfer.isEmpty())return!1;b.dataValue||(b.dataValue=\"\");if(CKEDITOR.env.gecko&&\"drop\"==b.method&&a.toolbox)a.once(\"afterPaste\",function(){a.toolbox.focus()});return a.fire(\"paste\",b)}function f(b){function c(){var a=b.editable();\nif(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var d=function(a){b.readOnly&&\"cut\"==a.name||A.initPasteDataTransfer(a,b);a.data.preventDefault()};a.on(\"copy\",d);a.on(\"cut\",d);a.on(\"cut\",function(){b.readOnly||b.extractSelectedHtml()},null,null,999)}a.on(A.mainPasteEvent,function(a){\"beforepaste\"==A.mainPasteEvent&&C||z(a)});\"beforepaste\"==A.mainPasteEvent&&(a.on(\"paste\",function(a){F||(f(),a.data.preventDefault(),z(a),k(\"paste\")||b.openDialog(\"paste\"))}),a.on(\"contextmenu\",h,null,null,0),\na.on(\"beforepaste\",function(a){!a.data||a.data.$.ctrlKey||a.data.$.shiftKey||h()},null,null,0));a.on(\"beforecut\",function(){!C&&l(b)});var e;a.attachListener(CKEDITOR.env.ie?a:b.document.getDocumentElement(),\"mouseup\",function(){e=setTimeout(function(){D()},0)});b.on(\"destroy\",function(){clearTimeout(e)});a.on(\"keyup\",D)}function d(a){return{type:a,canUndo:\"cut\"==a,startDisabled:!0,fakeKeystroke:\"cut\"==a?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){\"cut\"==this.type&&l();var a;var c=this.type;\nif(CKEDITOR.env.ie)a=k(c);else try{a=b.document.$.execCommand(c,!1,null)}catch(d){a=!1}a||b.showNotification(b.lang.clipboard[this.type+\"Error\"]);return a}}}function e(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(b,c){var d=this,e=function(c,e){c&&a(b,c,!!e);b.fire(\"afterCommandExec\",{name:\"paste\",command:d,returnValue:!!c})};\"string\"==typeof c?e({dataValue:c,method:\"paste\",dataTransfer:A.initPasteDataTransfer()},1):b.getClipboardData(e)}}}function f(){F=1;setTimeout(function(){F=\n0},100)}function h(){C=1;setTimeout(function(){C=0},10)}function k(a){var c=b.document,d=c.getBody(),e=!1,f=function(){e=!0};d.on(a,f);7<CKEDITOR.env.version?c.$.execCommand(a):c.$.selection.createRange().execCommand(a);d.removeListener(a,f);return e}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var a=b.getSelection(),c,d,e;a.getType()==CKEDITOR.SELECTION_ELEMENT&&(c=a.getSelectedElement())&&(d=a.getRanges()[0],e=b.document.createText(\"\"),e.insertBefore(c),d.setStartBefore(e),d.setEndAfter(c),\na.selectRanges([d]),setTimeout(function(){c.getParent()&&(e.remove(),a.selectElement(c))},0))}}function m(a,c){var d=b.document,e=b.editable(),f=function(a){a.cancel()},h;if(!d.getById(\"cke_pastebin\")){var k=b.getSelection(),l=k.createBookmarks();CKEDITOR.env.ie&&k.root.fire(\"selectionchange\");var n=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!e.is(\"body\")||CKEDITOR.env.ie?\"div\":\"body\",d);n.setAttributes({id:\"cke_pastebin\",\"data-cke-temp\":\"1\"});var u=0,d=d.getWindow();CKEDITOR.env.webkit?(e.append(n),\nn.addClass(\"cke_editable\"),e.is(\"body\")||(u=\"static\"!=e.getComputedStyle(\"position\")?e:CKEDITOR.dom.element.get(e.$.offsetParent),u=u.getDocumentPosition().y)):e.getAscendant(CKEDITOR.env.ie?\"body\":\"html\",1).append(n);n.setStyles({position:\"absolute\",top:d.getScrollPosition().y-u+10+\"px\",width:\"1px\",height:Math.max(1,d.getViewPaneSize().height-20)+\"px\",overflow:\"hidden\",margin:0,padding:0});CKEDITOR.env.safari&&n.setStyles(CKEDITOR.tools.cssVendorPrefix(\"user-select\",\"text\"));(u=n.getParent().isReadOnly())?\n(n.setOpacity(0),n.setAttribute(\"contenteditable\",!0)):n.setStyle(\"ltr\"==b.config.contentsLangDirection?\"left\":\"right\",\"-10000px\");b.on(\"selectionChange\",f,null,null,0);if(CKEDITOR.env.webkit||CKEDITOR.env.gecko)h=e.once(\"blur\",f,null,null,-100);u&&n.focus();u=new CKEDITOR.dom.range(n);u.selectNodeContents(n);var r=u.select();CKEDITOR.env.ie&&(h=e.once(\"blur\",function(){b.lockSelection(r)}));var t=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=\nt);h&&h.removeListener();CKEDITOR.env.ie&&e.focus();k.selectBookmarks(l);n.remove();var a;CKEDITOR.env.webkit&&(a=n.getFirst())&&a.is&&a.hasClass(\"Apple-style-span\")&&(n=a);b.removeListener(\"selectionChange\",f);c(n.getHtml())},0)}}function x(){if(\"paste\"==A.mainPasteEvent)return b.fire(\"beforePaste\",{type:\"auto\",method:\"paste\"}),!1;b.focus();f();var a=b.focusManager;a.lock();if(b.editable().fire(A.mainPasteEvent)&&!k(\"paste\"))return a.unlock(),!1;a.unlock();return!0}function w(a){if(\"wysiwyg\"==b.mode)switch(a.data.keyCode){case CKEDITOR.CTRL+\n86:case CKEDITOR.SHIFT+45:a=b.editable();f();\"paste\"==A.mainPasteEvent&&a.fire(\"beforepaste\");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:b.fire(\"saveSnapshot\"),setTimeout(function(){b.fire(\"saveSnapshot\")},50)}}function z(c){var d={type:\"auto\",method:\"paste\",dataTransfer:A.initPasteDataTransfer(c)};d.dataTransfer.cacheData();var e=!1!==b.fire(\"beforePaste\",d);e&&A.canClipboardApiBeTrusted(d.dataTransfer,b)?(c.data.preventDefault(),setTimeout(function(){a(b,d)},0)):m(c,function(c){d.dataValue=\nc.replace(/<span[^>]+data-cke-bookmark[^<]*?<\\/span>/ig,\"\");e&&a(b,d)})}function D(){if(\"wysiwyg\"==b.mode){var a=y(\"paste\");b.getCommand(\"cut\").setState(y(\"cut\"));b.getCommand(\"copy\").setState(y(\"copy\"));b.getCommand(\"paste\").setState(a);b.fire(\"pasteState\",a)}}function y(a){if(E&&a in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if(\"paste\"==a)return CKEDITOR.TRISTATE_OFF;a=b.getSelection();var c=a.getRanges();return a.getType()==CKEDITOR.SELECTION_NONE||1==c.length&&c[0].collapsed?CKEDITOR.TRISTATE_DISABLED:\nCKEDITOR.TRISTATE_OFF}var A=CKEDITOR.plugins.clipboard,C=0,F=0,E=0;(function(){b.on(\"key\",w);b.on(\"contentDom\",c);b.on(\"selectionChange\",function(a){E=a.data.selection.getRanges()[0].checkReadOnly();D()});b.contextMenu&&b.contextMenu.addListener(function(a,b){E=b.getRanges()[0].checkReadOnly();return{cut:y(\"cut\"),copy:y(\"copy\"),paste:y(\"paste\")}})})();(function(){function a(c,d,e,f,h){var k=b.lang.clipboard[d];b.addCommand(d,e);b.ui.addButton&&b.ui.addButton(c,{label:k,command:d,toolbar:\"clipboard,\"+\nf});b.addMenuItems&&b.addMenuItem(d,{label:k,command:d,group:\"clipboard\",order:h})}a(\"Cut\",\"cut\",d(\"cut\"),10,1);a(\"Copy\",\"copy\",d(\"copy\"),20,4);a(\"Paste\",\"paste\",e(),30,8)})();b.getClipboardData=function(a,c){function d(a){a.removeListener();a.cancel();c(a.data)}function e(a){a.removeListener();a.cancel();l=!0;c({type:k,dataValue:a.data.dataValue,dataTransfer:a.data.dataTransfer,method:\"paste\"})}function f(){this.customTitle=a&&a.title}var h=!1,k=\"auto\",l=!1;c||(c=a,a=null);b.on(\"paste\",d,null,null,\n0);b.on(\"beforePaste\",function(a){a.removeListener();h=!0;k=a.data.type},null,null,1E3);!1===x()&&(b.removeListener(\"paste\",d),h&&b.fire(\"pasteDialog\",f)?(b.on(\"pasteDialogCommit\",e),b.on(\"dialogHide\",function(a){a.removeListener();a.data.removeListener(\"pasteDialogCommit\",e);setTimeout(function(){l||c(null)},10)})):c(null))}}function b(a){if(CKEDITOR.env.webkit){if(!a.match(/^[^<]*$/g)&&!a.match(/^(<div><br( ?\\/)?><\\/div>|<div>[^<]*<\\/div>)*$/gi))return\"html\"}else if(CKEDITOR.env.ie){if(!a.match(/^([^<]|<br( ?\\/)?>)*$/gi)&&\n!a.match(/^(<p>([^<]|<br( ?\\/)?>)*<\\/p>|(\\r\\n))*$/gi))return\"html\"}else if(CKEDITOR.env.gecko){if(!a.match(/^([^<]|<br( ?\\/)?>)*$/gi))return\"html\"}else return\"html\";return\"htmlifiedtext\"}function c(a,b){function c(a){return CKEDITOR.tools.repeat(\"\\x3c/p\\x3e\\x3cp\\x3e\",~~(a/2))+(1==a%2?\"\\x3cbr\\x3e\":\"\")}b=b.replace(/\\s+/g,\" \").replace(/> +</g,\"\\x3e\\x3c\").replace(/<br ?\\/>/gi,\"\\x3cbr\\x3e\");b=b.replace(/<\\/?[A-Z]+>/g,function(a){return a.toLowerCase()});if(b.match(/^[^<]$/))return b;CKEDITOR.env.webkit&&\n-1<b.indexOf(\"\\x3cdiv\\x3e\")&&(b=b.replace(/^(<div>(<br>|)<\\/div>)(?!$|(<div>(<br>|)<\\/div>))/g,\"\\x3cbr\\x3e\").replace(/^(<div>(<br>|)<\\/div>){2}(?!$)/g,\"\\x3cdiv\\x3e\\x3c/div\\x3e\"),b.match(/<div>(<br>|)<\\/div>/)&&(b=\"\\x3cp\\x3e\"+b.replace(/(<div>(<br>|)<\\/div>)+/g,function(a){return c(a.split(\"\\x3c/div\\x3e\\x3cdiv\\x3e\").length+1)})+\"\\x3c/p\\x3e\"),b=b.replace(/<\\/div><div>/g,\"\\x3cbr\\x3e\"),b=b.replace(/<\\/?div>/g,\"\"));CKEDITOR.env.gecko&&a.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(b=b.replace(/^<br><br>$/,\n\"\\x3cbr\\x3e\")),-1<b.indexOf(\"\\x3cbr\\x3e\\x3cbr\\x3e\")&&(b=\"\\x3cp\\x3e\"+b.replace(/(<br>){2,}/g,function(a){return c(a.length/4)})+\"\\x3c/p\\x3e\"));return l(a,b)}function e(){function a(){var b={},c;for(c in CKEDITOR.dtd)\"$\"!=c.charAt(0)&&\"div\"!=c&&\"span\"!=c&&(b[c]=1);return b}var b={};return{get:function(c){return\"plain-text\"==c?b.plainText||(b.plainText=new CKEDITOR.filter(\"br\")):\"semantic-content\"==c?((c=b.semanticContent)||(c=new CKEDITOR.filter,c.allow({$1:{elements:a(),attributes:!0,styles:!1,classes:!1}}),\nc=b.semanticContent=c),c):c?new CKEDITOR.filter(c):null}}}function m(a,b,c){b=CKEDITOR.htmlParser.fragment.fromHtml(b);var d=new CKEDITOR.htmlParser.basicWriter;c.applyTo(b,!0,!1,a.activeEnterMode);b.writeHtml(d);return d.getHtml()}function l(a,b){a.enterMode==CKEDITOR.ENTER_BR?b=b.replace(/(<\\/p><p>)+/g,function(a){return CKEDITOR.tools.repeat(\"\\x3cbr\\x3e\",a.length/7*2)}).replace(/<\\/?p>/g,\"\"):a.enterMode==CKEDITOR.ENTER_DIV&&(b=b.replace(/<(\\/)?p>/g,\"\\x3c$1div\\x3e\"));return b}function d(a){a.data.preventDefault();\na.data.$.dataTransfer.dropEffect=\"none\"}function h(b){var c=CKEDITOR.plugins.clipboard;b.on(\"contentDom\",function(){function d(c,e,f){e.select();a(b,{dataTransfer:f,method:\"drop\"},1);f.sourceEditor.fire(\"saveSnapshot\");f.sourceEditor.editable().extractHtmlFromRange(c);f.sourceEditor.getSelection().selectRanges([c]);f.sourceEditor.fire(\"saveSnapshot\")}function e(d,f){d.select();a(b,{dataTransfer:f,method:\"drop\"},1);c.resetDragDataTransfer()}function f(a,c,d){var e={$:a.data.$,target:a.data.getTarget()};\nc&&(e.dragRange=c);d&&(e.dropRange=d);!1===b.fire(a.name,e)&&a.data.preventDefault()}function h(a){a.type!=CKEDITOR.NODE_ELEMENT&&(a=a.getParent());return a.getChildCount()}var k=b.editable(),l=CKEDITOR.plugins.clipboard.getDropTarget(b),m=b.ui.space(\"top\"),x=b.ui.space(\"bottom\");c.preventDefaultDropOnElement(m);c.preventDefaultDropOnElement(x);k.attachListener(l,\"dragstart\",f);k.attachListener(b,\"dragstart\",c.resetDragDataTransfer,c,null,1);k.attachListener(b,\"dragstart\",function(a){c.initDragDataTransfer(a,\nb)},null,null,2);k.attachListener(b,\"dragstart\",function(){var a=c.dragRange=b.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(c.dragStartContainerChildCount=a?h(a.startContainer):null,c.dragEndContainerChildCount=a?h(a.endContainer):null)},null,null,100);k.attachListener(l,\"dragend\",f);k.attachListener(b,\"dragend\",c.initDragDataTransfer,c,null,1);k.attachListener(b,\"dragend\",c.resetDragDataTransfer,c,null,100);k.attachListener(l,\"dragover\",function(a){var b=a.data.getTarget();\nb&&b.is&&b.is(\"html\")?a.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&a.data.$.dataTransfer.types.contains(\"Files\")&&a.data.preventDefault()});k.attachListener(l,\"drop\",function(a){if(!a.data.$.defaultPrevented){a.data.preventDefault();var d=a.data.getTarget();if(!d.isReadOnly()||d.type==CKEDITOR.NODE_ELEMENT&&d.is(\"html\")){var d=c.getRangeAtDropPosition(a,b),e=c.dragRange;d&&f(a,e,d)}}},null,null,9999);k.attachListener(b,\"drop\",c.initDragDataTransfer,c,null,\n1);k.attachListener(b,\"drop\",function(a){if(a=a.data){var f=a.dropRange,h=a.dragRange,k=a.dataTransfer;k.getTransferType(b)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout(function(){c.internalDrop(h,f,k,b)},0):k.getTransferType(b)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?d(h,f,k):e(f,k)}},null,null,9999)})}CKEDITOR.plugins.add(\"clipboard\",{requires:\"dialog\",init:function(a){var d,k=e();a.config.forcePasteAsPlainText?d=\"plain-text\":a.config.pasteFilter?d=a.config.pasteFilter:!CKEDITOR.env.webkit||\"pasteFilter\"in\na.config||(d=\"semantic-content\");a.pasteFilter=k.get(d);f(a);h(a);CKEDITOR.dialog.add(\"paste\",CKEDITOR.getUrl(this.path+\"dialogs/paste.js\"));a.on(\"paste\",function(b){b.data.dataTransfer||(b.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer);if(!b.data.dataValue){var c=b.data.dataTransfer,d=c.getData(\"text/html\");if(d)b.data.dataValue=d,b.data.type=\"html\";else if(d=c.getData(\"text/plain\"))b.data.dataValue=a.editable().transformPlainTextToHtml(d),b.data.type=\"text\"}},null,null,1);a.on(\"paste\",\nfunction(a){var b=a.data.dataValue,c=CKEDITOR.dtd.$block;-1<b.indexOf(\"Apple-\")&&(b=b.replace(/<span class=\"Apple-converted-space\">&nbsp;<\\/span>/gi,\" \"),\"html\"!=a.data.type&&(b=b.replace(/<span class=\"Apple-tab-span\"[^>]*>([^<]*)<\\/span>/gi,function(a,b){return b.replace(/\\t/g,\"\\x26nbsp;\\x26nbsp; \\x26nbsp;\")})),-1<b.indexOf('\\x3cbr class\\x3d\"Apple-interchange-newline\"\\x3e')&&(a.data.startsWithEOL=1,a.data.preSniffing=\"html\",b=b.replace(/<br class=\"Apple-interchange-newline\">/,\"\")),b=b.replace(/(<[^>]+) class=\"Apple-[^\"]*\"/gi,\n\"$1\"));if(b.match(/^<[^<]+cke_(editable|contents)/i)){var d,e,f=new CKEDITOR.dom.element(\"div\");for(f.setHtml(b);1==f.getChildCount()&&(d=f.getFirst())&&d.type==CKEDITOR.NODE_ELEMENT&&(d.hasClass(\"cke_editable\")||d.hasClass(\"cke_contents\"));)f=e=d;e&&(b=e.getHtml().replace(/<br>$/i,\"\"))}CKEDITOR.env.ie?b=b.replace(/^&nbsp;(?: |\\r\\n)?<(\\w+)/g,function(b,d){return d.toLowerCase()in c?(a.data.preSniffing=\"html\",\"\\x3c\"+d):b}):CKEDITOR.env.webkit?b=b.replace(/<\\/(\\w+)><div><br><\\/div>$/,function(b,d){return d in\nc?(a.data.endsWithEOL=1,\"\\x3c/\"+d+\"\\x3e\"):b}):CKEDITOR.env.gecko&&(b=b.replace(/(\\s)<br>$/,\"$1\"));a.data.dataValue=b},null,null,3);a.on(\"paste\",function(d){d=d.data;var e=d.type,f=d.dataValue,h,l=a.config.clipboard_defaultContentType||\"html\",n=d.dataTransfer.getTransferType(a);h=\"html\"==e||\"html\"==d.preSniffing?\"html\":b(f);\"htmlifiedtext\"==h&&(f=c(a.config,f));\"text\"==e&&\"html\"==h?f=m(a,f,k.get(\"plain-text\")):n==CKEDITOR.DATA_TRANSFER_EXTERNAL&&a.pasteFilter&&!d.dontFilter&&(f=m(a,f,a.pasteFilter));\nd.startsWithEOL&&(f='\\x3cbr data-cke-eol\\x3d\"1\"\\x3e'+f);d.endsWithEOL&&(f+='\\x3cbr data-cke-eol\\x3d\"1\"\\x3e');\"auto\"==e&&(e=\"html\"==h||\"html\"==l?\"html\":\"text\");d.type=e;d.dataValue=f;delete d.preSniffing;delete d.startsWithEOL;delete d.endsWithEOL},null,null,6);a.on(\"paste\",function(b){b=b.data;b.dataValue&&(a.insertHtml(b.dataValue,b.type,b.range),setTimeout(function(){a.fire(\"afterPaste\")},0))},null,null,1E3);a.on(\"pasteDialog\",function(b){setTimeout(function(){a.openDialog(\"paste\",b.data)},0)})}});\nCKEDITOR.plugins.clipboard={isCustomCopyCutSupported:!CKEDITOR.env.ie&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?\"beforepaste\":\"paste\",canClipboardApiBeTrusted:function(a,b){return a.getTransferType(b)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!a.isEmpty()||CKEDITOR.env.gecko&&(a.getData(\"text/html\")||a.getFilesCount())?!0:!1},getDropTarget:function(a){var b=\na.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||b.isInline()?b:a.document},fixSplitNodesAfterDrop:function(a,b,c,d){function e(a,c,d){var f=a;f.type==CKEDITOR.NODE_TEXT&&(f=a.getParent());if(f.equals(c)&&d!=c.getChildCount())return a=b.startContainer.getChild(b.startOffset-1),c=b.startContainer.getChild(b.startOffset),a&&a.type==CKEDITOR.NODE_TEXT&&c&&c.type==CKEDITOR.NODE_TEXT&&(d=a.getLength(),a.setText(a.getText()+c.getText()),c.remove(),b.setStart(a,d),b.collapse(!0)),!0}var f=b.startContainer;\n\"number\"==typeof d&&\"number\"==typeof c&&f.type==CKEDITOR.NODE_ELEMENT&&(e(a.startContainer,f,c)||e(a.endContainer,f,d))},isDropRangeAffectedByDragRange:function(a,b){var c=b.startContainer,d=b.endOffset;return a.endContainer.equals(c)&&a.endOffset<=d||a.startContainer.getParent().equals(c)&&a.startContainer.getIndex()<d||a.endContainer.getParent().equals(c)&&a.endContainer.getIndex()<d?!0:!1},internalDrop:function(b,c,d,e){var f=CKEDITOR.plugins.clipboard,h=e.editable(),k,l;e.fire(\"saveSnapshot\");\ne.fire(\"lockSnapshot\",{dontUpdate:1});CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(b,c,f.dragStartContainerChildCount,f.dragEndContainerChildCount);(l=this.isDropRangeAffectedByDragRange(b,c))||(k=b.createBookmark(!1));f=c.clone().createBookmark(!1);l&&(k=b.createBookmark(!1));b=k.startNode;c=k.endNode;l=f.startNode;c&&b.getPosition(l)&CKEDITOR.POSITION_PRECEDING&&c.getPosition(l)&CKEDITOR.POSITION_FOLLOWING&&l.insertBefore(b);b=e.createRange();b.moveToBookmark(k);h.extractHtmlFromRange(b,\n1);c=e.createRange();c.moveToBookmark(f);a(e,{dataTransfer:d,method:\"drop\",range:c},1);e.fire(\"unlockSnapshot\")},getRangeAtDropPosition:function(a,b){var c=a.data.$,d=c.clientX,e=c.clientY,f=b.getSelection(!0).getRanges()[0],h=b.createRange();if(a.data.testRange)return a.data.testRange;if(document.caretRangeFromPoint)c=b.document.$.caretRangeFromPoint(d,e),h.setStart(CKEDITOR.dom.node(c.startContainer),c.startOffset),h.collapse(!0);else if(c.rangeParent)h.setStart(CKEDITOR.dom.node(c.rangeParent),\nc.rangeOffset),h.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&f&&b.editable().hasFocus)return f;if(document.body.createTextRange){b.focus();c=b.document.getBody().$.createTextRange();try{for(var k=!1,l=0;20>l&&!k;l++){if(!k)try{c.moveToPoint(d,e-l),k=!0}catch(m){}if(!k)try{c.moveToPoint(d,e+l),k=!0}catch(w){}}if(k){var z=\"cke-temp-\"+(new Date).getTime();c.pasteHTML('\\x3cspan id\\x3d\"'+z+'\"\\x3e​\\x3c/span\\x3e');var D=b.document.getById(z);h.moveToPosition(D,CKEDITOR.POSITION_BEFORE_START);\nD.remove()}else{var y=b.document.$.elementFromPoint(d,e),A=new CKEDITOR.dom.element(y),C;if(A.equals(b.editable())||\"html\"==A.getName())return f&&f.startContainer&&!f.startContainer.equals(b.editable())?f:null;C=A.getClientRect();d<C.left?h.setStartAt(A,CKEDITOR.POSITION_AFTER_START):h.setStartAt(A,CKEDITOR.POSITION_BEFORE_END);h.collapse(!0)}}catch(F){return null}}else return null}return h},initDragDataTransfer:function(a,b){var c=a.data.$?a.data.$.dataTransfer:null,d=new this.dataTransfer(c,b);\nc?this.dragData&&d.id==this.dragData.id?d=this.dragData:this.dragData=d:this.dragData?d=this.dragData:this.dragData=d;a.data.dataTransfer=d},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(a,b){if(this.isCustomCopyCutSupported){if(a&&a.data&&a.data.$){var c=new this.dataTransfer(a.data.$.clipboardData,b);this.copyCutData&&c.id==this.copyCutData.id?(c=this.copyCutData,c.$=a.data.$.clipboardData):this.copyCutData=c;return c}return new this.dataTransfer(null,b)}return new this.dataTransfer(CKEDITOR.env.edge&&\na&&a.data.$&&a.data.$.clipboardData||null,b)},preventDefaultDropOnElement:function(a){a&&a.on(\"dragover\",d)}};var k=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?\"cke/id\":\"Text\";CKEDITOR.plugins.clipboard.dataTransfer=function(a,b){a&&(this.$=a);this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\\s\\S]*?)>([\\s\\S]*)<\\/body>/i,fragmentRegExp:/\\x3c!--(?:Start|End)Fragment--\\x3e/g,data:{},files:[],normalizeType:function(a){a=a.toLowerCase();return\"text\"==a||\"text/plain\"==a?\"Text\":\"url\"==a?\"URL\":\na}};this.id=this.getData(k);this.id||(this.id=\"Text\"==k?\"\":\"cke-\"+CKEDITOR.tools.getUniqueId());if(\"Text\"!=k)try{this.$.setData(k,this.id)}catch(c){}b&&(this.sourceEditor=b,this.setData(\"text/html\",b.getSelectedHtml(1)),\"Text\"==k||this.getData(\"text/plain\")||this.setData(\"text/plain\",b.getSelection().getSelectedText()))};CKEDITOR.DATA_TRANSFER_INTERNAL=1;CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2;CKEDITOR.DATA_TRANSFER_EXTERNAL=3;CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(a){a=\nthis._.normalizeType(a);var b=this._.data[a];if(void 0===b||null===b||\"\"===b)try{b=this.$.getData(a)}catch(c){}if(void 0===b||null===b||\"\"===b)b=\"\";\"text/html\"==a?(b=b.replace(this._.metaRegExp,\"\"),(a=this._.bodyRegExp.exec(b))&&a.length&&(b=a[1],b=b.replace(this._.fragmentRegExp,\"\"))):\"Text\"==a&&CKEDITOR.env.gecko&&this.getFilesCount()&&\"file://\"==b.substring(0,7)&&(b=\"\");return b},setData:function(a,b){a=this._.normalizeType(a);this._.data[a]=b;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||\n\"URL\"==a||\"Text\"==a){\"Text\"==k&&\"Text\"==a&&(this.id=b);try{this.$.setData(a,b)}catch(c){}}},getTransferType:function(a){return this.sourceEditor?this.sourceEditor==a?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function a(c){c=b._.normalizeType(c);var d=b.getData(c);d&&(b._.data[c]=d)}if(this.$){var b=this,c,d;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(c=0;c<this.$.types.length;c++)a(this.$.types[c])}else a(\"Text\"),\na(\"URL\");d=this._getImageFromClipboard();if(this.$&&this.$.files||d){this._.files=[];if(this.$.files&&this.$.files.length)for(c=0;c<this.$.files.length;c++)this._.files.push(this.$.files[c]);0===this._.files.length&&d&&this._.files.push(d)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(a){return this._.files.length?this._.files[a]:this.$&&this.$.files&&this.$.files.length?\nthis.$.files[a]:0===a?this._getImageFromClipboard():void 0},isEmpty:function(){var a={},b;if(this.getFilesCount())return!1;for(b in this._.data)a[b]=1;if(this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var c=0;c<this.$.types.length;c++)a[this.$.types[c]]=1}else a.Text=1,a.URL=1;\"Text\"!=k&&(a[k]=0);for(b in a)if(a[b]&&\"\"!==this.getData(b))return!1;return!0},_getImageFromClipboard:function(){var a;if(this.$&&this.$.items&&this.$.items[0])try{if((a=this.$.items[0].getAsFile())&&\na.type)return a}catch(b){}}}}(),function(){CKEDITOR.plugins.add(\"panel\",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}});CKEDITOR.UI_PANEL=\"panel\";CKEDITOR.ui.panel=function(a,b){b&&CKEDITOR.tools.extend(this,b);CKEDITOR.tools.extend(this,{className:\"\",css:[]});this.id=CKEDITOR.tools.getNextId();this.document=a;this.isFramed=this.forceIFrame||this.css.length;this._={blocks:{}}};CKEDITOR.ui.panel.handler={create:function(a){return new CKEDITOR.ui.panel(a)}};var a=\nCKEDITOR.addTemplate(\"panel\",'\\x3cdiv lang\\x3d\"{langCode}\" id\\x3d\"{id}\" dir\\x3d{dir} class\\x3d\"cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}\" style\\x3d\"z-index:{z-index}\" role\\x3d\"presentation\"\\x3e{frame}\\x3c/div\\x3e'),f=CKEDITOR.addTemplate(\"panel-frame\",'\\x3ciframe id\\x3d\"{id}\" class\\x3d\"cke_panel_frame\" role\\x3d\"presentation\" frameborder\\x3d\"0\" src\\x3d\"{src}\"\\x3e\\x3c/iframe\\x3e'),b=CKEDITOR.addTemplate(\"panel-frame-inner\",'\\x3c!DOCTYPE html\\x3e\\x3chtml class\\x3d\"cke_panel_container {env}\" dir\\x3d\"{dir}\" lang\\x3d\"{langCode}\"\\x3e\\x3chead\\x3e{css}\\x3c/head\\x3e\\x3cbody class\\x3d\"cke_{dir}\" style\\x3d\"margin:0;padding:0\" onload\\x3d\"{onload}\"\\x3e\\x3c/body\\x3e\\x3c/html\\x3e');\nCKEDITOR.ui.panel.prototype={render:function(c,e){this.getHolderElement=function(){var a=this._.holder;if(!a){if(this.isFramed){var a=this.document.getById(this.id+\"_frame\"),c=a.getParent(),a=a.getFrameDocument();CKEDITOR.env.iOS&&c.setStyles({overflow:\"scroll\",\"-webkit-overflow-scrolling\":\"touch\"});c=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0;if(this.onLoad)this.onLoad()},this));a.write(b.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:\"window.parent.CKEDITOR.tools.callFunction(\"+\nc+\");\"},m)));a.getWindow().$.CKEDITOR=CKEDITOR;a.on(\"keydown\",function(a){var b=a.data.getKeystroke(),c=this.document.getById(this.id).getAttribute(\"dir\");this._.onKeyDown&&!1===this._.onKeyDown(b)?a.data.preventDefault():(27==b||b==(\"rtl\"==c?39:37))&&this.onEscape&&!1===this.onEscape(b)&&a.data.preventDefault()},this);a=a.getBody();a.unselectable();CKEDITOR.env.air&&CKEDITOR.tools.callFunction(c)}else a=this.document.getById(this.id);this._.holder=a}return a};var m={editorId:c.id,id:this.id,langCode:c.langCode,\ndir:c.lang.dir,cls:this.className,frame:\"\",env:CKEDITOR.env.cssClass,\"z-index\":c.config.baseFloatZIndex+1};if(this.isFramed){var l=CKEDITOR.env.air?\"javascript:void(0)\":CKEDITOR.env.ie?\"javascript:void(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"}())\":\"\";m.frame=f.output({id:this.id+\"_frame\",src:l})}l=a.output(m);e&&e.push(l);return l},addBlock:function(a,b){b=this._.blocks[a]=b instanceof CKEDITOR.ui.panel.block?b:new CKEDITOR.ui.panel.block(this.getHolderElement(),\nb);this._.currentBlock||this.showBlock(a);return b},getBlock:function(a){return this._.blocks[a]},showBlock:function(a){a=this._.blocks[a];var b=this._.currentBlock,f=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+\"_frame\");b&&b.hide();this._.currentBlock=a;CKEDITOR.fire(\"ariaWidget\",f);a._.focusIndex=-1;this._.onKeyDown=a.onKeyDown&&CKEDITOR.tools.bind(a.onKeyDown,a);a.show();return a},destroy:function(){this.element&&this.element.remove()}};CKEDITOR.ui.panel.block=\nCKEDITOR.tools.createClass({$:function(a,b){this.element=a.append(a.getDocument().createElement(\"div\",{attributes:{tabindex:-1,\"class\":\"cke_panel_block\"},styles:{display:\"none\"}}));b&&CKEDITOR.tools.extend(this,b);this.element.setAttributes({role:this.attributes.role||\"presentation\",\"aria-label\":this.attributes[\"aria-label\"],title:this.attributes.title||this.attributes[\"aria-label\"]});this.keys={};this._.focusIndex=-1;this.element.disableContextMenu()},_:{markItem:function(a){-1!=a&&(a=this.element.getElementsByTag(\"a\").getItem(this._.focusIndex=\na),CKEDITOR.env.webkit&&a.getDocument().getWindow().focus(),a.focus(),this.onMark&&this.onMark(a))}},proto:{show:function(){this.element.setStyle(\"display\",\"\")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle(\"display\",\"none\")},onKeyDown:function(a,b){var f=this.keys[a];switch(f){case \"next\":for(var l=this._.focusIndex,f=this.element.getElementsByTag(\"a\"),d;d=f.getItem(++l);)if(d.getAttribute(\"_cke_focus\")&&d.$.offsetWidth){this._.focusIndex=l;d.focus();break}return d||\nb?!1:(this._.focusIndex=-1,this.onKeyDown(a,1));case \"prev\":l=this._.focusIndex;for(f=this.element.getElementsByTag(\"a\");0<l&&(d=f.getItem(--l));){if(d.getAttribute(\"_cke_focus\")&&d.$.offsetWidth){this._.focusIndex=l;d.focus();break}d=null}return d||b?!1:(this._.focusIndex=f.count(),this.onKeyDown(a,1));case \"click\":case \"mouseup\":return l=this._.focusIndex,(d=0<=l&&this.element.getElementsByTag(\"a\").getItem(l))&&(d.$[f]?d.$[f]():d.$[\"on\"+f]()),!1}return!0}}})}(),CKEDITOR.plugins.add(\"floatpanel\",\n{requires:\"panel\"}),function(){function a(a,c,e,m,l){l=CKEDITOR.tools.genKey(c.getUniqueId(),e.getUniqueId(),a.lang.dir,a.uiColor||\"\",m.css||\"\",l||\"\");var d=f[l];d||(d=f[l]=new CKEDITOR.ui.panel(c,m),d.element=e.append(CKEDITOR.dom.element.createFromHtml(d.render(a),c)),d.element.setStyles({display:\"none\",position:\"absolute\"}));return d}var f={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(b,c,e,f){function l(){g.hide()}e.forceIFrame=1;e.toolbarRelated&&b.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&\n(c=CKEDITOR.document.getById(\"cke_\"+b.name));var d=c.getDocument();f=a(b,d,c,e,f||0);var h=f.element,k=h.getFirst(),g=this;h.disableContextMenu();this.element=h;this._={editor:b,panel:f,parentElement:c,definition:e,document:d,iframe:k,children:[],dir:b.lang.dir,showBlockParams:null};b.on(\"mode\",l);b.on(\"resize\",l);d.getWindow().on(\"resize\",function(){this.reposition()},this)},proto:{addBlock:function(a,c){return this._.panel.addBlock(a,c)},addListBlock:function(a,c){return this._.panel.addListBlock(a,\nc)},getBlock:function(a){return this._.panel.getBlock(a)},showBlock:function(a,c,e,f,l,d){var h=this._.panel,k=h.showBlock(a);this._.showBlockParams=[].slice.call(arguments);this.allowBlur(!1);var g=this._.editor.editable();this._.returnFocus=g.hasFocus?g:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement);this._.hideTimeout=0;var n=this.element,g=this._.iframe,g=CKEDITOR.env.ie&&!CKEDITOR.env.edge?g:new CKEDITOR.dom.window(g.$.contentWindow),q=n.getDocument(),p=this._.parentElement.getPositionedAncestor(),\nt=c.getDocumentPosition(q),q=p?p.getDocumentPosition(q):{x:0,y:0},v=\"rtl\"==this._.dir,r=t.x+(f||0)-q.x,u=t.y+(l||0)-q.y;!v||1!=e&&4!=e?v||2!=e&&3!=e||(r+=c.$.offsetWidth-1):r+=c.$.offsetWidth;if(3==e||4==e)u+=c.$.offsetHeight-1;this._.panel._.offsetParentId=c.getId();n.setStyles({top:u+\"px\",left:0,display:\"\"});n.setOpacity(0);n.getFirst().removeStyle(\"width\");this._.editor.focusManager.add(g);this._.blurSet||(CKEDITOR.event.useCapture=!0,g.on(\"blur\",function(a){function b(){delete this._.returnFocus;\nthis.hide()}this.allowBlur()&&a.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(b,0,this)):b.call(this))},this),g.on(\"focus\",function(){this._.focused=!0;this.hideChild();this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(g.on(\"touchstart\",function(){clearTimeout(this._.hideTimeout)},this),g.on(\"touchend\",function(){this._.hideTimeout=0;this.focus()},this)),CKEDITOR.event.useCapture=!1,\nthis._.blurSet=1);h.onEscape=CKEDITOR.tools.bind(function(a){if(this.onEscape&&!1===this.onEscape(a))return!1},this);CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.tools.bind(function(){var a=n;a.removeStyle(\"width\");if(k.autoSize){var b=k.element.getDocument(),b=(CKEDITOR.env.webkit||CKEDITOR.env.edge?k.element:b.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetWidth||0)-(a.$.clientWidth||0)+3);a.setStyle(\"width\",b+10+\"px\");b=k.element.$.scrollHeight;CKEDITOR.env.ie&&\nCKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetHeight||0)-(a.$.clientHeight||0)+3);a.setStyle(\"height\",b+\"px\");h._.currentBlock.element.setStyle(\"display\",\"none\").removeStyle(\"display\")}else a.removeStyle(\"height\");v&&(r-=n.$.offsetWidth);n.setStyle(\"left\",r+\"px\");var b=h.element.getWindow(),a=n.$.getBoundingClientRect(),b=b.getViewPaneSize(),c=a.width||a.right-a.left,e=a.height||a.bottom-a.top,f=v?a.right:b.width-a.left,g=v?b.width-a.right:a.left;v?f<c&&(r=g>c?r+c:b.width>c?r-a.left:r-a.right+b.width):\nf<c&&(r=g>c?r-c:b.width>c?r-a.right+b.width:r-a.left);c=a.top;b.height-a.top<e&&(u=c>e?u-e:b.height>e?u-a.bottom+b.height:u-a.top);CKEDITOR.env.ie&&(b=a=new CKEDITOR.dom.element(n.$.offsetParent),\"html\"==b.getName()&&(b=b.getDocument().getBody()),\"rtl\"==b.getComputedStyle(\"direction\")&&(r=CKEDITOR.env.ie8Compat?r-2*n.getDocument().getDocumentElement().$.scrollLeft:r-(a.$.scrollWidth-a.$.clientWidth)));var a=n.getFirst(),l;(l=a.getCustomData(\"activePanel\"))&&l.onHide&&l.onHide.call(this,1);a.setCustomData(\"activePanel\",\nthis);n.setStyles({top:u+\"px\",left:r+\"px\"});n.setOpacity(1);d&&d()},this);h.isLoaded?a():h.onLoad=a;CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus();k.element.focus();CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=a);this.allowBlur(!0);this._.editor.fire(\"panelShow\",this)},0,this)},CKEDITOR.env.air?200:0,this);this.visible=1;this.onShow&&this.onShow.call(this)},reposition:function(){var a=this._.showBlockParams;\nthis.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,a))},focus:function(){if(CKEDITOR.env.webkit){var a=CKEDITOR.document.getActive();a&&!a.equals(this._.iframe)&&a.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var a=this._.iframe.getFrameDocument().getActive();a&&a.is(\"a\")&&(this._.lastFocused=a)},hide:function(a){if(this.visible&&(!this.onHide||!0!==this.onHide.call(this))){this.hideChild();CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur();\nthis.element.setStyle(\"display\",\"none\");this.visible=0;this.element.getFirst().removeCustomData(\"activePanel\");if(a=a&&this._.returnFocus)CKEDITOR.env.webkit&&a.type&&a.getWindow().$.focus(),a.focus();delete this._.lastFocused;this._.showBlockParams=null;this._.editor.fire(\"panelHide\",this)}},allowBlur:function(a){var c=this._.panel;void 0!==a&&(c.allowBlur=a);return c.allowBlur},showAsChild:function(a,c,e,f,l,d){if(this._.activeChild!=a||a._.panel._.offsetParentId!=e.getId())this.hideChild(),a.onHide=\nCKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=a,this._.focused=!1,a.showBlock(c,e,f,l,d),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){a.element.getChild(0).$.style.cssText+=\"\"},100)},hideChild:function(a){var c=this._.activeChild;c&&(delete c.onHide,delete this._.activeChild,c.hide(),a&&this.focus())}}});CKEDITOR.on(\"instanceDestroyed\",function(){var a=CKEDITOR.tools.isEmpty(CKEDITOR.instances),\nc;for(c in f){var e=f[c];a?e.destroy():e.element.hide()}a&&(f={})})}(),CKEDITOR.plugins.add(\"menu\",{requires:\"floatpanel\",beforeInit:function(a){for(var f=a.config.menu_groups.split(\",\"),b=a._.menuGroups={},c=a._.menuItems={},e=0;e<f.length;e++)b[f[e]]=e+1;a.addMenuGroup=function(a,c){b[a]=c||100};a.addMenuItem=function(a,e){b[e.group]&&(c[a]=new CKEDITOR.menuItem(this,a,e))};a.addMenuItems=function(a){for(var b in a)this.addMenuItem(b,a[b])};a.getMenuItem=function(a){return c[a]};a.removeMenuItem=\nfunction(a){delete c[a]}}}),function(){function a(a){a.sort(function(a,b){return a.group<b.group?-1:a.group>b.group?1:a.order<b.order?-1:a.order>b.order?1:0})}var f='\\x3cspan class\\x3d\"cke_menuitem\"\\x3e\\x3ca id\\x3d\"{id}\" class\\x3d\"cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}\" href\\x3d\"{href}\" title\\x3d\"{title}\" tabindex\\x3d\"-1\" _cke_focus\\x3d1 hidefocus\\x3d\"true\" role\\x3d\"{role}\" aria-label\\x3d\"{label}\" aria-describedby\\x3d\"{id}_description\" aria-haspopup\\x3d\"{hasPopup}\" aria-disabled\\x3d\"{disabled}\" {ariaChecked}';\nCKEDITOR.env.gecko&&CKEDITOR.env.mac&&(f+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(f+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var f=f+(' onmouseover\\x3d\"CKEDITOR.tools.callFunction({hoverFn},{index});\" onmouseout\\x3d\"CKEDITOR.tools.callFunction({moveOutFn},{index});\" '+(CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\")+'\\x3d\"CKEDITOR.tools.callFunction({clickFn},{index}); return false;\"\\x3e'),b=CKEDITOR.addTemplate(\"menuItem\",f+'\\x3cspan class\\x3d\"cke_menubutton_inner\"\\x3e\\x3cspan class\\x3d\"cke_menubutton_icon\"\\x3e\\x3cspan class\\x3d\"cke_button_icon cke_button__{iconName}_icon\" style\\x3d\"{iconStyle}\"\\x3e\\x3c/span\\x3e\\x3c/span\\x3e\\x3cspan class\\x3d\"cke_menubutton_label\"\\x3e{label}\\x3c/span\\x3e{shortcutHtml}{arrowHtml}\\x3c/span\\x3e\\x3c/a\\x3e\\x3cspan id\\x3d\"{id}_description\" class\\x3d\"cke_voice_label\" aria-hidden\\x3d\"false\"\\x3e{ariaShortcut}\\x3c/span\\x3e\\x3c/span\\x3e'),\nc=CKEDITOR.addTemplate(\"menuArrow\",'\\x3cspan class\\x3d\"cke_menuarrow\"\\x3e\\x3cspan\\x3e{label}\\x3c/span\\x3e\\x3c/span\\x3e'),e=CKEDITOR.addTemplate(\"menuShortcut\",'\\x3cspan class\\x3d\"cke_menubutton_label cke_menubutton_shortcut\"\\x3e{shortcut}\\x3c/span\\x3e');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(a,b){b=this._.definition=b||{};this.id=CKEDITOR.tools.getNextId();this.editor=a;this.items=[];this._.listeners=[];this._.level=b.level||1;var c=CKEDITOR.tools.extend({},b.panel,{css:[CKEDITOR.skin.getPath(\"editor\")],\nlevel:this._.level-1,block:{}}),e=c.block.attributes=c.attributes||{};!e.role&&(e.role=\"menu\");this._.panelDefinition=c},_:{onShow:function(){var a=this.editor.getSelection(),b=a&&a.getStartElement(),c=this.editor.elementPath(),e=this._.listeners;this.removeAll();for(var f=0;f<e.length;f++){var g=e[f](b,a,c);if(g)for(var n in g){var q=this.editor.getMenuItem(n);!q||q.command&&!this.editor.getCommand(q.command).state||(q.state=g[n],this.add(q))}}},onClick:function(a){this.hide();if(a.onClick)a.onClick();\nelse a.command&&this.editor.execCommand(a.command)},onEscape:function(a){var b=this.parent;b?b._.panel.hideChild(1):27==a&&this.hide(1);return!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(a){var b=this._.subMenu,c=this.items[a];if(c=c.getItems&&c.getItems()){b?b.removeAll():(b=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0)),b.parent=this,b._.onClick=CKEDITOR.tools.bind(this._.onClick,this));for(var e in c){var f=\nthis.editor.getMenuItem(e);f&&(f.state=c[e],b.add(f))}var g=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(a));setTimeout(function(){b.show(g,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(a){a.order||(a.order=this.items.length);this.items.push(a)},removeAll:function(){this.items=[]},show:function(b,c,d,e){if(!this.parent&&(this._.onShow(),!this.items.length))return;c=c||(\"rtl\"==this.editor.lang.dir?2:1);var f=this.items,g=this.editor,n=this._.panel,q=this._.element;\nif(!n){n=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level);n.onEscape=CKEDITOR.tools.bind(function(a){if(!1===this._.onEscape(a))return!1},this);n.onShow=function(){n._.panel.getHolderElement().getParent().addClass(\"cke\").addClass(\"cke_reset_all\")};n.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this);q=n.addBlock(this.id,this._.panelDefinition.block);q.autoSize=!0;var p=q.keys;p[40]=\"next\";p[9]=\"next\";p[38]=\n\"prev\";p[CKEDITOR.SHIFT+9]=\"prev\";p[\"rtl\"==g.lang.dir?37:39]=CKEDITOR.env.ie?\"mouseup\":\"click\";p[32]=CKEDITOR.env.ie?\"mouseup\":\"click\";CKEDITOR.env.ie&&(p[13]=\"mouseup\");q=this._.element=q.element;p=q.getDocument();p.getBody().setStyle(\"overflow\",\"hidden\");p.getElementsByTag(\"html\").getItem(0).setStyle(\"overflow\",\"hidden\");this._.itemOverFn=CKEDITOR.tools.addFunction(function(a){clearTimeout(this._.showSubTimeout);this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,g.config.menu_subMenuDelay||\n400,this,[a])},this);this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this);this._.itemClickFn=CKEDITOR.tools.addFunction(function(a){var b=this.items[a];if(b.state==CKEDITOR.TRISTATE_DISABLED)this.hide(1);else if(b.getItems)this._.showSubMenu(a);else this._.onClick(b)},this)}a(f);for(var p=g.elementPath(),p=['\\x3cdiv class\\x3d\"cke_menu'+(p&&p.direction()!=g.lang.dir?\" cke_mixed_dir_content\":\"\")+'\" role\\x3d\"presentation\"\\x3e'],t=f.length,v=t&&f[0].group,\nr=0;r<t;r++){var u=f[r];v!=u.group&&(p.push('\\x3cdiv class\\x3d\"cke_menuseparator\" role\\x3d\"separator\"\\x3e\\x3c/div\\x3e'),v=u.group);u.render(this,r,p)}p.push(\"\\x3c/div\\x3e\");q.setHtml(p.join(\"\"));CKEDITOR.ui.fire(\"ready\",this);this.parent?this.parent._.panel.showAsChild(n,this.id,b,c,d,e):n.showBlock(this.id,b,c,d,e);g.fire(\"menuShow\",[n])},addListener:function(a){this._.listeners.push(a)},hide:function(a){this._.onHide&&this._.onHide();this._.panel&&this._.panel.hide(a)}}});CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(a,\nb,c){CKEDITOR.tools.extend(this,c,{order:0,className:\"cke_menubutton__\"+b});this.group=a._.menuGroups[this.group];this.editor=a;this.name=b},proto:{render:function(a,f,d){var h=a.id+String(f),k=\"undefined\"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,g=\"\",n=this.editor,q,p,t=k==CKEDITOR.TRISTATE_ON?\"on\":k==CKEDITOR.TRISTATE_DISABLED?\"disabled\":\"off\";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(g=' aria-checked\\x3d\"'+(k==CKEDITOR.TRISTATE_ON?\"true\":\"false\")+'\"');var v=this.getItems,r=\n\"\\x26#\"+(\"rtl\"==this.editor.lang.dir?\"9668\":\"9658\")+\";\",u=this.name;this.icon&&!/\\./.test(this.icon)&&(u=this.icon);this.command&&(q=n.getCommand(this.command),(q=n.getCommandKeystroke(q))&&(p=CKEDITOR.tools.keystrokeToString(n.lang.common.keyboard,q)));a={id:h,name:this.name,iconName:u,label:this.label,cls:this.className||\"\",state:t,hasPopup:v?\"true\":\"false\",disabled:k==CKEDITOR.TRISTATE_DISABLED,title:this.label+(p?\" (\"+p.display+\")\":\"\"),ariaShortcut:p?n.lang.common.keyboardShortcut+\" \"+p.aria:\n\"\",href:\"javascript:void('\"+(this.label||\"\").replace(\"'\")+\"')\",hoverFn:a._.itemOverFn,moveOutFn:a._.itemOutFn,clickFn:a._.itemClickFn,index:f,iconStyle:CKEDITOR.skin.getIconStyle(u,\"rtl\"==this.editor.lang.dir,u==this.icon?null:this.icon,this.iconOffset),shortcutHtml:p?e.output({shortcut:p.display}):\"\",arrowHtml:v?c.output({label:r}):\"\",role:this.role?this.role:\"menuitem\",ariaChecked:g};b.output(a,d)}}})}(),CKEDITOR.config.menu_groups=\"clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div\",\nCKEDITOR.plugins.add(\"contextmenu\",{requires:\"menu\",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(a){this.base.call(this,a,{panel:{className:\"cke_menu_panel\",attributes:{\"aria-label\":a.lang.contextmenu.options}}})},proto:{addTarget:function(a,f){a.on(\"contextmenu\",function(a){a=a.data;var c=CKEDITOR.env.webkit?b:CKEDITOR.env.mac?a.$.metaKey:a.$.ctrlKey;if(!f||!c){a.preventDefault();if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){var c=this.editor,\nl=(new CKEDITOR.dom.elementPath(a.getTarget(),c.editable())).contains(function(a){return a.hasAttribute(\"contenteditable\")},!0);l&&\"false\"==l.getAttribute(\"contenteditable\")&&c.getSelection().fake(l)}var l=a.getTarget().getDocument(),d=a.getTarget().getDocument().getDocumentElement(),c=!l.equals(CKEDITOR.document),l=l.getWindow().getScrollPosition(),h=c?a.$.clientX:a.$.pageX||l.x+a.$.clientX,k=c?a.$.clientY:a.$.pageY||l.y+a.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(d,null,h,k)},CKEDITOR.env.ie?\n200:0,this)}},this);if(CKEDITOR.env.webkit){var b,c=function(){b=0};a.on(\"keydown\",function(a){b=CKEDITOR.env.mac?a.data.$.metaKey:a.data.$.ctrlKey});a.on(\"keyup\",c);a.on(\"contextmenu\",c)}},open:function(a,f,b,c){this.editor.focus();a=a||CKEDITOR.document.getDocumentElement();this.editor.selectionChange(1);this.show(a,f,b,c)}}})},beforeInit:function(a){var f=a.contextMenu=new CKEDITOR.plugins.contextMenu(a);a.on(\"contentDom\",function(){f.addTarget(a.editable(),!1!==a.config.browserContextMenuOnCtrl)});\na.addCommand(\"contextMenu\",{exec:function(){a.contextMenu.open(a.document.getBody())}});a.setKeystroke(CKEDITOR.SHIFT+121,\"contextMenu\");a.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,\"contextMenu\")}}),function(){function a(a,b){function l(b){b=g.list[b];var c;b.equals(a.editable())||\"true\"==b.getAttribute(\"contenteditable\")?(c=a.createRange(),c.selectNodeContents(b),c=c.select()):(c=a.getSelection(),c.selectElement(b));CKEDITOR.env.ie&&a.fire(\"selectionChange\",{selection:c,path:new CKEDITOR.dom.elementPath(b)});\na.focus()}function d(){k&&k.setHtml('\\x3cspan class\\x3d\"cke_path_empty\"\\x3e\\x26nbsp;\\x3c/span\\x3e');delete g.list}var h=a.ui.spaceId(\"path\"),k,g=a._.elementsPath,n=g.idBase;b.html+='\\x3cspan id\\x3d\"'+h+'_label\" class\\x3d\"cke_voice_label\"\\x3e'+a.lang.elementspath.eleLabel+'\\x3c/span\\x3e\\x3cspan id\\x3d\"'+h+'\" class\\x3d\"cke_path\" role\\x3d\"group\" aria-labelledby\\x3d\"'+h+'_label\"\\x3e\\x3cspan class\\x3d\"cke_path_empty\"\\x3e\\x26nbsp;\\x3c/span\\x3e\\x3c/span\\x3e';a.on(\"uiReady\",function(){var b=a.ui.space(\"path\");\nb&&a.focusManager.add(b,1)});g.onClick=l;var q=CKEDITOR.tools.addFunction(l),p=CKEDITOR.tools.addFunction(function(b,c){var d=g.idBase,f;c=new CKEDITOR.dom.event(c);f=\"rtl\"==a.lang.dir;switch(c.getKeystroke()){case f?39:37:case 9:return(f=CKEDITOR.document.getById(d+(b+1)))||(f=CKEDITOR.document.getById(d+\"0\")),f.focus(),!1;case f?37:39:case CKEDITOR.SHIFT+9:return(f=CKEDITOR.document.getById(d+(b-1)))||(f=CKEDITOR.document.getById(d+(g.list.length-1))),f.focus(),!1;case 27:return a.focus(),!1;case 13:case 32:return l(b),\n!1}return!0});a.on(\"selectionChange\",function(){for(var b=[],d=g.list=[],f=[],l=g.filters,m=!0,x=a.elementPath().elements,w,z=x.length;z--;){var D=x[z],y=0;w=D.data(\"cke-display-name\")?D.data(\"cke-display-name\"):D.data(\"cke-real-element-type\")?D.data(\"cke-real-element-type\"):D.getName();(m=D.hasAttribute(\"contenteditable\")?\"true\"==D.getAttribute(\"contenteditable\"):m)||D.hasAttribute(\"contenteditable\")||(y=1);for(var A=0;A<l.length;A++){var C=l[A](D,w);if(!1===C){y=1;break}w=C||w}y||(d.unshift(D),\nf.unshift(w))}d=d.length;for(l=0;l<d;l++)w=f[l],m=a.lang.elementspath.eleTitle.replace(/%1/,w),w=c.output({id:n+l,label:m,text:w,jsTitle:\"javascript:void('\"+w+\"')\",index:l,keyDownFn:p,clickFn:q}),b.unshift(w);k||(k=CKEDITOR.document.getById(h));f=k;f.setHtml(b.join(\"\")+'\\x3cspan class\\x3d\"cke_path_empty\"\\x3e\\x26nbsp;\\x3c/span\\x3e');a.fire(\"elementsPathUpdate\",{space:f})});a.on(\"readOnly\",d);a.on(\"contentDomUnload\",d);a.addCommand(\"elementsPathFocus\",f.toolbarFocus);a.setKeystroke(CKEDITOR.ALT+122,\n\"elementsPathFocus\")}var f={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(a){(a=CKEDITOR.document.getById(a._.elementsPath.idBase+\"0\"))&&a.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},b=\"\";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(b+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(b+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var c=CKEDITOR.addTemplate(\"pathItem\",'\\x3ca id\\x3d\"{id}\" href\\x3d\"{jsTitle}\" tabindex\\x3d\"-1\" class\\x3d\"cke_path_item\" title\\x3d\"{label}\"'+b+' hidefocus\\x3d\"true\"  onkeydown\\x3d\"return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );\" onclick\\x3d\"CKEDITOR.tools.callFunction({clickFn},{index}); return false;\" role\\x3d\"button\" aria-label\\x3d\"{label}\"\\x3e{text}\\x3c/a\\x3e');\nCKEDITOR.plugins.add(\"elementspath\",{init:function(b){b._.elementsPath={idBase:\"cke_elementspath_\"+CKEDITOR.tools.getNextNumber()+\"_\",filters:[]};b.on(\"uiSpace\",function(c){\"bottom\"==c.data.space&&a(b,c.data)})}})}(),function(){function a(a,e){var m,l;e.on(\"refresh\",function(a){var c=[f],e;for(e in a.data.states)c.push(a.data.states[e]);this.setState(CKEDITOR.tools.search(c,b)?b:f)},e,null,100);e.on(\"exec\",function(b){m=a.getSelection();l=m.createBookmarks(1);b.data||(b.data={});b.data.done=!1},e,\nnull,0);e.on(\"exec\",function(){a.forceNextSelectionCheck();m.selectBookmarks(l)},e,null,100)}var f=CKEDITOR.TRISTATE_DISABLED,b=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add(\"indent\",{init:function(b){var e=CKEDITOR.plugins.indent.genericDefinition;a(b,b.addCommand(\"indent\",new e(!0)));a(b,b.addCommand(\"outdent\",new e));b.ui.addButton&&(b.ui.addButton(\"Indent\",{label:b.lang.indent.indent,command:\"indent\",directional:!0,toolbar:\"indent,20\"}),b.ui.addButton(\"Outdent\",{label:b.lang.indent.outdent,command:\"outdent\",\ndirectional:!0,toolbar:\"indent,10\"}));b.on(\"dirChanged\",function(a){var e=b.createRange(),d=a.data.node;e.setStartBefore(d);e.setEndAfter(d);for(var f=new CKEDITOR.dom.walker(e),k;k=f.next();)if(k.type==CKEDITOR.NODE_ELEMENT)if(!k.equals(d)&&k.getDirection())e.setStartAfter(k),f=new CKEDITOR.dom.walker(e);else{var g=b.config.indentClasses;if(g)for(var n=\"ltr\"==a.data.dir?[\"_rtl\",\"\"]:[\"\",\"_rtl\"],q=0;q<g.length;q++)k.hasClass(g[q]+n[0])&&(k.removeClass(g[q]+n[0]),k.addClass(g[q]+n[1]));g=k.getStyle(\"margin-right\");\nn=k.getStyle(\"margin-left\");g?k.setStyle(\"margin-left\",g):k.removeStyle(\"margin-left\");n?k.setStyle(\"margin-right\",n):k.removeStyle(\"margin-right\")}})}});CKEDITOR.plugins.indent={genericDefinition:function(a){this.isIndent=!!a;this.startDisabled=!this.isIndent},specificDefinition:function(a,b,f){this.name=b;this.editor=a;this.jobs={};this.enterBr=a.config.enterMode==CKEDITOR.ENTER_BR;this.isIndent=!!f;this.relatedGlobal=f?\"indent\":\"outdent\";this.indentKey=f?9:CKEDITOR.SHIFT+9;this.database={}},registerCommands:function(a,\nb){a.on(\"pluginsLoaded\",function(){for(var a in b)(function(a,b){var c=a.getCommand(b.relatedGlobal),e;for(e in b.jobs)c.on(\"exec\",function(c){c.data.done||(a.fire(\"lockSnapshot\"),b.execJob(a,e)&&(c.data.done=!0),a.fire(\"unlockSnapshot\"),CKEDITOR.dom.element.clearAllMarkers(b.database))},this,null,e),c.on(\"refresh\",function(c){c.data.states||(c.data.states={});c.data.states[b.name+\"@\"+e]=b.refreshJob(a,e,c.data.path)},this,null,e);a.addFeature(b)})(this,b[a])})}};CKEDITOR.plugins.indent.genericDefinition.prototype=\n{context:\"p\",exec:function(){}};CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(a,b){var m=this.jobs[b];if(m.state!=f)return m.exec.call(this,a)},refreshJob:function(a,b,m){b=this.jobs[b];a.activeFilter.checkFeature(this)?b.state=b.refresh.call(this,a,m):b.state=f;return b.state},getContext:function(a){return a.contains(this.context)}}}(),function(){function a(a){function c(f){for(var h=p.startContainer,m=p.endContainer;h&&!h.getParent().equals(f);)h=h.getParent();for(;m&&!m.getParent().equals(f);)m=\nm.getParent();if(!h||!m)return!1;for(var t=h,h=[],v=!1;!v;)t.equals(m)&&(v=!0),h.push(t),t=t.getNext();if(1>h.length)return!1;t=f.getParents(!0);for(m=0;m<t.length;m++)if(t[m].getName&&l[t[m].getName()]){f=t[m];break}for(var t=e.isIndent?1:-1,m=h[0],h=h[h.length-1],v=CKEDITOR.plugins.list.listToArray(f,g),z=v[h.getCustomData(\"listarray_index\")].indent,m=m.getCustomData(\"listarray_index\");m<=h.getCustomData(\"listarray_index\");m++)if(v[m].indent+=t,0<t){var q=v[m].parent;v[m].parent=new CKEDITOR.dom.element(q.getName(),\nq.getDocument())}for(m=h.getCustomData(\"listarray_index\")+1;m<v.length&&v[m].indent>z;m++)v[m].indent+=t;h=CKEDITOR.plugins.list.arrayToList(v,g,null,a.config.enterMode,f.getDirection());if(!e.isIndent){var y;if((y=f.getParent())&&y.is(\"li\"))for(var t=h.listNode.getChildren(),A=[],C,m=t.count()-1;0<=m;m--)(C=t.getItem(m))&&C.is&&C.is(\"li\")&&A.push(C)}h&&h.listNode.replace(f);if(A&&A.length)for(m=0;m<A.length;m++){for(C=f=A[m];(C=C.getNext())&&C.is&&C.getName()in l;)CKEDITOR.env.needsNbspFiller&&!f.getFirst(b)&&\nf.append(p.document.createText(\" \")),f.append(C);f.insertAfter(y)}h&&a.fire(\"contentDomInvalidated\");return!0}for(var e=this,g=this.database,l=this.context,m=a.getSelection(),m=(m&&m.getRanges()).createIterator(),p;p=m.getNextRange();){for(var t=p.getCommonAncestor();t&&(t.type!=CKEDITOR.NODE_ELEMENT||!l[t.getName()]);){if(a.editable().equals(t)){t=!1;break}t=t.getParent()}t||(t=p.startPath().contains(l))&&p.setEndAt(t,CKEDITOR.POSITION_BEFORE_END);if(!t){var v=p.getEnclosedNode();v&&v.type==CKEDITOR.NODE_ELEMENT&&\nv.getName()in l&&(p.setStartAt(v,CKEDITOR.POSITION_AFTER_START),p.setEndAt(v,CKEDITOR.POSITION_BEFORE_END),t=v)}t&&p.startContainer.type==CKEDITOR.NODE_ELEMENT&&p.startContainer.getName()in l&&(v=new CKEDITOR.dom.walker(p),v.evaluator=f,p.startContainer=v.next());t&&p.endContainer.type==CKEDITOR.NODE_ELEMENT&&p.endContainer.getName()in l&&(v=new CKEDITOR.dom.walker(p),v.evaluator=f,p.endContainer=v.previous());if(t)return c(t)}return 0}function f(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.is(\"li\")}\nfunction b(a){return c(a)&&e(a)}var c=CKEDITOR.dom.walker.whitespaces(!0),e=CKEDITOR.dom.walker.bookmark(!1,!0),m=CKEDITOR.TRISTATE_DISABLED,l=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add(\"indentlist\",{requires:\"indent\",init:function(b){function c(b){e.specificDefinition.apply(this,arguments);this.requiredContent=[\"ul\",\"ol\"];b.on(\"key\",function(a){if(\"wysiwyg\"==b.mode&&a.data.keyCode==this.indentKey){var c=this.getContext(b.elementPath());!c||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,\nb.elementPath(),c)||(b.execCommand(this.relatedGlobal),a.cancel())}},this);this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(a,b){var c=this.getContext(b),d=CKEDITOR.plugins.indentList.firstItemInPath(this.context,b,c);return c&&this.isIndent&&!d?l:m}:function(a,b){return!this.getContext(b)||this.isIndent?m:l},exec:CKEDITOR.tools.bind(a,this)}}var e=CKEDITOR.plugins.indent;e.registerCommands(b,{indentlist:new c(b,\"indentlist\",!0),outdentlist:new c(b,\"outdentlist\")});CKEDITOR.tools.extend(c.prototype,\ne.specificDefinition.prototype,{context:{ol:1,ul:1}})}});CKEDITOR.plugins.indentList={};CKEDITOR.plugins.indentList.firstItemInPath=function(a,b,c){var e=b.contains(f);c||(c=b.contains(a));return c&&e&&e.equals(c.getFirst(f))}}(),function(){function a(a,b,c){function d(c){if(!(!(l=k[c?\"getFirst\":\"getLast\"]())||l.is&&l.isBlockBoundary()||!(m=b.root[c?\"getPrevious\":\"getNext\"](CKEDITOR.dom.walker.invisible(!0)))||m.is&&m.isBlockBoundary({br:1})))a.document.createElement(\"br\")[c?\"insertBefore\":\"insertAfter\"](l)}\nfor(var e=CKEDITOR.plugins.list.listToArray(b.root,c),f=[],g=0;g<b.contents.length;g++){var h=b.contents[g];(h=h.getAscendant(\"li\",!0))&&!h.getCustomData(\"list_item_processed\")&&(f.push(h),CKEDITOR.dom.element.setMarker(c,h,\"list_item_processed\",!0))}h=null;for(g=0;g<f.length;g++)h=f[g].getCustomData(\"listarray_index\"),e[h].indent=-1;for(g=h+1;g<e.length;g++)if(e[g].indent>e[g-1].indent+1){f=e[g-1].indent+1-e[g].indent;for(h=e[g].indent;e[g]&&e[g].indent>=h;)e[g].indent+=f,g++;g--}var k=CKEDITOR.plugins.list.arrayToList(e,\nc,null,a.config.enterMode,b.root.getAttribute(\"dir\")).listNode,l,m;d(!0);d();k.replace(b.root);a.fire(\"contentDomInvalidated\")}function f(a,b){this.name=a;this.context=this.type=b;this.allowedContent=b+\" li\";this.requiredContent=b}function b(a,b,c,d){for(var e,f;e=a[d?\"getLast\":\"getFirst\"](p);)(f=e.getDirection(1))!==b.getDirection(1)&&e.setAttribute(\"dir\",f),e.remove(),c?e[d?\"insertBefore\":\"insertAfter\"](c):b.append(e,d)}function c(a){function c(d){var e=a[d?\"getPrevious\":\"getNext\"](g);e&&e.type==\nCKEDITOR.NODE_ELEMENT&&e.is(a.getName())&&(b(a,e,null,!d),a.remove(),a=e)}c();c(1)}function e(a){return a.type==CKEDITOR.NODE_ELEMENT&&(a.getName()in CKEDITOR.dtd.$block||a.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[a.getName()][\"#\"]}function m(a,d,e){a.fire(\"saveSnapshot\");e.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var f=e.extractContents();d.trim(!1,!0);var h=d.createBookmark(),k=new CKEDITOR.dom.elementPath(d.startContainer),m=k.block,k=k.lastElement.getAscendant(\"li\",1)||m,p=new CKEDITOR.dom.elementPath(e.startContainer),\nq=p.contains(CKEDITOR.dtd.$listItem),p=p.contains(CKEDITOR.dtd.$list);m?(m=m.getBogus())&&m.remove():p&&(m=p.getPrevious(g))&&n(m)&&m.remove();(m=f.getLast())&&m.type==CKEDITOR.NODE_ELEMENT&&m.is(\"br\")&&m.remove();(m=d.startContainer.getChild(d.startOffset))?f.insertBefore(m):d.startContainer.append(f);q&&(f=l(q))&&(k.contains(q)?(b(f,q.getParent(),q),f.remove()):k.append(f));for(;e.checkStartOfBlock()&&e.checkEndOfBlock();){p=e.startPath();f=p.block;if(!f)break;f.is(\"li\")&&(k=f.getParent(),f.equals(k.getLast(g))&&\nf.equals(k.getFirst(g))&&(f=k));e.moveToPosition(f,CKEDITOR.POSITION_BEFORE_START);f.remove()}e=e.clone();f=a.editable();e.setEndAt(f,CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);e.evaluator=function(a){return g(a)&&!n(a)};(e=e.next())&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$list&&c(e);d.moveToBookmark(h);d.select();a.fire(\"saveSnapshot\")}function l(a){return(a=a.getLast(g))&&a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in d?a:null}var d={ol:1,ul:1},h=CKEDITOR.dom.walker.whitespaces(),\nk=CKEDITOR.dom.walker.bookmark(),g=function(a){return!(h(a)||k(a))},n=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(a,b,c,e,f){if(!d[a.getName()])return[];e||(e=0);c||(c=[]);for(var g=0,h=a.getChildCount();g<h;g++){var k=a.getChild(g);k.type==CKEDITOR.NODE_ELEMENT&&k.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(k,b,c,e+1);if(\"li\"==k.$.nodeName.toLowerCase()){var l={parent:a,indent:e,element:k,contents:[]};f?l.grandparent=f:(l.grandparent=a.getParent(),\nl.grandparent&&\"li\"==l.grandparent.$.nodeName.toLowerCase()&&(l.grandparent=l.grandparent.getParent()));b&&CKEDITOR.dom.element.setMarker(b,k,\"listarray_index\",c.length);c.push(l);for(var m=0,n=k.getChildCount(),p;m<n;m++)p=k.getChild(m),p.type==CKEDITOR.NODE_ELEMENT&&d[p.getName()]?CKEDITOR.plugins.list.listToArray(p,b,c,e+1,l.grandparent):l.contents.push(p)}}return c},arrayToList:function(a,b,c,e,f){c||(c=0);if(!a||a.length<c+1)return null;for(var h,l=a[c].parent.getDocument(),m=new CKEDITOR.dom.documentFragment(l),\nn=null,p=c,q=Math.max(a[c].indent,0),C=null,F,E,J=e==CKEDITOR.ENTER_P?\"p\":\"div\";;){var G=a[p];h=G.grandparent;F=G.element.getDirection(1);if(G.indent==q){n&&a[p].parent.getName()==n.getName()||(n=a[p].parent.clone(!1,1),f&&n.setAttribute(\"dir\",f),m.append(n));C=n.append(G.element.clone(0,1));F!=n.getDirection(1)&&C.setAttribute(\"dir\",F);for(h=0;h<G.contents.length;h++)C.append(G.contents[h].clone(1,1));p++}else if(G.indent==Math.max(q,0)+1)G=a[p-1].element.getDirection(1),p=CKEDITOR.plugins.list.arrayToList(a,\nnull,p,e,G!=F?F:null),!C.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=l.$.documentMode&&C.append(l.createText(\" \")),C.append(p.listNode),p=p.nextIndex;else if(-1==G.indent&&!c&&h){d[h.getName()]?(C=G.element.clone(!1,!0),F!=h.getDirection(1)&&C.setAttribute(\"dir\",F)):C=new CKEDITOR.dom.documentFragment(l);var n=h.getDirection(1)!=F,M=G.element,I=M.getAttribute(\"class\"),H=M.getAttribute(\"style\"),R=C.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(e!=CKEDITOR.ENTER_BR||n||H||I),P,T=G.contents.length,O;\nfor(h=0;h<T;h++)if(P=G.contents[h],k(P)&&1<T)R?O=P.clone(1,1):C.append(P.clone(1,1));else if(P.type==CKEDITOR.NODE_ELEMENT&&P.isBlockBoundary()){n&&!P.getDirection()&&P.setAttribute(\"dir\",F);E=P;var K=M.getAttribute(\"style\");K&&E.setAttribute(\"style\",K.replace(/([^;])$/,\"$1;\")+(E.getAttribute(\"style\")||\"\"));I&&P.addClass(I);E=null;O&&(C.append(O),O=null);C.append(P.clone(1,1))}else R?(E||(E=l.createElement(J),C.append(E),n&&E.setAttribute(\"dir\",F)),H&&E.setAttribute(\"style\",H),I&&E.setAttribute(\"class\",\nI),O&&(E.append(O),O=null),E.append(P.clone(1,1))):C.append(P.clone(1,1));O&&((E||C).append(O),O=null);C.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&p!=a.length-1&&(CKEDITOR.env.needsBrFiller&&(F=C.getLast())&&F.type==CKEDITOR.NODE_ELEMENT&&F.is(\"br\")&&F.remove(),(F=C.getLast(g))&&F.type==CKEDITOR.NODE_ELEMENT&&F.is(CKEDITOR.dtd.$block)||C.append(l.createElement(\"br\")));F=C.$.nodeName.toLowerCase();\"div\"!=F&&\"p\"!=F||C.appendBogus();m.append(C);n=null;p++}else return null;E=null;if(a.length<=p||Math.max(a[p].indent,\n0)<q)break}if(b)for(a=m.getFirst();a;){if(a.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(b,a),a.getName()in CKEDITOR.dtd.$listItem&&(c=a,l=f=e=void 0,e=c.getDirection()))){for(f=c.getParent();f&&!(l=f.getDirection());)f=f.getParent();e==l&&c.removeAttribute(\"dir\")}a=a.getNextSourceNode()}return{listNode:m,nextIndex:p}}};var q=/^h[1-6]$/,p=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);f.prototype={exec:function(b){this.refresh(b,b.elementPath());var e=b.config,f=b.getSelection(),\nh=f&&f.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var k=b.editable();if(k.getFirst(g)){var l=1==h.length&&h[0];(e=l&&l.getEnclosedNode())&&e.is&&this.type==e.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else e.enterMode==CKEDITOR.ENTER_BR?k.appendBogus():h[0].fixBlock(1,e.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"),f.selectRanges(h)}for(var e=f.createBookmarks(!0),k=[],m={},h=h.createIterator(),n=0;(l=h.getNextRange())&&++n;){var p=l.getBoundaryNodes(),y=p.startNode,A=p.endNode;y.type==CKEDITOR.NODE_ELEMENT&&\n\"td\"==y.getName()&&l.setStartAt(p.startNode,CKEDITOR.POSITION_AFTER_START);A.type==CKEDITOR.NODE_ELEMENT&&\"td\"==A.getName()&&l.setEndAt(p.endNode,CKEDITOR.POSITION_BEFORE_END);l=l.createIterator();for(l.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;p=l.getNextParagraph();)if(!p.getCustomData(\"list_block\")){CKEDITOR.dom.element.setMarker(m,p,\"list_block\",1);for(var C=b.elementPath(p),y=C.elements,A=0,C=C.blockLimit,F,E=y.length-1;0<=E&&(F=y[E]);E--)if(d[F.getName()]&&C.contains(F)){C.removeCustomData(\"list_group_object_\"+\nn);(y=F.getCustomData(\"list_group_object\"))?y.contents.push(p):(y={root:F,contents:[p]},k.push(y),CKEDITOR.dom.element.setMarker(m,F,\"list_group_object\",y));A=1;break}A||(A=C,A.getCustomData(\"list_group_object_\"+n)?A.getCustomData(\"list_group_object_\"+n).contents.push(p):(y={root:A,contents:[p]},CKEDITOR.dom.element.setMarker(m,A,\"list_group_object_\"+n,y),k.push(y)))}}for(F=[];0<k.length;)if(y=k.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(d[y.root.getName()]){h=b;n=y;y=m;l=F;A=CKEDITOR.plugins.list.listToArray(n.root,\ny);C=[];for(p=0;p<n.contents.length;p++)E=n.contents[p],(E=E.getAscendant(\"li\",!0))&&!E.getCustomData(\"list_item_processed\")&&(C.push(E),CKEDITOR.dom.element.setMarker(y,E,\"list_item_processed\",!0));for(var E=n.root.getDocument(),J=void 0,G=void 0,p=0;p<C.length;p++){var M=C[p].getCustomData(\"listarray_index\"),J=A[M].parent;J.is(this.type)||(G=E.createElement(this.type),J.copyAttributes(G,{start:1,type:1}),G.removeStyle(\"list-style-type\"),A[M].parent=G)}y=CKEDITOR.plugins.list.arrayToList(A,y,null,\nh.config.enterMode);A=void 0;C=y.listNode.getChildCount();for(p=0;p<C&&(A=y.listNode.getChild(p));p++)A.getName()==this.type&&l.push(A);y.listNode.replace(n.root);h.fire(\"contentDomInvalidated\")}else{A=b;l=y;p=F;C=l.contents;h=l.root.getDocument();n=[];1==C.length&&C[0].equals(l.root)&&(y=h.createElement(\"div\"),C[0].moveChildren&&C[0].moveChildren(y),C[0].append(y),C[0]=y);l=l.contents[0].getParent();for(E=0;E<C.length;E++)l=l.getCommonAncestor(C[E].getParent());J=A.config.useComputedState;A=y=void 0;\nJ=void 0===J||J;for(E=0;E<C.length;E++)for(G=C[E];M=G.getParent();){if(M.equals(l)){n.push(G);!A&&G.getDirection()&&(A=1);G=G.getDirection(J);null!==y&&(y=y&&y!=G?null:G);break}G=M}if(!(1>n.length)){C=n[n.length-1].getNext();E=h.createElement(this.type);p.push(E);for(J=p=void 0;n.length;)p=n.shift(),J=h.createElement(\"li\"),G=p,G.is(\"pre\")||q.test(G.getName())||\"false\"==G.getAttribute(\"contenteditable\")?p.appendTo(J):(p.copyAttributes(J),y&&p.getDirection()&&(J.removeStyle(\"direction\"),J.removeAttribute(\"dir\")),\np.moveChildren(J),p.remove()),J.appendTo(E);y&&A&&E.setAttribute(\"dir\",y);C?E.insertBefore(C):E.appendTo(l)}}else this.state==CKEDITOR.TRISTATE_ON&&d[y.root.getName()]&&a.call(this,b,y,m);for(E=0;E<F.length;E++)c(F[E]);CKEDITOR.dom.element.clearAllMarkers(m);f.selectBookmarks(e);b.focus()},refresh:function(a,b){var c=b.contains(d,1),e=b.blockLimit||b.root;c&&e.contains(c)?this.setState(c.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add(\"list\",\n{requires:\"indentlist\",init:function(a){a.blockless||(a.addCommand(\"numberedlist\",new f(\"numberedlist\",\"ol\")),a.addCommand(\"bulletedlist\",new f(\"bulletedlist\",\"ul\")),a.ui.addButton&&(a.ui.addButton(\"NumberedList\",{label:a.lang.list.numberedlist,command:\"numberedlist\",directional:!0,toolbar:\"list,10\"}),a.ui.addButton(\"BulletedList\",{label:a.lang.list.bulletedlist,command:\"bulletedlist\",directional:!0,toolbar:\"list,20\"})),a.on(\"key\",function(b){var c=b.data.domEvent.getKey(),f;if(\"wysiwyg\"==a.mode&&\nc in{8:1,46:1}){var h=a.getSelection().getRanges()[0],k=h&&h.startPath();if(h&&h.collapsed){var p=8==c,q=a.editable(),D=new CKEDITOR.dom.walker(h.clone());D.evaluator=function(a){return g(a)&&!n(a)};D.guard=function(a,b){return!(b&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(\"table\"))};c=h.clone();if(p){var y;(y=k.contains(d))&&h.checkBoundaryOfElement(y,CKEDITOR.START)&&(y=y.getParent())&&y.is(\"li\")&&(y=l(y))?(f=y,y=y.getPrevious(g),c.moveToPosition(y&&n(y)?y:f,CKEDITOR.POSITION_BEFORE_START)):(D.range.setStartAt(q,\nCKEDITOR.POSITION_AFTER_START),D.range.setEnd(h.startContainer,h.startOffset),(y=D.previous())&&y.type==CKEDITOR.NODE_ELEMENT&&(y.getName()in d||y.is(\"li\"))&&(y.is(\"li\")||(D.range.selectNodeContents(y),D.reset(),D.evaluator=e,y=D.previous()),f=y,c.moveToElementEditEnd(f),c.moveToPosition(c.endPath().block,CKEDITOR.POSITION_BEFORE_END)));if(f)m(a,c,h),b.cancel();else{var A=k.contains(d);A&&h.checkBoundaryOfElement(A,CKEDITOR.START)&&(f=A.getFirst(g),h.checkBoundaryOfElement(f,CKEDITOR.START)&&(y=A.getPrevious(g),\nl(f)?y&&(h.moveToElementEditEnd(y),h.select()):a.execCommand(\"outdent\"),b.cancel()))}}else if(f=k.contains(\"li\")){if(D.range.setEndAt(q,CKEDITOR.POSITION_BEFORE_END),p=(q=f.getLast(g))&&e(q)?q:f,k=0,(y=D.next())&&y.type==CKEDITOR.NODE_ELEMENT&&y.getName()in d&&y.equals(q)?(k=1,y=D.next()):h.checkBoundaryOfElement(p,CKEDITOR.END)&&(k=2),k&&y){h=h.clone();h.moveToElementEditStart(y);if(1==k&&(c.optimize(),!c.startContainer.equals(f))){for(f=c.startContainer;f.is(CKEDITOR.dtd.$inline);)A=f,f=f.getParent();\nA&&c.moveToPosition(A,CKEDITOR.POSITION_AFTER_END)}2==k&&(c.moveToPosition(c.endPath().block,CKEDITOR.POSITION_BEFORE_END),h.endPath().block&&h.moveToPosition(h.endPath().block,CKEDITOR.POSITION_AFTER_START));m(a,c,h);b.cancel()}}else D.range.setEndAt(q,CKEDITOR.POSITION_BEFORE_END),(y=D.next())&&y.type==CKEDITOR.NODE_ELEMENT&&y.is(d)&&(y=y.getFirst(g),k.block&&h.checkStartOfBlock()&&h.checkEndOfBlock()?(k.block.remove(),h.moveToElementEditStart(y),h.select()):l(y)?(h.moveToElementEditStart(y),h.select()):\n(h=h.clone(),h.moveToElementEditStart(y),m(a,c,h)),b.cancel());setTimeout(function(){a.selectionChange(1)})}}}))}})}(),function(){function a(a,b,c){c=a.config.forceEnterMode||c;\"wysiwyg\"==a.mode&&(b||(b=a.activeEnterMode),a.elementPath().isContextFor(\"p\")||(b=CKEDITOR.ENTER_BR,c=1),a.fire(\"saveSnapshot\"),b==CKEDITOR.ENTER_BR?l(a,b,null,c):d(a,b,null,c),a.fire(\"saveSnapshot\"))}function f(a){a=a.getSelection().getRanges(!0);for(var b=a.length-1;0<b;b--)a[b].deleteContents();return a[0]}function b(a){var b=\na.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&\"true\"==a.getAttribute(\"contenteditable\")},!0);if(a.root.equals(b))return a;b=new CKEDITOR.dom.range(b);b.moveToRange(a);return b}CKEDITOR.plugins.add(\"enterkey\",{init:function(b){b.addCommand(\"enter\",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){a(b)}});b.addCommand(\"shiftEnter\",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){a(b,b.activeShiftEnterMode,1)}});b.setKeystroke([[13,\"enter\"],[CKEDITOR.SHIFT+13,\"shiftEnter\"]])}});\nvar c=CKEDITOR.dom.walker.whitespaces(),e=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(a,d,m,q){if(m=m||f(a)){m=b(m);var p=m.document,t=m.checkStartOfBlock(),v=m.checkEndOfBlock(),r=a.elementPath(m.startContainer),u=r.block,B=d==CKEDITOR.ENTER_DIV?\"div\":\"p\",x;if(t&&v){if(u&&(u.is(\"li\")||u.getParent().is(\"li\"))){u.is(\"li\")||(u=u.getParent());m=u.getParent();x=m.getParent();q=!u.hasPrevious();var w=!u.hasNext(),B=a.getSelection(),z=B.createBookmarks(),t=u.getDirection(1),\nv=u.getAttribute(\"class\"),D=u.getAttribute(\"style\"),y=x.getDirection(1)!=t;a=a.enterMode!=CKEDITOR.ENTER_BR||y||D||v;if(x.is(\"li\"))q||w?(q&&w&&m.remove(),u[w?\"insertAfter\":\"insertBefore\"](x)):u.breakParent(x);else{if(a)if(r.block.is(\"li\")?(x=p.createElement(d==CKEDITOR.ENTER_P?\"p\":\"div\"),y&&x.setAttribute(\"dir\",t),D&&x.setAttribute(\"style\",D),v&&x.setAttribute(\"class\",v),u.moveChildren(x)):x=r.block,q||w)x[q?\"insertBefore\":\"insertAfter\"](m);else u.breakParent(m),x.insertAfter(m);else if(u.appendBogus(!0),\nq||w)for(;p=u[q?\"getFirst\":\"getLast\"]();)p[q?\"insertBefore\":\"insertAfter\"](m);else for(u.breakParent(m);p=u.getLast();)p.insertAfter(m);u.remove()}B.selectBookmarks(z);return}if(u&&u.getParent().is(\"blockquote\")){u.breakParent(u.getParent());u.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||u.getPrevious().remove();u.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||u.getNext().remove();m.moveToElementEditStart(u);m.select();return}}else if(u&&u.is(\"pre\")&&!v){l(a,d,m,q);return}if(t=\nm.splitBlock(B)){d=t.previousBlock;u=t.nextBlock;r=t.wasStartOfBlock;a=t.wasEndOfBlock;u?(z=u.getParent(),z.is(\"li\")&&(u.breakParent(z),u.move(u.getNext(),1))):d&&(z=d.getParent())&&z.is(\"li\")&&(d.breakParent(z),z=d.getNext(),m.moveToElementEditStart(z),d.move(d.getPrevious()));if(r||a){if(d){if(d.is(\"li\")||!h.test(d.getName())&&!d.is(\"pre\"))x=d.clone()}else u&&(x=u.clone());x?q&&!x.is(\"li\")&&x.renameNode(B):z&&z.is(\"li\")?x=z:(x=p.createElement(B),d&&(w=d.getDirection())&&x.setAttribute(\"dir\",w));\nif(p=t.elementPath)for(q=0,B=p.elements.length;q<B;q++){z=p.elements[q];if(z.equals(p.block)||z.equals(p.blockLimit))break;CKEDITOR.dtd.$removeEmpty[z.getName()]&&(z=z.clone(),x.moveChildren(z),x.append(z))}x.appendBogus();x.getParent()||m.insertNode(x);x.is(\"li\")&&x.removeAttribute(\"value\");!CKEDITOR.env.ie||!r||a&&d.getChildCount()||(m.moveToElementEditStart(a?d:x),m.select());m.moveToElementEditStart(r&&!a?u:x)}else u.is(\"li\")&&(x=m.clone(),x.selectNodeContents(u),x=new CKEDITOR.dom.walker(x),\nx.evaluator=function(a){return!(e(a)||c(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in CKEDITOR.dtd.$inline&&!(a.getName()in CKEDITOR.dtd.$empty))},(z=x.next())&&z.type==CKEDITOR.NODE_ELEMENT&&z.is(\"ul\",\"ol\")&&(CKEDITOR.env.needsBrFiller?p.createElement(\"br\"):p.createText(\" \")).insertBefore(z)),u&&m.moveToElementEditStart(u);m.select();m.scrollIntoView()}}},enterBr:function(a,b,c,e){if(c=c||f(a)){var l=c.document,m=c.checkEndOfBlock(),v=new CKEDITOR.dom.elementPath(a.getSelection().getStartElement()),\nr=v.block,u=r&&v.block.getName();e||\"li\"!=u?(!e&&m&&h.test(u)?(m=r.getDirection())?(l=l.createElement(\"div\"),l.setAttribute(\"dir\",m),l.insertAfter(r),c.setStart(l,0)):(l.createElement(\"br\").insertAfter(r),CKEDITOR.env.gecko&&l.createText(\"\").insertAfter(r),c.setStartAt(r.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(a=\"pre\"==u&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?l.createText(\"\\r\"):l.createElement(\"br\"),c.deleteContents(),c.insertNode(a),CKEDITOR.env.needsBrFiller?\n(l.createText(\"﻿\").insertAfter(a),m&&(r||v.blockLimit).appendBogus(),a.getNext().$.nodeValue=\"\",c.setStartAt(a.getNext(),CKEDITOR.POSITION_AFTER_START)):c.setStartAt(a,CKEDITOR.POSITION_AFTER_END)),c.collapse(!0),c.select(),c.scrollIntoView()):d(a,b,c,e)}}};var m=CKEDITOR.plugins.enterkey,l=m.enterBr,d=m.enterBlock,h=/^h[1-6]$/}(),function(){function a(a,b){var c={},e=[],m={nbsp:\" \",shy:\"­\",gt:\"\\x3e\",lt:\"\\x3c\",amp:\"\\x26\",apos:\"'\",quot:'\"'};a=a.replace(/\\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(a,\nd){var f=b?\"\\x26\"+d+\";\":m[d];c[f]=b?m[d]:\"\\x26\"+d+\";\";e.push(f);return\"\"});if(!b&&a){a=a.split(\",\");var l=document.createElement(\"div\"),d;l.innerHTML=\"\\x26\"+a.join(\";\\x26\")+\";\";d=l.innerHTML;l=null;for(l=0;l<d.length;l++){var h=d.charAt(l);c[h]=\"\\x26\"+a[l]+\";\";e.push(h)}}c.regex=e.join(b?\"|\":\"\");return c}CKEDITOR.plugins.add(\"entities\",{afterInit:function(f){function b(a){return h[a]}function c(a){return\"force\"!=e.entities_processNumerical&&l[a]?l[a]:\"\\x26#\"+a.charCodeAt(0)+\";\"}var e=f.config;if(f=\n(f=f.dataProcessor)&&f.htmlFilter){var m=[];!1!==e.basicEntities&&m.push(\"nbsp,gt,lt,amp\");e.entities&&(m.length&&m.push(\"quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro\"),\ne.entities_latin&&m.push(\"Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml\"),e.entities_greek&&m.push(\"Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv\"),\ne.entities_additional&&m.push(e.entities_additional));var l=a(m.join(\",\")),d=l.regex?\"[\"+l.regex+\"]\":\"a^\";delete l.regex;e.entities&&e.entities_processNumerical&&(d=\"[^ -~]|\"+d);var d=new RegExp(d,\"g\"),h=a(\"nbsp,gt,lt,amp,shy\",!0),k=new RegExp(h.regex,\"g\");f.addRules({text:function(a){return a.replace(k,b).replace(d,c)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,\nCKEDITOR.config.entities_additional=\"#39\",CKEDITOR.plugins.add(\"popup\"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(a,f,b,c){f=f||\"80%\";b=b||\"70%\";\"string\"==typeof f&&1<f.length&&\"%\"==f.substr(f.length-1,1)&&(f=parseInt(window.screen.width*parseInt(f,10)/100,10));\"string\"==typeof b&&1<b.length&&\"%\"==b.substr(b.length-1,1)&&(b=parseInt(window.screen.height*parseInt(b,10)/100,10));640>f&&(f=640);420>b&&(b=420);var e=parseInt((window.screen.height-b)/2,10),m=parseInt((window.screen.width-\nf)/2,10);c=(c||\"location\\x3dno,menubar\\x3dno,toolbar\\x3dno,dependent\\x3dyes,minimizable\\x3dno,modal\\x3dyes,alwaysRaised\\x3dyes,resizable\\x3dyes,scrollbars\\x3dyes\")+\",width\\x3d\"+f+\",height\\x3d\"+b+\",top\\x3d\"+e+\",left\\x3d\"+m;var l=window.open(\"\",null,c,!0);if(!l)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(\" chrome/\")&&(l.moveTo(m,e),l.resizeTo(f,b)),l.focus(),l.location.href=a}catch(d){window.open(a,null,c,!0)}return!0}}),function(){function a(a,b){var c=[];if(b)for(var d in b)c.push(d+\n\"\\x3d\"+encodeURIComponent(b[d]));else return a;return a+(-1!=a.indexOf(\"?\")?\"\\x26\":\"?\")+c.join(\"\\x26\")}function f(a){a+=\"\";return a.charAt(0).toUpperCase()+a.substr(1)}function b(){var b=this.getDialog(),c=b.getParentEditor();c._.filebrowserSe=this;var d=c.config[\"filebrowser\"+f(b.getName())+\"WindowWidth\"]||c.config.filebrowserWindowWidth||\"80%\",b=c.config[\"filebrowser\"+f(b.getName())+\"WindowHeight\"]||c.config.filebrowserWindowHeight||\"70%\",e=this.filebrowser.params||{};e.CKEditor=c.name;e.CKEditorFuncNum=\nc._.filebrowserFn;e.langCode||(e.langCode=c.langCode);e=a(this.filebrowser.url,e);c.popup(e,d,b,c.config.filebrowserWindowFeatures||c.config.fileBrowserWindowFeatures)}function c(){var a=this.getDialog();a.getParentEditor()._.filebrowserSe=this;return a.getContentElement(this[\"for\"][0],this[\"for\"][1]).getInputElement().$.value&&a.getContentElement(this[\"for\"][0],this[\"for\"][1]).getAction()?!0:!1}function e(b,c,d){var e=d.params||{};e.CKEditor=b.name;e.CKEditorFuncNum=b._.filebrowserFn;e.langCode||\n(e.langCode=b.langCode);c.action=a(d.url,e);c.filebrowser=d}function m(a,d,g,l){if(l&&l.length)for(var q,p=l.length;p--;)if(q=l[p],\"hbox\"!=q.type&&\"vbox\"!=q.type&&\"fieldset\"!=q.type||m(a,d,g,q.children),q.filebrowser)if(\"string\"==typeof q.filebrowser&&(q.filebrowser={action:\"fileButton\"==q.type?\"QuickUpload\":\"Browse\",target:q.filebrowser}),\"Browse\"==q.filebrowser.action){var t=q.filebrowser.url;void 0===t&&(t=a.config[\"filebrowser\"+f(d)+\"BrowseUrl\"],void 0===t&&(t=a.config.filebrowserBrowseUrl));\nt&&(q.onClick=b,q.filebrowser.url=t,q.hidden=!1)}else if(\"QuickUpload\"==q.filebrowser.action&&q[\"for\"]&&(t=q.filebrowser.url,void 0===t&&(t=a.config[\"filebrowser\"+f(d)+\"UploadUrl\"],void 0===t&&(t=a.config.filebrowserUploadUrl)),t)){var v=q.onClick;q.onClick=function(a){var b=a.sender;if(v&&!1===v.call(b,a))return!1;if(c.call(b,a)){a=b.getDialog().getContentElement(this[\"for\"][0],this[\"for\"][1]).getInputElement();if(b=new CKEDITOR.dom.element(a.$.form))(a=b.$.elements.ckCsrfToken)?a=new CKEDITOR.dom.element(a):\n(a=new CKEDITOR.dom.element(\"input\"),a.setAttributes({name:\"ckCsrfToken\",type:\"hidden\"}),b.append(a)),a.setAttribute(\"value\",CKEDITOR.tools.getCsrfToken());return!0}return!1};q.filebrowser.url=t;q.hidden=!1;e(a,g.getContents(q[\"for\"][0]).get(q[\"for\"][1]),q.filebrowser)}}function l(a,b,c){if(-1!==c.indexOf(\";\")){c=c.split(\";\");for(var d=0;d<c.length;d++)if(l(a,b,c[d]))return!0;return!1}return(a=a.getContents(b).get(c).filebrowser)&&a.url}function d(a,b){var c=this._.filebrowserSe.getDialog(),d=this._.filebrowserSe[\"for\"],\ne=this._.filebrowserSe.filebrowser.onSelect;d&&c.getContentElement(d[0],d[1]).reset();if(\"function\"!=typeof b||!1!==b.call(this._.filebrowserSe))if(!e||!1!==e.call(this._.filebrowserSe,a,b))if(\"string\"==typeof b&&b&&alert(b),a&&(d=this._.filebrowserSe,c=d.getDialog(),d=d.filebrowser.target||null))if(d=d.split(\":\"),e=c.getContentElement(d[0],d[1]))e.setValue(a),c.selectPage(d[0])}CKEDITOR.plugins.add(\"filebrowser\",{requires:\"popup\",init:function(a){a._.filebrowserFn=CKEDITOR.tools.addFunction(d,a);\na.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}});CKEDITOR.on(\"dialogDefinition\",function(a){if(a.editor.plugins.filebrowser)for(var b=a.data.definition,c,d=0;d<b.contents.length;++d)if(c=b.contents[d])m(a.editor,a.data.name,b,c.elements),c.hidden&&c.filebrowser&&(c.hidden=!l(b,c.id,c.filebrowser))})}(),function(){function a(a){var e=a.config,m=a.fire(\"uiSpace\",{space:\"top\",html:\"\"}).html,l=function(){function d(a,c,e){h.setStyle(c,b(e));h.setStyle(\"position\",a)}function g(a){var b=\nm.getDocumentPosition();switch(a){case \"top\":d(\"absolute\",\"top\",b.y-B-z);break;case \"pin\":d(\"fixed\",\"top\",y);break;case \"bottom\":d(\"absolute\",\"top\",b.y+(r.height||r.bottom-r.top)+z)}k=a}var k,m,v,r,u,B,x,w=e.floatSpaceDockedOffsetX||0,z=e.floatSpaceDockedOffsetY||0,D=e.floatSpacePinnedOffsetX||0,y=e.floatSpacePinnedOffsetY||0;return function(d){if(m=a.editable()){var n=d&&\"focus\"==d.name;n&&h.show();a.fire(\"floatingSpaceLayout\",{show:n});h.removeStyle(\"left\");h.removeStyle(\"right\");v=h.getClientRect();\nr=m.getClientRect();u=f.getViewPaneSize();B=v.height;x=\"pageXOffset\"in f.$?f.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft;k?(B+z<=r.top?g(\"top\"):B+z>u.height-r.bottom?g(\"pin\"):g(\"bottom\"),d=u.width/2,d=e.floatSpacePreferRight?\"right\":0<r.left&&r.right<u.width&&r.width>v.width?\"rtl\"==e.contentsLangDirection?\"right\":\"left\":d-r.left>r.right-d?\"left\":\"right\",v.width>u.width?(d=\"left\",n=0):(n=\"left\"==d?0<r.left?r.left:0:r.right<u.width?u.width-r.right:0,n+v.width>u.width&&(d=\"left\"==d?\n\"right\":\"left\",n=0)),h.setStyle(d,b((\"pin\"==k?D:w)+n+(\"pin\"==k?0:\"left\"==d?x:-x)))):(k=\"pin\",g(\"pin\"),l(d))}}}();if(m){var d=new CKEDITOR.template('\\x3cdiv id\\x3d\"cke_{name}\" class\\x3d\"cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'\" dir\\x3d\"{langDir}\" title\\x3d\"'+(CKEDITOR.env.gecko?\" \":\"\")+'\" lang\\x3d\"{langCode}\" role\\x3d\"application\" style\\x3d\"{style}\"'+(a.title?' aria-labelledby\\x3d\"cke_{name}_arialbl\"':\" \")+\"\\x3e\"+(a.title?'\\x3cspan id\\x3d\"cke_{name}_arialbl\" class\\x3d\"cke_voice_label\"\\x3e{voiceLabel}\\x3c/span\\x3e':\n\" \")+'\\x3cdiv class\\x3d\"cke_inner\"\\x3e\\x3cdiv id\\x3d\"{topId}\" class\\x3d\"cke_top\" role\\x3d\"presentation\"\\x3e{content}\\x3c/div\\x3e\\x3c/div\\x3e\\x3c/div\\x3e'),h=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(d.output({content:m,id:a.id,langDir:a.lang.dir,langCode:a.langCode,name:a.name,style:\"display:none;z-index:\"+(e.baseFloatZIndex-1),topId:a.ui.spaceId(\"top\"),voiceLabel:a.title}))),k=CKEDITOR.tools.eventsBuffer(500,l),g=CKEDITOR.tools.eventsBuffer(100,l);h.unselectable();h.on(\"mousedown\",\nfunction(a){a=a.data;a.getTarget().hasAscendant(\"a\",1)||a.preventDefault()});a.on(\"focus\",function(b){l(b);a.on(\"change\",k.input);f.on(\"scroll\",g.input);f.on(\"resize\",g.input)});a.on(\"blur\",function(){h.hide();a.removeListener(\"change\",k.input);f.removeListener(\"scroll\",g.input);f.removeListener(\"resize\",g.input)});a.on(\"destroy\",function(){f.removeListener(\"scroll\",g.input);f.removeListener(\"resize\",g.input);h.clearCustomData();h.remove()});a.focusManager.hasFocus&&h.show();a.focusManager.add(h,\n1)}}var f=CKEDITOR.document.getWindow(),b=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add(\"floatingspace\",{init:function(b){b.on(\"loaded\",function(){a(this)},null,null,20)}})}(),CKEDITOR.plugins.add(\"listblock\",{requires:\"panel\",onLoad:function(){var a=CKEDITOR.addTemplate(\"panel-list\",'\\x3cul role\\x3d\"presentation\" class\\x3d\"cke_panel_list\"\\x3e{items}\\x3c/ul\\x3e'),f=CKEDITOR.addTemplate(\"panel-list-item\",'\\x3cli id\\x3d\"{id}\" class\\x3d\"cke_panel_listItem\" role\\x3dpresentation\\x3e\\x3ca id\\x3d\"{id}_option\" _cke_focus\\x3d1 hidefocus\\x3dtrue title\\x3d\"{title}\" href\\x3d\"javascript:void(\\'{val}\\')\"  {onclick}\\x3d\"CKEDITOR.tools.callFunction({clickFn},\\'{val}\\'); return false;\" role\\x3d\"option\"\\x3e{text}\\x3c/a\\x3e\\x3c/li\\x3e'),\nb=CKEDITOR.addTemplate(\"panel-list-group\",'\\x3ch1 id\\x3d\"{id}\" class\\x3d\"cke_panel_grouptitle\" role\\x3d\"presentation\" \\x3e{label}\\x3c/h1\\x3e'),c=/\\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(a,b){return this.addBlock(a,new CKEDITOR.ui.listBlock(this.getHolderElement(),b))};CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(a,b){b=b||{};var c=b.attributes||(b.attributes={});(this.multiSelect=!!b.multiSelect)&&(c[\"aria-multiselectable\"]=!0);!c.role&&\n(c.role=\"listbox\");this.base.apply(this,arguments);this.element.setAttribute(\"role\",c.role);c=this.keys;c[40]=\"next\";c[9]=\"next\";c[38]=\"prev\";c[CKEDITOR.SHIFT+9]=\"prev\";c[32]=CKEDITOR.env.ie?\"mouseup\":\"click\";CKEDITOR.env.ie&&(c[13]=\"mouseup\");this._.pendingHtml=[];this._.pendingList=[];this._.items={};this._.groups={}},_:{close:function(){if(this._.started){var b=a.output({items:this._.pendingList.join(\"\")});this._.pendingList=[];this._.pendingHtml.push(b);delete this._.started}},getClick:function(){this._.click||\n(this._.click=CKEDITOR.tools.addFunction(function(a){var b=this.toggle(a);if(this.onClick)this.onClick(a,b)},this));return this._.click}},proto:{add:function(a,b,l){var d=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0);this._.items[a]=d;var h;h=CKEDITOR.tools.htmlEncodeAttr(a).replace(c,\"\\\\'\");a={id:d,val:h,onclick:CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(l||a),text:b||a};\nthis._.pendingList.push(f.output(a))},startGroup:function(a){this._.close();var c=CKEDITOR.tools.getNextId();this._.groups[a]=c;this._.pendingHtml.push(b.output({id:c,label:a}))},commit:function(){this._.close();this.element.appendHtml(this._.pendingHtml.join(\"\"));delete this._.size;this._.pendingHtml=[]},toggle:function(a){var b=this.isMarked(a);b?this.unmark(a):this.mark(a);return!b},hideGroup:function(a){var b=(a=this.element.getDocument().getById(this._.groups[a]))&&a.getNext();a&&(a.setStyle(\"display\",\n\"none\"),b&&\"ul\"==b.getName()&&b.setStyle(\"display\",\"none\"))},hideItem:function(a){this.element.getDocument().getById(this._.items[a]).setStyle(\"display\",\"none\")},showAll:function(){var a=this._.items,b=this._.groups,c=this.element.getDocument(),d;for(d in a)c.getById(a[d]).setStyle(\"display\",\"\");for(var f in b)a=c.getById(b[f]),d=a.getNext(),a.setStyle(\"display\",\"\"),d&&\"ul\"==d.getName()&&d.setStyle(\"display\",\"\")},mark:function(a){this.multiSelect||this.unmarkAll();a=this._.items[a];var b=this.element.getDocument().getById(a);\nb.addClass(\"cke_selected\");this.element.getDocument().getById(a+\"_option\").setAttribute(\"aria-selected\",!0);this.onMark&&this.onMark(b)},unmark:function(a){var b=this.element.getDocument();a=this._.items[a];var c=b.getById(a);c.removeClass(\"cke_selected\");b.getById(a+\"_option\").removeAttribute(\"aria-selected\");this.onUnmark&&this.onUnmark(c)},unmarkAll:function(){var a=this._.items,b=this.element.getDocument(),c;for(c in a){var d=a[c];b.getById(d).removeClass(\"cke_selected\");b.getById(d+\"_option\").removeAttribute(\"aria-selected\")}this.onUnmark&&\nthis.onUnmark()},isMarked:function(a){return this.element.getDocument().getById(this._.items[a]).hasClass(\"cke_selected\")},focus:function(a){this._.focusIndex=-1;var b=this.element.getElementsByTag(\"a\"),c,d=-1;if(a)for(c=this.element.getDocument().getById(this._.items[a]).getFirst();a=b.getItem(++d);){if(a.equals(c)){this._.focusIndex=d;break}}else this.element.focus();c&&setTimeout(function(){c.focus()},0)}}})}}),function(){var a='\\x3ca id\\x3d\"{id}\" class\\x3d\"cke_button cke_button__{name} cke_button_{state} {cls}\"'+\n(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?\"\":\" href\\x3d\\\"javascript:void('{titleJs}')\\\"\")+' title\\x3d\"{title}\" tabindex\\x3d\"-1\" hidefocus\\x3d\"true\" role\\x3d\"button\" aria-labelledby\\x3d\"{id}_label\" aria-describedby\\x3d\"{id}_description\" aria-haspopup\\x3d\"{hasArrow}\" aria-disabled\\x3d\"{ariaDisabled}\"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(a+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(a+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var a=a+(' onkeydown\\x3d\"return CKEDITOR.tools.callFunction({keydownFn},event);\" onfocus\\x3d\"return CKEDITOR.tools.callFunction({focusFn},event);\" '+\n(CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\")+'\\x3d\"CKEDITOR.tools.callFunction({clickFn},this);return false;\"\\x3e\\x3cspan class\\x3d\"cke_button_icon cke_button__{iconName}_icon\" style\\x3d\"{style}\"'),a=a+'\\x3e\\x26nbsp;\\x3c/span\\x3e\\x3cspan id\\x3d\"{id}_label\" class\\x3d\"cke_button_label cke_button__{name}_label\" aria-hidden\\x3d\"false\"\\x3e{label}\\x3c/span\\x3e\\x3cspan id\\x3d\"{id}_description\" class\\x3d\"cke_button_label\" aria-hidden\\x3d\"false\"\\x3e{ariaShortcut}\\x3c/span\\x3e{arrowHtml}\\x3c/a\\x3e',\nf=CKEDITOR.addTemplate(\"buttonArrow\",'\\x3cspan class\\x3d\"cke_button_arrow\"\\x3e'+(CKEDITOR.env.hc?\"\\x26#9660;\":\"\")+\"\\x3c/span\\x3e\"),b=CKEDITOR.addTemplate(\"button\",a);CKEDITOR.plugins.add(\"button\",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON=\"button\";CKEDITOR.ui.button=function(a){CKEDITOR.tools.extend(this,a,{title:a.label,click:a.click||function(b){b.execCommand(a.command)}});this._={}};CKEDITOR.ui.button.handler={create:function(a){return new CKEDITOR.ui.button(a)}};\nCKEDITOR.ui.button.prototype={render:function(a,e){function m(){var b=a.mode;b&&(b=this.modes[b]?void 0!==u[b]?u[b]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,b=a.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:b,this.setState(b),this.refresh&&this.refresh())}var l=CKEDITOR.env,d=this._.id=CKEDITOR.tools.getNextId(),h=\"\",k=this.command,g,n,q;this._.editor=a;var p={id:d,button:this,editor:a,focus:function(){CKEDITOR.document.getById(d).focus()},execute:function(){this.button.click(a)},attach:function(a){this.button.attach(a)}},\nt=CKEDITOR.tools.addFunction(function(a){if(p.onkey)return a=new CKEDITOR.dom.event(a),!1!==p.onkey(p,a.getKeystroke())}),v=CKEDITOR.tools.addFunction(function(a){var b;p.onfocus&&(b=!1!==p.onfocus(p,new CKEDITOR.dom.event(a)));return b}),r=0;p.clickFn=g=CKEDITOR.tools.addFunction(function(){r&&(a.unlockSelection(1),r=0);p.execute();l.iOS&&a.focus()});if(this.modes){var u={};a.on(\"beforeModeUnload\",function(){a.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(u[a.mode]=this._.state)},this);a.on(\"activeFilterChange\",\nm,this);a.on(\"mode\",m,this);!this.readOnly&&a.on(\"readOnly\",m,this)}else k&&(k=a.getCommand(k))&&(k.on(\"state\",function(){this.setState(k.state)},this),h+=k.state==CKEDITOR.TRISTATE_ON?\"on\":k.state==CKEDITOR.TRISTATE_DISABLED?\"disabled\":\"off\");if(this.directional)a.on(\"contentDirChanged\",function(b){var d=CKEDITOR.document.getById(this._.id),e=d.getFirst();b=b.data;b!=a.lang.dir?d.addClass(\"cke_\"+b):d.removeClass(\"cke_ltr\").removeClass(\"cke_rtl\");e.setAttribute(\"style\",CKEDITOR.skin.getIconStyle(B,\n\"rtl\"==b,this.icon,this.iconOffset))},this);k?(n=a.getCommandKeystroke(k))&&(q=CKEDITOR.tools.keystrokeToString(a.lang.common.keyboard,n)):h+=\"off\";var B=n=this.name||this.command;this.icon&&!/\\./.test(this.icon)&&(B=this.icon,this.icon=null);h={id:d,name:n,iconName:B,label:this.label,cls:this.className||\"\",state:h,ariaDisabled:\"disabled\"==h?\"true\":\"false\",title:this.title+(q?\" (\"+q.display+\")\":\"\"),ariaShortcut:q?a.lang.common.keyboardShortcut+\" \"+q.aria:\"\",titleJs:l.gecko&&!l.hc?\"\":(this.title||\n\"\").replace(\"'\",\"\"),hasArrow:this.hasArrow?\"true\":\"false\",keydownFn:t,focusFn:v,clickFn:g,style:CKEDITOR.skin.getIconStyle(B,\"rtl\"==a.lang.dir,this.icon,this.iconOffset),arrowHtml:this.hasArrow?f.output():\"\"};b.output(h,e);if(this.onRender)this.onRender();return p},setState:function(a){if(this._.state==a)return!1;this._.state=a;var b=CKEDITOR.document.getById(this._.id);return b?(b.setState(a,\"cke_button\"),a==CKEDITOR.TRISTATE_DISABLED?b.setAttribute(\"aria-disabled\",!0):b.removeAttribute(\"aria-disabled\"),\nthis.hasArrow?(a=a==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+\"_label\").setText(a)):a==CKEDITOR.TRISTATE_ON?b.setAttribute(\"aria-pressed\",!0):b.removeAttribute(\"aria-pressed\"),!0):!1},getState:function(){return this._.state},toFeature:function(a){if(this._.feature)return this._.feature;var b=this;this.allowedContent||this.requiredContent||!this.command||(b=a.getCommand(this.command)||b);return this._.feature=\nb}};CKEDITOR.ui.prototype.addButton=function(a,b){this.add(a,CKEDITOR.UI_BUTTON,b)}}(),CKEDITOR.plugins.add(\"richcombo\",{requires:\"floatpanel,listblock,button\",beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var a='\\x3cspan id\\x3d\"{id}\" class\\x3d\"cke_combo cke_combo__{name} {cls}\" role\\x3d\"presentation\"\\x3e\\x3cspan id\\x3d\"{id}_label\" class\\x3d\"cke_combo_label\"\\x3e{label}\\x3c/span\\x3e\\x3ca class\\x3d\"cke_combo_button\" title\\x3d\"{title}\" tabindex\\x3d\"-1\"'+\n(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?\"\":\" href\\x3d\\\"javascript:void('{titleJs}')\\\"\")+' hidefocus\\x3d\"true\" role\\x3d\"button\" aria-labelledby\\x3d\"{id}_label\" aria-haspopup\\x3d\"true\"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(a+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(a+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var a=a+(' onkeydown\\x3d\"return CKEDITOR.tools.callFunction({keydownFn},event,this);\" onfocus\\x3d\"return CKEDITOR.tools.callFunction({focusFn},event);\" '+(CKEDITOR.env.ie?\n'onclick\\x3d\"return false;\" onmouseup':\"onclick\")+'\\x3d\"CKEDITOR.tools.callFunction({clickFn},this);return false;\"\\x3e\\x3cspan id\\x3d\"{id}_text\" class\\x3d\"cke_combo_text cke_combo_inlinelabel\"\\x3e{label}\\x3c/span\\x3e\\x3cspan class\\x3d\"cke_combo_open\"\\x3e\\x3cspan class\\x3d\"cke_combo_arrow\"\\x3e'+(CKEDITOR.env.hc?\"\\x26#9660;\":CKEDITOR.env.air?\"\\x26nbsp;\":\"\")+\"\\x3c/span\\x3e\\x3c/span\\x3e\\x3c/a\\x3e\\x3c/span\\x3e\"),f=CKEDITOR.addTemplate(\"combo\",a);CKEDITOR.UI_RICHCOMBO=\"richcombo\";CKEDITOR.ui.richCombo=\nCKEDITOR.tools.createClass({$:function(a){CKEDITOR.tools.extend(this,a,{canGroup:!1,title:a.label,modes:{wysiwyg:1},editorFocus:1});a=this.panel||{};delete this.panel;this.id=CKEDITOR.tools.getNextNumber();this.document=a.parent&&a.parent.getDocument()||CKEDITOR.document;a.className=\"cke_combopanel\";a.block={multiSelect:a.multiSelect,attributes:a.attributes};a.toolbarRelated=!0;this._={panelDefinition:a,items:{}}},proto:{renderHtml:function(a){var c=[];this.render(a,c);return c.join(\"\")},render:function(a,\nc){function e(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var c=this.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;a.readOnly&&!this.readOnly&&(c=CKEDITOR.TRISTATE_DISABLED);this.setState(c);this.setValue(\"\");c!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var m=CKEDITOR.env,l=\"cke_\"+this.id,d=CKEDITOR.tools.addFunction(function(c){q&&(a.unlockSelection(1),q=0);k.execute(c)},this),h=this,k={id:l,combo:this,focus:function(){CKEDITOR.document.getById(l).getChild(1).focus()},\nexecute:function(c){var d=h._;if(d.state!=CKEDITOR.TRISTATE_DISABLED)if(h.createPanel(a),d.on)d.panel.hide();else{h.commit();var e=h.getValue();e?d.list.mark(e):d.list.unmarkAll();d.panel.showBlock(h.id,new CKEDITOR.dom.element(c),4)}},clickFn:d};a.on(\"activeFilterChange\",e,this);a.on(\"mode\",e,this);a.on(\"selectionChange\",e,this);!this.readOnly&&a.on(\"readOnly\",e,this);var g=CKEDITOR.tools.addFunction(function(c,e){c=new CKEDITOR.dom.event(c);var f=c.getKeystroke();if(40==f)a.once(\"panelShow\",function(a){a.data._.panel._.currentBlock.onKeyDown(40)});\nswitch(f){case 13:case 32:case 40:CKEDITOR.tools.callFunction(d,e);break;default:k.onkey(k,f)}c.preventDefault()}),n=CKEDITOR.tools.addFunction(function(){k.onfocus&&k.onfocus()}),q=0;k.keyDownFn=g;m={id:l,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||\"\",titleJs:m.gecko&&!m.hc?\"\":(this.title||\"\").replace(\"'\",\"\"),keydownFn:g,focusFn:n,clickFn:d};f.output(m,c);if(this.onRender)this.onRender();return k},createPanel:function(a){if(!this._.panel){var c=this._.panelDefinition,\ne=this._.panelDefinition.block,f=c.parent||CKEDITOR.document.getBody(),l=\"cke_combopanel__\"+this.name,d=new CKEDITOR.ui.floatPanel(a,f,c),h=d.addListBlock(this.id,e),k=this;d.onShow=function(){this.element.addClass(l);k.setState(CKEDITOR.TRISTATE_ON);k._.on=1;k.editorFocus&&!a.focusManager.hasFocus&&a.focus();if(k.onOpen)k.onOpen();a.once(\"panelShow\",function(){h.focus(!h.multiSelect&&k.getValue())})};d.onHide=function(c){this.element.removeClass(l);k.setState(k.modes&&k.modes[a.mode]?CKEDITOR.TRISTATE_OFF:\nCKEDITOR.TRISTATE_DISABLED);k._.on=0;if(!c&&k.onClose)k.onClose()};d.onEscape=function(){d.hide(1)};h.onClick=function(a,b){k.onClick&&k.onClick.call(k,a,b);d.hide()};this._.panel=d;this._.list=h;d.getBlock(this.id).onHide=function(){k._.on=0;k.setState(CKEDITOR.TRISTATE_OFF)};this.init&&this.init()}},setValue:function(a,c){this._.value=a;var e=this.document.getById(\"cke_\"+this.id+\"_text\");e&&(a||c?e.removeClass(\"cke_combo_inlinelabel\"):(c=this.label,e.addClass(\"cke_combo_inlinelabel\")),e.setText(\"undefined\"!=\ntypeof c?c:a))},getValue:function(){return this._.value||\"\"},unmarkAll:function(){this._.list.unmarkAll()},mark:function(a){this._.list.mark(a)},hideItem:function(a){this._.list.hideItem(a)},hideGroup:function(a){this._.list.hideGroup(a)},showAll:function(){this._.list.showAll()},add:function(a,c,e){this._.items[a]=e||a;this._.list.add(a,c,e)},startGroup:function(a){this._.list.startGroup(a)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire(\"ready\",this));\nthis._.committed=1},setState:function(a){if(this._.state!=a){var c=this.document.getById(\"cke_\"+this.id);c.setState(a,\"cke_combo\");a==CKEDITOR.TRISTATE_DISABLED?c.setAttribute(\"aria-disabled\",!0):c.removeAttribute(\"aria-disabled\");this._.state=a}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},\nstatics:{handler:{create:function(a){return new CKEDITOR.ui.richCombo(a)}}}});CKEDITOR.ui.prototype.addRichCombo=function(a,c){this.add(a,CKEDITOR.UI_RICHCOMBO,c)}}(),CKEDITOR.plugins.add(\"format\",{requires:\"richcombo\",init:function(a){if(!a.blockless){for(var f=a.config,b=a.lang.format,c=f.format_tags.split(\";\"),e={},m=0,l=[],d=0;d<c.length;d++){var h=c[d],k=new CKEDITOR.style(f[\"format_\"+h]);if(!a.filter.customConfig||a.filter.check(k))m++,e[h]=k,e[h]._.enterMode=a.config.enterMode,l.push(k)}0!==\nm&&a.ui.addRichCombo(\"Format\",{label:b.label,title:b.panelTitle,toolbar:\"styles,20\",allowedContent:l,panel:{css:[CKEDITOR.skin.getPath(\"editor\")].concat(f.contentsCss),multiSelect:!1,attributes:{\"aria-label\":b.panelTitle}},init:function(){this.startGroup(b.panelTitle);for(var a in e){var c=b[\"tag_\"+a];this.add(a,e[a].buildPreview(c),c)}},onClick:function(b){a.focus();a.fire(\"saveSnapshot\");b=e[b];var c=a.elementPath();a[b.checkActive(c,a)?\"removeStyle\":\"applyStyle\"](b);setTimeout(function(){a.fire(\"saveSnapshot\")},\n0)},onRender:function(){a.on(\"selectionChange\",function(b){var c=this.getValue();b=b.data.path;this.refresh();for(var d in e)if(e[d].checkActive(b,a)){d!=c&&this.setValue(d,a.lang.format[\"tag_\"+d]);return}this.setValue(\"\")},this)},onOpen:function(){this.showAll();for(var b in e)a.activeFilter.check(e[b])||this.hideItem(b)},refresh:function(){var b=a.elementPath();if(b){if(b.isContextFor(\"p\"))for(var c in e)if(a.activeFilter.check(e[c]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags=\n\"p;h1;h2;h3;h4;h5;h6;pre;address;div\",CKEDITOR.config.format_p={element:\"p\"},CKEDITOR.config.format_div={element:\"div\"},CKEDITOR.config.format_pre={element:\"pre\"},CKEDITOR.config.format_address={element:\"address\"},CKEDITOR.config.format_h1={element:\"h1\"},CKEDITOR.config.format_h2={element:\"h2\"},CKEDITOR.config.format_h3={element:\"h3\"},CKEDITOR.config.format_h4={element:\"h4\"},CKEDITOR.config.format_h5={element:\"h5\"},CKEDITOR.config.format_h6={element:\"h6\"},function(){var a={canUndo:!1,exec:function(a){var b=\na.document.createElement(\"hr\");a.insertElement(b)},allowedContent:\"hr\",requiredContent:\"hr\"};CKEDITOR.plugins.add(\"horizontalrule\",{init:function(f){f.blockless||(f.addCommand(\"horizontalrule\",a),f.ui.addButton&&f.ui.addButton(\"HorizontalRule\",{label:f.lang.horizontalrule.toolbar,command:\"horizontalrule\",toolbar:\"insert,40\"}))}})}(),CKEDITOR.plugins.add(\"htmlwriter\",{init:function(a){var f=new CKEDITOR.htmlWriter;f.forceSimpleAmpersand=a.config.forceSimpleAmpersand;f.indentationChars=a.config.dataIndentationChars||\n\"\\t\";a.dataProcessor.writer=f}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base();this.indentationChars=\"\\t\";this.selfClosingEnd=\" /\\x3e\";this.lineBreakChars=\"\\n\";this.sortAttributes=1;this._.indent=0;this._.indentation=\"\";this._.inPre=0;this._.rules={};var a=CKEDITOR.dtd,f;for(f in CKEDITOR.tools.extend({},a.$nonBodyContent,a.$block,a.$listItem,a.$tableContent))this.setRules(f,{indent:!a[f][\"#\"],breakBeforeOpen:1,breakBeforeClose:!a[f][\"#\"],\nbreakAfterClose:1,needsSpace:f in a.$block&&!(f in{li:1,dt:1,dd:1})});this.setRules(\"br\",{breakAfterOpen:1});this.setRules(\"title\",{indent:0,breakAfterOpen:0});this.setRules(\"style\",{indent:0,breakBeforeClose:1});this.setRules(\"pre\",{breakAfterOpen:1,indent:0})},proto:{openTag:function(a){var f=this._.rules[a];this._.afterCloser&&f&&f.needsSpace&&this._.needsSpace&&this._.output.push(\"\\n\");this._.indent?this.indentation():f&&f.breakBeforeOpen&&(this.lineBreak(),this.indentation());this._.output.push(\"\\x3c\",\na);this._.afterCloser=0},openTagClose:function(a,f){var b=this._.rules[a];f?(this._.output.push(this.selfClosingEnd),b&&b.breakAfterClose&&(this._.needsSpace=b.needsSpace)):(this._.output.push(\"\\x3e\"),b&&b.indent&&(this._.indentation+=this.indentationChars));b&&b.breakAfterOpen&&this.lineBreak();\"pre\"==a&&(this._.inPre=1)},attribute:function(a,f){\"string\"==typeof f&&(this.forceSimpleAmpersand&&(f=f.replace(/&amp;/g,\"\\x26\")),f=CKEDITOR.tools.htmlEncodeAttr(f));this._.output.push(\" \",a,'\\x3d\"',f,'\"')},\ncloseTag:function(a){var f=this._.rules[a];f&&f.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length));this._.indent?this.indentation():f&&f.breakBeforeClose&&(this.lineBreak(),this.indentation());this._.output.push(\"\\x3c/\",a,\"\\x3e\");\"pre\"==a&&(this._.inPre=0);f&&f.breakAfterClose&&(this.lineBreak(),this._.needsSpace=f.needsSpace);this._.afterCloser=1},text:function(a){this._.indent&&(this.indentation(),!this._.inPre&&(a=CKEDITOR.tools.ltrim(a)));this._.output.push(a)},\ncomment:function(a){this._.indent&&this.indentation();this._.output.push(\"\\x3c!--\",a,\"--\\x3e\")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars);this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation);this._.indent=0},reset:function(){this._.output=[];this._.indent=0;this._.indentation=\"\";this._.afterCloser=0;this._.inPre=0;this._.needsSpace=0},setRules:function(a,f){var b=this._.rules[a];\nb?CKEDITOR.tools.extend(b,f,!0):this._.rules[a]=f}}}),function(){function a(a,c){c||(c=a.getSelection().getSelectedElement());if(c&&c.is(\"img\")&&!c.data(\"cke-realelement\")&&!c.isReadOnly())return c}function f(a){var c=a.getStyle(\"float\");if(\"inherit\"==c||\"none\"==c)c=0;c||(c=a.getAttribute(\"align\"));return c}CKEDITOR.plugins.add(\"image\",{requires:\"dialog\",init:function(b){if(!b.plugins.image2){CKEDITOR.dialog.add(\"image\",this.path+\"dialogs/image.js\");var c=\"img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}\";\nCKEDITOR.dialog.isTabEnabled(b,\"image\",\"advanced\")&&(c=\"img[alt,dir,id,lang,longdesc,!src,title]{*}(*)\");b.addCommand(\"image\",new CKEDITOR.dialogCommand(\"image\",{allowedContent:c,requiredContent:\"img[alt,src]\",contentTransformations:[[\"img{width}: sizeToStyle\",\"img[width]: sizeToAttribute\"],[\"img{float}: alignmentToStyle\",\"img[align]: alignmentToAttribute\"]]}));b.ui.addButton&&b.ui.addButton(\"Image\",{label:b.lang.common.image,command:\"image\",toolbar:\"insert,10\"});b.on(\"doubleclick\",function(a){var b=\na.data.element;!b.is(\"img\")||b.data(\"cke-realelement\")||b.isReadOnly()||(a.data.dialog=\"image\")});b.addMenuItems&&b.addMenuItems({image:{label:b.lang.image.menu,command:\"image\",group:\"image\"}});b.contextMenu&&b.contextMenu.addListener(function(c){if(a(b,c))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(b){function c(c){var m=b.getCommand(\"justify\"+c);if(m){if(\"left\"==c||\"right\"==c)m.on(\"exec\",function(l){var d=a(b),h;d&&(h=f(d),h==c?(d.removeStyle(\"float\"),c==f(d)&&d.removeAttribute(\"align\")):\nd.setStyle(\"float\",c),l.cancel())});m.on(\"refresh\",function(l){var d=a(b);d&&(d=f(d),this.setState(d==c?CKEDITOR.TRISTATE_ON:\"right\"==c||\"left\"==c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),l.cancel())})}}b.plugins.image2||(c(\"left\"),c(\"right\"),c(\"center\"),c(\"block\"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function a(a,b){var d=c.exec(a),e=c.exec(b);if(d){if(!d[2]&&\"px\"==e[2])return e[1];if(\"px\"==d[2]&&!e[2])return e[1]+\"px\"}return b}var f=CKEDITOR.htmlParser.cssStyle,\nb=CKEDITOR.tools.cssLength,c=/^((?:\\d*(?:\\.\\d+))|(?:\\d+))(.*)?$/i,e={elements:{$:function(b){var c=b.attributes;if((c=(c=(c=c&&c[\"data-cke-realelement\"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(c)))&&c.children[0])&&b.attributes[\"data-cke-resizable\"]){var d=(new f(b)).rules;b=c.attributes;var e=d.width,d=d.height;e&&(b.width=a(b.width,e));d&&(b.height=a(b.height,d))}return c}}};CKEDITOR.plugins.add(\"fakeobjects\",{init:function(a){a.filter.allow(\"img[!data-cke-realelement,src,alt,title](*){*}\",\n\"fakeobjects\")},afterInit:function(a){(a=(a=a.dataProcessor)&&a.htmlFilter)&&a.addRules(e,{applyToAll:!0})}});CKEDITOR.editor.prototype.createFakeElement=function(a,c,d,e){var k=this.lang.fakeobjects,k=k[d]||k.unknown;c={\"class\":c,\"data-cke-realelement\":encodeURIComponent(a.getOuterHtml()),\"data-cke-real-node-type\":a.type,alt:k,title:k,align:a.getAttribute(\"align\")||\"\"};CKEDITOR.env.hc||(c.src=CKEDITOR.tools.transparentImageData);d&&(c[\"data-cke-real-element-type\"]=d);e&&(c[\"data-cke-resizable\"]=\ne,d=new f,e=a.getAttribute(\"width\"),a=a.getAttribute(\"height\"),e&&(d.rules.width=b(e)),a&&(d.rules.height=b(a)),d.populate(c));return this.document.createElement(\"img\",{attributes:c})};CKEDITOR.editor.prototype.createFakeParserElement=function(a,c,d,e){var k=this.lang.fakeobjects,k=k[d]||k.unknown,g;g=new CKEDITOR.htmlParser.basicWriter;a.writeHtml(g);g=g.getHtml();c={\"class\":c,\"data-cke-realelement\":encodeURIComponent(g),\"data-cke-real-node-type\":a.type,alt:k,title:k,align:a.attributes.align||\"\"};\nCKEDITOR.env.hc||(c.src=CKEDITOR.tools.transparentImageData);d&&(c[\"data-cke-real-element-type\"]=d);e&&(c[\"data-cke-resizable\"]=e,e=a.attributes,a=new f,d=e.width,e=e.height,void 0!==d&&(a.rules.width=b(d)),void 0!==e&&(a.rules.height=b(e)),a.populate(c));return new CKEDITOR.htmlParser.element(\"img\",c)};CKEDITOR.editor.prototype.restoreRealElement=function(b){if(b.data(\"cke-real-node-type\")!=CKEDITOR.NODE_ELEMENT)return null;var c=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(b.data(\"cke-realelement\")),\nthis.document);if(b.data(\"cke-resizable\")){var d=b.getStyle(\"width\");b=b.getStyle(\"height\");d&&c.setAttribute(\"width\",a(c.getAttribute(\"width\"),d));b&&c.setAttribute(\"height\",a(c.getAttribute(\"height\"),b))}return c}}(),\"use strict\",function(){function a(a){return a.replace(/'/g,\"\\\\$\\x26\")}function f(a){for(var b,c=a.length,d=[],e=0;e<c;e++)b=a.charCodeAt(e),d.push(b);return\"String.fromCharCode(\"+d.join(\",\")+\")\"}function b(b,c){var d=b.plugins.link,e=d.compiledProtectionFunction.params,f,g;g=[d.compiledProtectionFunction.name,\n\"(\"];for(var h=0;h<e.length;h++)d=e[h].toLowerCase(),f=c[d],0<h&&g.push(\",\"),g.push(\"'\",f?a(encodeURIComponent(c[d])):\"\",\"'\");g.push(\")\");return g.join(\"\")}function c(a){a=a.config.emailProtection||\"\";var b;a&&\"encode\"!=a&&(b={},a.replace(/^([^(]+)\\(([^)]+)\\)$/,function(a,c,d){b.name=c;b.params=[];d.replace(/[^,\\s]+/g,function(a){b.params.push(a)})}));return b}CKEDITOR.plugins.add(\"link\",{requires:\"dialog,fakeobjects\",onLoad:function(){function a(b){return c.replace(/%1/g,\"rtl\"==b?\"right\":\"left\").replace(/%2/g,\n\"cke_contents_\"+b)}var b=\"background:url(\"+CKEDITOR.getUrl(this.path+\"images\"+(CKEDITOR.env.hidpi?\"/hidpi\":\"\")+\"/anchor.png\")+\") no-repeat %1 center;border:1px dotted #00f;background-size:16px;\",c=\".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{\"+b+\"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{\"+b+\"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}\";CKEDITOR.addCss(a(\"ltr\")+a(\"rtl\"))},init:function(a){var b=\"a[!href]\";\nCKEDITOR.dialog.isTabEnabled(a,\"link\",\"advanced\")&&(b=b.replace(\"]\",\",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)\"));CKEDITOR.dialog.isTabEnabled(a,\"link\",\"target\")&&(b=b.replace(\"]\",\",target,onclick]\"));a.addCommand(\"link\",new CKEDITOR.dialogCommand(\"link\",{allowedContent:b,requiredContent:\"a[href]\"}));a.addCommand(\"anchor\",new CKEDITOR.dialogCommand(\"anchor\",{allowedContent:\"a[!name,id]\",requiredContent:\"a[name]\"}));a.addCommand(\"unlink\",new CKEDITOR.unlinkCommand);\na.addCommand(\"removeAnchor\",new CKEDITOR.removeAnchorCommand);a.setKeystroke(CKEDITOR.CTRL+76,\"link\");a.ui.addButton&&(a.ui.addButton(\"Link\",{label:a.lang.link.toolbar,command:\"link\",toolbar:\"links,10\"}),a.ui.addButton(\"Unlink\",{label:a.lang.link.unlink,command:\"unlink\",toolbar:\"links,20\"}),a.ui.addButton(\"Anchor\",{label:a.lang.link.anchor.toolbar,command:\"anchor\",toolbar:\"links,30\"}));CKEDITOR.dialog.add(\"link\",this.path+\"dialogs/link.js\");CKEDITOR.dialog.add(\"anchor\",this.path+\"dialogs/anchor.js\");\na.on(\"doubleclick\",function(b){var c=CKEDITOR.plugins.link.getSelectedLink(a)||b.data.element;c.isReadOnly()||(c.is(\"a\")?(b.data.dialog=!c.getAttribute(\"name\")||c.getAttribute(\"href\")&&c.getChildCount()?\"link\":\"anchor\",b.data.link=c):CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,c)&&(b.data.dialog=\"anchor\"))},null,null,0);a.on(\"doubleclick\",function(b){b.data.dialog in{link:1,anchor:1}&&b.data.link&&a.getSelection().selectElement(b.data.link)},null,null,20);a.addMenuItems&&a.addMenuItems({anchor:{label:a.lang.link.anchor.menu,\ncommand:\"anchor\",group:\"anchor\",order:1},removeAnchor:{label:a.lang.link.anchor.remove,command:\"removeAnchor\",group:\"anchor\",order:5},link:{label:a.lang.link.menu,command:\"link\",group:\"link\",order:1},unlink:{label:a.lang.link.unlink,command:\"unlink\",group:\"link\",order:5}});a.contextMenu&&a.contextMenu.addListener(function(b){if(!b||b.isReadOnly())return null;b=CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,b);if(!b&&!(b=CKEDITOR.plugins.link.getSelectedLink(a)))return null;var c={};b.getAttribute(\"href\")&&\nb.getChildCount()&&(c={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF});b&&b.hasAttribute(\"name\")&&(c.anchor=c.removeAnchor=CKEDITOR.TRISTATE_OFF);return c});this.compiledProtectionFunction=c(a)},afterInit:function(a){a.dataProcessor.dataFilter.addRules({elements:{a:function(b){return b.attributes.name?b.children.length?null:a.createFakeParserElement(b,\"cke_anchor\",\"anchor\"):null}}});var b=a._.elementsPath&&a._.elementsPath.filters;b&&b.push(function(b,c){if(\"a\"==c&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,\nb)||b.getAttribute(\"name\")&&(!b.getAttribute(\"href\")||!b.getChildCount())))return\"anchor\"})}});var e=/^javascript:/,m=/^mailto:([^?]+)(?:\\?(.+))?$/,l=/subject=([^;?:@&=$,\\/]*)/i,d=/body=([^;?:@&=$,\\/]*)/i,h=/^#(.*)$/,k=/^((?:http|https|ftp|news):\\/\\/)?(.*)$/,g=/^(_(?:self|top|parent|blank))$/,n=/^javascript:void\\(location\\.href='mailto:'\\+String\\.fromCharCode\\(([^)]+)\\)(?:\\+'(.*)')?\\)$/,q=/^javascript:([^(]+)\\(([^)]+)\\)$/,p=/\\s*window.open\\(\\s*this\\.href\\s*,\\s*(?:'([^']*)'|null)\\s*,\\s*'([^']*)'\\s*\\)\\s*;\\s*return\\s*false;*\\s*/,\nt=/(?:^|,)([^=]+)=(\\d+|yes|no)/gi,v={id:\"advId\",dir:\"advLangDir\",accessKey:\"advAccessKey\",name:\"advName\",lang:\"advLangCode\",tabindex:\"advTabIndex\",title:\"advTitle\",type:\"advContentType\",\"class\":\"advCSSClasses\",charset:\"advCharset\",style:\"advStyles\",rel:\"advRel\"};CKEDITOR.plugins.link={getSelectedLink:function(a){var b=a.getSelection(),c=b.getSelectedElement();return c&&c.is(\"a\")?c:(b=b.getRanges()[0])?(b.shrink(CKEDITOR.SHRINK_TEXT),a.elementPath(b.getCommonAncestor()).contains(\"a\",1)):null},getEditorAnchors:function(a){for(var b=\na.editable(),c=b.isInline()&&!a.plugins.divarea?a.document:b,b=c.getElementsByTag(\"a\"),c=c.getElementsByTag(\"img\"),d=[],e=0,f;f=b.getItem(e++);)(f.data(\"cke-saved-name\")||f.hasAttribute(\"name\"))&&d.push({name:f.data(\"cke-saved-name\")||f.getAttribute(\"name\"),id:f.getAttribute(\"id\")});for(e=0;f=c.getItem(e++);)(f=this.tryRestoreFakeAnchor(a,f))&&d.push({name:f.getAttribute(\"name\"),id:f.getAttribute(\"id\")});return d},fakeAnchor:!0,tryRestoreFakeAnchor:function(a,b){if(b&&b.data(\"cke-real-element-type\")&&\n\"anchor\"==b.data(\"cke-real-element-type\")){var c=a.restoreRealElement(b);if(c.data(\"cke-saved-name\"))return c}},parseLinkAttributes:function(a,b){var c=b&&(b.data(\"cke-saved-href\")||b.getAttribute(\"href\"))||\"\",f=a.plugins.link.compiledProtectionFunction,w=a.config.emailProtection,z,D={};c.match(e)&&(\"encode\"==w?c=c.replace(n,function(a,b,c){c=c||\"\";return\"mailto:\"+String.fromCharCode.apply(String,b.split(\",\"))+c.replace(/\\\\'/g,\"'\")}):w&&c.replace(q,function(a,b,c){if(b==f.name){D.type=\"email\";a=D.email=\n{};b=/(^')|('$)/g;c=c.match(/[^,\\s]+/g);for(var d=c.length,e,g,h=0;h<d;h++)e=decodeURIComponent,g=c[h].replace(b,\"\").replace(/\\\\'/g,\"'\"),g=e(g),e=f.params[h].toLowerCase(),a[e]=g;a.address=[a.name,a.domain].join(\"@\")}}));if(!D.type)if(w=c.match(h))D.type=\"anchor\",D.anchor={},D.anchor.name=D.anchor.id=w[1];else if(w=c.match(m)){z=c.match(l);c=c.match(d);D.type=\"email\";var y=D.email={};y.address=w[1];z&&(y.subject=decodeURIComponent(z[1]));c&&(y.body=decodeURIComponent(c[1]))}else c&&(z=c.match(k))&&\n(D.type=\"url\",D.url={},D.url.protocol=z[1],D.url.url=z[2]);if(b){if(c=b.getAttribute(\"target\"))D.target={type:c.match(g)?c:\"frame\",name:c};else if(c=(c=b.data(\"cke-pa-onclick\")||b.getAttribute(\"onclick\"))&&c.match(p))for(D.target={type:\"popup\",name:c[1]};w=t.exec(c[2]);)\"yes\"!=w[2]&&\"1\"!=w[2]||w[1]in{height:1,width:1,top:1,left:1}?isFinite(w[2])&&(D.target[w[1]]=w[2]):D.target[w[1]]=!0;null!==b.getAttribute(\"download\")&&(D.download=!0);var c={},A;for(A in v)(w=b.getAttribute(A))&&(c[v[A]]=w);if(A=\nb.data(\"cke-saved-name\")||c.advName)c.advName=A;CKEDITOR.tools.isEmpty(c)||(D.advanced=c)}return D},getLinkAttributes:function(c,d){var e=c.config.emailProtection||\"\",g={};switch(d.type){case \"url\":var e=d.url&&void 0!==d.url.protocol?d.url.protocol:\"http://\",h=d.url&&CKEDITOR.tools.trim(d.url.url)||\"\";g[\"data-cke-saved-href\"]=0===h.indexOf(\"/\")?h:e+h;break;case \"anchor\":e=d.anchor&&d.anchor.id;g[\"data-cke-saved-href\"]=\"#\"+(d.anchor&&d.anchor.name||e||\"\");break;case \"email\":var k=d.email,h=k.address;\nswitch(e){case \"\":case \"encode\":var l=encodeURIComponent(k.subject||\"\"),m=encodeURIComponent(k.body||\"\"),k=[];l&&k.push(\"subject\\x3d\"+l);m&&k.push(\"body\\x3d\"+m);k=k.length?\"?\"+k.join(\"\\x26\"):\"\";\"encode\"==e?(e=[\"javascript:void(location.href\\x3d'mailto:'+\",f(h)],k&&e.push(\"+'\",a(k),\"'\"),e.push(\")\")):e=[\"mailto:\",h,k];break;default:e=h.split(\"@\",2),k.name=e[0],k.domain=e[1],e=[\"javascript:\",b(c,k)]}g[\"data-cke-saved-href\"]=e.join(\"\")}if(d.target)if(\"popup\"==d.target.type){for(var e=[\"window.open(this.href, '\",\nd.target.name||\"\",\"', '\"],n=\"resizable status location toolbar menubar fullscreen scrollbars dependent\".split(\" \"),h=n.length,l=function(a){d.target[a]&&n.push(a+\"\\x3d\"+d.target[a])},k=0;k<h;k++)n[k]+=d.target[n[k]]?\"\\x3dyes\":\"\\x3dno\";l(\"width\");l(\"left\");l(\"height\");l(\"top\");e.push(n.join(\",\"),\"'); return false;\");g[\"data-cke-pa-onclick\"]=e.join(\"\")}else\"notSet\"!=d.target.type&&d.target.name&&(g.target=d.target.name);d.download&&(g.download=\"\");if(d.advanced){for(var t in v)(e=d.advanced[v[t]])&&\n(g[t]=e);g.name&&(g[\"data-cke-saved-name\"]=g.name)}g[\"data-cke-saved-href\"]&&(g.href=g[\"data-cke-saved-href\"]);t={target:1,onclick:1,\"data-cke-pa-onclick\":1,\"data-cke-saved-name\":1,download:1};d.advanced&&CKEDITOR.tools.extend(t,v);for(var p in g)delete t[p];return{set:g,removed:CKEDITOR.tools.objectKeys(t)}},showDisplayTextForElement:function(a,b){var c={img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1};return b.widgets&&b.widgets.focused?!1:!a||!a.getName||!a.is(c)}};CKEDITOR.unlinkCommand=\nfunction(){};CKEDITOR.unlinkCommand.prototype={exec:function(a){var b=new CKEDITOR.style({element:\"a\",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});a.removeStyle(b)},refresh:function(a,b){var c=b.lastElement&&b.lastElement.getAscendant(\"a\",!0);c&&\"a\"==c.getName()&&c.getAttribute(\"href\")&&c.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:\"a[href]\"};CKEDITOR.removeAnchorCommand=function(){};CKEDITOR.removeAnchorCommand.prototype=\n{exec:function(a){var b=a.getSelection(),c=b.createBookmarks(),d;if(b&&(d=b.getSelectedElement())&&(d.getChildCount()?d.is(\"a\"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,d)))d.remove(1);else if(d=CKEDITOR.plugins.link.getSelectedLink(a))d.hasAttribute(\"href\")?(d.removeAttributes({name:1,\"data-cke-saved-name\":1}),d.removeClass(\"cke_anchor\")):d.remove(1);b.selectBookmarks(c)},requiredContent:\"a[name]\"};CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),\"use strict\",\nfunction(){function a(a,b,c){return n(b)&&n(c)&&c.equals(b.getNext(function(a){return!(Z(a)||X(a)||q(a))}))}function f(a){this.upper=a[0];this.lower=a[1];this.set.apply(this,a.slice(2))}function b(a){var b=a.element;if(b&&n(b)&&(b=b.getAscendant(a.triggers,!0))&&a.editable.contains(b)){var c=l(b);if(\"true\"==c.getAttribute(\"contenteditable\"))return b;if(c.is(a.triggers))return c}return null}function c(a,b,c){w(a,b);w(a,c);a=b.size.bottom;c=c.size.top;return a&&c?0|(a+c)/2:a||c}function e(a,b,c){return b=\nb[c?\"getPrevious\":\"getNext\"](function(b){return b&&b.type==CKEDITOR.NODE_TEXT&&!Z(b)||n(b)&&!q(b)&&!g(a,b)})}function m(a,b,c){return a>b&&a<c}function l(a,b){if(a.data(\"cke-editable\"))return null;for(b||(a=a.getParent());a&&!a.data(\"cke-editable\");){if(a.hasAttribute(\"contenteditable\"))return a;a=a.getParent()}return null}function d(a){var b=a.doc,c=F('\\x3cspan contenteditable\\x3d\"false\" style\\x3d\"'+Q+\"position:absolute;border-top:1px dashed \"+a.boxColor+'\"\\x3e\\x3c/span\\x3e',b),d=CKEDITOR.getUrl(this.path+\n\"images/\"+(E.hidpi?\"hidpi/\":\"\")+\"icon\"+(a.rtl?\"-rtl\":\"\")+\".png\");A(c,{attach:function(){this.wrap.getParent()||this.wrap.appendTo(a.editable,!0);return this},lineChildren:[A(F('\\x3cspan title\\x3d\"'+a.editor.lang.magicline.title+'\" contenteditable\\x3d\"false\"\\x3e\\x26#8629;\\x3c/span\\x3e',b),{base:Q+\"height:17px;width:17px;\"+(a.rtl?\"left\":\"right\")+\":17px;background:url(\"+d+\") center no-repeat \"+a.boxColor+\";cursor:pointer;\"+(E.hc?\"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;\":\n\"\")+(E.hidpi?\"background-size: 9px 10px;\":\"\"),looks:[\"top:-8px; border-radius: 2px;\",\"top:-17px; border-radius: 2px 2px 0px 0px;\",\"top:-1px; border-radius: 0px 0px 2px 2px;\"]}),A(F(V,b),{base:Y+\"left:0px;border-left-color:\"+a.boxColor+\";\",looks:[\"border-width:8px 0 8px 8px;top:-8px\",\"border-width:8px 0 0 8px;top:-8px\",\"border-width:0 0 8px 8px;top:0px\"]}),A(F(V,b),{base:Y+\"right:0px;border-right-color:\"+a.boxColor+\";\",looks:[\"border-width:8px 8px 8px 0;top:-8px\",\"border-width:8px 8px 0 0;top:-8px\",\n\"border-width:0 8px 8px 0;top:0px\"]})],detach:function(){this.wrap.getParent()&&this.wrap.remove();return this},mouseNear:function(){w(a,this);var b=a.holdDistance,c=this.size;return c&&m(a.mouse.y,c.top-b,c.bottom+b)&&m(a.mouse.x,c.left-b,c.right+b)?!0:!1},place:function(){var b=a.view,c=a.editable,d=a.trigger,e=d.upper,f=d.lower,g=e||f,h=g.getParent(),k={};this.trigger=d;e&&w(a,e,!0);f&&w(a,f,!0);w(a,h,!0);a.inInlineMode&&z(a,!0);h.equals(c)?(k.left=b.scroll.x,k.right=-b.scroll.x,k.width=\"\"):(k.left=\ng.size.left-g.size.margin.left+b.scroll.x-(a.inInlineMode?b.editable.left+b.editable.border.left:0),k.width=g.size.outerWidth+g.size.margin.left+g.size.margin.right+b.scroll.x,k.right=\"\");e&&f?k.top=e.size.margin.bottom===f.size.margin.top?0|e.size.bottom+e.size.margin.bottom/2:e.size.margin.bottom<f.size.margin.top?e.size.bottom+e.size.margin.bottom:e.size.bottom+e.size.margin.bottom-f.size.margin.top:e?f||(k.top=e.size.bottom+e.size.margin.bottom):k.top=f.size.top-f.size.margin.top;d.is(T)||m(k.top,\nb.scroll.y-15,b.scroll.y+5)?(k.top=a.inInlineMode?0:b.scroll.y,this.look(T)):d.is(O)||m(k.top,b.pane.bottom-5,b.pane.bottom+15)?(k.top=a.inInlineMode?b.editable.height+b.editable.padding.top+b.editable.padding.bottom:b.pane.bottom-1,this.look(O)):(a.inInlineMode&&(k.top-=b.editable.top+b.editable.border.top),this.look(K));a.inInlineMode&&(k.top--,k.top+=b.editable.scroll.top,k.left+=b.editable.scroll.left);for(var l in k)k[l]=CKEDITOR.tools.cssLength(k[l]);this.setStyles(k)},look:function(a){if(this.oldLook!=\na){for(var b=this.lineChildren.length,c;b--;)(c=this.lineChildren[b]).setAttribute(\"style\",c.base+c.looks[0|a/2]);this.oldLook=a}},wrap:new C(\"span\",a.doc)});for(b=c.lineChildren.length;b--;)c.lineChildren[b].appendTo(c);c.look(K);c.appendTo(c.wrap);c.unselectable();c.lineChildren[0].on(\"mouseup\",function(b){c.detach();h(a,function(b){var c=a.line.trigger;b[c.is(I)?\"insertBefore\":\"insertAfter\"](c.is(I)?c.lower:c.upper)},!0);a.editor.focus();E.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();\nb.data.preventDefault(!0)});c.on(\"mousedown\",function(a){a.data.preventDefault(!0)});a.line=c}function h(a,b,c){var d=new CKEDITOR.dom.range(a.doc),e=a.editor,f;E.ie&&a.enterMode==CKEDITOR.ENTER_BR?f=a.doc.createText(ca):(f=(f=l(a.element,!0))&&f.data(\"cke-enter-mode\")||a.enterMode,f=new C(M[f],a.doc),f.is(\"br\")||a.doc.createText(ca).appendTo(f));c&&e.fire(\"saveSnapshot\");b(f);d.moveToPosition(f,CKEDITOR.POSITION_AFTER_START);e.getSelection().selectRanges([d]);a.hotNode=f;c&&e.fire(\"saveSnapshot\")}\nfunction k(a,c){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function d(b){var e=E.ie&&9>E.version?\" \":ca,f=a.hotNode&&a.hotNode.getText()==e&&a.element.equals(a.hotNode)&&a.lastCmdDirection===!!c;h(a,function(d){f&&a.hotNode&&a.hotNode.remove();d[c?\"insertAfter\":\"insertBefore\"](b);d.setAttributes({\"data-cke-magicline-hot\":1,\"data-cke-magicline-dir\":!!c});a.lastCmdDirection=!!c});E.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();a.line.detach()}return function(f){f=f.getSelection().getStartElement();\nvar g;f=f.getAscendant(N,1);if(!v(a,f)&&f&&!f.equals(a.editable)&&!f.contains(a.editable)){(g=l(f))&&\"false\"==g.getAttribute(\"contenteditable\")&&(f=g);a.element=f;g=e(a,f,!c);var h;n(g)&&g.is(a.triggers)&&g.is(L)&&(!e(a,g,!c)||(h=e(a,g,!c))&&n(h)&&h.is(a.triggers))?d(g):(h=b(a,f),n(h)&&(e(a,h,!c)?(f=e(a,h,!c))&&n(f)&&f.is(a.triggers)&&d(h):d(h)))}}}()}}function g(a,b){if(!b||b.type!=CKEDITOR.NODE_ELEMENT||!b.$)return!1;var c=a.line;return c.wrap.equals(b)||c.wrap.contains(b)}function n(a){return a&&\na.type==CKEDITOR.NODE_ELEMENT&&a.$}function q(a){if(!n(a))return!1;var b;(b=p(a))||(n(a)?(b={left:1,right:1,center:1},b=!(!b[a.getComputedStyle(\"float\")]&&!b[a.getAttribute(\"align\")])):b=!1);return b}function p(a){return!!{absolute:1,fixed:1}[a.getComputedStyle(\"position\")]}function t(a,b){return n(b)?b.is(a.triggers):null}function v(a,b){if(!b)return!1;for(var c=b.getParents(1),d=c.length;d--;)for(var e=a.tabuList.length;e--;)if(c[d].hasAttribute(a.tabuList[e]))return!0;return!1}function r(a,b,c){b=\nb[c?\"getLast\":\"getFirst\"](function(b){return a.isRelevant(b)&&!b.is(U)});if(!b)return!1;w(a,b);return c?b.size.top>a.mouse.y:b.size.bottom<a.mouse.y}function u(a){var b=a.editable,c=a.mouse,d=a.view,e=a.triggerOffset;z(a);var h=c.y>(a.inInlineMode?d.editable.top+d.editable.height/2:Math.min(d.editable.height,d.pane.height)/2),b=b[h?\"getLast\":\"getFirst\"](function(a){return!(Z(a)||X(a))});if(!b)return null;g(a,b)&&(b=a.line.wrap[h?\"getPrevious\":\"getNext\"](function(a){return!(Z(a)||X(a))}));if(!n(b)||\nq(b)||!t(a,b))return null;w(a,b);return!h&&0<=b.size.top&&m(c.y,0,b.size.top+e)?(a=a.inInlineMode||0===d.scroll.y?T:K,new f([null,b,I,P,a])):h&&b.size.bottom<=d.pane.height&&m(c.y,b.size.bottom-e,d.pane.height)?(a=a.inInlineMode||m(b.size.bottom,d.pane.height-e,d.pane.height)?O:K,new f([b,null,H,P,a])):null}function B(a){var c=a.mouse,d=a.view,g=a.triggerOffset,h=b(a);if(!h)return null;w(a,h);var g=Math.min(g,0|h.size.outerHeight/2),k=[],l,p;if(m(c.y,h.size.top-1,h.size.top+g))p=!1;else if(m(c.y,\nh.size.bottom-g,h.size.bottom+1))p=!0;else return null;if(q(h)||r(a,h,p)||h.getParent().is(W))return null;var u=e(a,h,!p);if(u){if(u&&u.type==CKEDITOR.NODE_TEXT)return null;if(n(u)){if(q(u)||!t(a,u)||u.getParent().is(W))return null;k=[u,h][p?\"reverse\":\"concat\"]().concat([R,P])}}else h.equals(a.editable[p?\"getLast\":\"getFirst\"](a.isRelevant))?(z(a),p&&m(c.y,h.size.bottom-g,d.pane.height)&&m(h.size.bottom,d.pane.height-g,d.pane.height)?l=O:m(c.y,0,h.size.top+g)&&(l=T)):l=K,k=[null,h][p?\"reverse\":\"concat\"]().concat([p?\nH:I,P,l,h.equals(a.editable[p?\"getLast\":\"getFirst\"](a.isRelevant))?p?O:T:K]);return 0 in k?new f(k):null}function x(a,b,c,d){for(var e=b.getDocumentPosition(),f={},g={},h={},k={},l=ba.length;l--;)f[ba[l]]=parseInt(b.getComputedStyle.call(b,\"border-\"+ba[l]+\"-width\"),10)||0,h[ba[l]]=parseInt(b.getComputedStyle.call(b,\"padding-\"+ba[l]),10)||0,g[ba[l]]=parseInt(b.getComputedStyle.call(b,\"margin-\"+ba[l]),10)||0;c&&!d||D(a,d);k.top=e.y-(c?0:a.view.scroll.y);k.left=e.x-(c?0:a.view.scroll.x);k.outerWidth=\nb.$.offsetWidth;k.outerHeight=b.$.offsetHeight;k.height=k.outerHeight-(h.top+h.bottom+f.top+f.bottom);k.width=k.outerWidth-(h.left+h.right+f.left+f.right);k.bottom=k.top+k.outerHeight;k.right=k.left+k.outerWidth;a.inInlineMode&&(k.scroll={top:b.$.scrollTop,left:b.$.scrollLeft});return A({border:f,padding:h,margin:g,ignoreScroll:c},k,!0)}function w(a,b,c){if(!n(b))return b.size=null;if(!b.size)b.size={};else if(b.size.ignoreScroll==c&&b.size.date>new Date-S)return null;return A(b.size,x(a,b,c),{date:+new Date},\n!0)}function z(a,b){a.view.editable=x(a,a.editable,b,!0)}function D(a,b){a.view||(a.view={});var c=a.view;if(!(!b&&c&&c.date>new Date-S)){var d=a.win,c=d.getScrollPosition(),d=d.getViewPaneSize();A(a.view,{scroll:{x:c.x,y:c.y,width:a.doc.$.documentElement.scrollWidth-d.width,height:a.doc.$.documentElement.scrollHeight-d.height},pane:{width:d.width,height:d.height,bottom:d.height+c.y},date:+new Date},!0)}}function y(a,b,c,d){for(var e=d,g=d,h=0,k=!1,l=!1,m=a.view.pane.height,n=a.mouse;n.y+h<m&&0<n.y-\nh;){k||(k=b(e,d));l||(l=b(g,d));!k&&0<n.y-h&&(e=c(a,{x:n.x,y:n.y-h}));!l&&n.y+h<m&&(g=c(a,{x:n.x,y:n.y+h}));if(k&&l)break;h+=2}return new f([e,g,null,null])}CKEDITOR.plugins.add(\"magicline\",{init:function(a){var c=a.config,l=c.magicline_triggerOffset||30,m={editor:a,enterMode:c.enterMode,triggerOffset:l,holdDistance:0|l*(c.magicline_holdDistance||.5),boxColor:c.magicline_color||\"#ff0000\",rtl:\"rtl\"==c.contentsLangDirection,tabuList:[\"data-cke-hidden-sel\"].concat(c.magicline_tabuList||[]),triggers:c.magicline_everywhere?\nN:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}},t,r,w;m.isRelevant=function(a){return n(a)&&!g(m,a)&&!q(a)};a.on(\"contentDom\",function(){var l=a.editable(),n=a.document,q=a.window;A(m,{editable:l,inInlineMode:l.isInline(),doc:n,win:q,hotNode:null},!0);m.boundary=m.inInlineMode?m.editable:m.doc.getDocumentElement();l.is(G.$inline)||(m.inInlineMode&&!p(l)&&l.setStyles({position:\"relative\",top:null,left:null}),d.call(this,m),D(m),l.attachListener(a,\"beforeUndoImage\",function(){m.line.detach()}),\nl.attachListener(a,\"beforeGetData\",function(){m.line.wrap.getParent()&&(m.line.detach(),a.once(\"getData\",function(){m.line.attach()},null,null,1E3))},null,null,0),l.attachListener(m.inInlineMode?n:n.getWindow().getFrame(),\"mouseout\",function(b){if(\"wysiwyg\"==a.mode)if(m.inInlineMode){var c=b.data.$.clientX;b=b.data.$.clientY;D(m);z(m,!0);var d=m.view.editable,e=m.view.scroll;c>d.left-e.x&&c<d.right-e.x&&b>d.top-e.y&&b<d.bottom-e.y||(clearTimeout(w),w=null,m.line.detach())}else clearTimeout(w),w=null,\nm.line.detach()}),l.attachListener(l,\"keyup\",function(){m.hiddenMode=0}),l.attachListener(l,\"keydown\",function(b){if(\"wysiwyg\"==a.mode)switch(b.data.getKeystroke()){case 2228240:case 16:m.hiddenMode=1,m.line.detach()}}),l.attachListener(m.inInlineMode?l:n,\"mousemove\",function(b){r=!0;if(\"wysiwyg\"==a.mode&&!a.readOnly&&!w){var c={x:b.data.$.clientX,y:b.data.$.clientY};w=setTimeout(function(){m.mouse=c;w=m.trigger=null;D(m);r&&!m.hiddenMode&&a.focusManager.hasFocus&&!m.line.mouseNear()&&(m.element=\nda(m,!0))&&((m.trigger=u(m)||B(m)||fa(m))&&!v(m,m.trigger.upper||m.trigger.lower)?m.line.attach().place():(m.trigger=null,m.line.detach()),r=!1)},30)}}),l.attachListener(q,\"scroll\",function(){\"wysiwyg\"==a.mode&&(m.line.detach(),E.webkit&&(m.hiddenMode=1,clearTimeout(t),t=setTimeout(function(){m.mouseDown||(m.hiddenMode=0)},50)))}),l.attachListener(J?n:q,\"mousedown\",function(){\"wysiwyg\"==a.mode&&(m.line.detach(),m.hiddenMode=1,m.mouseDown=1)}),l.attachListener(J?n:q,\"mouseup\",function(){m.hiddenMode=\n0;m.mouseDown=0}),a.addCommand(\"accessPreviousSpace\",k(m)),a.addCommand(\"accessNextSpace\",k(m,!0)),a.setKeystroke([[c.magicline_keystrokePrevious,\"accessPreviousSpace\"],[c.magicline_keystrokeNext,\"accessNextSpace\"]]),a.on(\"loadSnapshot\",function(){var b,c,d,e;for(e in{p:1,br:1,div:1})for(b=a.document.getElementsByTag(e),d=b.count();d--;)if((c=b.getItem(d)).data(\"cke-magicline-hot\")){m.hotNode=c;m.lastCmdDirection=\"true\"===c.data(\"cke-magicline-dir\")?!0:!1;return}}),this.backdoor={accessFocusSpace:h,\nboxTrigger:f,isLine:g,getAscendantTrigger:b,getNonEmptyNeighbour:e,getSize:x,that:m,triggerEdge:B,triggerEditable:u,triggerExpand:fa})},this)}});var A=CKEDITOR.tools.extend,C=CKEDITOR.dom.element,F=C.createFromHtml,E=CKEDITOR.env,J=CKEDITOR.env.ie&&9>CKEDITOR.env.version,G=CKEDITOR.dtd,M={},I=128,H=64,R=32,P=16,T=4,O=2,K=1,ca=\" \",W=G.$listItem,U=G.$tableContent,L=A({},G.$nonEditable,G.$empty),N=G.$block,S=100,Q=\"width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;\",\nY=Q+\"border-color:transparent;display:block;border-style:solid;\",V=\"\\x3cspan\\x3e\"+ca+\"\\x3c/span\\x3e\";M[CKEDITOR.ENTER_BR]=\"br\";M[CKEDITOR.ENTER_P]=\"p\";M[CKEDITOR.ENTER_DIV]=\"div\";f.prototype={set:function(a,b,c){this.properties=a+b+(c||K);return this},is:function(a){return(this.properties&a)==a}};var da=function(){function a(b,c){var d=b.$.elementFromPoint(c.x,c.y);return d&&d.nodeType?new CKEDITOR.dom.element(d):null}return function(b,c,d){if(!b.mouse)return null;var e=b.doc,f=b.line.wrap;d=d||b.mouse;\nvar h=a(e,d);c&&g(b,h)&&(f.hide(),h=a(e,d),f.show());return!h||h.type!=CKEDITOR.NODE_ELEMENT||!h.$||E.ie&&9>E.version&&!b.boundary.equals(h)&&!b.boundary.contains(h)?null:h}}(),Z=CKEDITOR.dom.walker.whitespaces(),X=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),fa=function(){function b(e){var f=e.element,g,h,k;if(!n(f)||f.contains(e.editable)||f.isReadOnly())return null;k=y(e,function(a,b){return!b.equals(a)},function(a,b){return da(a,!0,b)},f);g=k.upper;h=k.lower;if(a(e,g,h))return k.set(R,\n8);if(g&&f.contains(g))for(;!g.getParent().equals(f);)g=g.getParent();else g=f.getFirst(function(a){return d(e,a)});if(h&&f.contains(h))for(;!h.getParent().equals(f);)h=h.getParent();else h=f.getLast(function(a){return d(e,a)});if(!g||!h)return null;w(e,g);w(e,h);if(!m(e.mouse.y,g.size.top,h.size.bottom))return null;for(var f=Number.MAX_VALUE,l,p,t,u;h&&!h.equals(g)&&(p=g.getNext(e.isRelevant));)l=Math.abs(c(e,g,p)-e.mouse.y),l<f&&(f=l,t=g,u=p),g=p,w(e,g);if(!t||!u||!m(e.mouse.y,t.size.top,u.size.bottom))return null;\nk.upper=t;k.lower=u;return k.set(R,8)}function d(a,b){return!(b&&b.type==CKEDITOR.NODE_TEXT||X(b)||q(b)||g(a,b)||b.type==CKEDITOR.NODE_ELEMENT&&b.$&&b.is(\"br\"))}return function(c){var d=b(c),e;if(e=d){e=d.upper;var f=d.lower;e=!e||!f||q(f)||q(e)||f.equals(e)||e.equals(f)||f.contains(e)||e.contains(f)?!1:t(c,e)&&t(c,f)&&a(c,e,f)?!0:!1}return e?d:null}}(),ba=[\"top\",\"left\",\"right\",\"bottom\"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=\nCKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function a(a){if(!a||a.type!=CKEDITOR.NODE_ELEMENT||\"form\"!=a.getName())return[];for(var b=[],c=[\"style\",\"className\"],e=0;e<c.length;e++){var f=a.$.elements.namedItem(c[e]);f&&(f=new CKEDITOR.dom.element(f),b.push([f,f.nextSibling]),f.remove())}return b}function f(a,b){if(a&&a.type==CKEDITOR.NODE_ELEMENT&&\"form\"==a.getName()&&0<b.length)for(var c=b.length-1;0<=c;c--){var e=b[c][0],f=b[c][1];f?e.insertBefore(f):e.appendTo(a)}}function b(b,c){var d=a(b),e=\n{},k=b.$;c||(e[\"class\"]=k.className||\"\",k.className=\"\");e.inline=k.style.cssText||\"\";c||(k.style.cssText=\"position: static; overflow: visible\");f(d);return e}function c(b,c){var d=a(b),e=b.$;\"class\"in c&&(e.className=c[\"class\"]);\"inline\"in c&&(e.style.cssText=c.inline);f(d)}function e(a){if(!a.editable().isInline()){var b=CKEDITOR.instances,c;for(c in b){var e=b[c];\"wysiwyg\"!=e.mode||e.readOnly||(e=e.document.getBody(),e.setAttribute(\"contentEditable\",!1),e.setAttribute(\"contentEditable\",!0))}a.editable().hasFocus&&\n(a.toolbox.focus(),a.focus())}}CKEDITOR.plugins.add(\"maximize\",{init:function(a){function f(){var b=k.getViewPaneSize();a.resize(b.width,b.height,null,!0)}if(a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var d=a.lang,h=CKEDITOR.document,k=h.getWindow(),g,n,q,p=CKEDITOR.TRISTATE_OFF;a.addCommand(\"maximize\",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var t=a.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass(\"cke_inner\")}),\nv=a.ui.space(\"contents\");if(\"wysiwyg\"==a.mode){var r=a.getSelection();g=r&&r.getRanges();n=k.getScrollPosition()}else{var u=a.editable().$;g=!CKEDITOR.env.ie&&[u.selectionStart,u.selectionEnd];n=[u.scrollLeft,u.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){k.on(\"resize\",f);q=k.getScrollPosition();for(r=a.container;r=r.getParent();)r.setCustomData(\"maximize_saved_styles\",b(r)),r.setStyle(\"z-index\",a.config.baseFloatZIndex-5);v.setCustomData(\"maximize_saved_styles\",b(v,!0));t.setCustomData(\"maximize_saved_styles\",\nb(t,!0));v={overflow:CKEDITOR.env.webkit?\"\":\"hidden\",width:0,height:0};h.getDocumentElement().setStyles(v);!CKEDITOR.env.gecko&&h.getDocumentElement().setStyle(\"position\",\"fixed\");CKEDITOR.env.gecko&&CKEDITOR.env.quirks||h.getBody().setStyles(v);CKEDITOR.env.ie?setTimeout(function(){k.$.scrollTo(0,0)},0):k.$.scrollTo(0,0);t.setStyle(\"position\",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?\"fixed\":\"absolute\");t.$.offsetLeft;t.setStyles({\"z-index\":a.config.baseFloatZIndex-5,left:\"0px\",top:\"0px\"});t.addClass(\"cke_maximized\");\nf();v=t.getDocumentPosition();t.setStyles({left:-1*v.x+\"px\",top:-1*v.y+\"px\"});CKEDITOR.env.gecko&&e(a)}else if(this.state==CKEDITOR.TRISTATE_ON){k.removeListener(\"resize\",f);for(var r=[v,t],B=0;B<r.length;B++)c(r[B],r[B].getCustomData(\"maximize_saved_styles\")),r[B].removeCustomData(\"maximize_saved_styles\");for(r=a.container;r=r.getParent();)c(r,r.getCustomData(\"maximize_saved_styles\")),r.removeCustomData(\"maximize_saved_styles\");CKEDITOR.env.ie?setTimeout(function(){k.$.scrollTo(q.x,q.y)},0):k.$.scrollTo(q.x,\nq.y);t.removeClass(\"cke_maximized\");CKEDITOR.env.webkit&&(t.setStyle(\"display\",\"inline\"),setTimeout(function(){t.setStyle(\"display\",\"block\")},0));a.fire(\"resize\",{outerHeight:a.container.$.offsetHeight,contentsHeight:v.$.offsetHeight,outerWidth:a.container.$.offsetWidth})}this.toggleState();if(r=this.uiItems[0])v=this.state==CKEDITOR.TRISTATE_OFF?d.maximize.maximize:d.maximize.minimize,r=CKEDITOR.document.getById(r._.id),r.getChild(1).setHtml(v),r.setAttribute(\"title\",v),r.setAttribute(\"href\",'javascript:void(\"'+\nv+'\");');\"wysiwyg\"==a.mode?g?(CKEDITOR.env.gecko&&e(a),a.getSelection().selectRanges(g),(u=a.getSelection().getStartElement())&&u.scrollIntoView(!0)):k.$.scrollTo(n.x,n.y):(g&&(u.selectionStart=g[0],u.selectionEnd=g[1]),u.scrollLeft=n[0],u.scrollTop=n[1]);g=n=null;p=this.state;a.fire(\"maximize\",this.state)},canUndo:!1});a.ui.addButton&&a.ui.addButton(\"Maximize\",{label:d.maximize.maximize,command:\"maximize\",toolbar:\"tools,10\"});a.on(\"mode\",function(){var b=a.getCommand(\"maximize\");b.setState(b.state==\nCKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:p)},null,null,100)}}})}(),function(){function a(a,c,e){var f=CKEDITOR.cleanWord;f?e():(a=CKEDITOR.getUrl(a.config.pasteFromWordCleanupFile||c+\"filter/default.js\"),CKEDITOR.scriptLoader.load(a,e,null,!0));return!f}function f(a){a.data.type=\"html\"}CKEDITOR.plugins.add(\"pastefromword\",{requires:\"clipboard\",init:function(b){var c=0,e=this.path;b.addCommand(\"pastefromword\",{canUndo:!1,async:!0,exec:function(a){var b=this;c=1;a.once(\"beforePaste\",f);\na.getClipboardData({title:a.lang.pastefromword.title},function(c){c&&a.fire(\"paste\",{type:\"html\",dataValue:c.dataValue,method:\"paste\",dataTransfer:CKEDITOR.plugins.clipboard.initPasteDataTransfer()});a.fire(\"afterCommandExec\",{name:\"pastefromword\",command:b,returnValue:!!c})})}});b.ui.addButton&&b.ui.addButton(\"PasteFromWord\",{label:b.lang.pastefromword.toolbar,command:\"pastefromword\",toolbar:\"clipboard,50\"});b.on(\"pasteState\",function(a){b.getCommand(\"pastefromword\").setState(a.data)});b.on(\"paste\",\nfunction(f){var l=f.data,d=l.dataValue,h=/(class=\\\"?Mso|style=\\\"[^\\\"]*\\bmso\\-|w:WordDocument|<o:\\w+>|<\\/font>)/,k={dataValue:d};if(d&&(c||h.test(d))&&(!1!==b.fire(\"pasteFromWord\",k)||c)){l.dontFilter=!0;var g=a(b,e,function(){if(g)b.fire(\"paste\",l);else if(!b.config.pasteFromWordPromptCleanup||c||confirm(b.lang.pastefromword.confirmCleanup))k.dataValue=CKEDITOR.cleanWord(k.dataValue,b),b.fire(\"afterPasteFromWord\",k),l.dataValue=k.dataValue;c=0});g&&f.cancel()}},null,null,3)}})}(),function(){var a=\n{canUndo:!1,async:!0,exec:function(f){f.getClipboardData({title:f.lang.pastetext.title},function(b){b&&f.fire(\"paste\",{type:\"text\",dataValue:b.dataValue,method:\"paste\",dataTransfer:CKEDITOR.plugins.clipboard.initPasteDataTransfer()});f.fire(\"afterCommandExec\",{name:\"pastetext\",command:a,returnValue:!!b})})}};CKEDITOR.plugins.add(\"pastetext\",{requires:\"clipboard\",init:function(f){f.addCommand(\"pastetext\",a);f.ui.addButton&&f.ui.addButton(\"PasteText\",{label:f.lang.pastetext.button,command:\"pastetext\",\ntoolbar:\"clipboard,40\"});if(f.config.forcePasteAsPlainText)f.on(\"beforePaste\",function(a){\"html\"!=a.data.type&&(a.data.type=\"text\")});f.on(\"pasteState\",function(a){f.getCommand(\"pastetext\").setState(a.data)})}})}(),CKEDITOR.plugins.add(\"removeformat\",{init:function(a){a.addCommand(\"removeFormat\",CKEDITOR.plugins.removeformat.commands.removeformat);a.ui.addButton&&a.ui.addButton(\"RemoveFormat\",{label:a.lang.removeformat.toolbar,command:\"removeFormat\",toolbar:\"cleanup,10\"})}}),CKEDITOR.plugins.removeformat=\n{commands:{removeformat:{exec:function(a){for(var f=a._.removeFormatRegex||(a._.removeFormatRegex=new RegExp(\"^(?:\"+a.config.removeFormatTags.replace(/,/g,\"|\")+\")$\",\"i\")),b=a._.removeAttributes||(a._.removeAttributes=a.config.removeFormatAttributes.split(\",\")),c=CKEDITOR.plugins.removeformat.filter,e=a.getSelection().getRanges(),m=e.createIterator(),l=function(a){return a.type==CKEDITOR.NODE_ELEMENT},d;d=m.getNextRange();){d.collapsed||d.enlarge(CKEDITOR.ENLARGE_ELEMENT);var h=d.createBookmark(),\nk=h.startNode,g=h.endNode,n=function(b){for(var d=a.elementPath(b),e=d.elements,g=1,h;(h=e[g])&&!h.equals(d.block)&&!h.equals(d.blockLimit);g++)f.test(h.getName())&&c(a,h)&&b.breakParent(h)};n(k);if(g)for(n(g),k=k.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);k&&!k.equals(g);)if(k.isReadOnly()){if(k.getPosition(g)&CKEDITOR.POSITION_CONTAINS)break;k=k.getNext(l)}else n=k.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),\"img\"==k.getName()&&k.data(\"cke-realelement\")||!c(a,k)||(f.test(k.getName())?k.remove(1):\n(k.removeAttributes(b),a.fire(\"removeFormatCleanup\",k))),k=n;d.moveToBookmark(h)}a.forceNextSelectionCheck();a.getSelection().selectRanges(e)}}},filter:function(a,f){for(var b=a._.removeFormatFilters||[],c=0;c<b.length;c++)if(!1===b[c](f))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(a){this._.removeFormatFilters||(this._.removeFormatFilters=[]);this._.removeFormatFilters.push(a)},CKEDITOR.config.removeFormatTags=\"b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var\",\nCKEDITOR.config.removeFormatAttributes=\"class,style,lang,width,height,align,hspace,valign\",CKEDITOR.plugins.add(\"resize\",{init:function(a){function f(b){var e=h.width,f=h.height,l=e+(b.data.$.screenX-d.x)*(\"rtl\"==m?-1:1);b=f+(b.data.$.screenY-d.y);k&&(e=Math.max(c.resize_minWidth,Math.min(l,c.resize_maxWidth)));g&&(f=Math.max(c.resize_minHeight,Math.min(b,c.resize_maxHeight)));a.resize(k?e:null,f)}function b(){CKEDITOR.document.removeListener(\"mousemove\",f);CKEDITOR.document.removeListener(\"mouseup\",\nb);a.document&&(a.document.removeListener(\"mousemove\",f),a.document.removeListener(\"mouseup\",b))}var c=a.config,e=a.ui.spaceId(\"resizer\"),m=a.element?a.element.getDirection(1):\"ltr\";!c.resize_dir&&(c.resize_dir=\"vertical\");void 0===c.resize_maxWidth&&(c.resize_maxWidth=3E3);void 0===c.resize_maxHeight&&(c.resize_maxHeight=3E3);void 0===c.resize_minWidth&&(c.resize_minWidth=750);void 0===c.resize_minHeight&&(c.resize_minHeight=250);if(!1!==c.resize_enabled){var l=null,d,h,k=(\"both\"==c.resize_dir||\n\"horizontal\"==c.resize_dir)&&c.resize_minWidth!=c.resize_maxWidth,g=(\"both\"==c.resize_dir||\"vertical\"==c.resize_dir)&&c.resize_minHeight!=c.resize_maxHeight,n=CKEDITOR.tools.addFunction(function(e){l||(l=a.getResizable());h={width:l.$.offsetWidth||0,height:l.$.offsetHeight||0};d={x:e.screenX,y:e.screenY};c.resize_minWidth>h.width&&(c.resize_minWidth=h.width);c.resize_minHeight>h.height&&(c.resize_minHeight=h.height);CKEDITOR.document.on(\"mousemove\",f);CKEDITOR.document.on(\"mouseup\",b);a.document&&\n(a.document.on(\"mousemove\",f),a.document.on(\"mouseup\",b));e.preventDefault&&e.preventDefault()});a.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(n)});a.on(\"uiSpace\",function(b){if(\"bottom\"==b.data.space){var c=\"\";k&&!g&&(c=\" cke_resizer_horizontal\");!k&&g&&(c=\" cke_resizer_vertical\");var d='\\x3cspan id\\x3d\"'+e+'\" class\\x3d\"cke_resizer'+c+\" cke_resizer_\"+m+'\" title\\x3d\"'+CKEDITOR.tools.htmlEncode(a.lang.common.resize)+'\" onmousedown\\x3d\"CKEDITOR.tools.callFunction('+n+', event)\"\\x3e'+(\"ltr\"==\nm?\"◢\":\"◣\")+\"\\x3c/span\\x3e\";\"ltr\"==m&&\"ltr\"==c?b.data.html+=d:b.data.html=d+b.data.html}},a,null,100);a.on(\"maximize\",function(b){a.ui.space(\"resizer\")[b.data==CKEDITOR.TRISTATE_ON?\"hide\":\"show\"]()})}}}),CKEDITOR.plugins.add(\"menubutton\",{requires:\"button,menu\",onLoad:function(){var a=function(a){var b=this._,c=b.menu;b.state!==CKEDITOR.TRISTATE_DISABLED&&(b.on&&c?c.hide():(b.previousState=b.state,c||(c=b.menu=new CKEDITOR.menu(a,{panel:{className:\"cke_menu_panel\",attributes:{\"aria-label\":a.lang.common.options}}}),\nc.onHide=CKEDITOR.tools.bind(function(){var c=this.command?a.getCommand(this.command).modes:this.modes;this.setState(!c||c[a.mode]?b.previousState:CKEDITOR.TRISTATE_DISABLED);b.on=0},this),this.onMenu&&c.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),b.on=1,setTimeout(function(){c.show(CKEDITOR.document.getById(b.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(f){delete f.panel;this.base(f);this.hasArrow=!0;this.click=a},statics:{handler:{create:function(a){return new CKEDITOR.ui.menuButton(a)}}}})},\nbeforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON=\"menubutton\",\"use strict\",CKEDITOR.plugins.add(\"scayt\",{requires:\"menubutton,dialog\",tabToOpen:null,dialogName:\"scaytDialog\",onLoad:function(a){CKEDITOR.plugins.scayt.onLoadTimestamp=(new Date).getTime();\"moono-lisa\"==(CKEDITOR.skinName||a.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+\"skins/\"+CKEDITOR.skin.name+\"/scayt.css\")},init:function(a){var f=this,b=CKEDITOR.plugins.scayt;\nthis.bindEvents(a);this.parseConfig(a);this.addRule(a);CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+\"dialogs/options.js\"));this.addMenuItems(a);var c=a.lang.scayt,e=CKEDITOR.env;a.ui.add(\"Scayt\",CKEDITOR.UI_MENUBUTTON,{label:c.text_title,title:a.plugins.wsc?a.lang.wsc.title:c.text_title,modes:{wysiwyg:!(e.ie&&(8>e.version||e.quirks))},toolbar:\"spellchecker,20\",refresh:function(){var c=a.ui.instances.Scayt.getState();a.scayt&&(c=b.state.scayt[a.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF);\na.fire(\"scaytButtonState\",c)},onRender:function(){var b=this;a.on(\"scaytButtonState\",function(a){void 0!==typeof a.data&&b.setState(a.data)})},onMenu:function(){var c=a.scayt;a.getMenuItem(\"scaytToggle\").label=a.lang.scayt[c&&b.state.scayt[a.name]?\"btn_disable\":\"btn_enable\"];c={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:c?\nCKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:a.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};a.config.scayt_uiTabs[0]||delete c.scaytOptions;a.config.scayt_uiTabs[1]||delete c.scaytLangs;a.config.scayt_uiTabs[2]||delete c.scaytDict;return c}});a.contextMenu&&a.addMenuItems&&(a.contextMenu.addListener(function(b,c){var d=a.scayt,e,k;d&&(k=d.getSelectionNode())&&(e=f.menuGenerator(a,k),d.showBanner(\".\"+a.contextMenu._.definition.panel.className.split(\" \").join(\" .\")));return e}),\na.contextMenu._.onHide=CKEDITOR.tools.override(a.contextMenu._.onHide,function(b){return function(){var c=a.scayt;c&&c.hideBanner();return b.apply(this)}}))},addMenuItems:function(a){var f=this,b=CKEDITOR.plugins.scayt;a.addMenuGroup(\"scaytButton\");for(var c=a.config.scayt_contextMenuItemsOrder.split(\"|\"),e=0;e<c.length;e++)c[e]=\"scayt_\"+c[e];if((c=[\"grayt_description\",\"grayt_suggest\",\"grayt_control\"].concat(c))&&c.length)for(e=0;e<c.length;e++)a.addMenuGroup(c[e],e-10);a.addCommand(\"scaytToggle\",\n{exec:function(a){var c=a.scayt;b.state.scayt[a.name]=!b.state.scayt[a.name];!0===b.state.scayt[a.name]?c||b.createScayt(a):c&&b.destroy(a)}});a.addCommand(\"scaytAbout\",{exec:function(a){a.scayt.tabToOpen=\"about\";a.lockSelection();a.openDialog(f.dialogName)}});a.addCommand(\"scaytOptions\",{exec:function(a){a.scayt.tabToOpen=\"options\";a.lockSelection();a.openDialog(f.dialogName)}});a.addCommand(\"scaytLangs\",{exec:function(a){a.scayt.tabToOpen=\"langs\";a.lockSelection();a.openDialog(f.dialogName)}});\na.addCommand(\"scaytDict\",{exec:function(a){a.scayt.tabToOpen=\"dictionaries\";a.lockSelection();a.openDialog(f.dialogName)}});c={scaytToggle:{label:a.lang.scayt.btn_enable,group:\"scaytButton\",command:\"scaytToggle\"},scaytAbout:{label:a.lang.scayt.btn_about,group:\"scaytButton\",command:\"scaytAbout\"},scaytOptions:{label:a.lang.scayt.btn_options,group:\"scaytButton\",command:\"scaytOptions\"},scaytLangs:{label:a.lang.scayt.btn_langs,group:\"scaytButton\",command:\"scaytLangs\"},scaytDict:{label:a.lang.scayt.btn_dictionaries,\ngroup:\"scaytButton\",command:\"scaytDict\"}};a.plugins.wsc&&(c.WSC={label:a.lang.wsc.toolbar,group:\"scaytButton\",onClick:function(){var b=CKEDITOR.plugins.scayt,c=a.scayt,d=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText();(d=d.replace(/\\s/g,\"\"))?(c&&b.state.scayt[a.name]&&c.setMarkupPaused&&c.setMarkupPaused(!0),a.lockSelection(),a.execCommand(\"checkspell\")):alert(\"Nothing to check!\")}});a.addMenuItems(c)},bindEvents:function(a){var f=CKEDITOR.plugins.scayt,\nb=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,c=function(){f.destroy(a)},e=function(){!f.state.scayt[a.name]||a.readOnly||a.scayt||f.createScayt(a)},m=function(){var c=a.editable();c.attachListener(c,\"focus\",function(c){CKEDITOR.plugins.scayt&&!a.scayt&&setTimeout(e,0);c=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[a.name]&&a.scayt;var d,f;if((b||c)&&a._.savedSelection){c=a._.savedSelection.getSelectedElement();c=!c&&a._.savedSelection.getRanges();for(var l=0;l<c.length;l++)f=c[l],\"string\"===\ntypeof f.startContainer.$.nodeValue&&(d=f.startContainer.getText().length,(d<f.startOffset||d<f.endOffset)&&a.unlockSelection(!1))}},this,null,-10)},l=function(){b?a.config.scayt_inlineModeImmediateMarkup?e():(a.on(\"blur\",function(){setTimeout(c,0)}),a.on(\"focus\",e),a.focusManager.hasFocus&&e()):e();m();var d=a.editable();d.attachListener(d,\"mousedown\",function(b){b=b.data.getTarget();var c=a.widgets&&a.widgets.getByElement(b);c&&(c.wrapper=b.getAscendant(function(a){return a.hasAttribute(\"data-cke-widget-wrapper\")},\n!0))},this,null,-10)};a.on(\"contentDom\",l);a.on(\"beforeCommandExec\",function(b){var c=a.scayt,e=null,g=!1,l=!0;b.data.name in f.options.disablingCommandExec&&\"wysiwyg\"==a.mode?c&&(f.destroy(a),a.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_DISABLED)):\"bold\"!==b.data.name&&\"italic\"!==b.data.name&&\"underline\"!==b.data.name&&\"strike\"!==b.data.name&&\"subscript\"!==b.data.name&&\"superscript\"!==b.data.name&&\"enter\"!==b.data.name&&\"cut\"!==b.data.name&&\"language\"!==b.data.name||!c||(\"cut\"===b.data.name&&(l=!1,\ng=!0),\"language\"===b.data.name&&(e=(e=a.plugins.language.getCurrentLangElement(a))&&e.$,g=!0),a.fire(\"reloadMarkupScayt\",{removeOptions:{removeInside:l,forceBookmark:g,selectionNode:e},timeout:0}))});a.on(\"beforeSetMode\",function(b){if(\"source\"==b.data){if(b=a.scayt)f.destroy(a),a.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_DISABLED);a.document&&a.document.getBody().removeAttribute(\"_jquid\")}});a.on(\"afterCommandExec\",function(b){\"wysiwyg\"!=a.mode||\"undo\"!=b.data.name&&\"redo\"!=b.data.name||setTimeout(function(){f.reloadMarkup(a.scayt)},\n250)});a.on(\"readOnly\",function(b){var c;b&&(c=a.scayt,!0===b.editor.readOnly?c&&c.fire(\"removeMarkupInDocument\",{}):c?f.reloadMarkup(c):\"wysiwyg\"==b.editor.mode&&!0===f.state.scayt[b.editor.name]&&(f.createScayt(a),b.editor.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_ON)))});a.on(\"beforeDestroy\",c);a.on(\"setData\",function(){c();(a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||a.plugins.divarea)&&l()},this,null,50);a.on(\"reloadMarkupScayt\",function(b){var c=b.data&&b.data.removeOptions;b=b.data&&b.data.timeout;\nvar e=a.scayt;e&&setTimeout(function(){e.removeMarkupInSelectionNode(c);f.reloadMarkup(e)},b||0)});a.on(\"insertElement\",function(){a.fire(\"reloadMarkupScayt\",{removeOptions:{forceBookmark:!0}})},this,null,50);a.on(\"insertHtml\",function(){a.fire(\"reloadMarkupScayt\")},this,null,50);a.on(\"insertText\",function(){a.fire(\"reloadMarkupScayt\")},this,null,50);a.on(\"scaytDialogShown\",function(b){b.data.selectPage(a.scayt.tabToOpen)})},parseConfig:function(a){var f=CKEDITOR.plugins.scayt;f.replaceOldOptionsNames(a.config);\n\"boolean\"!==typeof a.config.scayt_autoStartup&&(a.config.scayt_autoStartup=!1);f.state.scayt[a.name]=a.config.scayt_autoStartup;\"boolean\"!==typeof a.config.grayt_autoStartup&&(a.config.grayt_autoStartup=!1);\"boolean\"!==typeof a.config.scayt_inlineModeImmediateMarkup&&(a.config.scayt_inlineModeImmediateMarkup=!1);f.state.grayt[a.name]=a.config.grayt_autoStartup;a.config.scayt_contextCommands||(a.config.scayt_contextCommands=\"ignore|ignoreall|add\");a.config.scayt_contextMenuItemsOrder||(a.config.scayt_contextMenuItemsOrder=\n\"suggest|moresuggest|control\");a.config.scayt_sLang||(a.config.scayt_sLang=\"en_US\");if(void 0===a.config.scayt_maxSuggestions||\"number\"!=typeof a.config.scayt_maxSuggestions||0>a.config.scayt_maxSuggestions)a.config.scayt_maxSuggestions=5;if(void 0===a.config.scayt_minWordLength||\"number\"!=typeof a.config.scayt_minWordLength||1>a.config.scayt_minWordLength)a.config.scayt_minWordLength=4;if(void 0===a.config.scayt_customDictionaryIds||\"string\"!==typeof a.config.scayt_customDictionaryIds)a.config.scayt_customDictionaryIds=\n\"\";if(void 0===a.config.scayt_userDictionaryName||\"string\"!==typeof a.config.scayt_userDictionaryName)a.config.scayt_userDictionaryName=null;if(\"string\"===typeof a.config.scayt_uiTabs&&3===a.config.scayt_uiTabs.split(\",\").length){var b=[],c=[];a.config.scayt_uiTabs=a.config.scayt_uiTabs.split(\",\");CKEDITOR.tools.search(a.config.scayt_uiTabs,function(a){1===Number(a)||0===Number(a)?(c.push(!0),b.push(Number(a))):c.push(!1)});null===CKEDITOR.tools.search(c,!1)?a.config.scayt_uiTabs=b:a.config.scayt_uiTabs=\n[1,1,1]}else a.config.scayt_uiTabs=[1,1,1];\"string\"!=typeof a.config.scayt_serviceProtocol&&(a.config.scayt_serviceProtocol=null);\"string\"!=typeof a.config.scayt_serviceHost&&(a.config.scayt_serviceHost=null);\"string\"!=typeof a.config.scayt_servicePort&&(a.config.scayt_servicePort=null);\"string\"!=typeof a.config.scayt_servicePath&&(a.config.scayt_servicePath=null);a.config.scayt_moreSuggestions||(a.config.scayt_moreSuggestions=\"on\");\"string\"!==typeof a.config.scayt_customerId&&(a.config.scayt_customerId=\n\"1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2\");\"string\"!==typeof a.config.scayt_srcUrl&&(f=document.location.protocol,f=-1!=f.search(/https?:/)?f:\"http:\",a.config.scayt_srcUrl=f+\"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js\");\"boolean\"!==typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0);\"boolean\"!==typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0);CKEDITOR.config.scayt_handleUndoRedo=\nCKEDITOR.plugins.undo?CKEDITOR.config.scayt_handleUndoRedo:!1;\"boolean\"!==typeof a.config.scayt_multiLanguageMode&&(a.config.scayt_multiLanguageMode=!1);\"object\"!==typeof a.config.scayt_multiLanguageStyles&&(a.config.scayt_multiLanguageStyles={});a.config.scayt_ignoreAllCapsWords&&\"boolean\"!==typeof a.config.scayt_ignoreAllCapsWords&&(a.config.scayt_ignoreAllCapsWords=!1);a.config.scayt_ignoreDomainNames&&\"boolean\"!==typeof a.config.scayt_ignoreDomainNames&&(a.config.scayt_ignoreDomainNames=!1);a.config.scayt_ignoreWordsWithMixedCases&&\n\"boolean\"!==typeof a.config.scayt_ignoreWordsWithMixedCases&&(a.config.scayt_ignoreWordsWithMixedCases=!1);a.config.scayt_ignoreWordsWithNumbers&&\"boolean\"!==typeof a.config.scayt_ignoreWordsWithNumbers&&(a.config.scayt_ignoreWordsWithNumbers=!1);if(a.config.scayt_disableOptionsStorage){var f=CKEDITOR.tools.isArray(a.config.scayt_disableOptionsStorage)?a.config.scayt_disableOptionsStorage:\"string\"===typeof a.config.scayt_disableOptionsStorage?[a.config.scayt_disableOptionsStorage]:void 0,e=\"all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers\".split(\" \"),\nm=[\"lang\",\"ignore-all-caps-words\",\"ignore-domain-names\",\"ignore-words-with-mixed-cases\",\"ignore-words-with-numbers\"],l=CKEDITOR.tools.search,d=CKEDITOR.tools.indexOf;a.config.scayt_disableOptionsStorage=function(a){for(var b=[],c=0;c<a.length;c++){var f=a[c],q=!!l(a,\"options\");if(!l(e,f)||q&&l(m,function(a){if(\"lang\"===a)return!1}))return;l(m,f)&&m.splice(d(m,f),1);if(\"all\"===f||q&&l(a,\"lang\"))return[];\"options\"===f&&(m=[\"lang\"])}return b=b.concat(m)}(f)}},addRule:function(a){var f=CKEDITOR.plugins.scayt,\nb=a.dataProcessor,c=b&&b.htmlFilter,e=a._.elementsPath&&a._.elementsPath.filters,b=b&&b.dataFilter,m=a.addRemoveFormatFilter,l=function(b){if(a.scayt&&(b.hasAttribute(f.options.data_attribute_name)||b.hasAttribute(f.options.problem_grammar_data_attribute)))return!1},d=function(b){var c=!0;a.scayt&&(b.hasAttribute(f.options.data_attribute_name)||b.hasAttribute(f.options.problem_grammar_data_attribute))&&(c=!1);return c};e&&e.push(l);b&&b.addRules({elements:{span:function(a){var b=a.hasClass(f.options.misspelled_word_class)&&\na.attributes[f.options.data_attribute_name],c=a.hasClass(f.options.problem_grammar_class)&&a.attributes[f.options.problem_grammar_data_attribute];f&&(b||c)&&delete a.name;return a}}});c&&c.addRules({elements:{span:function(a){var b=a.hasClass(f.options.misspelled_word_class)&&a.attributes[f.options.data_attribute_name],c=a.hasClass(f.options.problem_grammar_class)&&a.attributes[f.options.problem_grammar_data_attribute];f&&(b||c)&&delete a.name;return a}}});m&&m.call(a,d)},scaytMenuDefinition:function(a){var f=\nthis;a=a.scayt;return{scayt:{scayt_ignore:{label:a.getLocal(\"btn_ignore\"),group:\"scayt_control\",order:1,exec:function(a){a.scayt.ignoreWord()}},scayt_ignoreall:{label:a.getLocal(\"btn_ignoreAll\"),group:\"scayt_control\",order:2,exec:function(a){a.scayt.ignoreAllWords()}},scayt_add:{label:a.getLocal(\"btn_addWord\"),group:\"scayt_control\",order:3,exec:function(a){var c=a.scayt;setTimeout(function(){c.addWordToUserDictionary()},10)}},scayt_option:{label:a.getLocal(\"btn_options\"),group:\"scayt_control\",order:4,\nexec:function(a){a.scayt.tabToOpen=\"options\";a.lockSelection();a.openDialog(f.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[0]?!0:!1}},scayt_language:{label:a.getLocal(\"btn_langs\"),group:\"scayt_control\",order:5,exec:function(a){a.scayt.tabToOpen=\"langs\";a.lockSelection();a.openDialog(f.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[1]?!0:!1}},scayt_dictionary:{label:a.getLocal(\"btn_dictionaries\"),group:\"scayt_control\",order:6,exec:function(a){a.scayt.tabToOpen=\n\"dictionaries\";a.lockSelection();a.openDialog(f.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[2]?!0:!1}},scayt_about:{label:a.getLocal(\"btn_about\"),group:\"scayt_control\",order:7,exec:function(a){a.scayt.tabToOpen=\"about\";a.lockSelection();a.openDialog(f.dialogName)}}},grayt:{grayt_problemdescription:{label:\"Grammar problem description\",group:\"grayt_description\",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(a){}},grayt_ignore:{label:a.getLocal(\"btn_ignore\"),group:\"grayt_control\",\norder:2,exec:function(a){a.scayt.ignorePhrase()}}}}},buildSuggestionMenuItems:function(a,f,b){var c={},e={},m=b?\"word\":\"phrase\",l=b?\"startGrammarCheck\":\"startSpellCheck\",d=a.scayt;if(0<f.length&&\"no_any_suggestions\"!==f[0])if(b)for(b=0;b<f.length;b++){var h=\"scayt_suggest_\"+CKEDITOR.plugins.scayt.suggestions[b].replace(\" \",\"_\");a.addCommand(h,this.createCommand(CKEDITOR.plugins.scayt.suggestions[b],m,l));b<a.config.scayt_maxSuggestions?(a.addMenuItem(h,{label:f[b],command:h,group:\"scayt_suggest\",\norder:b+1}),c[h]=CKEDITOR.TRISTATE_OFF):(a.addMenuItem(h,{label:f[b],command:h,group:\"scayt_moresuggest\",order:b+1}),e[h]=CKEDITOR.TRISTATE_OFF,\"on\"===a.config.scayt_moreSuggestions&&(a.addMenuItem(\"scayt_moresuggest\",{label:d.getLocal(\"btn_moreSuggestions\"),group:\"scayt_moresuggest\",order:10,getItems:function(){return e}}),c.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(b=0;b<f.length;b++)h=\"grayt_suggest_\"+CKEDITOR.plugins.scayt.suggestions[b].replace(\" \",\"_\"),a.addCommand(h,this.createCommand(CKEDITOR.plugins.scayt.suggestions[b],\nm,l)),a.addMenuItem(h,{label:f[b],command:h,group:\"grayt_suggest\",order:b+1}),c[h]=CKEDITOR.TRISTATE_OFF;else c.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,a.addCommand(\"no_scayt_suggest\",{exec:function(){}}),a.addMenuItem(\"no_scayt_suggest\",{label:d.getLocal(\"btn_noSuggestions\")||\"no_scayt_suggest\",command:\"no_scayt_suggest\",group:\"scayt_suggest\",order:0});return c},menuGenerator:function(a,f){var b=a.scayt,c=this.scaytMenuDefinition(a),e={},m=a.config.scayt_contextCommands.split(\"|\"),l=f.getAttribute(b.getLangAttribute())||\nb.getLang(),d,h;d=b.isScaytNode(f);h=b.isGraytNode(f);d?(c=c.scayt,e=f.getAttribute(b.getScaytNodeAttributeName()),b.fire(\"getSuggestionsList\",{lang:l,word:e}),e=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,d)):h&&(c=c.grayt,e=f.getAttribute(b.getGraytNodeAttributeName()),h=b.getProblemDescriptionText(e,l),c.grayt_problemdescription&&h&&(c.grayt_problemdescription.label=h),b.fire(\"getGrammarSuggestionsList\",{lang:l,phrase:e}),e=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,\nd));if(d&&\"off\"==a.config.scayt_contextCommands)return e;for(var k in c)d&&-1==CKEDITOR.tools.indexOf(m,k.replace(\"scayt_\",\"\"))&&\"all\"!=a.config.scayt_contextCommands||(e[k]=\"undefined\"!=typeof c[k].state?c[k].state:CKEDITOR.TRISTATE_OFF,\"function\"!==typeof c[k].verification||c[k].verification(a)||delete e[k],a.addCommand(k,{exec:c[k].exec}),a.addMenuItem(k,{label:a.lang.scayt[c[k].label]||c[k].label,command:k,group:c[k].group,order:c[k].order}));return e},createCommand:function(a,f,b){return{exec:function(c){c=\nc.scayt;var e={};e[f]=a;c.replaceSelectionNode(e);\"startGrammarCheck\"===b&&c.removeMarkupInSelectionNode({grammarOnly:!0});c.fire(b)}}}}),CKEDITOR.plugins.scayt={charsToObserve:[{charName:\"cke-fillingChar\",charCode:function(){var a=CKEDITOR.version.match(/^\\d(\\.\\d*)*/),a=a&&a[0],f;if(a){f=\"4.5.7\";var b,a=a.replace(/\\./g,\"\");f=f.replace(/\\./g,\"\");b=a.length-f.length;b=0<=b?b:0;f=parseInt(a)>=parseInt(f)*Math.pow(10,b)}return f?Array(7).join(String.fromCharCode(8203)):String.fromCharCode(8203)}()}],\nonLoadTimestamp:\"\",state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:\"data-scayt-word\",misspelled_word_class:\"scayt-misspell-word\",problem_grammar_data_attribute:\"data-grayt-phrase\",problem_grammar_class:\"gramm-problem\"},backCompatibilityMap:{scayt_service_protocol:\"scayt_serviceProtocol\",scayt_service_host:\"scayt_serviceHost\",scayt_service_port:\"scayt_servicePort\",scayt_service_path:\"scayt_servicePath\",\nscayt_customerid:\"scayt_customerId\"},alarmCompatibilityMessage:function(){5>this.warningCounter&&(console.warn(\"Note: You are using latest version of SCAYT plug-in. It is recommended to upgrade WebSpellChecker.net application to version v4.8.3.Contact us by e-mail at support@webspellchecker.net.\"),this.warningCounter+=1)},reloadMarkup:function(a){var f;a&&(f=a.getScaytLangList(),a.reloadMarkup?a.reloadMarkup():(this.alarmCompatibilityMessage(),f&&f.ltr&&f.rtl&&a.fire(\"startSpellCheck, startGrammarCheck\")))},\nreplaceOldOptionsNames:function(a){for(var f in a)f in this.backCompatibilityMap&&(a[this.backCompatibilityMap[f]]=a[f],delete a[f])},createScayt:function(a){var f=this,b=CKEDITOR.plugins.scayt;this.loadScaytLibrary(a,function(a){function e(a){return new SCAYT.CKSCAYT(a,function(){},function(){})}var m=a.window&&a.window.getFrame()||a.editable();if(m){m={lang:a.config.scayt_sLang,container:m.$,customDictionary:a.config.scayt_customDictionaryIds,userDictionaryName:a.config.scayt_userDictionaryName,\nlocalization:a.langCode,customer_id:a.config.scayt_customerId,debug:a.config.scayt_debug,data_attribute_name:f.options.data_attribute_name,misspelled_word_class:f.options.misspelled_word_class,problem_grammar_data_attribute:f.options.problem_grammar_data_attribute,problem_grammar_class:f.options.problem_grammar_class,\"options-to-restore\":a.config.scayt_disableOptionsStorage,focused:a.editable().hasFocus,ignoreElementsRegex:a.config.scayt_elementsToIgnore,minWordLength:a.config.scayt_minWordLength,\nmultiLanguageMode:a.config.scayt_multiLanguageMode,multiLanguageStyles:a.config.scayt_multiLanguageStyles,graytAutoStartup:b.state.grayt[a.name],charsToObserve:b.charsToObserve};a.config.scayt_serviceProtocol&&(m.service_protocol=a.config.scayt_serviceProtocol);a.config.scayt_serviceHost&&(m.service_host=a.config.scayt_serviceHost);a.config.scayt_servicePort&&(m.service_port=a.config.scayt_servicePort);a.config.scayt_servicePath&&(m.service_path=a.config.scayt_servicePath);\"boolean\"===typeof a.config.scayt_ignoreAllCapsWords&&\n(m[\"ignore-all-caps-words\"]=a.config.scayt_ignoreAllCapsWords);\"boolean\"===typeof a.config.scayt_ignoreDomainNames&&(m[\"ignore-domain-names\"]=a.config.scayt_ignoreDomainNames);\"boolean\"===typeof a.config.scayt_ignoreWordsWithMixedCases&&(m[\"ignore-words-with-mixed-cases\"]=a.config.scayt_ignoreWordsWithMixedCases);\"boolean\"===typeof a.config.scayt_ignoreWordsWithNumbers&&(m[\"ignore-words-with-numbers\"]=a.config.scayt_ignoreWordsWithNumbers);var l;try{l=e(m)}catch(d){f.alarmCompatibilityMessage(),delete m.charsToObserve,\nl=e(m)}l.subscribe(\"suggestionListSend\",function(a){for(var b={},c=[],d=0;d<a.suggestionList.length;d++)b[\"word_\"+a.suggestionList[d]]||(b[\"word_\"+a.suggestionList[d]]=a.suggestionList[d],c.push(a.suggestionList[d]));CKEDITOR.plugins.scayt.suggestions=c});l.subscribe(\"selectionIsChanged\",function(b){a.getSelection().isLocked&&a.lockSelection()});l.subscribe(\"graytStateChanged\",function(d){b.state.grayt[a.name]=d.state});l.addMarkupHandler&&l.addMarkupHandler(function(b){var d=a.editable(),e=d.getCustomData(b.charName);\ne&&(e.$=b.node,d.setCustomData(b.charName,e))});a.scayt=l;a.fire(\"scaytButtonState\",a.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else b.state.scayt[a.name]=!1})},destroy:function(a){a.scayt&&a.scayt.destroy();delete a.scayt;a.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(a,f){var b,c=function(){CKEDITOR.fireOnce(\"scaytReady\");a.scayt||\"function\"===typeof f&&f(a)};\"undefined\"===typeof window.SCAYT||\"function\"!==typeof window.SCAYT.CKSCAYT?(b=a.config.scayt_srcUrl+\n\"?\"+this.onLoadTimestamp,CKEDITOR.scriptLoader.load(b,function(a){a&&c()})):window.SCAYT&&\"function\"===typeof window.SCAYT.CKSCAYT&&c()}},CKEDITOR.on(\"dialogDefinition\",function(a){var f=a.data.name;a=a.data.definition.dialog;if(\"scaytDialog\"===f)a.on(\"cancel\",function(a){return!1},this,null,-1);if(\"checkspell\"===f)a.on(\"cancel\",function(a){a=a.sender&&a.sender.getParentEditor();var c=CKEDITOR.plugins.scayt,e=a.scayt;e&&c.state.scayt[a.name]&&e.setMarkupPaused&&e.setMarkupPaused(!1);a.unlockSelection()},\nthis,null,-2);if(\"link\"===f)a.on(\"ok\",function(a){var c=a.sender&&a.sender.getParentEditor();c&&setTimeout(function(){c.fire(\"reloadMarkupScayt\",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})},0)})}),CKEDITOR.on(\"scaytReady\",function(){if(!0===CKEDITOR.config.scayt_handleCheckDirty){var a=CKEDITOR.editor.prototype;a.checkDirty=CKEDITOR.tools.override(a.checkDirty,function(a){return function(){var c=null,e=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&\nthis.scayt){if(c=\"ready\"==this.status)var f=e.removeMarkupFromString(this.getSnapshot()),e=e.removeMarkupFromString(this._.previousValue),c=c&&e!==f}else c=a.call(this);return c}});a.resetDirty=CKEDITOR.tools.override(a.resetDirty,function(a){return function(){var c=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=c.removeMarkupFromString(this.getSnapshot()):a.call(this)}})}if(!0===CKEDITOR.config.scayt_handleUndoRedo){var a=CKEDITOR.plugins.undo.Image.prototype,\nf=\"function\"==typeof a.equalsContent?\"equalsContent\":\"equals\";a[f]=CKEDITOR.tools.override(a[f],function(a){return function(c){var e=c.editor.scayt,f=this.contents,l=c.contents,d=null;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[c.editor.name]&&c.editor.scayt&&(this.contents=e.removeMarkupFromString(f)||\"\",c.contents=e.removeMarkupFromString(l)||\"\");d=a.apply(this,arguments);this.contents=f;c.contents=l;return d}})}}),function(){var a={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(a){this.toggleState();\nthis.refresh(a)},refresh:function(a){if(a.document){var b=this.state==CKEDITOR.TRISTATE_ON?\"attachClass\":\"removeClass\";a.editable()[b](\"cke_show_borders\")}}};CKEDITOR.plugins.add(\"showborders\",{modes:{wysiwyg:1},onLoad:function(){var a;a=(CKEDITOR.env.ie6Compat?[\".%1 table.%2,\",\".%1 table.%2 td, .%1 table.%2 th\",\"{\",\"border : #d3d3d3 1px dotted\",\"}\"]:\".%1 table.%2,;.%1 table.%2 \\x3e tr \\x3e td, .%1 table.%2 \\x3e tr \\x3e th,;.%1 table.%2 \\x3e tbody \\x3e tr \\x3e td, .%1 table.%2 \\x3e tbody \\x3e tr \\x3e th,;.%1 table.%2 \\x3e thead \\x3e tr \\x3e td, .%1 table.%2 \\x3e thead \\x3e tr \\x3e th,;.%1 table.%2 \\x3e tfoot \\x3e tr \\x3e td, .%1 table.%2 \\x3e tfoot \\x3e tr \\x3e th;{;border : #d3d3d3 1px dotted;}\".split(\";\")).join(\"\").replace(/%2/g,\n\"cke_show_border\").replace(/%1/g,\"cke_show_borders \");CKEDITOR.addCss(a)},init:function(f){var b=f.addCommand(\"showborders\",a);b.canUndo=!1;!1!==f.config.startupShowBorders&&b.setState(CKEDITOR.TRISTATE_ON);f.on(\"mode\",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(f)},null,null,100);f.on(\"contentDom\",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(f)});f.on(\"removeFormatCleanup\",function(a){a=a.data;f.getCommand(\"showborders\").state==CKEDITOR.TRISTATE_ON&&a.is(\"table\")&&(!a.hasAttribute(\"border\")||\n0>=parseInt(a.getAttribute(\"border\"),10))&&a.addClass(\"cke_show_border\")})},afterInit:function(a){var b=a.dataProcessor;a=b&&b.dataFilter;b=b&&b.htmlFilter;a&&a.addRules({elements:{table:function(a){a=a.attributes;var b=a[\"class\"],f=parseInt(a.border,10);f&&!(0>=f)||b&&-1!=b.indexOf(\"cke_show_border\")||(a[\"class\"]=(b||\"\")+\" cke_show_border\")}}});b&&b.addRules({elements:{table:function(a){a=a.attributes;var b=a[\"class\"];b&&(a[\"class\"]=b.replace(\"cke_show_border\",\"\").replace(/\\s{2}/,\" \").replace(/^\\s+|\\s+$/,\n\"\"))}}})}});CKEDITOR.on(\"dialogDefinition\",function(a){var b=a.data.name;if(\"table\"==b||\"tableProperties\"==b)if(a=a.data.definition,b=a.getContents(\"info\").get(\"txtBorder\"),b.commit=CKEDITOR.tools.override(b.commit,function(a){return function(b,f){a.apply(this,arguments);var l=parseInt(this.getValue(),10);f[!l||0>=l?\"addClass\":\"removeClass\"](\"cke_show_border\")}}),a=(a=a.getContents(\"advanced\"))&&a.get(\"advCSSClasses\"))a.setup=CKEDITOR.tools.override(a.setup,function(a){return function(){a.apply(this,\narguments);this.setValue(this.getValue().replace(/cke_show_border/,\"\"))}}),a.commit=CKEDITOR.tools.override(a.commit,function(a){return function(b,f){a.apply(this,arguments);parseInt(f.getAttribute(\"border\"),10)||f.addClass(\"cke_show_border\")}})})}(),function(){CKEDITOR.plugins.add(\"sourcearea\",{init:function(f){function b(){var a=e&&this.equals(CKEDITOR.document.getActive());this.hide();this.setStyle(\"height\",this.getParent().$.clientHeight+\"px\");this.setStyle(\"width\",this.getParent().$.clientWidth+\n\"px\");this.show();a&&this.focus()}if(f.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var c=CKEDITOR.plugins.sourcearea;f.addMode(\"source\",function(c){var e=f.ui.space(\"contents\").getDocument().createElement(\"textarea\");e.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?\"99%\":\"100%\",height:\"100%\",resize:\"none\",outline:\"none\",\"text-align\":\"left\"},CKEDITOR.tools.cssVendorPrefix(\"tab-size\",f.config.sourceAreaTabSize||4)));e.setAttribute(\"dir\",\"ltr\");e.addClass(\"cke_source\").addClass(\"cke_reset\").addClass(\"cke_enable_context_menu\");\nf.ui.space(\"contents\").append(e);e=f.editable(new a(f,e));e.setData(f.getData(1));CKEDITOR.env.ie&&(e.attachListener(f,\"resize\",b,e),e.attachListener(CKEDITOR.document.getWindow(),\"resize\",b,e),CKEDITOR.tools.setTimeout(b,0,e));f.fire(\"ariaWidget\",this);c()});f.addCommand(\"source\",c.commands.source);f.ui.addButton&&f.ui.addButton(\"Source\",{label:f.lang.sourcearea.toolbar,command:\"source\",toolbar:\"mode,10\"});f.on(\"mode\",function(){f.getCommand(\"source\").setState(\"source\"==f.mode?CKEDITOR.TRISTATE_ON:\nCKEDITOR.TRISTATE_OFF)});var e=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var a=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(a){this.setValue(a);this.status=\"ready\";this.editor.fire(\"dataReady\")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(a){this[(a?\"set\":\"remove\")+\"Attribute\"](\"readOnly\",\"readonly\")},detach:function(){a.baseProto.detach.call(this);this.clearCustomData();\nthis.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(a){\"wysiwyg\"==a.mode&&a.fire(\"saveSnapshot\");a.getCommand(\"source\").setState(CKEDITOR.TRISTATE_DISABLED);a.setMode(\"source\"==a.mode?\"wysiwyg\":\"source\")},canUndo:!1}}},CKEDITOR.plugins.add(\"specialchar\",{availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,\"de-ch\":1,el:1,en:1,\"en-gb\":1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fr:1,\"fr-ca\":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,\nkm:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,pl:1,pt:1,\"pt-br\":1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,\"zh-cn\":1},requires:\"dialog\",init:function(a){var f=this;CKEDITOR.dialog.add(\"specialchar\",this.path+\"dialogs/specialchar.js\");a.addCommand(\"specialchar\",{exec:function(){var b=a.langCode,b=f.availableLangs[b]?b:f.availableLangs[b.replace(/-.*/,\"\")]?b.replace(/-.*/,\"\"):\"en\";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(f.path+\"dialogs/lang/\"+b+\".js\"),function(){CKEDITOR.tools.extend(a.lang.specialchar,\nf.langEntries[b]);a.openDialog(\"specialchar\")})},modes:{wysiwyg:1},canUndo:!1});a.ui.addButton&&a.ui.addButton(\"SpecialChar\",{label:a.lang.specialchar.toolbar,command:\"specialchar\",toolbar:\"insert,50\"})}}),CKEDITOR.config.specialChars=\"! \\x26quot; # $ % \\x26amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; \\x26lt; \\x3d \\x26gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ \\x26euro; \\x26lsquo; \\x26rsquo; \\x26ldquo; \\x26rdquo; \\x26ndash; \\x26mdash; \\x26iexcl; \\x26cent; \\x26pound; \\x26curren; \\x26yen; \\x26brvbar; \\x26sect; \\x26uml; \\x26copy; \\x26ordf; \\x26laquo; \\x26not; \\x26reg; \\x26macr; \\x26deg; \\x26sup2; \\x26sup3; \\x26acute; \\x26micro; \\x26para; \\x26middot; \\x26cedil; \\x26sup1; \\x26ordm; \\x26raquo; \\x26frac14; \\x26frac12; \\x26frac34; \\x26iquest; \\x26Agrave; \\x26Aacute; \\x26Acirc; \\x26Atilde; \\x26Auml; \\x26Aring; \\x26AElig; \\x26Ccedil; \\x26Egrave; \\x26Eacute; \\x26Ecirc; \\x26Euml; \\x26Igrave; \\x26Iacute; \\x26Icirc; \\x26Iuml; \\x26ETH; \\x26Ntilde; \\x26Ograve; \\x26Oacute; \\x26Ocirc; \\x26Otilde; \\x26Ouml; \\x26times; \\x26Oslash; \\x26Ugrave; \\x26Uacute; \\x26Ucirc; \\x26Uuml; \\x26Yacute; \\x26THORN; \\x26szlig; \\x26agrave; \\x26aacute; \\x26acirc; \\x26atilde; \\x26auml; \\x26aring; \\x26aelig; \\x26ccedil; \\x26egrave; \\x26eacute; \\x26ecirc; \\x26euml; \\x26igrave; \\x26iacute; \\x26icirc; \\x26iuml; \\x26eth; \\x26ntilde; \\x26ograve; \\x26oacute; \\x26ocirc; \\x26otilde; \\x26ouml; \\x26divide; \\x26oslash; \\x26ugrave; \\x26uacute; \\x26ucirc; \\x26uuml; \\x26yacute; \\x26thorn; \\x26yuml; \\x26OElig; \\x26oelig; \\x26#372; \\x26#374 \\x26#373 \\x26#375; \\x26sbquo; \\x26#8219; \\x26bdquo; \\x26hellip; \\x26trade; \\x26#9658; \\x26bull; \\x26rarr; \\x26rArr; \\x26hArr; \\x26diams; \\x26asymp;\".split(\" \"),\nfunction(){CKEDITOR.plugins.add(\"stylescombo\",{requires:\"richcombo\",init:function(a){var f=a.config,b=a.lang.stylescombo,c={},e=[],m=[];a.on(\"stylesSet\",function(b){if(b=b.data.styles){for(var d,h,k,g=0,n=b.length;g<n;g++)(d=b[g],a.blockless&&d.element in CKEDITOR.dtd.$block||\"string\"==typeof d.type&&!CKEDITOR.style.customHandlers[d.type]||(h=d.name,d=new CKEDITOR.style(d),a.filter.customConfig&&!a.filter.check(d)))||(d._name=h,d._.enterMode=f.enterMode,d._.type=k=d.assignedTo||d.type,d._.weight=\ng+1E3*(k==CKEDITOR.STYLE_OBJECT?1:k==CKEDITOR.STYLE_BLOCK?2:3),c[h]=d,e.push(d),m.push(d));e.sort(function(a,b){return a._.weight-b._.weight})}});a.ui.addRichCombo(\"Styles\",{label:b.label,title:b.panelTitle,toolbar:\"styles,10\",allowedContent:m,panel:{css:[CKEDITOR.skin.getPath(\"editor\")].concat(f.contentsCss),multiSelect:!0,attributes:{\"aria-label\":b.panelTitle}},init:function(){var a,c,f,k,g,m;g=0;for(m=e.length;g<m;g++)a=e[g],c=a._name,k=a._.type,k!=f&&(this.startGroup(b[\"panelTitle\"+String(k)]),\nf=k),this.add(c,a.type==CKEDITOR.STYLE_OBJECT?c:a.buildPreview(),c);this.commit()},onClick:function(b){a.focus();a.fire(\"saveSnapshot\");b=c[b];var d=a.elementPath();a[b.checkActive(d,a)?\"removeStyle\":\"applyStyle\"](b);a.fire(\"saveSnapshot\")},onRender:function(){a.on(\"selectionChange\",function(b){var d=this.getValue();b=b.data.path.elements;for(var e=0,f=b.length,g;e<f;e++){g=b[e];for(var m in c)if(c[m].checkElementRemovable(g,!0,a)){m!=d&&this.setValue(m);return}}this.setValue(\"\")},this)},onOpen:function(){var e=\na.getSelection().getSelectedElement(),e=a.elementPath(e),d=[0,0,0,0];this.showAll();this.unmarkAll();for(var f in c){var k=c[f],g=k._.type;k.checkApplicable(e,a,a.activeFilter)?d[g]++:this.hideItem(f);k.checkActive(e,a)&&this.mark(f)}d[CKEDITOR.STYLE_BLOCK]||this.hideGroup(b[\"panelTitle\"+String(CKEDITOR.STYLE_BLOCK)]);d[CKEDITOR.STYLE_INLINE]||this.hideGroup(b[\"panelTitle\"+String(CKEDITOR.STYLE_INLINE)]);d[CKEDITOR.STYLE_OBJECT]||this.hideGroup(b[\"panelTitle\"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var b=\na.elementPath();if(b){for(var d in c)if(c[d].checkApplicable(b,a,a.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){c={};e=[]}})}})}(),function(){function a(a){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(b){if(b.editable().hasFocus){var c=b.getSelection(),d;if(d=(new CKEDITOR.dom.elementPath(c.getCommonAncestor(),c.root)).contains({td:1,th:1},1)){var c=b.createRange(),f=CKEDITOR.tools.tryThese(function(){var b=d.getParent().$.cells[d.$.cellIndex+\n(a?-1:1)];b.parentNode.parentNode;return b},function(){var b=d.getParent(),b=b.getAscendant(\"table\").$.rows[b.$.rowIndex+(a?-1:1)];return b.cells[a?b.cells.length-1:0]});if(f||a)if(f)f=new CKEDITOR.dom.element(f),c.moveToElementEditStart(f),c.checkStartOfBlock()&&c.checkEndOfBlock()||c.selectNodeContents(f);else return!0;else{for(var k=d.getAscendant(\"table\").$,f=d.getParent().$.cells,k=new CKEDITOR.dom.element(k.insertRow(-1),b.document),g=0,n=f.length;g<n;g++)k.append((new CKEDITOR.dom.element(f[g],\nb.document)).clone(!1,!1)).appendBogus();c.moveToElementEditStart(k)}c.select(!0);return!0}}return!1}}}var f={editorFocus:!1,modes:{wysiwyg:1,source:1}},b={exec:function(a){a.container.focusNext(!0,a.tabIndex)}},c={exec:function(a){a.container.focusPrevious(!0,a.tabIndex)}};CKEDITOR.plugins.add(\"tab\",{init:function(e){for(var m=!1!==e.config.enableTabKeyTools,l=e.config.tabSpaces||0,d=\"\";l--;)d+=\" \";if(d)e.on(\"key\",function(a){9==a.data.keyCode&&(e.insertText(d),a.cancel())});if(m)e.on(\"key\",function(a){(9==\na.data.keyCode&&e.execCommand(\"selectNextCell\")||a.data.keyCode==CKEDITOR.SHIFT+9&&e.execCommand(\"selectPreviousCell\"))&&a.cancel()});e.addCommand(\"blur\",CKEDITOR.tools.extend(b,f));e.addCommand(\"blurBack\",CKEDITOR.tools.extend(c,f));e.addCommand(\"selectNextCell\",a());e.addCommand(\"selectPreviousCell\",a(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(a,f){var b=void 0===f?this.getTabIndex():f,c,e,m,l,d,h;if(0>=b)for(d=this.getNextSourceNode(a,CKEDITOR.NODE_ELEMENT);d;){if(d.isVisible()&&\n0===d.getTabIndex()){m=d;break}d=d.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(d=this.getDocument().getBody().getFirst();d=d.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!c)if(!e&&d.equals(this)){if(e=!0,a){if(!(d=d.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;c=1}}else e&&!this.contains(d)&&(c=1);if(d.isVisible()&&!(0>(h=d.getTabIndex()))){if(c&&h==b){m=d;break}h>b&&(!m||!l||h<l)?(m=d,l=h):m||0!==h||(m=d,l=h)}}m&&m.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(a,\nf){for(var b=void 0===f?this.getTabIndex():f,c,e,m,l=0,d,h=this.getDocument().getBody().getLast();h=h.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!c)if(!e&&h.equals(this)){if(e=!0,a){if(!(h=h.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;c=1}}else e&&!this.contains(h)&&(c=1);if(h.isVisible()&&!(0>(d=h.getTabIndex())))if(0>=b){if(c&&0===d){m=h;break}d>l&&(m=h,l=d)}else{if(c&&d==b){m=h;break}d<b&&(!m||d>l)&&(m=h,l=d)}}m&&m.focus()},CKEDITOR.plugins.add(\"table\",{requires:\"dialog\",init:function(a){function f(a){return CKEDITOR.tools.extend(a||\n{},{contextSensitive:1,refresh:function(a,b){this.setState(b.contains(\"table\",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!a.blockless){var b=a.lang.table;a.addCommand(\"table\",new CKEDITOR.dialogCommand(\"table\",{context:\"table\",allowedContent:\"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];\"+(a.plugins.dialogadvtab?\"table\"+a.plugins.dialogadvtab.allowedContent():\"\"),requiredContent:\"table\",contentTransformations:[[\"table{width}: sizeToStyle\",\n\"table[width]: sizeToAttribute\"],[\"td: splitBorderShorthand\"],[{element:\"table\",right:function(a){a.styles&&(a.styles.border&&a.styles.border.match(/solid/)&&(a.attributes.border=1),\"collapse\"==a.styles[\"border-collapse\"]&&(a.attributes.cellspacing=0))}}]]}));a.addCommand(\"tableProperties\",new CKEDITOR.dialogCommand(\"tableProperties\",f()));a.addCommand(\"tableDelete\",f({exec:function(a){var b=a.elementPath().contains(\"table\",1);if(b){var f=b.getParent(),l=a.editable();1!=f.getChildCount()||f.is(\"td\",\n\"th\")||f.equals(l)||(b=f);a=a.createRange();a.moveToPosition(b,CKEDITOR.POSITION_BEFORE_START);b.remove();a.select()}}}));a.ui.addButton&&a.ui.addButton(\"Table\",{label:b.toolbar,command:\"table\",toolbar:\"insert,30\"});CKEDITOR.dialog.add(\"table\",this.path+\"dialogs/table.js\");CKEDITOR.dialog.add(\"tableProperties\",this.path+\"dialogs/table.js\");a.addMenuItems&&a.addMenuItems({table:{label:b.menu,command:\"tableProperties\",group:\"table\",order:5},tabledelete:{label:b.deleteTable,command:\"tableDelete\",group:\"table\",\norder:1}});a.on(\"doubleclick\",function(a){a.data.element.is(\"table\")&&(a.data.dialog=\"tableProperties\")});a.contextMenu&&a.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function a(a){function b(a){0<c.length||a.type!=CKEDITOR.NODE_ELEMENT||!q.test(a.getName())||a.getCustomData(\"selected_cell\")||(CKEDITOR.dom.element.setMarker(d,a,\"selected_cell\",!0),c.push(a))}a=a.getRanges();for(var c=[],d={},e=0;e<a.length;e++){var f=a[e];\nif(f.collapsed)f=f.getCommonAncestor(),(f=f.getAscendant(\"td\",!0)||f.getAscendant(\"th\",!0))&&c.push(f);else{var f=new CKEDITOR.dom.walker(f),g;for(f.guard=b;g=f.next();)g.type==CKEDITOR.NODE_ELEMENT&&g.is(CKEDITOR.dtd.table)||(g=g.getAscendant(\"td\",!0)||g.getAscendant(\"th\",!0))&&!g.getCustomData(\"selected_cell\")&&(CKEDITOR.dom.element.setMarker(d,g,\"selected_cell\",!0),c.push(g))}}CKEDITOR.dom.element.clearAllMarkers(d);return c}function f(b,c){for(var d=a(b),e=d[0],f=e.getAscendant(\"table\"),e=e.getDocument(),\ng=d[0].getParent(),h=g.$.rowIndex,d=d[d.length-1],k=d.getParent().$.rowIndex+d.$.rowSpan-1,d=new CKEDITOR.dom.element(f.$.rows[k]),h=c?h:k,g=c?g:d,d=CKEDITOR.tools.buildTableMap(f),f=d[h],h=c?d[h-1]:d[h+1],d=d[0].length,e=e.createElement(\"tr\"),k=0;f[k]&&k<d;k++){var l;1<f[k].rowSpan&&h&&f[k]==h[k]?(l=f[k],l.rowSpan+=1):(l=(new CKEDITOR.dom.element(f[k])).clone(),l.removeAttribute(\"rowSpan\"),l.appendBogus(),e.append(l),l=l.$);k+=l.colSpan-1}c?e.insertBefore(g):e.insertAfter(g)}function b(c){if(c instanceof\nCKEDITOR.dom.selection){var d=a(c),e=d[0].getAscendant(\"table\"),f=CKEDITOR.tools.buildTableMap(e);c=d[0].getParent().$.rowIndex;for(var d=d[d.length-1],g=d.getParent().$.rowIndex+d.$.rowSpan-1,d=[],h=c;h<=g;h++){for(var k=f[h],l=new CKEDITOR.dom.element(e.$.rows[h]),m=0;m<k.length;m++){var n=new CKEDITOR.dom.element(k[m]),q=n.getParent().$.rowIndex;1==n.$.rowSpan?n.remove():(--n.$.rowSpan,q==h&&(q=f[h+1],q[m-1]?n.insertAfter(new CKEDITOR.dom.element(q[m-1])):(new CKEDITOR.dom.element(e.$.rows[h+1])).append(n,\n1)));m+=n.$.colSpan-1}d.push(l)}f=e.$.rows;e=new CKEDITOR.dom.element(f[g+1]||(0<c?f[c-1]:null)||e.$.parentNode);for(h=d.length;0<=h;h--)b(d[h]);return e}c instanceof CKEDITOR.dom.element&&(e=c.getAscendant(\"table\"),1==e.$.rows.length?e.remove():c.remove());return null}function c(a,b){for(var c=b?Infinity:0,d=0;d<a.length;d++){var e;e=a[d];for(var f=b,g=e.getParent().$.cells,h=0,k=0;k<g.length;k++){var l=g[k],h=h+(f?1:l.colSpan);if(l==e.$)break}e=h-1;if(b?e<c:e>c)c=e}return c}function e(b,d){for(var e=\na(b),f=e[0].getAscendant(\"table\"),g=c(e,1),e=c(e),g=d?g:e,h=CKEDITOR.tools.buildTableMap(f),f=[],e=[],k=h.length,l=0;l<k;l++)f.push(h[l][g]),e.push(d?h[l][g-1]:h[l][g+1]);for(l=0;l<k;l++)f[l]&&(1<f[l].colSpan&&e[l]==f[l]?(g=f[l],g.colSpan+=1):(g=(new CKEDITOR.dom.element(f[l])).clone(),g.removeAttribute(\"colSpan\"),g.appendBogus(),g[d?\"insertBefore\":\"insertAfter\"].call(g,new CKEDITOR.dom.element(f[l])),g=g.$),l+=g.rowSpan-1)}function m(a,b){var c=a.getStartElement();if(c=c.getAscendant(\"td\",1)||c.getAscendant(\"th\",\n1)){var d=c.clone();d.appendBogus();b?d.insertBefore(c):d.insertAfter(c)}}function l(b){if(b instanceof CKEDITOR.dom.selection){b=a(b);var c=b[0]&&b[0].getAscendant(\"table\"),e;a:{var f=0;e=b.length-1;for(var g={},h,k;h=b[f++];)CKEDITOR.dom.element.setMarker(g,h,\"delete_cell\",!0);for(f=0;h=b[f++];)if((k=h.getPrevious())&&!k.getCustomData(\"delete_cell\")||(k=h.getNext())&&!k.getCustomData(\"delete_cell\")){CKEDITOR.dom.element.clearAllMarkers(g);e=k;break a}CKEDITOR.dom.element.clearAllMarkers(g);k=b[0].getParent();\n(k=k.getPrevious())?e=k.getLast():(k=b[e].getParent(),e=(k=k.getNext())?k.getChild(0):null)}for(k=b.length-1;0<=k;k--)l(b[k]);e?d(e,!0):c&&c.remove()}else b instanceof CKEDITOR.dom.element&&(c=b.getParent(),1==c.getChildCount()?c.remove():b.remove())}function d(a,b){var c=a.getDocument(),d=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(d.focus(),c.focus());c=new CKEDITOR.dom.range(c);c[\"moveToElementEdit\"+(b?\"End\":\"Start\")](a)||(c.selectNodeContents(a),c.collapse(b?!1:!0));c.select(!0)}\nfunction h(a,b,c){a=a[b];if(\"undefined\"==typeof c)return a;for(b=0;a&&b<a.length;b++){if(c.is&&a[b]==c.$)return b;if(b==c)return new CKEDITOR.dom.element(a[b])}return c.is?-1:null}function k(b,c,d){var e=a(b),f;if((c?1!=e.length:2>e.length)||(f=b.getCommonAncestor())&&f.type==CKEDITOR.NODE_ELEMENT&&f.is(\"table\"))return!1;var g;b=e[0];f=b.getAscendant(\"table\");var k=CKEDITOR.tools.buildTableMap(f),l=k.length,m=k[0].length,n=b.getParent().$.rowIndex,q=h(k,n,b);if(c){var A;try{var C=parseInt(b.getAttribute(\"rowspan\"),\n10)||1;g=parseInt(b.getAttribute(\"colspan\"),10)||1;A=k[\"up\"==c?n-C:\"down\"==c?n+C:n][\"left\"==c?q-g:\"right\"==c?q+g:q]}catch(F){return!1}if(!A||b.$==A)return!1;e[\"up\"==c||\"left\"==c?\"unshift\":\"push\"](new CKEDITOR.dom.element(A))}c=b.getDocument();var E=n,C=A=0,J=!d&&new CKEDITOR.dom.documentFragment(c),G=0;for(c=0;c<e.length;c++){g=e[c];var M=g.getParent(),I=g.getFirst(),H=g.$.colSpan,R=g.$.rowSpan,M=M.$.rowIndex,P=h(k,M,g),G=G+H*R,C=Math.max(C,P-q+H);A=Math.max(A,M-n+R);d||(H=g,(R=H.getBogus())&&R.remove(),\nH.trim(),g.getChildren().count()&&(M==E||!I||I.isBlockBoundary&&I.isBlockBoundary({br:1})||(E=J.getLast(CKEDITOR.dom.walker.whitespaces(!0)),!E||E.is&&E.is(\"br\")||J.append(\"br\")),g.moveChildren(J)),c?g.remove():g.setHtml(\"\"));E=M}if(d)return A*C==G;J.moveChildren(b);b.appendBogus();C>=m?b.removeAttribute(\"rowSpan\"):b.$.rowSpan=A;A>=l?b.removeAttribute(\"colSpan\"):b.$.colSpan=C;d=new CKEDITOR.dom.nodeList(f.$.rows);e=d.count();for(c=e-1;0<=c;c--)f=d.getItem(c),f.$.cells.length||(f.remove(),e++);return b}\nfunction g(b,c){var d=a(b);if(1<d.length)return!1;if(c)return!0;var d=d[0],e=d.getParent(),f=e.getAscendant(\"table\"),g=CKEDITOR.tools.buildTableMap(f),k=e.$.rowIndex,l=h(g,k,d),m=d.$.rowSpan,n;if(1<m){n=Math.ceil(m/2);for(var m=Math.floor(m/2),e=k+n,f=new CKEDITOR.dom.element(f.$.rows[e]),g=h(g,e),q,e=d.clone(),k=0;k<g.length;k++)if(q=g[k],q.parentNode==f.$&&k>l){e.insertBefore(new CKEDITOR.dom.element(q));break}else q=null;q||f.append(e)}else for(m=n=1,f=e.clone(),f.insertAfter(e),f.append(e=d.clone()),\nq=h(g,k),l=0;l<q.length;l++)q[l].rowSpan++;e.appendBogus();d.$.rowSpan=n;e.$.rowSpan=m;1==n&&d.removeAttribute(\"rowSpan\");1==m&&e.removeAttribute(\"rowSpan\");return e}function n(b,c){var d=a(b);if(1<d.length)return!1;if(c)return!0;var d=d[0],e=d.getParent(),f=e.getAscendant(\"table\"),f=CKEDITOR.tools.buildTableMap(f),g=h(f,e.$.rowIndex,d),k=d.$.colSpan;if(1<k)e=Math.ceil(k/2),k=Math.floor(k/2);else{for(var k=e=1,l=[],m=0;m<f.length;m++){var n=f[m];l.push(n[g]);1<n[g].rowSpan&&(m+=n[g].rowSpan-1)}for(f=\n0;f<l.length;f++)l[f].colSpan++}f=d.clone();f.insertAfter(d);f.appendBogus();d.$.colSpan=e;f.$.colSpan=k;1==e&&d.removeAttribute(\"colSpan\");1==k&&f.removeAttribute(\"colSpan\");return f}var q=/^(?:td|th)$/;CKEDITOR.plugins.tabletools={requires:\"table,dialog,contextmenu\",init:function(c){function h(a){return CKEDITOR.tools.extend(a||{},{contextSensitive:1,refresh:function(a,b){this.setState(b.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function q(a,b){var d=c.addCommand(a,\nb);c.addFeature(d)}var r=c.lang.table;q(\"cellProperties\",new CKEDITOR.dialogCommand(\"cellProperties\",h({allowedContent:\"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]\",requiredContent:\"table\",contentTransformations:[[{element:\"td\",left:function(a){return a.styles.background&&a.styles.background.match(/^(#[a-fA-F0-9]{3,6}|rgb\\([\\d, ]+\\)|\\w+)$/)},right:function(a){a.styles[\"background-color\"]=a.styles.background}}]]})));CKEDITOR.dialog.add(\"cellProperties\",\nthis.path+\"dialogs/tableCell.js\");q(\"rowDelete\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();d(b(a))}}));q(\"rowInsertBefore\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();f(a,!0)}}));q(\"rowInsertAfter\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();f(a)}}));q(\"columnDelete\",h({requiredContent:\"table\",exec:function(b){b=b.getSelection();b=a(b);var c=b[0],e=b[b.length-1];b=c.getAscendant(\"table\");for(var f=CKEDITOR.tools.buildTableMap(b),g,h,k=[],l=\n0,m=f.length;l<m;l++)for(var n=0,p=f[l].length;n<p;n++)f[l][n]==c.$&&(g=n),f[l][n]==e.$&&(h=n);for(l=g;l<=h;l++)for(n=0;n<f.length;n++)e=f[n],c=new CKEDITOR.dom.element(b.$.rows[n]),e=new CKEDITOR.dom.element(e[l]),e.$&&(1==e.$.colSpan?e.remove():--e.$.colSpan,n+=e.$.rowSpan-1,c.$.cells.length||k.push(c));h=b.$.rows[0]&&b.$.rows[0].cells;g=new CKEDITOR.dom.element(h[g]||(g?h[g-1]:b.$.parentNode));k.length==m&&b.remove();g&&d(g,!0)}}));q(\"columnInsertBefore\",h({requiredContent:\"table\",exec:function(a){a=\na.getSelection();e(a,!0)}}));q(\"columnInsertAfter\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();e(a)}}));q(\"cellDelete\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();l(a)}}));q(\"cellMerge\",h({allowedContent:\"td[colspan,rowspan]\",requiredContent:\"td[colspan,rowspan]\",exec:function(a){d(k(a.getSelection()),!0)}}));q(\"cellMergeRight\",h({allowedContent:\"td[colspan]\",requiredContent:\"td[colspan]\",exec:function(a){d(k(a.getSelection(),\"right\"),!0)}}));q(\"cellMergeDown\",\nh({allowedContent:\"td[rowspan]\",requiredContent:\"td[rowspan]\",exec:function(a){d(k(a.getSelection(),\"down\"),!0)}}));q(\"cellVerticalSplit\",h({allowedContent:\"td[rowspan]\",requiredContent:\"td[rowspan]\",exec:function(a){d(n(a.getSelection()))}}));q(\"cellHorizontalSplit\",h({allowedContent:\"td[colspan]\",requiredContent:\"td[colspan]\",exec:function(a){d(g(a.getSelection()))}}));q(\"cellInsertBefore\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();m(a,!0)}}));q(\"cellInsertAfter\",h({requiredContent:\"table\",\nexec:function(a){a=a.getSelection();m(a)}}));c.addMenuItems&&c.addMenuItems({tablecell:{label:r.cell.menu,group:\"tablecell\",order:1,getItems:function(){var b=c.getSelection(),d=a(b);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:k(b,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:k(b,\"right\",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:k(b,\n\"down\",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:n(b,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:g(b,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<d.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:r.cell.insertBefore,group:\"tablecell\",command:\"cellInsertBefore\",order:5},tablecell_insertAfter:{label:r.cell.insertAfter,group:\"tablecell\",command:\"cellInsertAfter\",\norder:10},tablecell_delete:{label:r.cell.deleteCell,group:\"tablecell\",command:\"cellDelete\",order:15},tablecell_merge:{label:r.cell.merge,group:\"tablecell\",command:\"cellMerge\",order:16},tablecell_merge_right:{label:r.cell.mergeRight,group:\"tablecell\",command:\"cellMergeRight\",order:17},tablecell_merge_down:{label:r.cell.mergeDown,group:\"tablecell\",command:\"cellMergeDown\",order:18},tablecell_split_horizontal:{label:r.cell.splitHorizontal,group:\"tablecell\",command:\"cellHorizontalSplit\",order:19},tablecell_split_vertical:{label:r.cell.splitVertical,\ngroup:\"tablecell\",command:\"cellVerticalSplit\",order:20},tablecell_properties:{label:r.cell.title,group:\"tablecellproperties\",command:\"cellProperties\",order:21},tablerow:{label:r.row.menu,group:\"tablerow\",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:r.row.insertBefore,group:\"tablerow\",command:\"rowInsertBefore\",order:5},tablerow_insertAfter:{label:r.row.insertAfter,\ngroup:\"tablerow\",command:\"rowInsertAfter\",order:10},tablerow_delete:{label:r.row.deleteRow,group:\"tablerow\",command:\"rowDelete\",order:15},tablecolumn:{label:r.column.menu,group:\"tablecolumn\",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:r.column.insertBefore,group:\"tablecolumn\",command:\"columnInsertBefore\",order:5},tablecolumn_insertAfter:{label:r.column.insertAfter,\ngroup:\"tablecolumn\",command:\"columnInsertAfter\",order:10},tablecolumn_delete:{label:r.column.deleteColumn,group:\"tablecolumn\",command:\"columnDelete\",order:15}});c.contextMenu&&c.contextMenu.addListener(function(a,b,c){return(a=c.contains({td:1,th:1},1))&&!a.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getSelectedCells:a};CKEDITOR.plugins.add(\"tabletools\",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(a){a=\na.$.rows;for(var f=-1,b=[],c=0;c<a.length;c++){f++;!b[f]&&(b[f]=[]);for(var e=-1,m=0;m<a[c].cells.length;m++){var l=a[c].cells[m];for(e++;b[f][e];)e++;for(var d=isNaN(l.colSpan)?1:l.colSpan,l=isNaN(l.rowSpan)?1:l.rowSpan,h=0;h<l;h++){b[f+h]||(b[f+h]=[]);for(var k=0;k<d;k++)b[f+h][e+k]=a[c].cells[m]}e+=d-1}}return b},function(){function a(a){function b(){for(var g=c(),h=CKEDITOR.tools.clone(a.config.toolbarGroups)||f(a),k=0;k<h.length;k++){var m=h[k];if(\"/\"!=m){\"string\"==typeof m&&(m=h[k]={name:m});\nvar v,r=m.groups;if(r)for(var u=0;u<r.length;u++)v=r[u],(v=g[v])&&d(m,v);(v=g[m.name])&&d(m,v)}}return h}function c(){var b={},d,f,g;for(d in a.ui.items)f=a.ui.items[d],g=f.toolbar||\"others\",g=g.split(\",\"),f=g[0],g=parseInt(g[1]||-1,10),b[f]||(b[f]=[]),b[f].push({name:d,order:g});for(f in b)b[f]=b[f].sort(function(a,b){return a.order==b.order?0:0>b.order?-1:0>a.order?1:a.order<b.order?-1:1});return b}function d(b,c){if(c.length){b.items?b.items.push(a.ui.create(\"-\")):b.items=[];for(var d;d=c.shift();)d=\n\"string\"==typeof d?d:d.name,k&&-1!=CKEDITOR.tools.indexOf(k,d)||(d=a.ui.create(d))&&a.addFeature(d)&&b.items.push(d)}}function h(a){var b=[],c,e,f;for(c=0;c<a.length;++c)e=a[c],f={},\"/\"==e?b.push(e):CKEDITOR.tools.isArray(e)?(d(f,CKEDITOR.tools.clone(e)),b.push(f)):e.items&&(d(f,CKEDITOR.tools.clone(e.items)),f.name=e.name,b.push(f));return b}var k=a.config.removeButtons,k=k&&k.split(\",\"),g=a.config.toolbar;\"string\"==typeof g&&(g=a.config[\"toolbar_\"+g]);return a.toolbar=g?h(g):b()}function f(a){return a._.toolbarGroups||\n(a._.toolbarGroups=[{name:\"document\",groups:[\"mode\",\"document\",\"doctools\"]},{name:\"clipboard\",groups:[\"clipboard\",\"undo\"]},{name:\"editing\",groups:[\"find\",\"selection\",\"spellchecker\"]},{name:\"forms\"},\"/\",{name:\"basicstyles\",groups:[\"basicstyles\",\"cleanup\"]},{name:\"paragraph\",groups:[\"list\",\"indent\",\"blocks\",\"align\",\"bidi\"]},{name:\"links\"},{name:\"insert\"},\"/\",{name:\"styles\"},{name:\"colors\"},{name:\"tools\"},{name:\"others\"},{name:\"about\"}])}var b=function(){this.toolbars=[];this.focusCommandExecuted=!1};\nb.prototype.focus=function(){for(var a=0,b;b=this.toolbars[a++];)for(var c=0,d;d=b.items[c++];)if(d.focus){d.focus();return}};var c={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(a){a.toolbox&&(a.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){a.toolbox.focus()},100):a.toolbox.focus())}};CKEDITOR.plugins.add(\"toolbar\",{requires:\"button\",init:function(e){var f,l=function(a,b){var c,g=\"rtl\"==e.lang.dir,n=e.config.toolbarGroupCycling,q=g?37:39,g=g?39:37,\nn=void 0===n||n;switch(b){case 9:case CKEDITOR.SHIFT+9:for(;!c||!c.items.length;)if(c=9==b?(c?c.next:a.toolbar.next)||e.toolbox.toolbars[0]:(c?c.previous:a.toolbar.previous)||e.toolbox.toolbars[e.toolbox.toolbars.length-1],c.items.length)for(a=c.items[f?c.items.length-1:0];a&&!a.focus;)(a=f?a.previous:a.next)||(c=0);a&&a.focus();return!1;case q:c=a;do c=c.next,!c&&n&&(c=a.toolbar.items[0]);while(c&&!c.focus);c?c.focus():l(a,9);return!1;case 40:return a.button&&a.button.hasArrow?(e.once(\"panelShow\",\nfunction(a){a.data._.panel._.currentBlock.onKeyDown(40)}),a.execute()):l(a,40==b?q:g),!1;case g:case 38:c=a;do c=c.previous,!c&&n&&(c=a.toolbar.items[a.toolbar.items.length-1]);while(c&&!c.focus);c?c.focus():(f=1,l(a,CKEDITOR.SHIFT+9),f=0);return!1;case 27:return e.focus(),!1;case 13:case 32:return a.execute(),!1}return!0};e.on(\"uiSpace\",function(c){if(c.data.space==e.config.toolbarLocation){c.removeListener();e.toolbox=new b;var f=CKEDITOR.tools.getNextId(),k=['\\x3cspan id\\x3d\"',f,'\" class\\x3d\"cke_voice_label\"\\x3e',\ne.lang.toolbar.toolbars,\"\\x3c/span\\x3e\",'\\x3cspan id\\x3d\"'+e.ui.spaceId(\"toolbox\")+'\" class\\x3d\"cke_toolbox\" role\\x3d\"group\" aria-labelledby\\x3d\"',f,'\" onmousedown\\x3d\"return false;\"\\x3e'],f=!1!==e.config.toolbarStartupExpanded,g,m;e.config.toolbarCanCollapse&&e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&k.push('\\x3cspan class\\x3d\"cke_toolbox_main\"'+(f?\"\\x3e\":' style\\x3d\"display:none\"\\x3e'));for(var q=e.toolbox.toolbars,p=a(e),t=p.length,v=0;v<t;v++){var r,u=0,B,x=p[v],w=\"/\"!==x&&(\"/\"===p[v+1]||v==\nt-1),z;if(x)if(g&&(k.push(\"\\x3c/span\\x3e\"),m=g=0),\"/\"===x)k.push('\\x3cspan class\\x3d\"cke_toolbar_break\"\\x3e\\x3c/span\\x3e');else{z=x.items||x;for(var D=0;D<z.length;D++){var y=z[D],A;if(y){var C=function(a){a=a.render(e,k);F=u.items.push(a)-1;0<F&&(a.previous=u.items[F-1],a.previous.next=a);a.toolbar=u;a.onkey=l;a.onfocus=function(){e.toolbox.focusCommandExecuted||e.focus()}};if(y.type==CKEDITOR.UI_SEPARATOR)m=g&&y;else{A=!1!==y.canGroup;if(!u){r=CKEDITOR.tools.getNextId();u={id:r,items:[]};B=x.name&&\n(e.lang.toolbar.toolbarGroups[x.name]||x.name);k.push('\\x3cspan id\\x3d\"',r,'\" class\\x3d\"cke_toolbar'+(w?' cke_toolbar_last\"':'\"'),B?' aria-labelledby\\x3d\"'+r+'_label\"':\"\",' role\\x3d\"toolbar\"\\x3e');B&&k.push('\\x3cspan id\\x3d\"',r,'_label\" class\\x3d\"cke_voice_label\"\\x3e',B,\"\\x3c/span\\x3e\");k.push('\\x3cspan class\\x3d\"cke_toolbar_start\"\\x3e\\x3c/span\\x3e');var F=q.push(u)-1;0<F&&(u.previous=q[F-1],u.previous.next=u)}A?g||(k.push('\\x3cspan class\\x3d\"cke_toolgroup\" role\\x3d\"presentation\"\\x3e'),g=1):g&&(k.push(\"\\x3c/span\\x3e\"),\ng=0);m&&(C(m),m=0);C(y)}}}g&&(k.push(\"\\x3c/span\\x3e\"),m=g=0);u&&k.push('\\x3cspan class\\x3d\"cke_toolbar_end\"\\x3e\\x3c/span\\x3e\\x3c/span\\x3e')}}e.config.toolbarCanCollapse&&k.push(\"\\x3c/span\\x3e\");if(e.config.toolbarCanCollapse&&e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var E=CKEDITOR.tools.addFunction(function(){e.execCommand(\"toolbarCollapse\")});e.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(E)});e.addCommand(\"toolbarCollapse\",{readOnly:1,exec:function(a){var b=a.ui.space(\"toolbar_collapser\"),\nc=b.getPrevious(),d=a.ui.space(\"contents\"),e=c.getParent(),f=parseInt(d.$.style.height,10),g=e.$.offsetHeight,h=b.hasClass(\"cke_toolbox_collapser_min\");h?(c.show(),b.removeClass(\"cke_toolbox_collapser_min\"),b.setAttribute(\"title\",a.lang.toolbar.toolbarCollapse)):(c.hide(),b.addClass(\"cke_toolbox_collapser_min\"),b.setAttribute(\"title\",a.lang.toolbar.toolbarExpand));b.getFirst().setText(h?\"▲\":\"◀\");d.setStyle(\"height\",f-(e.$.offsetHeight-g)+\"px\");a.fire(\"resize\",{outerHeight:a.container.$.offsetHeight,\ncontentsHeight:d.$.offsetHeight,outerWidth:a.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}});e.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),\"toolbarCollapse\");k.push('\\x3ca title\\x3d\"'+(f?e.lang.toolbar.toolbarCollapse:e.lang.toolbar.toolbarExpand)+'\" id\\x3d\"'+e.ui.spaceId(\"toolbar_collapser\")+'\" tabIndex\\x3d\"-1\" class\\x3d\"cke_toolbox_collapser');f||k.push(\" cke_toolbox_collapser_min\");k.push('\" onclick\\x3d\"CKEDITOR.tools.callFunction('+E+')\"\\x3e','\\x3cspan class\\x3d\"cke_arrow\"\\x3e\\x26#9650;\\x3c/span\\x3e',\n\"\\x3c/a\\x3e\")}k.push(\"\\x3c/span\\x3e\");c.data.html+=k.join(\"\")}});e.on(\"destroy\",function(){if(this.toolbox){var a,b=0,c,e,f;for(a=this.toolbox.toolbars;b<a.length;b++)for(e=a[b].items,c=0;c<e.length;c++)f=e[c],f.clickFn&&CKEDITOR.tools.removeFunction(f.clickFn),f.keyDownFn&&CKEDITOR.tools.removeFunction(f.keyDownFn)}});e.on(\"uiReady\",function(){var a=e.ui.space(\"toolbox\");a&&e.focusManager.add(a,1)});e.addCommand(\"toolbarFocus\",c);e.setKeystroke(CKEDITOR.ALT+121,\"toolbarFocus\");e.ui.add(\"-\",CKEDITOR.UI_SEPARATOR,\n{});e.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(a,b){b.push('\\x3cspan class\\x3d\"cke_toolbar_separator\" role\\x3d\"separator\"\\x3e\\x3c/span\\x3e');return{}}}}})}});CKEDITOR.ui.prototype.addToolbarGroup=function(a,b,c){var d=f(this.editor),h=0===b,k={name:a};if(c){if(c=CKEDITOR.tools.search(d,function(a){return a.name==c})){!c.groups&&(c.groups=[]);if(b&&(b=CKEDITOR.tools.indexOf(c.groups,b),0<=b)){c.groups.splice(b+1,0,a);return}h?c.groups.splice(0,0,a):c.groups.push(a);\nreturn}b=null}b&&(b=CKEDITOR.tools.indexOf(d,function(a){return a.name==b}));h?d.splice(0,0,a):\"number\"==typeof b?d.splice(b+1,0,k):d.push(a)}}(),CKEDITOR.UI_SEPARATOR=\"separator\",CKEDITOR.config.toolbarLocation=\"top\",\"use strict\",function(){var a=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],f={8:1,46:1};CKEDITOR.plugins.add(\"undo\",{init:function(c){function e(a){g.enabled&&!1!==a.data.command.canUndo&&g.save()}function f(){g.enabled=c.readOnly?!1:\"wysiwyg\"==c.mode;g.onChange()}\nvar g=c.undoManager=new b(c),l=g.editingHandler=new m(g),q=c.addCommand(\"undo\",{exec:function(){g.undo()&&(c.selectionChange(),this.fire(\"afterUndo\"))},startDisabled:!0,canUndo:!1}),p=c.addCommand(\"redo\",{exec:function(){g.redo()&&(c.selectionChange(),this.fire(\"afterRedo\"))},startDisabled:!0,canUndo:!1});c.setKeystroke([[a[0],\"undo\"],[a[1],\"redo\"],[a[2],\"redo\"]]);g.onChange=function(){q.setState(g.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);p.setState(g.redoable()?CKEDITOR.TRISTATE_OFF:\nCKEDITOR.TRISTATE_DISABLED)};c.on(\"beforeCommandExec\",e);c.on(\"afterCommandExec\",e);c.on(\"saveSnapshot\",function(a){g.save(a.data&&a.data.contentOnly)});c.on(\"contentDom\",l.attachListeners,l);c.on(\"instanceReady\",function(){c.fire(\"saveSnapshot\")});c.on(\"beforeModeUnload\",function(){\"wysiwyg\"==c.mode&&g.save(!0)});c.on(\"mode\",f);c.on(\"readOnly\",f);c.ui.addButton&&(c.ui.addButton(\"Undo\",{label:c.lang.undo.undo,command:\"undo\",toolbar:\"undo,10\"}),c.ui.addButton(\"Redo\",{label:c.lang.undo.redo,command:\"redo\",\ntoolbar:\"undo,20\"}));c.resetUndo=function(){g.reset();c.fire(\"saveSnapshot\")};c.on(\"updateSnapshot\",function(){g.currentImage&&g.update()});c.on(\"lockSnapshot\",function(a){a=a.data;g.lock(a&&a.dontUpdate,a&&a.forceUpdate)});c.on(\"unlockSnapshot\",g.unlock,g)}});CKEDITOR.plugins.undo={};var b=CKEDITOR.plugins.undo.UndoManager=function(a){this.strokesRecorded=[0,0];this.locked=null;this.previousKeyGroup=-1;this.limit=a.config.undoStackSize||20;this.strokesLimit=25;this.editor=a;this.reset()};b.prototype=\n{type:function(a,c){var e=b.getKeyGroup(a),f=this.strokesRecorded[e]+1;c=c||f>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange());c?(f=0,this.editor.fire(\"saveSnapshot\")):this.editor.fire(\"change\");this.strokesRecorded[e]=f;this.previousKeyGroup=e},keyGroupChanged:function(a){return b.getKeyGroup(a)!=this.previousKeyGroup},reset:function(){this.snapshots=[];this.index=-1;this.currentImage=null;this.hasRedo=this.hasUndo=!1;this.locked=null;this.resetType()},\nresetType:function(){this.strokesRecorded=[0,0];this.typing=!1;this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0);this.hasRedo=!!this.getNextImage(!1);this.resetType();this.onChange()},save:function(a,b,e){var f=this.editor;if(this.locked||\"ready\"!=f.status||\"wysiwyg\"!=f.mode)return!1;var l=f.editable();if(!l||\"ready\"!=l.status)return!1;l=this.snapshots;b||(b=new c(f));if(!1===b.contents)return!1;if(this.currentImage)if(b.equalsContent(this.currentImage)){if(a||\nb.equalsSelection(this.currentImage))return!1}else!1!==e&&f.fire(\"change\");l.splice(this.index+1,l.length-this.index-1);l.length==this.limit&&l.shift();this.index=l.push(b)-1;this.currentImage=b;!1!==e&&this.refreshState();return!0},restoreImage:function(a){var b=this.editor,c;a.bookmarks&&(b.focus(),c=b.getSelection());this.locked={level:999};this.editor.loadSnapshot(a.contents);a.bookmarks?c.selectBookmarks(a.bookmarks):CKEDITOR.env.ie&&(c=this.editor.document.getBody().$.createTextRange(),c.collapse(!0),\nc.select());this.locked=null;this.index=a.index;this.currentImage=this.snapshots[this.index];this.update();this.refreshState();b.fire(\"change\")},getNextImage:function(a){var b=this.snapshots,c=this.currentImage,e;if(c)if(a)for(e=this.index-1;0<=e;e--){if(a=b[e],!c.equalsContent(a))return a.index=e,a}else for(e=this.index+1;e<b.length;e++)if(a=b[e],!c.equalsContent(a))return a.index=e,a;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},\nundo:function(){if(this.undoable()){this.save(!0);var a=this.getNextImage(!0);if(a)return this.restoreImage(a),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var a=this.getNextImage(!1);if(a)return this.restoreImage(a),!0}return!1},update:function(a){if(!this.locked){a||(a=new c(this.editor));for(var b=this.index,e=this.snapshots;0<b&&this.currentImage.equalsContent(e[b-1]);)--b;e.splice(b,this.index-b+1,a);this.index=b;this.currentImage=a}},updateSelection:function(a){if(!this.snapshots.length)return!1;\nvar b=this.snapshots,c=b[b.length-1];return c.equalsContent(a)&&!c.equalsSelection(a)?(this.currentImage=b[b.length-1]=a,!0):!1},lock:function(a,b){if(this.locked)this.locked.level++;else if(a)this.locked={level:1};else{var e=null;if(b)e=!0;else{var f=new c(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(f)&&(e=f)}this.locked={update:e,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var a=this.locked.update;this.locked=null;if(!0===a)this.update();else if(a){var b=\nnew c(this.editor,!0);a.equalsContent(b)||this.update()}}}};b.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1};b.keyGroups={PRINTABLE:0,FUNCTIONAL:1};b.isNavigationKey=function(a){return!!b.navigationKeyCodes[a]};b.getKeyGroup=function(a){var c=b.keyGroups;return f[a]?c.FUNCTIONAL:c.PRINTABLE};b.getOppositeKeyGroup=function(a){var c=b.keyGroups;return a==c.FUNCTIONAL?c.PRINTABLE:c.FUNCTIONAL};b.ieFunctionalKeysBug=function(a){return CKEDITOR.env.ie&&b.getKeyGroup(a)==b.keyGroups.FUNCTIONAL};\nvar c=CKEDITOR.plugins.undo.Image=function(a,b){this.editor=a;a.fire(\"beforeUndoImage\");var c=a.getSnapshot();CKEDITOR.env.ie&&c&&(c=c.replace(/\\s+data-cke-expando=\".*?\"/g,\"\"));this.contents=c;b||(this.bookmarks=(c=c&&a.getSelection())&&c.createBookmarks2(!0));a.fire(\"afterUndoImage\")},e=/\\b(?:href|src|name)=\"[^\"]*?\"/gi;c.prototype={equalsContent:function(a){var b=this.contents;a=a.contents;CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(b=b.replace(e,\"\"),a=a.replace(e,\"\"));return b!=\na?!1:!0},equalsSelection:function(a){var b=this.bookmarks;a=a.bookmarks;if(b||a){if(!b||!a||b.length!=a.length)return!1;for(var c=0;c<b.length;c++){var e=b[c],f=a[c];if(e.startOffset!=f.startOffset||e.endOffset!=f.endOffset||!CKEDITOR.tools.arrayCompare(e.start,f.start)||!CKEDITOR.tools.arrayCompare(e.end,f.end))return!1}}return!0}};var m=CKEDITOR.plugins.undo.NativeEditingHandler=function(a){this.undoManager=a;this.ignoreInputEvent=!1;this.keyEventsStack=new l;this.lastKeydownImage=null};m.prototype=\n{onKeydown:function(d){var e=d.data.getKey();if(229!==e)if(-1<CKEDITOR.tools.indexOf(a,d.data.getKeystroke()))d.data.preventDefault();else if(this.keyEventsStack.cleanUp(d),d=this.undoManager,this.keyEventsStack.getLast(e)||this.keyEventsStack.push(e),this.lastKeydownImage=new c(d.editor),b.isNavigationKey(e)||this.undoManager.keyGroupChanged(e))if(d.strokesRecorded[0]||d.strokesRecorded[1])d.save(!1,this.lastKeydownImage,!1),d.resetType()},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=\n!1;else{var a=this.keyEventsStack.getLast();a||(a=this.keyEventsStack.push(0));this.keyEventsStack.increment(a.keyCode);this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(a.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(a){var e=this.undoManager;a=a.data.getKey();var f=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(a);if(!(b.ieFunctionalKeysBug(a)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new c(e.editor,\n!0))))if(0<f)e.type(a);else if(b.isNavigationKey(a))this.onNavigationKey(!0)},onNavigationKey:function(a){var b=this.undoManager;!a&&b.save(!0,null,!1)||b.updateSelection(new c(b.editor));b.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},attachListeners:function(){var a=this.undoManager.editor,c=a.editable(),e=this;c.attachListener(c,\"keydown\",function(a){e.onKeydown(a);if(b.ieFunctionalKeysBug(a.data.getKey()))e.onInput()},null,null,999);c.attachListener(c,CKEDITOR.env.ie?\n\"keypress\":\"input\",e.onInput,e,null,999);c.attachListener(c,\"keyup\",e.onKeyup,e,null,999);c.attachListener(c,\"paste\",e.ignoreInputEventListener,e,null,999);c.attachListener(c,\"drop\",e.ignoreInputEventListener,e,null,999);c.attachListener(c.isInline()?c:a.document.getDocumentElement(),\"click\",function(){e.onNavigationKey()},null,null,999);c.attachListener(this.undoManager.editor,\"blur\",function(){e.keyEventsStack.remove(9)},null,null,999)}};var l=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=\n[]};l.prototype={push:function(a){a=this.stack.push({keyCode:a,inputs:0});return this.stack[a-1]},getLastIndex:function(a){if(\"number\"!=typeof a)return this.stack.length-1;for(var b=this.stack.length;b--;)if(this.stack[b].keyCode==a)return b;return-1},getLast:function(a){a=this.getLastIndex(a);return-1!=a?this.stack[a]:null},increment:function(a){this.getLast(a).inputs++},remove:function(a){a=this.getLastIndex(a);-1!=a&&this.stack.splice(a,1)},resetInputs:function(a){if(\"number\"==typeof a)this.getLast(a).inputs=\n0;else for(a=this.stack.length;a--;)this.stack[a].inputs=0},getTotalInputs:function(){for(var a=this.stack.length,b=0;a--;)b+=this.stack[a].inputs;return b},cleanUp:function(a){a=a.data.$;a.ctrlKey||a.metaKey||this.remove(17);a.shiftKey||this.remove(16);a.altKey||this.remove(18)}}}(),CKEDITOR.plugins.add(\"wsc\",{requires:\"dialog\",parseApi:function(a){a.config.wsc_onFinish=\"function\"===typeof a.config.wsc_onFinish?a.config.wsc_onFinish:function(){};a.config.wsc_onClose=\"function\"===typeof a.config.wsc_onClose?\na.config.wsc_onClose:function(){}},parseConfig:function(a){a.config.wsc_customerId=a.config.wsc_customerId||CKEDITOR.config.wsc_customerId||\"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk\";a.config.wsc_customDictionaryIds=a.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||\"\";a.config.wsc_userDictionaryName=a.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||\"\";a.config.wsc_customLoaderScript=a.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript;\na.config.wsc_interfaceLang=a.config.wsc_interfaceLang;CKEDITOR.config.wsc_cmd=a.config.wsc_cmd||CKEDITOR.config.wsc_cmd||\"spell\";CKEDITOR.config.wsc_version=\"v4.3.0-master-d769233\";CKEDITOR.config.wsc_removeGlobalVariable=!0},onLoad:function(a){\"moono-lisa\"==(CKEDITOR.skinName||a.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+\"skins/\"+CKEDITOR.skin.name+\"/wsc.css\")},init:function(a){var f=CKEDITOR.env;this.parseConfig(a);this.parseApi(a);a.addCommand(\"checkspell\",new CKEDITOR.dialogCommand(\"checkspell\")).modes=\n{wysiwyg:!CKEDITOR.env.opera&&!CKEDITOR.env.air&&document.domain==window.location.hostname&&!(f.ie&&(8>f.version||f.quirks))};\"undefined\"==typeof a.plugins.scayt&&a.ui.addButton&&a.ui.addButton(\"SpellChecker\",{label:a.lang.wsc.toolbar,click:function(a){var c=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText();(c=c.replace(/\\s/g,\"\"))?a.execCommand(\"checkspell\"):alert(\"Nothing to check!\")},toolbar:\"spellchecker,10\"});CKEDITOR.dialog.add(\"checkspell\",this.path+\n(CKEDITOR.env.ie&&7>=CKEDITOR.env.version?\"dialogs/wsc_ie.js\":window.postMessage?\"dialogs/wsc.js\":\"dialogs/wsc_ie.js\"))}}),function(){function a(a){function b(a){var c=!1;g.attachListener(g,\"keydown\",function(){var b=d.getBody().getElementsByTag(a);if(!c){for(var e=0;e<b.count();e++)b.getItem(e).setCustomData(\"retain\",!0);c=!0}},null,null,1);g.attachListener(g,\"keyup\",function(){var b=d.getElementsByTag(a);c&&(1!=b.count()||b.getItem(0).getCustomData(\"retain\")||b.getItem(0).hasAttribute(\"data-cke-temp\")||\nb.getItem(0).remove(1),c=!1)})}var c=this.editor,d=a.document,h=d.body,k=d.getElementById(\"cke_actscrpt\");k&&k.parentNode.removeChild(k);(k=d.getElementById(\"cke_shimscrpt\"))&&k.parentNode.removeChild(k);(k=d.getElementById(\"cke_basetagscrpt\"))&&k.parentNode.removeChild(k);h.contentEditable=!0;CKEDITOR.env.ie&&(h.hideFocus=!0,h.disabled=!0,h.removeAttribute(\"disabled\"));delete this._.isLoadingData;this.$=h;d=new CKEDITOR.dom.document(d);this.setup();this.fixInitialSelection();var g=this;CKEDITOR.env.ie&&\n!CKEDITOR.env.edge&&d.getDocumentElement().addClass(d.$.compatMode);CKEDITOR.env.ie&&!CKEDITOR.env.edge&&c.enterMode!=CKEDITOR.ENTER_P?b(\"p\"):CKEDITOR.env.edge&&c.enterMode!=CKEDITOR.ENTER_DIV&&b(\"div\");if(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)d.getDocumentElement().on(\"mousedown\",function(a){a.data.getTarget().is(\"html\")&&setTimeout(function(){c.editable().focus()})});f(c);try{c.document.$.execCommand(\"2D-position\",!1,!0)}catch(n){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&\"CSS1Compat\"==\nc.document.$.compatMode)&&this.attachListener(this,\"keydown\",function(a){var b=a.data.getKeystroke();if(33==b||34==b)if(CKEDITOR.env.ie)setTimeout(function(){c.getSelection().scrollIntoView()},0);else if(c.window.$.innerHeight>this.$.offsetHeight){var d=c.createRange();d[33==b?\"moveToElementEditStart\":\"moveToElementEditEnd\"](this);d.select();a.data.preventDefault()}});CKEDITOR.env.ie&&this.attachListener(d,\"blur\",function(){try{d.$.selection.empty()}catch(a){}});CKEDITOR.env.iOS&&this.attachListener(d,\n\"touchend\",function(){a.focus()});h=c.document.getElementsByTag(\"title\").getItem(0);h.data(\"cke-title\",h.getText());CKEDITOR.env.ie&&(c.document.$.title=this._.docTitle);CKEDITOR.tools.setTimeout(function(){\"unloaded\"==this.status&&(this.status=\"ready\");c.fire(\"contentDom\");this._.isPendingFocus&&(c.focus(),this._.isPendingFocus=!1);setTimeout(function(){c.fire(\"dataReady\")},0)},0,this)}function f(a){function b(){var d;a.editable().attachListener(a,\"selectionChange\",function(){var b=a.getSelection().getSelectedElement();\nb&&(d&&(d.detachEvent(\"onresizestart\",c),d=null),b.$.attachEvent(\"onresizestart\",c),d=b.$)})}function c(a){a.returnValue=!1}if(CKEDITOR.env.gecko)try{var d=a.document.$;d.execCommand(\"enableObjectResizing\",!1,!a.config.disableObjectResizing);d.execCommand(\"enableInlineTableEditing\",!1,!a.config.disableNativeTableHandles)}catch(f){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&a.config.disableObjectResizing&&b(a)}function b(){var a=[];if(8<=CKEDITOR.document.$.documentMode){a.push(\"html.CSS1Compat [contenteditable\\x3dfalse]{min-height:0 !important}\");\nvar b=[],c;for(c in CKEDITOR.dtd.$removeEmpty)b.push(\"html.CSS1Compat \"+c+\"[contenteditable\\x3dfalse]\");a.push(b.join(\",\")+\"{display:inline-block}\")}else CKEDITOR.env.gecko&&(a.push(\"html{height:100% !important}\"),a.push(\"img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}\"));a.push(\"html{cursor:text;*cursor:auto}\");a.push(\"img,input,textarea{cursor:default}\");return a.join(\"\\n\")}var c;CKEDITOR.plugins.add(\"wysiwygarea\",{init:function(a){a.config.fullPage&&a.addFeature({allowedContent:\"html head title; style [media,type]; body (*)[id]; meta link [*]\",\nrequiredContent:\"body\"});a.addMode(\"wysiwyg\",function(b){function f(d){d&&d.removeListener();a.editable(new c(a,h.$.contentWindow.document.body));a.setData(a.getData(1),b)}var d=\"document.open();\"+(CKEDITOR.env.ie?\"(\"+CKEDITOR.tools.fixDomain+\")();\":\"\")+\"document.close();\",d=CKEDITOR.env.air?\"javascript:void(0)\":CKEDITOR.env.ie&&!CKEDITOR.env.edge?\"javascript:void(function(){\"+encodeURIComponent(d)+\"}())\":\"\",h=CKEDITOR.dom.element.createFromHtml('\\x3ciframe src\\x3d\"'+d+'\" frameBorder\\x3d\"0\"\\x3e\\x3c/iframe\\x3e');\nh.setStyles({width:\"100%\",height:\"100%\"});h.addClass(\"cke_wysiwyg_frame\").addClass(\"cke_reset\");d=a.ui.space(\"contents\");d.append(h);var k=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;if(k)h.on(\"load\",f);var g=a.title,n=a.fire(\"ariaEditorHelpLabel\",{}).label;g&&(CKEDITOR.env.ie&&n&&(g+=\", \"+n),h.setAttribute(\"title\",g));if(n){var g=CKEDITOR.tools.getNextId(),q=CKEDITOR.dom.element.createFromHtml('\\x3cspan id\\x3d\"'+g+'\" class\\x3d\"cke_voice_label\"\\x3e'+n+\"\\x3c/span\\x3e\");d.append(q,1);h.setAttribute(\"aria-describedby\",\ng)}a.on(\"beforeModeUnload\",function(a){a.removeListener();q&&q.remove()});h.setAttributes({tabIndex:a.tabIndex,allowTransparency:\"true\"});!k&&f();a.fire(\"ariaWidget\",h)})}});CKEDITOR.editor.prototype.addContentsCss=function(a){var b=this.config,c=b.contentsCss;CKEDITOR.tools.isArray(c)||(b.contentsCss=c?[c]:[]);b.contentsCss.push(a)};c=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments);this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(b){CKEDITOR.tools.setTimeout(a,\n0,this,b)},this);this._.docTitle=this.getWindow().getFrame().getAttribute(\"title\")},base:CKEDITOR.editable,proto:{setData:function(a,c){var f=this.editor;if(c)this.setHtml(a),this.fixInitialSelection(),f.fire(\"dataReady\");else{this._.isLoadingData=!0;f._.dataStore={id:1};var d=f.config,h=d.fullPage,k=d.docType,g=CKEDITOR.tools.buildStyleHtml(b()).replace(/<style>/,'\\x3cstyle data-cke-temp\\x3d\"1\"\\x3e');h||(g+=CKEDITOR.tools.buildStyleHtml(f.config.contentsCss));var n=d.baseHref?'\\x3cbase href\\x3d\"'+\nd.baseHref+'\" data-cke-temp\\x3d\"1\" /\\x3e':\"\";h&&(a=a.replace(/<!DOCTYPE[^>]*>/i,function(a){f.docType=k=a;return\"\"}).replace(/<\\?xml\\s[^\\?]*\\?>/i,function(a){f.xmlDeclaration=a;return\"\"}));a=f.dataProcessor.toHtml(a);h?(/<body[\\s|>]/.test(a)||(a=\"\\x3cbody\\x3e\"+a),/<html[\\s|>]/.test(a)||(a=\"\\x3chtml\\x3e\"+a+\"\\x3c/html\\x3e\"),/<head[\\s|>]/.test(a)?/<title[\\s|>]/.test(a)||(a=a.replace(/<head[^>]*>/,\"$\\x26\\x3ctitle\\x3e\\x3c/title\\x3e\")):a=a.replace(/<html[^>]*>/,\"$\\x26\\x3chead\\x3e\\x3ctitle\\x3e\\x3c/title\\x3e\\x3c/head\\x3e\"),\nn&&(a=a.replace(/<head[^>]*?>/,\"$\\x26\"+n)),a=a.replace(/<\\/head\\s*>/,g+\"$\\x26\"),a=k+a):a=d.docType+'\\x3chtml dir\\x3d\"'+d.contentsLangDirection+'\" lang\\x3d\"'+(d.contentsLanguage||f.langCode)+'\"\\x3e\\x3chead\\x3e\\x3ctitle\\x3e'+this._.docTitle+\"\\x3c/title\\x3e\"+n+g+\"\\x3c/head\\x3e\\x3cbody\"+(d.bodyId?' id\\x3d\"'+d.bodyId+'\"':\"\")+(d.bodyClass?' class\\x3d\"'+d.bodyClass+'\"':\"\")+\"\\x3e\"+a+\"\\x3c/body\\x3e\\x3c/html\\x3e\";CKEDITOR.env.gecko&&(a=a.replace(/<body/,'\\x3cbody contenteditable\\x3d\"true\" '),2E4>CKEDITOR.env.version&&\n(a=a.replace(/<body[^>]*>/,\"$\\x26\\x3c!-- cke-content-start --\\x3e\")));d='\\x3cscript id\\x3d\"cke_actscrpt\" type\\x3d\"text/javascript\"'+(CKEDITOR.env.ie?' defer\\x3d\"defer\" ':\"\")+\"\\x3evar wasLoaded\\x3d0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction(\"+this._.frameLoadedHandler+\",window);wasLoaded\\x3d1;}\"+(CKEDITOR.env.ie?\"onload();\":'document.addEventListener(\"DOMContentLoaded\", onload, false );')+\"\\x3c/script\\x3e\";CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(d+='\\x3cscript id\\x3d\"cke_shimscrpt\"\\x3ewindow.parent.CKEDITOR.tools.enableHtml5Elements(document)\\x3c/script\\x3e');\nn&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(d+='\\x3cscript id\\x3d\"cke_basetagscrpt\"\\x3evar baseTag \\x3d document.querySelector( \"base\" );baseTag.href \\x3d baseTag.href;\\x3c/script\\x3e');a=a.replace(/(?=\\s*<\\/(:?head)>)/,d);this.clearCustomData();this.clearListeners();f.fire(\"contentDomUnload\");var q=this.getDocument();try{q.write(a)}catch(p){setTimeout(function(){q.write(a)},0)}}},getData:function(a){if(a)return this.getHtml();a=this.editor;var b=a.config,c=b.fullPage,d=c&&a.docType,f=c&&a.xmlDeclaration,\nk=this.getDocument(),c=c?k.getDocumentElement().getOuterHtml():k.getBody().getHtml();CKEDITOR.env.gecko&&b.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/<br>(?=\\s*(:?$|<\\/body>))/,\"\"));c=a.dataProcessor.toDataFormat(c);f&&(c=f+\"\\n\"+c);d&&(c=d+\"\\n\"+c);return c},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:c.baseProto.focus.call(this)},detach:function(){var a=this.editor,b=a.document,f;try{f=a.window.getFrame()}catch(d){}c.baseProto.detach.call(this);this.clearCustomData();b.getDocumentElement().clearCustomData();\nCKEDITOR.tools.removeFunction(this._.frameLoadedHandler);f&&f.getParent()?(f.clearCustomData(),(a=f.removeCustomData(\"onResize\"))&&a.removeListener(),f.remove()):CKEDITOR.warn(\"editor-destroy-iframe\")}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.plugins=\"dialogui,dialog,a11yhelp,about,basicstyles,blockquote,clipboard,panel,floatpanel,menu,contextmenu,elementspath,indent,indentlist,list,enterkey,entities,popup,filebrowser,floatingspace,listblock,button,richcombo,format,horizontalrule,htmlwriter,image,fakeobjects,link,magicline,maximize,pastefromword,pastetext,removeformat,resize,menubutton,scayt,showborders,sourcearea,specialchar,stylescombo,tab,table,tabletools,toolbar,undo,wsc,wysiwygarea\",\nCKEDITOR.config.skin=\"moono-lisa\",function(){var a=function(a,b){var c=CKEDITOR.getUrl(\"plugins/\"+b);a=a.split(\",\");for(var e=0;e<a.length;e++)CKEDITOR.skin.icons[a[e]]={path:c,offset:-a[++e],bgsize:a[++e]}};CKEDITOR.env.hidpi?a(\"about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,copyformatting,456,,creatediv,480,,docprops-rtl,504,,docprops,528,,embed,552,,embedsemantic,576,,find-rtl,600,,find,624,,replace,648,,flash,672,,button,696,,checkbox,720,,form,744,,hiddenfield,768,,imagebutton,792,,radio,816,,select-rtl,840,,select,864,,textarea-rtl,888,,textarea,912,,textfield-rtl,936,,textfield,960,,horizontalrule,984,,iframe,1008,,image,1032,,indent-rtl,1056,,indent,1080,,outdent-rtl,1104,,outdent,1128,,justifyblock,1152,,justifycenter,1176,,justifyleft,1200,,justifyright,1224,,language,1248,,anchor-rtl,1272,,anchor,1296,,link,1320,,unlink,1344,,bulletedlist-rtl,1368,,bulletedlist,1392,,numberedlist-rtl,1416,,numberedlist,1440,,mathjax,1464,,maximize,1488,,newpage-rtl,1512,,newpage,1536,,pagebreak-rtl,1560,,pagebreak,1584,,pastefromword-rtl,1608,,pastefromword,1632,,pastetext-rtl,1656,,pastetext,1680,,placeholder,1704,,preview-rtl,1728,,preview,1752,,print,1776,,removeformat,1800,,save,1824,,scayt,1848,,selectall,1872,,showblocks-rtl,1896,,showblocks,1920,,smiley,1944,,source-rtl,1968,,source,1992,,sourcedialog-rtl,2016,,sourcedialog,2040,,specialchar,2064,,table,2088,,templates-rtl,2112,,templates,2136,,uicolor,2160,,redo-rtl,2184,,redo,2208,,undo-rtl,2232,,undo,2256,,simplebox,4560,auto,spellchecker,2304,\",\n\"icons_hidpi.png\"):a(\"about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,copyformatting,456,auto,creatediv,480,auto,docprops-rtl,504,auto,docprops,528,auto,embed,552,auto,embedsemantic,576,auto,find-rtl,600,auto,find,624,auto,replace,648,auto,flash,672,auto,button,696,auto,checkbox,720,auto,form,744,auto,hiddenfield,768,auto,imagebutton,792,auto,radio,816,auto,select-rtl,840,auto,select,864,auto,textarea-rtl,888,auto,textarea,912,auto,textfield-rtl,936,auto,textfield,960,auto,horizontalrule,984,auto,iframe,1008,auto,image,1032,auto,indent-rtl,1056,auto,indent,1080,auto,outdent-rtl,1104,auto,outdent,1128,auto,justifyblock,1152,auto,justifycenter,1176,auto,justifyleft,1200,auto,justifyright,1224,auto,language,1248,auto,anchor-rtl,1272,auto,anchor,1296,auto,link,1320,auto,unlink,1344,auto,bulletedlist-rtl,1368,auto,bulletedlist,1392,auto,numberedlist-rtl,1416,auto,numberedlist,1440,auto,mathjax,1464,auto,maximize,1488,auto,newpage-rtl,1512,auto,newpage,1536,auto,pagebreak-rtl,1560,auto,pagebreak,1584,auto,pastefromword-rtl,1608,auto,pastefromword,1632,auto,pastetext-rtl,1656,auto,pastetext,1680,auto,placeholder,1704,auto,preview-rtl,1728,auto,preview,1752,auto,print,1776,auto,removeformat,1800,auto,save,1824,auto,scayt,1848,auto,selectall,1872,auto,showblocks-rtl,1896,auto,showblocks,1920,auto,smiley,1944,auto,source-rtl,1968,auto,source,1992,auto,sourcedialog-rtl,2016,auto,sourcedialog,2040,auto,specialchar,2064,auto,table,2088,auto,templates-rtl,2112,auto,templates,2136,auto,uicolor,2160,auto,redo-rtl,2184,auto,redo,2208,auto,undo-rtl,2232,auto,undo,2256,auto,simplebox,2280,auto,spellchecker,2304,auto\",\n\"icons.png\")}())})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzYzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9ja2VkaXRvci9ja2VkaXRvci5qcz83Mjk0Il0sInNvdXJjZXNDb250ZW50IjpbIu+7vy8qXG5Db3B5cmlnaHQgKGMpIDIwMDMtMjAxNiwgQ0tTb3VyY2UgLSBGcmVkZXJpY28gS25hYmJlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbkZvciBsaWNlbnNpbmcsIHNlZSBMSUNFTlNFLm1kIG9yIGh0dHA6Ly9ja2VkaXRvci5jb20vbGljZW5zZVxuKi9cbihmdW5jdGlvbigpe3dpbmRvdy5DS0VESVRPUiYmd2luZG93LkNLRURJVE9SLmRvbXx8KHdpbmRvdy5DS0VESVRPUnx8KHdpbmRvdy5DS0VESVRPUj1mdW5jdGlvbigpe3ZhciBhPS8oXnwuKltcXFxcXFwvXSlja2VkaXRvclxcLmpzKD86XFw/Lip8Oy4qKT8kL2ksZj17dGltZXN0YW1wOlwiR0FHRVwiLHZlcnNpb246XCI0LjYuMCAoU3RhbmRhcmQpXCIscmV2aXNpb246XCI1ODc3ZDhiXCIscm5kOk1hdGguZmxvb3IoOTAwKk1hdGgucmFuZG9tKCkpKzEwMCxfOntwZW5kaW5nOltdLGJhc2VQYXRoU3JjUGF0dGVybjphfSxzdGF0dXM6XCJ1bmxvYWRlZFwiLGJhc2VQYXRoOmZ1bmN0aW9uKCl7dmFyIGI9d2luZG93LkNLRURJVE9SX0JBU0VQQVRIfHxcIlwiO2lmKCFiKWZvcih2YXIgYz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSxmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciBkPWNbZl0uc3JjLm1hdGNoKGEpO2lmKGQpe2I9ZFsxXTticmVha319LTE9PWIuaW5kZXhPZihcIjovXCIpJiZcIi8vXCIhPVxuYi5zbGljZSgwLDIpJiYoYj0wPT09Yi5pbmRleE9mKFwiL1wiKT9sb2NhdGlvbi5ocmVmLm1hdGNoKC9eLio/OlxcL1xcL1teXFwvXSovKVswXStiOmxvY2F0aW9uLmhyZWYubWF0Y2goL15bXlxcP10qXFwvKD86KS8pWzBdK2IpO2lmKCFiKXRocm93J1RoZSBDS0VkaXRvciBpbnN0YWxsYXRpb24gcGF0aCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBkZXRlY3RlZC4gUGxlYXNlIHNldCB0aGUgZ2xvYmFsIHZhcmlhYmxlIFwiQ0tFRElUT1JfQkFTRVBBVEhcIiBiZWZvcmUgY3JlYXRpbmcgZWRpdG9yIGluc3RhbmNlcy4nO3JldHVybiBifSgpLGdldFVybDpmdW5jdGlvbihhKXstMT09YS5pbmRleE9mKFwiOi9cIikmJjAhPT1hLmluZGV4T2YoXCIvXCIpJiYoYT10aGlzLmJhc2VQYXRoK2EpO3RoaXMudGltZXN0YW1wJiZcIi9cIiE9YS5jaGFyQXQoYS5sZW5ndGgtMSkmJiEvWyY/XXQ9Ly50ZXN0KGEpJiYoYSs9KDA8PWEuaW5kZXhPZihcIj9cIik/XCJcXHgyNlwiOlwiP1wiKStcInRcXHgzZFwiK3RoaXMudGltZXN0YW1wKTtcbnJldHVybiBhfSxkb21SZWFkeTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0cnl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcj8oZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixhLCExKSxiKCkpOmRvY3VtZW50LmF0dGFjaEV2ZW50JiZcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYoZG9jdW1lbnQuZGV0YWNoRXZlbnQoXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIixhKSxiKCkpfWNhdGNoKGQpe319ZnVuY3Rpb24gYigpe2Zvcih2YXIgYTthPWMuc2hpZnQoKTspYSgpfXZhciBjPVtdO3JldHVybiBmdW5jdGlvbihkKXtmdW5jdGlvbiBiKCl7dHJ5e2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbChcImxlZnRcIil9Y2F0Y2goZyl7c2V0VGltZW91dChiLDEpO3JldHVybn1hKCl9Yy5wdXNoKGQpO1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJnNldFRpbWVvdXQoYSwxKTtpZigxPT1jLmxlbmd0aClpZihkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsXG5hLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixhLCExKTtlbHNlIGlmKGRvY3VtZW50LmF0dGFjaEV2ZW50KXtkb2N1bWVudC5hdHRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLGEpO3dpbmRvdy5hdHRhY2hFdmVudChcIm9ubG9hZFwiLGEpO2Q9ITE7dHJ5e2Q9IXdpbmRvdy5mcmFtZUVsZW1lbnR9Y2F0Y2goayl7fWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCYmZCYmYigpfX19KCl9LGI9d2luZG93LkNLRURJVE9SX0dFVFVSTDtpZihiKXt2YXIgYz1mLmdldFVybDtmLmdldFVybD1mdW5jdGlvbihhKXtyZXR1cm4gYi5jYWxsKGYsYSl8fGMuY2FsbChmLGEpfX1yZXR1cm4gZn0oKSksQ0tFRElUT1IuZXZlbnR8fChDS0VESVRPUi5ldmVudD1mdW5jdGlvbigpe30sQ0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T249ZnVuY3Rpb24oYSl7dmFyIGY9Q0tFRElUT1IuZXZlbnQucHJvdG90eXBlLGI7Zm9yKGIgaW4gZiludWxsPT1hW2JdJiYoYVtiXT1mW2JdKX0sXG5DS0VESVRPUi5ldmVudC5wcm90b3R5cGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3ZhciBlPWYodGhpcyk7cmV0dXJuIGVbYV18fChlW2FdPW5ldyBiKGEpKX12YXIgZj1mdW5jdGlvbihhKXthPWEuZ2V0UHJpdmF0ZSYmYS5nZXRQcml2YXRlKCl8fGEuX3x8KGEuXz17fSk7cmV0dXJuIGEuZXZlbnRzfHwoYS5ldmVudHM9e30pfSxiPWZ1bmN0aW9uKGEpe3RoaXMubmFtZT1hO3RoaXMubGlzdGVuZXJzPVtdfTtiLnByb3RvdHlwZT17Z2V0TGlzdGVuZXJJbmRleDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxmPXRoaXMubGlzdGVuZXJzO2I8Zi5sZW5ndGg7YisrKWlmKGZbYl0uZm49PWEpcmV0dXJuIGI7cmV0dXJuLTF9fTtyZXR1cm57ZGVmaW5lOmZ1bmN0aW9uKGIsZSl7dmFyIGY9YS5jYWxsKHRoaXMsYik7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGYsZSwhMCl9LG9uOmZ1bmN0aW9uKGIsZSxmLGwsZCl7ZnVuY3Rpb24gaChhLGcsZCxoKXthPXtuYW1lOmIsc2VuZGVyOnRoaXMsZWRpdG9yOmEsXG5kYXRhOmcsbGlzdGVuZXJEYXRhOmwsc3RvcDpkLGNhbmNlbDpoLHJlbW92ZUxpc3RlbmVyOmt9O3JldHVybiExPT09ZS5jYWxsKGYsYSk/ITE6YS5kYXRhfWZ1bmN0aW9uIGsoKXtuLnJlbW92ZUxpc3RlbmVyKGIsZSl9dmFyIGc9YS5jYWxsKHRoaXMsYik7aWYoMD5nLmdldExpc3RlbmVySW5kZXgoZSkpe2c9Zy5saXN0ZW5lcnM7Znx8KGY9dGhpcyk7aXNOYU4oZCkmJihkPTEwKTt2YXIgbj10aGlzO2guZm49ZTtoLnByaW9yaXR5PWQ7Zm9yKHZhciBxPWcubGVuZ3RoLTE7MDw9cTtxLS0paWYoZ1txXS5wcmlvcml0eTw9ZClyZXR1cm4gZy5zcGxpY2UocSsxLDAsaCkse3JlbW92ZUxpc3RlbmVyOmt9O2cudW5zaGlmdChoKX1yZXR1cm57cmVtb3ZlTGlzdGVuZXI6a319LG9uY2U6ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGI9YVsxXTthWzFdPWZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTtyZXR1cm4gYi5hcHBseSh0aGlzLFxuYXJndW1lbnRzKX07cmV0dXJuIHRoaXMub24uYXBwbHkodGhpcyxhKX0sY2FwdHVyZTpmdW5jdGlvbigpe0NLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9MTt2YXIgYT10aGlzLm9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPTA7cmV0dXJuIGF9LGZpcmU6ZnVuY3Rpb24oKXt2YXIgYT0wLGI9ZnVuY3Rpb24oKXthPTF9LG09MCxsPWZ1bmN0aW9uKCl7bT0xfTtyZXR1cm4gZnVuY3Rpb24oZCxoLGspe3ZhciBnPWYodGhpcylbZF07ZD1hO3ZhciBuPW07YT1tPTA7aWYoZyl7dmFyIHE9Zy5saXN0ZW5lcnM7aWYocS5sZW5ndGgpZm9yKHZhciBxPXEuc2xpY2UoMCkscCx0PTA7dDxxLmxlbmd0aDt0Kyspe2lmKGcuZXJyb3JQcm9vZil0cnl7cD1xW3RdLmNhbGwodGhpcyxrLGgsYixsKX1jYXRjaCh2KXt9ZWxzZSBwPXFbdF0uY2FsbCh0aGlzLGssaCxiLGwpOyExPT09cD9tPTE6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHAmJihoPXApO2lmKGF8fG0pYnJlYWt9fWg9XG5tPyExOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBoPyEwOmg7YT1kO209bjtyZXR1cm4gaH19KCksZmlyZU9uY2U6ZnVuY3Rpb24oYSxiLG0pe2I9dGhpcy5maXJlKGEsYixtKTtkZWxldGUgZih0aGlzKVthXTtyZXR1cm4gYn0scmVtb3ZlTGlzdGVuZXI6ZnVuY3Rpb24oYSxiKXt2YXIgbT1mKHRoaXMpW2FdO2lmKG0pe3ZhciBsPW0uZ2V0TGlzdGVuZXJJbmRleChiKTswPD1sJiZtLmxpc3RlbmVycy5zcGxpY2UobCwxKX19LHJlbW92ZUFsbExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPWYodGhpcyksYjtmb3IoYiBpbiBhKWRlbGV0ZSBhW2JdfSxoYXNMaXN0ZW5lcnM6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9Zih0aGlzKVthXSkmJjA8YS5saXN0ZW5lcnMubGVuZ3RofX19KCkpLENLRURJVE9SLmVkaXRvcnx8KENLRURJVE9SLmVkaXRvcj1mdW5jdGlvbigpe0NLRURJVE9SLl8ucGVuZGluZy5wdXNoKFt0aGlzLGFyZ3VtZW50c10pO0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyl9LENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZmlyZT1cbmZ1bmN0aW9uKGEsZil7YSBpbntpbnN0YW5jZVJlYWR5OjEsbG9hZGVkOjF9JiYodGhpc1thXT0hMCk7cmV0dXJuIENLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5maXJlLmNhbGwodGhpcyxhLGYsdGhpcyl9LENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZmlyZU9uY2U9ZnVuY3Rpb24oYSxmKXthIGlue2luc3RhbmNlUmVhZHk6MSxsb2FkZWQ6MX0mJih0aGlzW2FdPSEwKTtyZXR1cm4gQ0tFRElUT1IuZXZlbnQucHJvdG90eXBlLmZpcmVPbmNlLmNhbGwodGhpcyxhLGYsdGhpcyl9LENLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUpKSxDS0VESVRPUi5lbnZ8fChDS0VESVRPUi5lbnY9ZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksZj1hLm1hdGNoKC9lZGdlWyBcXC9dKFxcZCsuP1xcZCopLyksYj0tMTxhLmluZGV4T2YoXCJ0cmlkZW50L1wiKSxiPSEoIWYmJiFiKSxiPXtpZTpiLGVkZ2U6ISFmLHdlYmtpdDohYiYmXG4tMTxhLmluZGV4T2YoXCIgYXBwbGV3ZWJraXQvXCIpLGFpcjotMTxhLmluZGV4T2YoXCIgYWRvYmVhaXIvXCIpLG1hYzotMTxhLmluZGV4T2YoXCJtYWNpbnRvc2hcIikscXVpcmtzOlwiQmFja0NvbXBhdFwiPT1kb2N1bWVudC5jb21wYXRNb2RlJiYoIWRvY3VtZW50LmRvY3VtZW50TW9kZXx8MTA+ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSxtb2JpbGU6LTE8YS5pbmRleE9mKFwibW9iaWxlXCIpLGlPUzovKGlwYWR8aXBob25lfGlwb2QpLy50ZXN0KGEpLGlzQ3VzdG9tRG9tYWluOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaWUpcmV0dXJuITE7dmFyIGE9ZG9jdW1lbnQuZG9tYWluLGI9d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO3JldHVybiBhIT1iJiZhIT1cIltcIitiK1wiXVwifSxzZWN1cmU6XCJodHRwczpcIj09bG9jYXRpb24ucHJvdG9jb2x9O2IuZ2Vja289XCJHZWNrb1wiPT1uYXZpZ2F0b3IucHJvZHVjdCYmIWIud2Via2l0JiYhYi5pZTtiLndlYmtpdCYmKC0xPGEuaW5kZXhPZihcImNocm9tZVwiKT9iLmNocm9tZT1cbiEwOmIuc2FmYXJpPSEwKTt2YXIgYz0wO2IuaWUmJihjPWY/cGFyc2VGbG9hdChmWzFdKTpiLnF1aXJrc3x8IWRvY3VtZW50LmRvY3VtZW50TW9kZT9wYXJzZUZsb2F0KGEubWF0Y2goL21zaWUgKFxcZCspLylbMV0pOmRvY3VtZW50LmRvY3VtZW50TW9kZSxiLmllOUNvbXBhdD05PT1jLGIuaWU4Q29tcGF0PTg9PWMsYi5pZTdDb21wYXQ9Nz09YyxiLmllNkNvbXBhdD03PmN8fGIucXVpcmtzKTtiLmdlY2tvJiYoZj1hLm1hdGNoKC9ydjooW1xcZFxcLl0rKS8pKSYmKGY9ZlsxXS5zcGxpdChcIi5cIiksYz0xRTQqZlswXSsxMDAqKGZbMV18fDApKzEqKGZbMl18fDApKTtiLmFpciYmKGM9cGFyc2VGbG9hdChhLm1hdGNoKC8gYWRvYmVhaXJcXC8oXFxkKykvKVsxXSkpO2Iud2Via2l0JiYoYz1wYXJzZUZsb2F0KGEubWF0Y2goLyBhcHBsZXdlYmtpdFxcLyhcXGQrKS8pWzFdKSk7Yi52ZXJzaW9uPWM7Yi5pc0NvbXBhdGlibGU9IShiLmllJiY3PmMpJiYhKGIuZ2Vja28mJjRFND5jKSYmIShiLndlYmtpdCYmXG41MzQ+Yyk7Yi5oaWRwaT0yPD13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztiLm5lZWRzQnJGaWxsZXI9Yi5nZWNrb3x8Yi53ZWJraXR8fGIuaWUmJjEwPGM7Yi5uZWVkc05ic3BGaWxsZXI9Yi5pZSYmMTE+YztiLmNzc0NsYXNzPVwiY2tlX2Jyb3dzZXJfXCIrKGIuaWU/XCJpZVwiOmIuZ2Vja28/XCJnZWNrb1wiOmIud2Via2l0P1wid2Via2l0XCI6XCJ1bmtub3duXCIpO2IucXVpcmtzJiYoYi5jc3NDbGFzcys9XCIgY2tlX2Jyb3dzZXJfcXVpcmtzXCIpO2IuaWUmJihiLmNzc0NsYXNzKz1cIiBja2VfYnJvd3Nlcl9pZVwiKyhiLnF1aXJrcz9cIjYgY2tlX2Jyb3dzZXJfaWVxdWlya3NcIjpiLnZlcnNpb24pKTtiLmFpciYmKGIuY3NzQ2xhc3MrPVwiIGNrZV9icm93c2VyX2FpclwiKTtiLmlPUyYmKGIuY3NzQ2xhc3MrPVwiIGNrZV9icm93c2VyX2lvc1wiKTtiLmhpZHBpJiYoYi5jc3NDbGFzcys9XCIgY2tlX2hpZHBpXCIpO3JldHVybiBifSgpKSxcInVubG9hZGVkXCI9PUNLRURJVE9SLnN0YXR1cyYmZnVuY3Rpb24oKXtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUik7XG5DS0VESVRPUi5sb2FkRnVsbENvcmU9ZnVuY3Rpb24oKXtpZihcImJhc2ljX3JlYWR5XCIhPUNLRURJVE9SLnN0YXR1cylDS0VESVRPUi5sb2FkRnVsbENvcmUuX2xvYWQ9MTtlbHNle2RlbGV0ZSBDS0VESVRPUi5sb2FkRnVsbENvcmU7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTthLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjthLnNyYz1DS0VESVRPUi5iYXNlUGF0aCtcImNrZWRpdG9yLmpzXCI7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKGEpfX07Q0tFRElUT1IubG9hZEZ1bGxDb3JlVGltZW91dD0wO0NLRURJVE9SLmFkZD1mdW5jdGlvbihhKXsodGhpcy5fLnBlbmRpbmd8fCh0aGlzLl8ucGVuZGluZz1bXSkpLnB1c2goYSl9OyhmdW5jdGlvbigpe0NLRURJVE9SLmRvbVJlYWR5KGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IubG9hZEZ1bGxDb3JlLGY9Q0tFRElUT1IubG9hZEZ1bGxDb3JlVGltZW91dDthJiYoQ0tFRElUT1Iuc3RhdHVzPVxuXCJiYXNpY19yZWFkeVwiLGEmJmEuX2xvYWQ/YSgpOmYmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtDS0VESVRPUi5sb2FkRnVsbENvcmUmJkNLRURJVE9SLmxvYWRGdWxsQ29yZSgpfSwxRTMqZikpfSl9KSgpO0NLRURJVE9SLnN0YXR1cz1cImJhc2ljX2xvYWRlZFwifSgpLFwidXNlIHN0cmljdFwiLENLRURJVE9SLlZFUkJPU0lUWV9XQVJOPTEsQ0tFRElUT1IuVkVSQk9TSVRZX0VSUk9SPTIsQ0tFRElUT1IudmVyYm9zaXR5PUNLRURJVE9SLlZFUkJPU0lUWV9XQVJOfENLRURJVE9SLlZFUkJPU0lUWV9FUlJPUixDS0VESVRPUi53YXJuPWZ1bmN0aW9uKGEsZil7Q0tFRElUT1IudmVyYm9zaXR5JkNLRURJVE9SLlZFUkJPU0lUWV9XQVJOJiZDS0VESVRPUi5maXJlKFwibG9nXCIse3R5cGU6XCJ3YXJuXCIsZXJyb3JDb2RlOmEsYWRkaXRpb25hbERhdGE6Zn0pfSxDS0VESVRPUi5lcnJvcj1mdW5jdGlvbihhLGYpe0NLRURJVE9SLnZlcmJvc2l0eSZDS0VESVRPUi5WRVJCT1NJVFlfRVJST1ImJkNLRURJVE9SLmZpcmUoXCJsb2dcIixcbnt0eXBlOlwiZXJyb3JcIixlcnJvckNvZGU6YSxhZGRpdGlvbmFsRGF0YTpmfSl9LENLRURJVE9SLm9uKFwibG9nXCIsZnVuY3Rpb24oYSl7aWYod2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmxvZyl7dmFyIGY9Y29uc29sZVthLmRhdGEudHlwZV0/YS5kYXRhLnR5cGU6XCJsb2dcIixiPWEuZGF0YS5lcnJvckNvZGU7aWYoYT1hLmRhdGEuYWRkaXRpb25hbERhdGEpY29uc29sZVtmXShcIltDS0VESVRPUl0gRXJyb3IgY29kZTogXCIrYitcIi5cIixhKTtlbHNlIGNvbnNvbGVbZl0oXCJbQ0tFRElUT1JdIEVycm9yIGNvZGU6IFwiK2IrXCIuXCIpO2NvbnNvbGVbZl0oXCJbQ0tFRElUT1JdIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgZXJyb3IgZ28gdG8gaHR0cDovL2RvY3MuY2tlZGl0b3IuY29tLyMhL2d1aWRlL2Rldl9lcnJvcnMtc2VjdGlvbi1cIitiKX19LG51bGwsbnVsbCw5OTkpLENLRURJVE9SLmRvbT17fSxmdW5jdGlvbigpe3ZhciBhPVtdLGY9Q0tFRElUT1IuZW52LmdlY2tvP1wiLW1vei1cIjpcbkNLRURJVE9SLmVudi53ZWJraXQ/XCItd2Via2l0LVwiOkNLRURJVE9SLmVudi5pZT9cIi1tcy1cIjpcIlwiLGI9LyYvZyxjPS8+L2csZT0vPC9nLG09L1wiL2csbD0vJihsdHxndHxhbXB8cXVvdHxuYnNwfHNoeXwjXFxkezEsNX0pOy9nLGQ9e2x0OlwiXFx4M2NcIixndDpcIlxceDNlXCIsYW1wOlwiXFx4MjZcIixxdW90OidcIicsbmJzcDpcIsKgXCIsc2h5Olwiwq1cIn0saD1mdW5jdGlvbihhLGcpe3JldHVyblwiI1wiPT1nWzBdP1N0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZy5zbGljZSgxKSwxMCkpOmRbZ119O0NLRURJVE9SLm9uKFwicmVzZXRcIixmdW5jdGlvbigpe2E9W119KTtDS0VESVRPUi50b29scz17YXJyYXlDb21wYXJlOmZ1bmN0aW9uKGEsZyl7aWYoIWEmJiFnKXJldHVybiEwO2lmKCFhfHwhZ3x8YS5sZW5ndGghPWcubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGFbZF0hPWdbZF0pcmV0dXJuITE7cmV0dXJuITB9LGdldEluZGV4OmZ1bmN0aW9uKGEsZyl7Zm9yKHZhciBkPVxuMDtkPGEubGVuZ3RoOysrZClpZihnKGFbZF0pKXJldHVybiBkO3JldHVybi0xfSxjbG9uZTpmdW5jdGlvbihhKXt2YXIgZztpZihhJiZhIGluc3RhbmNlb2YgQXJyYXkpe2c9W107Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspZ1tkXT1DS0VESVRPUi50b29scy5jbG9uZShhW2RdKTtyZXR1cm4gZ31pZihudWxsPT09YXx8XCJvYmplY3RcIiE9dHlwZW9mIGF8fGEgaW5zdGFuY2VvZiBTdHJpbmd8fGEgaW5zdGFuY2VvZiBOdW1iZXJ8fGEgaW5zdGFuY2VvZiBCb29sZWFufHxhIGluc3RhbmNlb2YgRGF0ZXx8YSBpbnN0YW5jZW9mIFJlZ0V4cHx8YS5ub2RlVHlwZXx8YS53aW5kb3c9PT1hKXJldHVybiBhO2c9bmV3IGEuY29uc3RydWN0b3I7Zm9yKGQgaW4gYSlnW2RdPUNLRURJVE9SLnRvb2xzLmNsb25lKGFbZF0pO3JldHVybiBnfSxjYXBpdGFsaXplOmZ1bmN0aW9uKGEsZyl7cmV0dXJuIGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrKGc/YS5zbGljZSgxKTphLnNsaWNlKDEpLnRvTG93ZXJDYXNlKCkpfSxcbmV4dGVuZDpmdW5jdGlvbihhKXt2YXIgZz1hcmd1bWVudHMubGVuZ3RoLGQsYjtcImJvb2xlYW5cIj09dHlwZW9mKGQ9YXJndW1lbnRzW2ctMV0pP2ctLTpcImJvb2xlYW5cIj09dHlwZW9mKGQ9YXJndW1lbnRzW2ctMl0pJiYoYj1hcmd1bWVudHNbZy0xXSxnLT0yKTtmb3IodmFyIGg9MTtoPGc7aCsrKXt2YXIgYz1hcmd1bWVudHNbaF0sZTtmb3IoZSBpbiBjKWlmKCEwPT09ZHx8bnVsbD09YVtlXSlpZighYnx8ZSBpbiBiKWFbZV09Y1tlXX1yZXR1cm4gYX0scHJvdG90eXBlZENvcHk6ZnVuY3Rpb24oYSl7dmFyIGc9ZnVuY3Rpb24oKXt9O2cucHJvdG90eXBlPWE7cmV0dXJuIG5ldyBnfSxjb3B5OmZ1bmN0aW9uKGEpe3ZhciBnPXt9LGQ7Zm9yKGQgaW4gYSlnW2RdPWFbZF07cmV0dXJuIGd9LGlzQXJyYXk6ZnVuY3Rpb24oYSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9LGlzRW1wdHk6ZnVuY3Rpb24oYSl7Zm9yKHZhciBnIGluIGEpaWYoYS5oYXNPd25Qcm9wZXJ0eShnKSlyZXR1cm4hMTtcbnJldHVybiEwfSxjc3NWZW5kb3JQcmVmaXg6ZnVuY3Rpb24oYSxnLGQpe2lmKGQpcmV0dXJuIGYrYStcIjpcIitnK1wiO1wiK2ErXCI6XCIrZztkPXt9O2RbYV09ZztkW2YrYV09ZztyZXR1cm4gZH0sY3NzU3R5bGVUb0RvbVN0eWxlOmZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxnPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmNzc0Zsb2F0P1wiY3NzRmxvYXRcIjpcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5zdHlsZUZsb2F0P1wic3R5bGVGbG9hdFwiOlwiZmxvYXRcIjtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuXCJmbG9hdFwiPT1hP2c6YS5yZXBsYWNlKC8tLi9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLnN1YnN0cigxKS50b1VwcGVyQ2FzZSgpfSl9fSgpLGJ1aWxkU3R5bGVIdG1sOmZ1bmN0aW9uKGEpe2E9W10uY29uY2F0KGEpO2Zvcih2YXIgZyxkPVtdLGI9MDtiPGEubGVuZ3RoO2IrKylpZihnPWFbYl0pL0BpbXBvcnR8W3t9XS8udGVzdChnKT9kLnB1c2goXCJcXHgzY3N0eWxlXFx4M2VcIitcbmcrXCJcXHgzYy9zdHlsZVxceDNlXCIpOmQucHVzaCgnXFx4M2NsaW5rIHR5cGVcXHgzZFwidGV4dC9jc3NcIiByZWxcXHgzZHN0eWxlc2hlZXQgaHJlZlxceDNkXCInK2crJ1wiXFx4M2UnKTtyZXR1cm4gZC5qb2luKFwiXCIpfSxodG1sRW5jb2RlOmZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hfHxudWxsPT09YT9cIlwiOlN0cmluZyhhKS5yZXBsYWNlKGIsXCJcXHgyNmFtcDtcIikucmVwbGFjZShjLFwiXFx4MjZndDtcIikucmVwbGFjZShlLFwiXFx4MjZsdDtcIil9LGh0bWxEZWNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShsLGgpfSxodG1sRW5jb2RlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShhKS5yZXBsYWNlKG0sXCJcXHgyNnF1b3Q7XCIpfSxodG1sRGVjb2RlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuaHRtbERlY29kZShhKX0sdHJhbnNmb3JtUGxhaW5UZXh0VG9IdG1sOmZ1bmN0aW9uKGEsZyl7dmFyIGQ9Zz09Q0tFRElUT1IuRU5URVJfQlIsXG5iPXRoaXMuaHRtbEVuY29kZShhLnJlcGxhY2UoL1xcclxcbi9nLFwiXFxuXCIpKSxiPWIucmVwbGFjZSgvXFx0L2csXCJcXHgyNm5ic3A7XFx4MjZuYnNwOyBcXHgyNm5ic3A7XCIpLGg9Zz09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiO2lmKCFkKXt2YXIgYz0vXFxuezJ9L2c7aWYoYy50ZXN0KGIpKXZhciBlPVwiXFx4M2NcIitoK1wiXFx4M2VcIixmPVwiXFx4M2MvXCIraCtcIlxceDNlXCIsYj1lK2IucmVwbGFjZShjLGZ1bmN0aW9uKCl7cmV0dXJuIGYrZX0pK2Z9Yj1iLnJlcGxhY2UoL1xcbi9nLFwiXFx4M2NiclxceDNlXCIpO2R8fChiPWIucmVwbGFjZShuZXcgUmVnRXhwKFwiXFx4M2NiclxceDNlKD9cXHgzZFxceDNjL1wiK2grXCJcXHgzZSlcIiksZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChhLDIpfSkpO2I9Yi5yZXBsYWNlKC9eIHwgJC9nLFwiXFx4MjZuYnNwO1wiKTtyZXR1cm4gYj1iLnJlcGxhY2UoLyg+fFxccykgL2csZnVuY3Rpb24oYSxnKXtyZXR1cm4gZytcIlxceDI2bmJzcDtcIn0pLnJlcGxhY2UoLyAoPz08KS9nLFxuXCJcXHgyNm5ic3A7XCIpfSxnZXROZXh0TnVtYmVyOmZ1bmN0aW9uKCl7dmFyIGE9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4rK2F9fSgpLGdldE5leHRJZDpmdW5jdGlvbigpe3JldHVyblwiY2tlX1wiK3RoaXMuZ2V0TmV4dE51bWJlcigpfSxnZXRVbmlxdWVJZDpmdW5jdGlvbigpe2Zvcih2YXIgYT1cImVcIixnPTA7OD5nO2crKylhKz1NYXRoLmZsb29yKDY1NTM2KigxK01hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO3JldHVybiBhfSxvdmVycmlkZTpmdW5jdGlvbihhLGcpe3ZhciBkPWcoYSk7ZC5wcm90b3R5cGU9YS5wcm90b3R5cGU7cmV0dXJuIGR9LHNldFRpbWVvdXQ6ZnVuY3Rpb24oYSxnLGQsYixoKXtofHwoaD13aW5kb3cpO2R8fChkPWgpO3JldHVybiBoLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiP2EuYXBwbHkoZCxbXS5jb25jYXQoYikpOmEuYXBwbHkoZCl9LGd8fDApfSx0cmltOmZ1bmN0aW9uKCl7dmFyIGE9Lyg/Ol5bIFxcdFxcblxccl0rKXwoPzpbIFxcdFxcblxccl0rJCkvZztcbnJldHVybiBmdW5jdGlvbihnKXtyZXR1cm4gZy5yZXBsYWNlKGEsXCJcIil9fSgpLGx0cmltOmZ1bmN0aW9uKCl7dmFyIGE9L15bIFxcdFxcblxccl0rL2c7cmV0dXJuIGZ1bmN0aW9uKGcpe3JldHVybiBnLnJlcGxhY2UoYSxcIlwiKX19KCkscnRyaW06ZnVuY3Rpb24oKXt2YXIgYT0vWyBcXHRcXG5cXHJdKyQvZztyZXR1cm4gZnVuY3Rpb24oZyl7cmV0dXJuIGcucmVwbGFjZShhLFwiXCIpfX0oKSxpbmRleE9mOmZ1bmN0aW9uKGEsZyl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZylmb3IodmFyIGQ9MCxiPWEubGVuZ3RoO2Q8YjtkKyspe2lmKGcoYVtkXSkpcmV0dXJuIGR9ZWxzZXtpZihhLmluZGV4T2YpcmV0dXJuIGEuaW5kZXhPZihnKTtkPTA7Zm9yKGI9YS5sZW5ndGg7ZDxiO2QrKylpZihhW2RdPT09ZylyZXR1cm4gZH1yZXR1cm4tMX0sc2VhcmNoOmZ1bmN0aW9uKGEsZyl7dmFyIGQ9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihhLGcpO3JldHVybiAwPD1kP2FbZF06bnVsbH0sYmluZDpmdW5jdGlvbihhLFxuZyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoZyxhcmd1bWVudHMpfX0sY3JlYXRlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGc9YS4kLGQ9YS5iYXNlLGI9YS5wcml2YXRlc3x8YS5fLGg9YS5wcm90bzthPWEuc3RhdGljczshZyYmKGc9ZnVuY3Rpb24oKXtkJiZ0aGlzLmJhc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7aWYoYil2YXIgYz1nLGc9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl98fCh0aGlzLl89e30pLGc7Zm9yKGcgaW4gYil7dmFyIGQ9YltnXTthW2ddPVwiZnVuY3Rpb25cIj09dHlwZW9mIGQ/Q0tFRElUT1IudG9vbHMuYmluZChkLHRoaXMpOmR9Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2QmJihnLnByb3RvdHlwZT10aGlzLnByb3RvdHlwZWRDb3B5KGQucHJvdG90eXBlKSxnLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1nLGcuYmFzZT1kLGcuYmFzZVByb3RvPWQucHJvdG90eXBlLGcucHJvdG90eXBlLmJhc2U9ZnVuY3Rpb24oKXt0aGlzLmJhc2U9ZC5wcm90b3R5cGUuYmFzZTtcbmQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuYmFzZT1hcmd1bWVudHMuY2FsbGVlfSk7aCYmdGhpcy5leHRlbmQoZy5wcm90b3R5cGUsaCwhMCk7YSYmdGhpcy5leHRlbmQoZyxhLCEwKTtyZXR1cm4gZ30sYWRkRnVuY3Rpb246ZnVuY3Rpb24oZCxnKXtyZXR1cm4gYS5wdXNoKGZ1bmN0aW9uKCl7cmV0dXJuIGQuYXBwbHkoZ3x8dGhpcyxhcmd1bWVudHMpfSktMX0scmVtb3ZlRnVuY3Rpb246ZnVuY3Rpb24oZCl7YVtkXT1udWxsfSxjYWxsRnVuY3Rpb246ZnVuY3Rpb24oZCl7dmFyIGc9YVtkXTtyZXR1cm4gZyYmZy5hcHBseSh3aW5kb3csQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKX0sY3NzTGVuZ3RoOmZ1bmN0aW9uKCl7dmFyIGE9L14tP1xcZCtcXC4/XFxkKnB4JC8sZztyZXR1cm4gZnVuY3Rpb24oZCl7Zz1DS0VESVRPUi50b29scy50cmltKGQrXCJcIikrXCJweFwiO3JldHVybiBhLnRlc3QoZyk/ZzpkfHxcIlwifX0oKSxjb252ZXJ0VG9QeDpmdW5jdGlvbigpe3ZhciBhO1xucmV0dXJuIGZ1bmN0aW9uKGcpe2F8fChhPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBzdHlsZVxceDNkXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi05OTk5cHg7dG9wOi05OTk5cHg7bWFyZ2luOjBweDtwYWRkaW5nOjBweDtib3JkZXI6MHB4O1wiXFx4M2VcXHgzYy9kaXZcXHgzZScsQ0tFRElUT1IuZG9jdW1lbnQpLENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKS5hcHBlbmQoYSkpO3JldHVybi8lJC8udGVzdChnKT9nOihhLnNldFN0eWxlKFwid2lkdGhcIixnKSxhLiQuY2xpZW50V2lkdGgpfX0oKSxyZXBlYXQ6ZnVuY3Rpb24oYSxnKXtyZXR1cm4gQXJyYXkoZysxKS5qb2luKGEpfSx0cnlUaGVzZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxnPTAsZD1hcmd1bWVudHMubGVuZ3RoO2c8ZDtnKyspe3ZhciBiPWFyZ3VtZW50c1tnXTt0cnl7YT1iKCk7YnJlYWt9Y2F0Y2goaCl7fX1yZXR1cm4gYX0sZ2VuS2V5OmZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbihcIi1cIil9LFxuZGVmZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGc9YXJndW1lbnRzLGQ9dGhpczt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EuYXBwbHkoZCxnKX0sMCl9fSxub3JtYWxpemVDc3NUZXh0OmZ1bmN0aW9uKGEsZyl7dmFyIGQ9W10sYixoPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChhLCEwLGcpO2ZvcihiIGluIGgpZC5wdXNoKGIrXCI6XCIraFtiXSk7ZC5zb3J0KCk7cmV0dXJuIGQubGVuZ3RoP2Quam9pbihcIjtcIikrXCI7XCI6XCJcIn0sY29udmVydFJnYlRvSGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLyg/OnJnYlxcKFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqXFwpKS9naSxmdW5jdGlvbihhLGQsYixoKXthPVtkLGIsaF07Zm9yKGQ9MDszPmQ7ZCsrKWFbZF09KFwiMFwiK3BhcnNlSW50KGFbZF0sMTApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO3JldHVyblwiI1wiK2Euam9pbihcIlwiKX0pfSxub3JtYWxpemVIZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvIygoWzAtOWEtZl17M30pezEsMn0pKCR8O3xcXHMrKS9naSxcbmZ1bmN0aW9uKGEsZCxiLGgpe2E9ZC50b0xvd2VyQ2FzZSgpOzM9PWEubGVuZ3RoJiYoYT1hLnNwbGl0KFwiXCIpLGE9W2FbMF0sYVswXSxhWzFdLGFbMV0sYVsyXSxhWzJdXS5qb2luKFwiXCIpKTtyZXR1cm5cIiNcIithK2h9KX0scGFyc2VDc3NUZXh0OmZ1bmN0aW9uKGEsZyxkKXt2YXIgYj17fTtkJiYoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3BhblwiKSkuc2V0QXR0cmlidXRlKFwic3R5bGVcIixhKS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKXx8XCJcIik7YSYmKGE9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplSGV4KENLRURJVE9SLnRvb2xzLmNvbnZlcnRSZ2JUb0hleChhKSkpO2lmKCFhfHxcIjtcIj09YSlyZXR1cm4gYjthLnJlcGxhY2UoLyZxdW90Oy9nLCdcIicpLnJlcGxhY2UoL1xccyooW146O1xcc10rKVxccyo6XFxzKihbXjtdKylcXHMqKD89O3wkKS9nLGZ1bmN0aW9uKGEsZCxoKXtnJiYoZD1kLnRvTG93ZXJDYXNlKCksXCJmb250LWZhbWlseVwiPT1kJiYoaD1oLnJlcGxhY2UoL1xccyosXFxzKi9nLFxuXCIsXCIpKSxoPUNLRURJVE9SLnRvb2xzLnRyaW0oaCkpO2JbZF09aH0pO3JldHVybiBifSx3cml0ZUNzc1RleHQ6ZnVuY3Rpb24oYSxnKXt2YXIgZCxiPVtdO2ZvcihkIGluIGEpYi5wdXNoKGQrXCI6XCIrYVtkXSk7ZyYmYi5zb3J0KCk7cmV0dXJuIGIuam9pbihcIjsgXCIpfSxvYmplY3RDb21wYXJlOmZ1bmN0aW9uKGEsZyxkKXt2YXIgYjtpZighYSYmIWcpcmV0dXJuITA7aWYoIWF8fCFnKXJldHVybiExO2ZvcihiIGluIGEpaWYoYVtiXSE9Z1tiXSlyZXR1cm4hMTtpZighZClmb3IoYiBpbiBnKWlmKGFbYl0hPWdbYl0pcmV0dXJuITE7cmV0dXJuITB9LG9iamVjdEtleXM6ZnVuY3Rpb24oYSl7dmFyIGc9W10sZDtmb3IoZCBpbiBhKWcucHVzaChkKTtyZXR1cm4gZ30sY29udmVydEFycmF5VG9PYmplY3Q6ZnVuY3Rpb24oYSxnKXt2YXIgZD17fTsxPT1hcmd1bWVudHMubGVuZ3RoJiYoZz0hMCk7Zm9yKHZhciBiPTAsaD1hLmxlbmd0aDtiPGg7KytiKWRbYVtiXV09ZztyZXR1cm4gZH0sZml4RG9tYWluOmZ1bmN0aW9uKCl7Zm9yKHZhciBhOzspdHJ5e2E9XG53aW5kb3cucGFyZW50LmRvY3VtZW50LmRvbWFpbjticmVha31jYXRjaChnKXthPWE/YS5yZXBsYWNlKC8uKz8oPzpcXC58JCkvLFwiXCIpOmRvY3VtZW50LmRvbWFpbjtpZighYSlicmVhaztkb2N1bWVudC5kb21haW49YX1yZXR1cm4hIWF9LGV2ZW50c0J1ZmZlcjpmdW5jdGlvbihhLGcsZCl7ZnVuY3Rpb24gYigpe2M9KG5ldyBEYXRlKS5nZXRUaW1lKCk7aD0hMTtkP2cuY2FsbChkKTpnKCl9dmFyIGgsYz0wO3JldHVybntpbnB1dDpmdW5jdGlvbigpe2lmKCFoKXt2YXIgZz0obmV3IERhdGUpLmdldFRpbWUoKS1jO2c8YT9oPXNldFRpbWVvdXQoYixhLWcpOmIoKX19LHJlc2V0OmZ1bmN0aW9uKCl7aCYmY2xlYXJUaW1lb3V0KGgpO2g9Yz0wfX19LGVuYWJsZUh0bWw1RWxlbWVudHM6ZnVuY3Rpb24oYSxnKXtmb3IodmFyIGQ9XCJhYmJyIGFydGljbGUgYXNpZGUgYXVkaW8gYmRpIGNhbnZhcyBkYXRhIGRhdGFsaXN0IGRldGFpbHMgZmlnY2FwdGlvbiBmaWd1cmUgZm9vdGVyIGhlYWRlciBoZ3JvdXAgbWFpbiBtYXJrIG1ldGVyIG5hdiBvdXRwdXQgcHJvZ3Jlc3Mgc2VjdGlvbiBzdW1tYXJ5IHRpbWUgdmlkZW9cIi5zcGxpdChcIiBcIiksXG5iPWQubGVuZ3RoLGg7Yi0tOyloPWEuY3JlYXRlRWxlbWVudChkW2JdKSxnJiZhLmFwcGVuZENoaWxkKGgpfSxjaGVja0lmQW55QXJyYXlJdGVtTWF0Y2hlczpmdW5jdGlvbihhLGcpe2Zvcih2YXIgZD0wLGI9YS5sZW5ndGg7ZDxiOysrZClpZihhW2RdLm1hdGNoKGcpKXJldHVybiEwO3JldHVybiExfSxjaGVja0lmQW55T2JqZWN0UHJvcGVydHlNYXRjaGVzOmZ1bmN0aW9uKGEsZyl7Zm9yKHZhciBkIGluIGEpaWYoZC5tYXRjaChnKSlyZXR1cm4hMDtyZXR1cm4hMX0sa2V5c3Ryb2tlVG9TdHJpbmc6ZnVuY3Rpb24oYSxnKXt2YXIgZD1nJjE2NzExNjgwLGI9ZyY2NTUzNSxoPUNLRURJVE9SLmVudi5tYWMsYz1bXSxlPVtdO2QmQ0tFRElUT1IuQ1RSTCYmKGMucHVzaChoP1wi4oyYXCI6YVsxN10pLGUucHVzaChoP2FbMjI0XTphWzE3XSkpO2QmQ0tFRElUT1IuQUxUJiYoYy5wdXNoKGg/XCLijKVcIjphWzE4XSksZS5wdXNoKGFbMThdKSk7ZCZDS0VESVRPUi5TSElGVCYmKGMucHVzaChoP1wi4oenXCI6YVsxNl0pLFxuZS5wdXNoKGFbMTZdKSk7YiYmKGFbYl0/KGMucHVzaChhW2JdKSxlLnB1c2goYVtiXSkpOihjLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShiKSksZS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYikpKSk7cmV0dXJue2Rpc3BsYXk6Yy5qb2luKFwiK1wiKSxhcmlhOmUuam9pbihcIitcIil9fSx0cmFuc3BhcmVudEltYWdlRGF0YTpcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBUEFCQVAvLy93QUFBQ0g1QkFFS0FBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93XFx4M2RcXHgzZFwiLGdldENvb2tpZTpmdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTtmb3IodmFyIGc9ZG9jdW1lbnQuY29va2llLnNwbGl0KFwiO1wiKSxkLGIsaD0wO2g8Zy5sZW5ndGg7aCsrKWlmKGQ9Z1toXS5zcGxpdChcIlxceDNkXCIpLGI9ZGVjb2RlVVJJQ29tcG9uZW50KENLRURJVE9SLnRvb2xzLnRyaW0oZFswXSkudG9Mb3dlckNhc2UoKSksYj09PWEpcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCgxPGQubGVuZ3RoP1xuZFsxXTpcIlwiKTtyZXR1cm4gbnVsbH0sc2V0Q29va2llOmZ1bmN0aW9uKGEsZyl7ZG9jdW1lbnQuY29va2llPWVuY29kZVVSSUNvbXBvbmVudChhKStcIlxceDNkXCIrZW5jb2RlVVJJQ29tcG9uZW50KGcpK1wiO3BhdGhcXHgzZC9cIn0sZ2V0Q3NyZlRva2VuOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZ2V0Q29va2llKFwiY2tDc3JmVG9rZW5cIik7aWYoIWF8fDQwIT1hLmxlbmd0aCl7dmFyIGE9W10sZz1cIlwiO2lmKHdpbmRvdy5jcnlwdG8mJndpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKWE9bmV3IFVpbnQ4QXJyYXkoNDApLHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGEpO2Vsc2UgZm9yKHZhciBkPTA7NDA+ZDtkKyspYS5wdXNoKE1hdGguZmxvb3IoMjU2Kk1hdGgucmFuZG9tKCkpKTtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKXZhciBiPVwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCIuY2hhckF0KGFbZF0lMzYpLGc9ZysoLjU8TWF0aC5yYW5kb20oKT9cbmIudG9VcHBlckNhc2UoKTpiKTthPWc7Q0tFRElUT1IudG9vbHMuc2V0Q29va2llKFwiY2tDc3JmVG9rZW5cIixhKX1yZXR1cm4gYX0sZXNjYXBlQ3NzOmZ1bmN0aW9uKGEpe3JldHVybiBhP3dpbmRvdy5DU1MmJkNTUy5lc2NhcGU/Q1NTLmVzY2FwZShhKTppc05hTihwYXJzZUludChhLmNoYXJBdCgwKSwxMCkpP2E6XCJcXFxcM1wiK2EuY2hhckF0KDApK1wiIFwiK2Euc3Vic3RyaW5nKDEsYS5sZW5ndGgpOlwiXCJ9fX0oKSxDS0VESVRPUi5kdGQ9ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi50b29scy5leHRlbmQsZj1mdW5jdGlvbihhLGcpe2Zvcih2YXIgZD1DS0VESVRPUi50b29scy5jbG9uZShhKSxiPTE7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKyl7Zz1hcmd1bWVudHNbYl07Zm9yKHZhciBoIGluIGcpZGVsZXRlIGRbaF19cmV0dXJuIGR9LGI9e30sYz17fSxlPXthZGRyZXNzOjEsYXJ0aWNsZToxLGFzaWRlOjEsYmxvY2txdW90ZToxLGRldGFpbHM6MSxkaXY6MSxkbDoxLGZpZWxkc2V0OjEsZmlndXJlOjEsXG5mb290ZXI6MSxmb3JtOjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEsaGVhZGVyOjEsaGdyb3VwOjEsaHI6MSxtYWluOjEsbWVudToxLG5hdjoxLG9sOjEscDoxLHByZToxLHNlY3Rpb246MSx0YWJsZToxLHVsOjF9LG09e2NvbW1hbmQ6MSxsaW5rOjEsbWV0YToxLG5vc2NyaXB0OjEsc2NyaXB0OjEsc3R5bGU6MX0sbD17fSxkPXtcIiNcIjoxfSxoPXtjZW50ZXI6MSxkaXI6MSxub2ZyYW1lczoxfTthKGIse2E6MSxhYmJyOjEsYXJlYToxLGF1ZGlvOjEsYjoxLGJkaToxLGJkbzoxLGJyOjEsYnV0dG9uOjEsY2FudmFzOjEsY2l0ZToxLGNvZGU6MSxjb21tYW5kOjEsZGF0YWxpc3Q6MSxkZWw6MSxkZm46MSxlbToxLGVtYmVkOjEsaToxLGlmcmFtZToxLGltZzoxLGlucHV0OjEsaW5zOjEsa2JkOjEsa2V5Z2VuOjEsbGFiZWw6MSxtYXA6MSxtYXJrOjEsbWV0ZXI6MSxub3NjcmlwdDoxLG9iamVjdDoxLG91dHB1dDoxLHByb2dyZXNzOjEscToxLHJ1Ynk6MSxzOjEsc2FtcDoxLHNjcmlwdDoxLFxuc2VsZWN0OjEsc21hbGw6MSxzcGFuOjEsc3Ryb25nOjEsc3ViOjEsc3VwOjEsdGV4dGFyZWE6MSx0aW1lOjEsdToxLFwidmFyXCI6MSx2aWRlbzoxLHdicjoxfSxkLHthY3JvbnltOjEsYXBwbGV0OjEsYmFzZWZvbnQ6MSxiaWc6MSxmb250OjEsaXNpbmRleDoxLHN0cmlrZToxLHN0eWxlOjEsdHQ6MX0pO2EoYyxlLGIsaCk7Zj17YTpmKGIse2E6MSxidXR0b246MX0pLGFiYnI6YixhZGRyZXNzOmMsYXJlYTpsLGFydGljbGU6Yyxhc2lkZTpjLGF1ZGlvOmEoe3NvdXJjZToxLHRyYWNrOjF9LGMpLGI6YixiYXNlOmwsYmRpOmIsYmRvOmIsYmxvY2txdW90ZTpjLGJvZHk6YyxicjpsLGJ1dHRvbjpmKGIse2E6MSxidXR0b246MX0pLGNhbnZhczpiLGNhcHRpb246YyxjaXRlOmIsY29kZTpiLGNvbDpsLGNvbGdyb3VwOntjb2w6MX0sY29tbWFuZDpsLGRhdGFsaXN0OmEoe29wdGlvbjoxfSxiKSxkZDpjLGRlbDpiLGRldGFpbHM6YSh7c3VtbWFyeToxfSxjKSxkZm46YixkaXY6YyxkbDp7ZHQ6MSxcbmRkOjF9LGR0OmMsZW06YixlbWJlZDpsLGZpZWxkc2V0OmEoe2xlZ2VuZDoxfSxjKSxmaWdjYXB0aW9uOmMsZmlndXJlOmEoe2ZpZ2NhcHRpb246MX0sYyksZm9vdGVyOmMsZm9ybTpjLGgxOmIsaDI6YixoMzpiLGg0OmIsaDU6YixoNjpiLGhlYWQ6YSh7dGl0bGU6MSxiYXNlOjF9LG0pLGhlYWRlcjpjLGhncm91cDp7aDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjF9LGhyOmwsaHRtbDphKHtoZWFkOjEsYm9keToxfSxjLG0pLGk6YixpZnJhbWU6ZCxpbWc6bCxpbnB1dDpsLGluczpiLGtiZDpiLGtleWdlbjpsLGxhYmVsOmIsbGVnZW5kOmIsbGk6YyxsaW5rOmwsbWFpbjpjLG1hcDpjLG1hcms6YixtZW51OmEoe2xpOjF9LGMpLG1ldGE6bCxtZXRlcjpmKGIse21ldGVyOjF9KSxuYXY6Yyxub3NjcmlwdDphKHtsaW5rOjEsbWV0YToxLHN0eWxlOjF9LGIpLG9iamVjdDphKHtwYXJhbToxfSxiKSxvbDp7bGk6MX0sb3B0Z3JvdXA6e29wdGlvbjoxfSxvcHRpb246ZCxvdXRwdXQ6YixwOmIsXG5wYXJhbTpsLHByZTpiLHByb2dyZXNzOmYoYix7cHJvZ3Jlc3M6MX0pLHE6YixycDpiLHJ0OmIscnVieTphKHtycDoxLHJ0OjF9LGIpLHM6YixzYW1wOmIsc2NyaXB0OmQsc2VjdGlvbjpjLHNlbGVjdDp7b3B0Z3JvdXA6MSxvcHRpb246MX0sc21hbGw6Yixzb3VyY2U6bCxzcGFuOmIsc3Ryb25nOmIsc3R5bGU6ZCxzdWI6YixzdW1tYXJ5OmEoe2gxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxfSxiKSxzdXA6Yix0YWJsZTp7Y2FwdGlvbjoxLGNvbGdyb3VwOjEsdGhlYWQ6MSx0Zm9vdDoxLHRib2R5OjEsdHI6MX0sdGJvZHk6e3RyOjF9LHRkOmMsdGV4dGFyZWE6ZCx0Zm9vdDp7dHI6MX0sdGg6Yyx0aGVhZDp7dHI6MX0sdGltZTpmKGIse3RpbWU6MX0pLHRpdGxlOmQsdHI6e3RoOjEsdGQ6MX0sdHJhY2s6bCx1OmIsdWw6e2xpOjF9LFwidmFyXCI6Yix2aWRlbzphKHtzb3VyY2U6MSx0cmFjazoxfSxjKSx3YnI6bCxhY3JvbnltOmIsYXBwbGV0OmEoe3BhcmFtOjF9LGMpLGJhc2Vmb250OmwsXG5iaWc6YixjZW50ZXI6YyxkaWFsb2c6bCxkaXI6e2xpOjF9LGZvbnQ6Yixpc2luZGV4Omwsbm9mcmFtZXM6YyxzdHJpa2U6Yix0dDpifTthKGYseyRibG9jazphKHthdWRpbzoxLGRkOjEsZHQ6MSxmaWdjYXB0aW9uOjEsbGk6MSx2aWRlbzoxfSxlLGgpLCRibG9ja0xpbWl0OnthcnRpY2xlOjEsYXNpZGU6MSxhdWRpbzoxLGJvZHk6MSxjYXB0aW9uOjEsZGV0YWlsczoxLGRpcjoxLGRpdjoxLGRsOjEsZmllbGRzZXQ6MSxmaWdjYXB0aW9uOjEsZmlndXJlOjEsZm9vdGVyOjEsZm9ybToxLGhlYWRlcjoxLGhncm91cDoxLG1haW46MSxtZW51OjEsbmF2OjEsb2w6MSxzZWN0aW9uOjEsdGFibGU6MSx0ZDoxLHRoOjEsdHI6MSx1bDoxLHZpZGVvOjF9LCRjZGF0YTp7c2NyaXB0OjEsc3R5bGU6MX0sJGVkaXRhYmxlOnthZGRyZXNzOjEsYXJ0aWNsZToxLGFzaWRlOjEsYmxvY2txdW90ZToxLGJvZHk6MSxkZXRhaWxzOjEsZGl2OjEsZmllbGRzZXQ6MSxmaWdjYXB0aW9uOjEsZm9vdGVyOjEsZm9ybToxLFxuaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEsaGVhZGVyOjEsaGdyb3VwOjEsbWFpbjoxLG5hdjoxLHA6MSxwcmU6MSxzZWN0aW9uOjF9LCRlbXB0eTp7YXJlYToxLGJhc2U6MSxiYXNlZm9udDoxLGJyOjEsY29sOjEsY29tbWFuZDoxLGRpYWxvZzoxLGVtYmVkOjEsaHI6MSxpbWc6MSxpbnB1dDoxLGlzaW5kZXg6MSxrZXlnZW46MSxsaW5rOjEsbWV0YToxLHBhcmFtOjEsc291cmNlOjEsdHJhY2s6MSx3YnI6MX0sJGlubGluZTpiLCRsaXN0OntkbDoxLG9sOjEsdWw6MX0sJGxpc3RJdGVtOntkZDoxLGR0OjEsbGk6MX0sJG5vbkJvZHlDb250ZW50OmEoe2JvZHk6MSxoZWFkOjEsaHRtbDoxfSxmLmhlYWQpLCRub25FZGl0YWJsZTp7YXBwbGV0OjEsYXVkaW86MSxidXR0b246MSxlbWJlZDoxLGlmcmFtZToxLG1hcDoxLG9iamVjdDoxLG9wdGlvbjoxLHBhcmFtOjEsc2NyaXB0OjEsdGV4dGFyZWE6MSx2aWRlbzoxfSwkb2JqZWN0OnthcHBsZXQ6MSxhdWRpbzoxLGJ1dHRvbjoxLGhyOjEsXG5pZnJhbWU6MSxpbWc6MSxpbnB1dDoxLG9iamVjdDoxLHNlbGVjdDoxLHRhYmxlOjEsdGV4dGFyZWE6MSx2aWRlbzoxfSwkcmVtb3ZlRW1wdHk6e2FiYnI6MSxhY3JvbnltOjEsYjoxLGJkaToxLGJkbzoxLGJpZzoxLGNpdGU6MSxjb2RlOjEsZGVsOjEsZGZuOjEsZW06MSxmb250OjEsaToxLGluczoxLGxhYmVsOjEsa2JkOjEsbWFyazoxLG1ldGVyOjEsb3V0cHV0OjEscToxLHJ1Ynk6MSxzOjEsc2FtcDoxLHNtYWxsOjEsc3BhbjoxLHN0cmlrZToxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHRpbWU6MSx0dDoxLHU6MSxcInZhclwiOjF9LCR0YWJJbmRleDp7YToxLGFyZWE6MSxidXR0b246MSxpbnB1dDoxLG9iamVjdDoxLHNlbGVjdDoxLHRleHRhcmVhOjF9LCR0YWJsZUNvbnRlbnQ6e2NhcHRpb246MSxjb2w6MSxjb2xncm91cDoxLHRib2R5OjEsdGQ6MSx0Zm9vdDoxLHRoOjEsdGhlYWQ6MSx0cjoxfSwkdHJhbnNwYXJlbnQ6e2E6MSxhdWRpbzoxLGNhbnZhczoxLGRlbDoxLGluczoxLG1hcDoxLFxubm9zY3JpcHQ6MSxvYmplY3Q6MSx2aWRlbzoxfSwkaW50ZXJtZWRpYXRlOntjYXB0aW9uOjEsY29sZ3JvdXA6MSxkZDoxLGR0OjEsZmlnY2FwdGlvbjoxLGxlZ2VuZDoxLGxpOjEsb3B0Z3JvdXA6MSxvcHRpb246MSxycDoxLHJ0OjEsc3VtbWFyeToxLHRib2R5OjEsdGQ6MSx0Zm9vdDoxLHRoOjEsdGhlYWQ6MSx0cjoxfX0pO3JldHVybiBmfSgpLENLRURJVE9SLmRvbS5ldmVudD1mdW5jdGlvbihhKXt0aGlzLiQ9YX0sQ0tFRElUT1IuZG9tLmV2ZW50LnByb3RvdHlwZT17Z2V0S2V5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5rZXlDb2RlfHx0aGlzLiQud2hpY2h9LGdldEtleXN0cm9rZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0S2V5KCk7aWYodGhpcy4kLmN0cmxLZXl8fHRoaXMuJC5tZXRhS2V5KWErPUNLRURJVE9SLkNUUkw7dGhpcy4kLnNoaWZ0S2V5JiYoYSs9Q0tFRElUT1IuU0hJRlQpO3RoaXMuJC5hbHRLZXkmJihhKz1DS0VESVRPUi5BTFQpO3JldHVybiBhfSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbihhKXt2YXIgZj1cbnRoaXMuJDtmLnByZXZlbnREZWZhdWx0P2YucHJldmVudERlZmF1bHQoKTpmLnJldHVyblZhbHVlPSExO2EmJnRoaXMuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDthLnN0b3BQcm9wYWdhdGlvbj9hLnN0b3BQcm9wYWdhdGlvbigpOmEuY2FuY2VsQnViYmxlPSEwfSxnZXRUYXJnZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQudGFyZ2V0fHx0aGlzLiQuc3JjRWxlbWVudDtyZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYSk6bnVsbH0sZ2V0UGhhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmV2ZW50UGhhc2V8fDJ9LGdldFBhZ2VPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFRhcmdldCgpLmdldERvY3VtZW50KCkuJDtyZXR1cm57eDp0aGlzLiQucGFnZVh8fHRoaXMuJC5jbGllbnRYKyhhLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxhLmJvZHkuc2Nyb2xsTGVmdCkseTp0aGlzLiQucGFnZVl8fFxudGhpcy4kLmNsaWVudFkrKGEuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8YS5ib2R5LnNjcm9sbFRvcCl9fX0sQ0tFRElUT1IuQ1RSTD0xMTE0MTEyLENLRURJVE9SLlNISUZUPTIyMjgyMjQsQ0tFRElUT1IuQUxUPTQ0NTY0NDgsQ0tFRElUT1IuRVZFTlRfUEhBU0VfQ0FQVFVSSU5HPTEsQ0tFRElUT1IuRVZFTlRfUEhBU0VfQVRfVEFSR0VUPTIsQ0tFRElUT1IuRVZFTlRfUEhBU0VfQlVCQkxJTkc9MyxDS0VESVRPUi5kb20uZG9tT2JqZWN0PWZ1bmN0aW9uKGEpe2EmJih0aGlzLiQ9YSl9LENLRURJVE9SLmRvbS5kb21PYmplY3QucHJvdG90eXBlPWZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIENLRURJVE9SJiZhLmZpcmUoYixuZXcgQ0tFRElUT1IuZG9tLmV2ZW50KGMpKX19O3JldHVybntnZXRQcml2YXRlOmZ1bmN0aW9uKCl7dmFyIGE7KGE9dGhpcy5nZXRDdXN0b21EYXRhKFwiX1wiKSl8fHRoaXMuc2V0Q3VzdG9tRGF0YShcIl9cIixcbmE9e30pO3JldHVybiBhfSxvbjpmdW5jdGlvbihmKXt2YXIgYj10aGlzLmdldEN1c3RvbURhdGEoXCJfY2tlX25hdGl2ZUxpc3RlbmVyc1wiKTtifHwoYj17fSx0aGlzLnNldEN1c3RvbURhdGEoXCJfY2tlX25hdGl2ZUxpc3RlbmVyc1wiLGIpKTtiW2ZdfHwoYj1iW2ZdPWEodGhpcyxmKSx0aGlzLiQuYWRkRXZlbnRMaXN0ZW5lcj90aGlzLiQuYWRkRXZlbnRMaXN0ZW5lcihmLGIsISFDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlKTp0aGlzLiQuYXR0YWNoRXZlbnQmJnRoaXMuJC5hdHRhY2hFdmVudChcIm9uXCIrZixiKSk7cmV0dXJuIENLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5vbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHJlbW92ZUxpc3RlbmVyOmZ1bmN0aW9uKGEpe0NLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoIXRoaXMuaGFzTGlzdGVuZXJzKGEpKXt2YXIgYj10aGlzLmdldEN1c3RvbURhdGEoXCJfY2tlX25hdGl2ZUxpc3RlbmVyc1wiKSxcbmM9YiYmYlthXTtjJiYodGhpcy4kLnJlbW92ZUV2ZW50TGlzdGVuZXI/dGhpcy4kLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxjLCExKTp0aGlzLiQuZGV0YWNoRXZlbnQmJnRoaXMuJC5kZXRhY2hFdmVudChcIm9uXCIrYSxjKSxkZWxldGUgYlthXSl9fSxyZW1vdmVBbGxMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1c3RvbURhdGEoXCJfY2tlX25hdGl2ZUxpc3RlbmVyc1wiKSxiO2ZvcihiIGluIGEpe3ZhciBjPWFbYl07dGhpcy4kLmRldGFjaEV2ZW50P3RoaXMuJC5kZXRhY2hFdmVudChcIm9uXCIrYixjKTp0aGlzLiQucmVtb3ZlRXZlbnRMaXN0ZW5lciYmdGhpcy4kLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixjLCExKTtkZWxldGUgYVtiXX1DS0VESVRPUi5ldmVudC5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzLmNhbGwodGhpcyl9fX0oKSxmdW5jdGlvbihhKXt2YXIgZj17fTtDS0VESVRPUi5vbihcInJlc2V0XCIsZnVuY3Rpb24oKXtmPXt9fSk7YS5lcXVhbHM9ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiBhJiZcbmEuJD09PXRoaXMuJH1jYXRjaChjKXtyZXR1cm4hMX19O2Euc2V0Q3VzdG9tRGF0YT1mdW5jdGlvbihhLGMpe3ZhciBlPXRoaXMuZ2V0VW5pcXVlSWQoKTsoZltlXXx8KGZbZV09e30pKVthXT1jO3JldHVybiB0aGlzfTthLmdldEN1c3RvbURhdGE9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXTtyZXR1cm4oYz1jJiZmW2NdKSYmYSBpbiBjP2NbYV06bnVsbH07YS5yZW1vdmVDdXN0b21EYXRhPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl0sYz1jJiZmW2NdLGUsbTtjJiYoZT1jW2FdLG09YSBpbiBjLGRlbGV0ZSBjW2FdKTtyZXR1cm4gbT9lOm51bGx9O2EuY2xlYXJDdXN0b21EYXRhPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTt2YXIgYT10aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdO2EmJmRlbGV0ZSBmW2FdfTthLmdldFVuaXF1ZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl18fFxuKHRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl09Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpKX07Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oYSl9KENLRURJVE9SLmRvbS5kb21PYmplY3QucHJvdG90eXBlKSxDS0VESVRPUi5kb20ubm9kZT1mdW5jdGlvbihhKXtyZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tW2Eubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlQ/XCJkb2N1bWVudFwiOmEubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9cImVsZW1lbnRcIjphLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/XCJ0ZXh0XCI6YS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9DT01NRU5UP1wiY29tbWVudFwiOmEubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQ/XCJkb2N1bWVudEZyYWdtZW50XCI6XCJkb21PYmplY3RcIl0oYSk6dGhpc30sQ0tFRElUT1IuZG9tLm5vZGUucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0LENLRURJVE9SLk5PREVfRUxFTUVOVD1cbjEsQ0tFRElUT1IuTk9ERV9ET0NVTUVOVD05LENLRURJVE9SLk5PREVfVEVYVD0zLENLRURJVE9SLk5PREVfQ09NTUVOVD04LENLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQ9MTEsQ0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMPTAsQ0tFRElUT1IuUE9TSVRJT05fRElTQ09OTkVDVEVEPTEsQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HPTIsQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HPTQsQ0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEPTgsQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlM9MTYsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5ub2RlLnByb3RvdHlwZSx7YXBwZW5kVG86ZnVuY3Rpb24oYSxmKXthLmFwcGVuZCh0aGlzLGYpO3JldHVybiBhfSxjbG9uZTpmdW5jdGlvbihhLGYpe2Z1bmN0aW9uIGIoYyl7Y1tcImRhdGEtY2tlLWV4cGFuZG9cIl0mJihjW1wiZGF0YS1ja2UtZXhwYW5kb1wiXT0hMSk7aWYoYy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxcbmMubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpaWYoZnx8Yy5ub2RlVHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxjLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIsITEpLGEpe2M9Yy5jaGlsZE5vZGVzO2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWIoY1tlXSl9fWZ1bmN0aW9uIGMoYil7aWYoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGIudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl7aWYoYi50eXBlIT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKXt2YXIgZT1iLmdldE5hbWUoKTtcIjpcIj09ZVswXSYmYi5yZW5hbWVOb2RlKGUuc3Vic3RyaW5nKDEpKX1pZihhKWZvcihlPTA7ZTxiLmdldENoaWxkQ291bnQoKTtlKyspYyhiLmdldENoaWxkKGUpKX19dmFyIGU9dGhpcy4kLmNsb25lTm9kZShhKTtiKGUpO2U9bmV3IENLRURJVE9SLmRvbS5ub2RlKGUpO0NLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmXG4odGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fHRoaXMudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCkmJmMoZSk7cmV0dXJuIGV9LGhhc1ByZXZpb3VzOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLiQucHJldmlvdXNTaWJsaW5nfSxoYXNOZXh0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLiQubmV4dFNpYmxpbmd9LGluc2VydEFmdGVyOmZ1bmN0aW9uKGEpe2EuJC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLiQsYS4kLm5leHRTaWJsaW5nKTtyZXR1cm4gYX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGEpe2EuJC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLiQsYS4kKTtyZXR1cm4gYX0saW5zZXJ0QmVmb3JlTWU6ZnVuY3Rpb24oYSl7dGhpcy4kLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEuJCx0aGlzLiQpO3JldHVybiBhfSxnZXRBZGRyZXNzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgZj1bXSxiPXRoaXMuZ2V0RG9jdW1lbnQoKS4kLmRvY3VtZW50RWxlbWVudCxcbmM9dGhpcy4kO2MmJmMhPWI7KXt2YXIgZT1jLnBhcmVudE5vZGU7ZSYmZi51bnNoaWZ0KHRoaXMuZ2V0SW5kZXguY2FsbCh7JDpjfSxhKSk7Yz1lfXJldHVybiBmfSxnZXREb2N1bWVudDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KHRoaXMuJC5vd25lckRvY3VtZW50fHx0aGlzLiQucGFyZW50Tm9kZS5vd25lckRvY3VtZW50KX0sZ2V0SW5kZXg6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZihhLGQpe3ZhciBoPWQ/YS5uZXh0U2libGluZzphLnByZXZpb3VzU2libGluZztyZXR1cm4gaCYmaC5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP2IoaCk/ZihoLGQpOmg6bnVsbH1mdW5jdGlvbiBiKGEpe3JldHVybiFhLm5vZGVWYWx1ZXx8YS5ub2RlVmFsdWU9PUNLRURJVE9SLmRvbS5zZWxlY3Rpb24uRklMTElOR19DSEFSX1NFUVVFTkNFfXZhciBjPXRoaXMuJCxlPS0xLG07aWYoIXRoaXMuJC5wYXJlbnROb2RlfHxhJiZjLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJlxuYihjKSYmIWYoYykmJiFmKGMsITApKXJldHVybi0xO2RvIGEmJmMhPXRoaXMuJCYmYy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYobXx8YihjKSl8fChlKyssbT1jLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpO3doaWxlKGM9Yy5wcmV2aW91c1NpYmxpbmcpO3JldHVybiBlfSxnZXROZXh0U291cmNlTm9kZTpmdW5jdGlvbihhLGYsYil7aWYoYiYmIWIuY2FsbCl7dmFyIGM9YjtiPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhjKX19YT0hYSYmdGhpcy5nZXRGaXJzdCYmdGhpcy5nZXRGaXJzdCgpO3ZhciBlO2lmKCFhKXtpZih0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYiYmITE9PT1iKHRoaXMsITApKXJldHVybiBudWxsO2E9dGhpcy5nZXROZXh0KCl9Zm9yKDshYSYmKGU9KGV8fHRoaXMpLmdldFBhcmVudCgpKTspe2lmKGImJiExPT09YihlLCEwKSlyZXR1cm4gbnVsbDthPWUuZ2V0TmV4dCgpfXJldHVybiFhfHxiJiYhMT09PWIoYSk/bnVsbDpcbmYmJmYhPWEudHlwZT9hLmdldE5leHRTb3VyY2VOb2RlKCExLGYsYik6YX0sZ2V0UHJldmlvdXNTb3VyY2VOb2RlOmZ1bmN0aW9uKGEsZixiKXtpZihiJiYhYi5jYWxsKXt2YXIgYz1iO2I9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuZXF1YWxzKGMpfX1hPSFhJiZ0aGlzLmdldExhc3QmJnRoaXMuZ2V0TGFzdCgpO3ZhciBlO2lmKCFhKXtpZih0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYiYmITE9PT1iKHRoaXMsITApKXJldHVybiBudWxsO2E9dGhpcy5nZXRQcmV2aW91cygpfWZvcig7IWEmJihlPShlfHx0aGlzKS5nZXRQYXJlbnQoKSk7KXtpZihiJiYhMT09PWIoZSwhMCkpcmV0dXJuIG51bGw7YT1lLmdldFByZXZpb3VzKCl9cmV0dXJuIWF8fGImJiExPT09YihhKT9udWxsOmYmJmEudHlwZSE9Zj9hLmdldFByZXZpb3VzU291cmNlTm9kZSghMSxmLGIpOmF9LGdldFByZXZpb3VzOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuJCxiO2RvIGI9KGY9Zi5wcmV2aW91c1NpYmxpbmcpJiZcbjEwIT1mLm5vZGVUeXBlJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZik7d2hpbGUoYiYmYSYmIWEoYikpO3JldHVybiBifSxnZXROZXh0OmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuJCxiO2RvIGI9KGY9Zi5uZXh0U2libGluZykmJm5ldyBDS0VESVRPUi5kb20ubm9kZShmKTt3aGlsZShiJiZhJiYhYShiKSk7cmV0dXJuIGJ9LGdldFBhcmVudDpmdW5jdGlvbihhKXt2YXIgZj10aGlzLiQucGFyZW50Tm9kZTtyZXR1cm4gZiYmKGYubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVHx8YSYmZi5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCk/bmV3IENLRURJVE9SLmRvbS5ub2RlKGYpOm51bGx9LGdldFBhcmVudHM6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcyxiPVtdO2RvIGJbYT9cInB1c2hcIjpcInVuc2hpZnRcIl0oZik7d2hpbGUoZj1mLmdldFBhcmVudCgpKTtyZXR1cm4gYn0sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oYSl7aWYoYS5lcXVhbHModGhpcykpcmV0dXJuIHRoaXM7XG5pZihhLmNvbnRhaW5zJiZhLmNvbnRhaW5zKHRoaXMpKXJldHVybiBhO3ZhciBmPXRoaXMuY29udGFpbnM/dGhpczp0aGlzLmdldFBhcmVudCgpO2RvIGlmKGYuY29udGFpbnMoYSkpcmV0dXJuIGY7d2hpbGUoZj1mLmdldFBhcmVudCgpKTtyZXR1cm4gbnVsbH0sZ2V0UG9zaXRpb246ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy4kLGI9YS4kO2lmKGYuY29tcGFyZURvY3VtZW50UG9zaXRpb24pcmV0dXJuIGYuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYik7aWYoZj09YilyZXR1cm4gQ0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMO2lmKHRoaXMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7aWYoZi5jb250YWlucyl7aWYoZi5jb250YWlucyhiKSlyZXR1cm4gQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlMrQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HO2lmKGIuY29udGFpbnMoZikpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCtcbkNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lOR31pZihcInNvdXJjZUluZGV4XCJpbiBmKXJldHVybiAwPmYuc291cmNlSW5kZXh8fDA+Yi5zb3VyY2VJbmRleD9DS0VESVRPUi5QT1NJVElPTl9ESVNDT05ORUNURUQ6Zi5zb3VyY2VJbmRleDxiLnNvdXJjZUluZGV4P0NLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORzpDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd9Zj10aGlzLmdldEFkZHJlc3MoKTthPWEuZ2V0QWRkcmVzcygpO2Zvcih2YXIgYj1NYXRoLm1pbihmLmxlbmd0aCxhLmxlbmd0aCksYz0wO2M8YjtjKyspaWYoZltjXSE9YVtjXSlyZXR1cm4gZltjXTxhW2NdP0NLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORzpDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkc7cmV0dXJuIGYubGVuZ3RoPGEubGVuZ3RoP0NLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORzpDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQrQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfSxcbmdldEFzY2VuZGFudDpmdW5jdGlvbihhLGYpe3ZhciBiPXRoaXMuJCxjLGU7Znx8KGI9Yi5wYXJlbnROb2RlKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBhPyhlPSEwLGM9YSk6KGU9ITEsYz1mdW5jdGlvbihiKXtiPVwic3RyaW5nXCI9PXR5cGVvZiBiLm5vZGVOYW1lP2Iubm9kZU5hbWUudG9Mb3dlckNhc2UoKTpcIlwiO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhP2I9PWE6YiBpbiBhfSk7Zm9yKDtiOyl7aWYoYyhlP25ldyBDS0VESVRPUi5kb20ubm9kZShiKTpiKSlyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlKGIpO3RyeXtiPWIucGFyZW50Tm9kZX1jYXRjaChtKXtiPW51bGx9fXJldHVybiBudWxsfSxoYXNBc2NlbmRhbnQ6ZnVuY3Rpb24oYSxmKXt2YXIgYj10aGlzLiQ7Znx8KGI9Yi5wYXJlbnROb2RlKTtmb3IoO2I7KXtpZihiLm5vZGVOYW1lJiZiLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PWEpcmV0dXJuITA7Yj1iLnBhcmVudE5vZGV9cmV0dXJuITF9LG1vdmU6ZnVuY3Rpb24oYSxmKXthLmFwcGVuZCh0aGlzLnJlbW92ZSgpLFxuZil9LHJlbW92ZTpmdW5jdGlvbihhKXt2YXIgZj10aGlzLiQsYj1mLnBhcmVudE5vZGU7aWYoYil7aWYoYSlmb3IoO2E9Zi5maXJzdENoaWxkOyliLmluc2VydEJlZm9yZShmLnJlbW92ZUNoaWxkKGEpLGYpO2IucmVtb3ZlQ2hpbGQoZil9cmV0dXJuIHRoaXN9LHJlcGxhY2U6ZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRCZWZvcmUoYSk7YS5yZW1vdmUoKX0sdHJpbTpmdW5jdGlvbigpe3RoaXMubHRyaW0oKTt0aGlzLnJ0cmltKCl9LGx0cmltOmZ1bmN0aW9uKCl7Zm9yKHZhciBhO3RoaXMuZ2V0Rmlyc3QmJihhPXRoaXMuZ2V0Rmlyc3QoKSk7KXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7dmFyIGY9Q0tFRElUT1IudG9vbHMubHRyaW0oYS5nZXRUZXh0KCkpLGI9YS5nZXRMZW5ndGgoKTtpZihmKWYubGVuZ3RoPGImJihhLnNwbGl0KGItZi5sZW5ndGgpLHRoaXMuJC5yZW1vdmVDaGlsZCh0aGlzLiQuZmlyc3RDaGlsZCkpO2Vsc2V7YS5yZW1vdmUoKTtjb250aW51ZX19YnJlYWt9fSxcbnJ0cmltOmZ1bmN0aW9uKCl7Zm9yKHZhciBhO3RoaXMuZ2V0TGFzdCYmKGE9dGhpcy5nZXRMYXN0KCkpOyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe3ZhciBmPUNLRURJVE9SLnRvb2xzLnJ0cmltKGEuZ2V0VGV4dCgpKSxiPWEuZ2V0TGVuZ3RoKCk7aWYoZilmLmxlbmd0aDxiJiYoYS5zcGxpdChmLmxlbmd0aCksdGhpcy4kLmxhc3RDaGlsZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuJC5sYXN0Q2hpbGQpKTtlbHNle2EucmVtb3ZlKCk7Y29udGludWV9fWJyZWFrfUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiYoYT10aGlzLiQubGFzdENoaWxkKSYmMT09YS50eXBlJiZcImJyXCI9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpfSxpc1JlYWRPbmx5OmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXM7dGhpcy50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihmPXRoaXMuZ2V0UGFyZW50KCkpO0NLRURJVE9SLmVudi5lZGdlJiZcbmYmJmYuaXMoXCJ0ZXh0YXJlYVwiLFwiaW5wdXRcIikmJihhPSEwKTtpZighYSYmZiYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGYuJC5pc0NvbnRlbnRFZGl0YWJsZSlyZXR1cm4hKGYuJC5pc0NvbnRlbnRFZGl0YWJsZXx8Zi5kYXRhKFwiY2tlLWVkaXRhYmxlXCIpKTtmb3IoO2Y7KXtpZihmLmRhdGEoXCJja2UtZWRpdGFibGVcIikpcmV0dXJuITE7aWYoZi5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpcmV0dXJuXCJmYWxzZVwiPT1mLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKTtmPWYuZ2V0UGFyZW50KCl9cmV0dXJuITB9fSksQ0tFRElUT1IuZG9tLndpbmRvdz1mdW5jdGlvbihhKXtDS0VESVRPUi5kb20uZG9tT2JqZWN0LmNhbGwodGhpcyxhKX0sQ0tFRElUT1IuZG9tLndpbmRvdy5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5kb21PYmplY3QsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS53aW5kb3cucHJvdG90eXBlLHtmb2N1czpmdW5jdGlvbigpe3RoaXMuJC5mb2N1cygpfSxcbmdldFZpZXdQYW5lU2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5kb2N1bWVudCxmPVwiQ1NTMUNvbXBhdFwiPT1hLmNvbXBhdE1vZGU7cmV0dXJue3dpZHRoOihmP2EuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOmEuYm9keS5jbGllbnRXaWR0aCl8fDAsaGVpZ2h0OihmP2EuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDphLmJvZHkuY2xpZW50SGVpZ2h0KXx8MH19LGdldFNjcm9sbFBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kO2lmKFwicGFnZVhPZmZzZXRcImluIGEpcmV0dXJue3g6YS5wYWdlWE9mZnNldHx8MCx5OmEucGFnZVlPZmZzZXR8fDB9O2E9YS5kb2N1bWVudDtyZXR1cm57eDphLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxhLmJvZHkuc2Nyb2xsTGVmdHx8MCx5OmEuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8YS5ib2R5LnNjcm9sbFRvcHx8MH19LGdldEZyYW1lOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmZyYW1lRWxlbWVudDtyZXR1cm4gYT9cbm5ldyBDS0VESVRPUi5kb20uZWxlbWVudC5nZXQoYSk6bnVsbH19KSxDS0VESVRPUi5kb20uZG9jdW1lbnQ9ZnVuY3Rpb24oYSl7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYSl9LENLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5kb21PYmplY3QsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGUse3R5cGU6Q0tFRElUT1IuTk9ERV9ET0NVTUVOVCxhcHBlbmRTdHlsZVNoZWV0OmZ1bmN0aW9uKGEpe2lmKHRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KXRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KGEpO2Vsc2V7dmFyIGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwibGlua1wiKTtmLnNldEF0dHJpYnV0ZXMoe3JlbDpcInN0eWxlc2hlZXRcIix0eXBlOlwidGV4dC9jc3NcIixocmVmOmF9KTt0aGlzLmdldEhlYWQoKS5hcHBlbmQoZil9fSxhcHBlbmRTdHlsZVRleHQ6ZnVuY3Rpb24oYSl7aWYodGhpcy4kLmNyZWF0ZVN0eWxlU2hlZXQpe3ZhciBmPVxudGhpcy4kLmNyZWF0ZVN0eWxlU2hlZXQoXCJcIik7Zi5jc3NUZXh0PWF9ZWxzZXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzdHlsZVwiLHRoaXMpO2IuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20udGV4dChhLHRoaXMpKTt0aGlzLmdldEhlYWQoKS5hcHBlbmQoYil9cmV0dXJuIGZ8fGIuJC5zaGVldH0sY3JlYXRlRWxlbWVudDpmdW5jdGlvbihhLGYpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhLHRoaXMpO2YmJihmLmF0dHJpYnV0ZXMmJmIuc2V0QXR0cmlidXRlcyhmLmF0dHJpYnV0ZXMpLGYuc3R5bGVzJiZiLnNldFN0eWxlcyhmLnN0eWxlcykpO3JldHVybiBifSxjcmVhdGVUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSx0aGlzKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmdldFdpbmRvdygpLmZvY3VzKCl9LGdldEFjdGl2ZTpmdW5jdGlvbigpe3ZhciBhO3RyeXthPXRoaXMuJC5hY3RpdmVFbGVtZW50fWNhdGNoKGYpe3JldHVybiBudWxsfXJldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSl9LFxuZ2V0QnlJZDpmdW5jdGlvbihhKXtyZXR1cm4oYT10aGlzLiQuZ2V0RWxlbWVudEJ5SWQoYSkpP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKTpudWxsfSxnZXRCeUFkZHJlc3M6ZnVuY3Rpb24oYSxmKXtmb3IodmFyIGI9dGhpcy4kLmRvY3VtZW50RWxlbWVudCxjPTA7YiYmYzxhLmxlbmd0aDtjKyspe3ZhciBlPWFbY107aWYoZilmb3IodmFyIG09LTEsbD0wO2w8Yi5jaGlsZE5vZGVzLmxlbmd0aDtsKyspe3ZhciBkPWIuY2hpbGROb2Rlc1tsXTtpZighMCE9PWZ8fDMhPWQubm9kZVR5cGV8fCFkLnByZXZpb3VzU2libGluZ3x8MyE9ZC5wcmV2aW91c1NpYmxpbmcubm9kZVR5cGUpaWYobSsrLG09PWUpe2I9ZDticmVha319ZWxzZSBiPWIuY2hpbGROb2Rlc1tlXX1yZXR1cm4gYj9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYik6bnVsbH0sZ2V0RWxlbWVudHNCeVRhZzpmdW5jdGlvbihhLGYpe0NLRURJVE9SLmVudi5pZSYmOD49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwhZnx8KGE9ZitcIjpcIitcbmEpO3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSl9LGdldEhlYWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO3JldHVybiBhPWE/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpOnRoaXMuZ2V0RG9jdW1lbnRFbGVtZW50KCkuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImhlYWRcIiksITApfSxnZXRCb2R5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh0aGlzLiQuYm9keSl9LGdldERvY3VtZW50RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGhpcy4kLmRvY3VtZW50RWxlbWVudCl9LGdldFdpbmRvdzpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLndpbmRvdyh0aGlzLiQucGFyZW50V2luZG93fHx0aGlzLiQuZGVmYXVsdFZpZXcpfSx3cml0ZTpmdW5jdGlvbihhKXt0aGlzLiQub3BlbihcInRleHQvaHRtbFwiLFxuXCJyZXBsYWNlXCIpO0NLRURJVE9SLmVudi5pZSYmKGE9YS5yZXBsYWNlKC8oPzpeXFxzKjwhRE9DVFlQRVtePl0qPz4pfF4vaSwnJFxceDI2XFxuXFx4M2NzY3JpcHQgZGF0YS1ja2UtdGVtcFxceDNkXCIxXCJcXHgzZSgnK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtcXHgzYy9zY3JpcHRcXHgzZVwiKSk7dGhpcy4kLndyaXRlKGEpO3RoaXMuJC5jbG9zZSgpfSxmaW5kOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5xdWVyeVNlbGVjdG9yQWxsKGEpKX0sZmluZE9uZTpmdW5jdGlvbihhKXtyZXR1cm4oYT10aGlzLiQucXVlcnlTZWxlY3RvcihhKSk/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpOm51bGx9LF9nZXRIdG1sNVNoaXZGcmFnOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXN0b21EYXRhKFwiaHRtbDVTaGl2RnJhZ1wiKTthfHwoYT10aGlzLiQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLENLRURJVE9SLnRvb2xzLmVuYWJsZUh0bWw1RWxlbWVudHMoYSxcbiEwKSx0aGlzLnNldEN1c3RvbURhdGEoXCJodG1sNVNoaXZGcmFnXCIsYSkpO3JldHVybiBhfX0pLENLRURJVE9SLmRvbS5ub2RlTGlzdD1mdW5jdGlvbihhKXt0aGlzLiQ9YX0sQ0tFRElUT1IuZG9tLm5vZGVMaXN0LnByb3RvdHlwZT17Y291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmxlbmd0aH0sZ2V0SXRlbTpmdW5jdGlvbihhKXtyZXR1cm4gMD5hfHxhPj10aGlzLiQubGVuZ3RoP251bGw6KGE9dGhpcy4kW2FdKT9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYSk6bnVsbH19LENLRURJVE9SLmRvbS5lbGVtZW50PWZ1bmN0aW9uKGEsZil7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPShmP2YuJDpkb2N1bWVudCkuY3JlYXRlRWxlbWVudChhKSk7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYSl9LENLRURJVE9SLmRvbS5lbGVtZW50LmdldD1mdW5jdGlvbihhKXtyZXR1cm4oYT1cInN0cmluZ1wiPT10eXBlb2YgYT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKXx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoYSlbMF06XG5hKSYmKGEuJD9hOm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKSl9LENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZT1uZXcgQ0tFRElUT1IuZG9tLm5vZGUsQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWw9ZnVuY3Rpb24oYSxmKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIixmKTtiLnNldEh0bWwoYSk7cmV0dXJuIGIuZ2V0Rmlyc3QoKS5yZW1vdmUoKX0sQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyPWZ1bmN0aW9uKGEsZixiLGMpe3ZhciBlPWYuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX2lkXCIpfHxmLnNldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiLENLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSkuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX2lkXCIpLG09Zi5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIil8fGYuc2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIse30pLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9uYW1lc1wiKTtcbmFbZV09ZjttW2JdPTE7cmV0dXJuIGYuc2V0Q3VzdG9tRGF0YShiLGMpfSxDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBmIGluIGEpQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJNYXJrZXJzKGEsYVtmXSwxKX0sQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJNYXJrZXJzPWZ1bmN0aW9uKGEsZixiKXt2YXIgYz1mLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9uYW1lc1wiKSxlPWYuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX2lkXCIpLG07Zm9yKG0gaW4gYylmLnJlbW92ZUN1c3RvbURhdGEobSk7Zi5yZW1vdmVDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIik7YiYmKGYucmVtb3ZlQ3VzdG9tRGF0YShcImxpc3RfbWFya2VyX2lkXCIpLGRlbGV0ZSBhW2VdKX0sZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7cmV0dXJuLTE8KFwiIFwiK2ErXCIgXCIpLnJlcGxhY2UobSxcIiBcIikuaW5kZXhPZihcIiBcIitiK1wiIFwiKX1mdW5jdGlvbiBmKGEpe3ZhciBiPVxuITA7YS4kLmlkfHwoYS4kLmlkPVwiY2tlX3RtcF9cIitDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCksYj0hMSk7cmV0dXJuIGZ1bmN0aW9uKCl7Ynx8YS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKX19ZnVuY3Rpb24gYihhLGIpe3ZhciBjPUNLRURJVE9SLnRvb2xzLmVzY2FwZUNzcyhhLiQuaWQpO3JldHVyblwiI1wiK2MrXCIgXCIrYi5zcGxpdCgvLFxccyovKS5qb2luKFwiLCAjXCIrYytcIiBcIil9ZnVuY3Rpb24gYyhhKXtmb3IodmFyIGI9MCxjPTAsZz1sW2FdLmxlbmd0aDtjPGc7YysrKWIrPXBhcnNlSW50KHRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShsW2FdW2NdKXx8MCwxMCl8fDA7cmV0dXJuIGJ9dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIikuY2xhc3NMaXN0LGU9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBlJiZudWxsIT09U3RyaW5nKGUuYWRkKS5tYXRjaCgvXFxbTmF0aXZlIGNvZGVcXF0vZ2kpLG09L1tcXG5cXHRcXHJdL2c7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZSxcbnt0eXBlOkNLRURJVE9SLk5PREVfRUxFTUVOVCxhZGRDbGFzczplP2Z1bmN0aW9uKGEpe3RoaXMuJC5jbGFzc0xpc3QuYWRkKGEpO3JldHVybiB0aGlzfTpmdW5jdGlvbihkKXt2YXIgYj10aGlzLiQuY2xhc3NOYW1lO2ImJihhKGIsZCl8fChiKz1cIiBcIitkKSk7dGhpcy4kLmNsYXNzTmFtZT1ifHxkO3JldHVybiB0aGlzfSxyZW1vdmVDbGFzczplP2Z1bmN0aW9uKGEpe3ZhciBiPXRoaXMuJDtiLmNsYXNzTGlzdC5yZW1vdmUoYSk7Yi5jbGFzc05hbWV8fGIucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7cmV0dXJuIHRoaXN9OmZ1bmN0aW9uKGQpe3ZhciBiPXRoaXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7YiYmYShiLGQpJiYoKGI9Yi5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoPzpefFxcXFxzKylcIitkK1wiKD9cXHgzZFxcXFxzfCQpXCIpLFwiXCIpLnJlcGxhY2UoL15cXHMrLyxcIlwiKSk/dGhpcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGIpOnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIikpO3JldHVybiB0aGlzfSxcbmhhc0NsYXNzOmZ1bmN0aW9uKGQpe3JldHVybiBhKHRoaXMuJC5jbGFzc05hbWUsZCl9LGFwcGVuZDpmdW5jdGlvbihhLGIpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT10aGlzLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChhKSk7Yj90aGlzLiQuaW5zZXJ0QmVmb3JlKGEuJCx0aGlzLiQuZmlyc3RDaGlsZCk6dGhpcy4kLmFwcGVuZENoaWxkKGEuJCk7cmV0dXJuIGF9LGFwcGVuZEh0bWw6ZnVuY3Rpb24oYSl7aWYodGhpcy4kLmNoaWxkTm9kZXMubGVuZ3RoKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIix0aGlzLmdldERvY3VtZW50KCkpO2Iuc2V0SHRtbChhKTtiLm1vdmVDaGlsZHJlbih0aGlzKX1lbHNlIHRoaXMuc2V0SHRtbChhKX0sYXBwZW5kVGV4dDpmdW5jdGlvbihhKXtudWxsIT10aGlzLiQudGV4dCYmQ0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uP3RoaXMuJC50ZXh0Kz1hOnRoaXMuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20udGV4dChhKSl9LFxuYXBwZW5kQm9ndXM6ZnVuY3Rpb24oYSl7aWYoYXx8Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXIpe2ZvcihhPXRoaXMuZ2V0TGFzdCgpO2EmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYhQ0tFRElUT1IudG9vbHMucnRyaW0oYS5nZXRUZXh0KCkpOylhPWEuZ2V0UHJldmlvdXMoKTthJiZhLmlzJiZhLmlzKFwiYnJcIil8fChhPXRoaXMuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiYnJcIiksQ0tFRElUT1IuZW52LmdlY2tvJiZhLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIl9tb3pcIiksdGhpcy5hcHBlbmQoYSkpfX0sYnJlYWtQYXJlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMuZ2V0RG9jdW1lbnQoKSk7Yy5zZXRTdGFydEFmdGVyKHRoaXMpO2Muc2V0RW5kQWZ0ZXIoYSk7dmFyIGc9Yy5leHRyYWN0Q29udGVudHMoITEsYnx8ITEpLGU7Yy5pbnNlcnROb2RlKHRoaXMucmVtb3ZlKCkpO2lmKENLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlKXtmb3IoYz1cbm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTtlPWcuZ2V0Rmlyc3QoKTspZS4kLnN0eWxlLmJhY2tncm91bmRDb2xvciYmKGUuJC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9ZS4kLnN0eWxlLmJhY2tncm91bmRDb2xvciksYy5hcHBlbmQoZSk7Yy5pbnNlcnRBZnRlcih0aGlzKTtjLnJlbW92ZSghMCl9ZWxzZSBnLmluc2VydEFmdGVyTm9kZSh0aGlzKX0sY29udGFpbnM6ZG9jdW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/ZnVuY3Rpb24oYSl7cmV0dXJuISEodGhpcy4kLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEuJCkmMTYpfTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiQ7cmV0dXJuIGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2IuY29udGFpbnMoYS5nZXRQYXJlbnQoKS4kKTpiIT1hLiQmJmIuY29udGFpbnMoYS4kKX0sZm9jdXM6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dHJ5e3RoaXMuJC5mb2N1cygpfWNhdGNoKGIpe319cmV0dXJuIGZ1bmN0aW9uKGIpe2I/XG5DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGEsMTAwLHRoaXMpOmEuY2FsbCh0aGlzKX19KCksZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5pbm5lckhUTUw7cmV0dXJuIENLRURJVE9SLmVudi5pZT9hLnJlcGxhY2UoLzxcXD9bXj5dKj4vZyxcIlwiKTphfSxnZXRPdXRlckh0bWw6ZnVuY3Rpb24oKXtpZih0aGlzLiQub3V0ZXJIVE1MKXJldHVybiB0aGlzLiQub3V0ZXJIVE1MLnJlcGxhY2UoLzxcXD9bXj5dKj4vLFwiXCIpO3ZhciBhPXRoaXMuJC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5hcHBlbmRDaGlsZCh0aGlzLiQuY2xvbmVOb2RlKCEwKSk7cmV0dXJuIGEuaW5uZXJIVE1MfSxnZXRDbGllbnRSZWN0OmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHRoaXMuJC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7IWEud2lkdGgmJihhLndpZHRoPWEucmlnaHQtYS5sZWZ0KTshYS5oZWlnaHQmJihhLmhlaWdodD1hLmJvdHRvbS1hLnRvcCk7XG5yZXR1cm4gYX0sc2V0SHRtbDpDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24/ZnVuY3Rpb24oYSl7dHJ5e3ZhciBiPXRoaXMuJDtpZih0aGlzLmdldFBhcmVudCgpKXJldHVybiBiLmlubmVySFRNTD1hO3ZhciBjPXRoaXMuZ2V0RG9jdW1lbnQoKS5fZ2V0SHRtbDVTaGl2RnJhZygpO2MuYXBwZW5kQ2hpbGQoYik7Yi5pbm5lckhUTUw9YTtjLnJlbW92ZUNoaWxkKGIpO3JldHVybiBhfWNhdGNoKGcpe3RoaXMuJC5pbm5lckhUTUw9XCJcIjtiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImJvZHlcIix0aGlzLmdldERvY3VtZW50KCkpO2IuJC5pbm5lckhUTUw9YTtmb3IoYj1iLmdldENoaWxkcmVuKCk7Yi5jb3VudCgpOyl0aGlzLmFwcGVuZChiLmdldEl0ZW0oMCkpO3JldHVybiBhfX06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJC5pbm5lckhUTUw9YX0sc2V0VGV4dDpmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO2EuaW5uZXJIVE1MPVxuXCJ4XCI7YT1hLnRleHRDb250ZW50O3JldHVybiBmdW5jdGlvbihiKXt0aGlzLiRbYT9cInRleHRDb250ZW50XCI6XCJpbm5lclRleHRcIl09Yn19KCksZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJC5nZXRBdHRyaWJ1dGUoYSwyKX07cmV0dXJuIENLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpP2Z1bmN0aW9uKGEpe3N3aXRjaChhKXtjYXNlIFwiY2xhc3NcIjphPVwiY2xhc3NOYW1lXCI7YnJlYWs7Y2FzZSBcImh0dHAtZXF1aXZcIjphPVwiaHR0cEVxdWl2XCI7YnJlYWs7Y2FzZSBcIm5hbWVcIjpyZXR1cm4gdGhpcy4kLm5hbWU7Y2FzZSBcInRhYmluZGV4XCI6cmV0dXJuIGE9dGhpcy4kLmdldEF0dHJpYnV0ZShhLDIpLDAhPT1hJiYwPT09dGhpcy4kLnRhYkluZGV4JiYoYT1udWxsKSxhO2Nhc2UgXCJjaGVja2VkXCI6cmV0dXJuIGE9dGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGEpLChhLnNwZWNpZmllZD9cbmEubm9kZVZhbHVlOnRoaXMuJC5jaGVja2VkKT9cImNoZWNrZWRcIjpudWxsO2Nhc2UgXCJoc3BhY2VcIjpjYXNlIFwidmFsdWVcIjpyZXR1cm4gdGhpcy4kW2FdO2Nhc2UgXCJzdHlsZVwiOnJldHVybiB0aGlzLiQuc3R5bGUuY3NzVGV4dDtjYXNlIFwiY29udGVudGVkaXRhYmxlXCI6Y2FzZSBcImNvbnRlbnRFZGl0YWJsZVwiOnJldHVybiB0aGlzLiQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJjb250ZW50RWRpdGFibGVcIikuc3BlY2lmaWVkP3RoaXMuJC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIik6bnVsbH1yZXR1cm4gdGhpcy4kLmdldEF0dHJpYnV0ZShhLDIpfTphfSgpLGdldEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7dmFyIGI9e30sYz10aGlzLiQuYXR0cmlidXRlcyxnO2E9Q0tFRElUT1IudG9vbHMuaXNBcnJheShhKT9hOltdO2ZvcihnPTA7ZzxjLmxlbmd0aDtnKyspLTE9PT1DS0VESVRPUi50b29scy5pbmRleE9mKGEsY1tnXS5uYW1lKSYmKGJbY1tnXS5uYW1lXT1jW2ddLnZhbHVlKTtcbnJldHVybiBifSxnZXRDaGlsZHJlbjpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5jaGlsZE5vZGVzKX0sZ2V0Q29tcHV0ZWRTdHlsZTpkb2N1bWVudC5kZWZhdWx0VmlldyYmZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZT9mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFdpbmRvdygpLiQuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLiQsbnVsbCk7cmV0dXJuIGI/Yi5nZXRQcm9wZXJ0eVZhbHVlKGEpOlwiXCJ9OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuY3VycmVudFN0eWxlW0NLRURJVE9SLnRvb2xzLmNzc1N0eWxlVG9Eb21TdHlsZShhKV19LGdldER0ZDpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmR0ZFt0aGlzLmdldE5hbWUoKV07dGhpcy5nZXREdGQ9ZnVuY3Rpb24oKXtyZXR1cm4gYX07cmV0dXJuIGF9LGdldEVsZW1lbnRzQnlUYWc6Q0tFRElUT1IuZG9tLmRvY3VtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnLFxuZ2V0VGFiSW5kZXg6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQudGFiSW5kZXg7cmV0dXJuIDAhPT1hfHxDS0VESVRPUi5kdGQuJHRhYkluZGV4W3RoaXMuZ2V0TmFtZSgpXXx8MD09PXBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiksMTApP2E6LTF9LGdldFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLnRleHRDb250ZW50fHx0aGlzLiQuaW5uZXJUZXh0fHxcIlwifSxnZXRXaW5kb3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREb2N1bWVudCgpLmdldFdpbmRvdygpfSxnZXRJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQuaWR8fG51bGx9LGdldE5hbWVBdHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLm5hbWV8fG51bGx9LGdldE5hbWU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihDS0VESVRPUi5lbnYuaWUmJjg+PWRvY3VtZW50LmRvY3VtZW50TW9kZSl7dmFyIGI9dGhpcy4kLnNjb3BlTmFtZTtcIkhUTUxcIiE9XG5iJiYoYT1iLnRvTG93ZXJDYXNlKCkrXCI6XCIrYSl9dGhpcy5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGF9O3JldHVybiB0aGlzLmdldE5hbWUoKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLnZhbHVlfSxnZXRGaXJzdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiQuZmlyc3RDaGlsZDsoYj1iJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYikpJiZhJiYhYShiKSYmKGI9Yi5nZXROZXh0KGEpKTtyZXR1cm4gYn0sZ2V0TGFzdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiQubGFzdENoaWxkOyhiPWImJm5ldyBDS0VESVRPUi5kb20ubm9kZShiKSkmJmEmJiFhKGIpJiYoYj1iLmdldFByZXZpb3VzKGEpKTtyZXR1cm4gYn0sZ2V0U3R5bGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJC5zdHlsZVtDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSldfSxpczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0TmFtZSgpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMF0pcmV0dXJuISFhcmd1bWVudHNbMF1bYV07XG5mb3IodmFyIGI9MDtiPGFyZ3VtZW50cy5sZW5ndGg7YisrKWlmKGFyZ3VtZW50c1tiXT09YSlyZXR1cm4hMDtyZXR1cm4hMX0saXNFZGl0YWJsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE5hbWUoKTtyZXR1cm4gdGhpcy5pc1JlYWRPbmx5KCl8fFwibm9uZVwiPT10aGlzLmdldENvbXB1dGVkU3R5bGUoXCJkaXNwbGF5XCIpfHxcImhpZGRlblwiPT10aGlzLmdldENvbXB1dGVkU3R5bGUoXCJ2aXNpYmlsaXR5XCIpfHxDS0VESVRPUi5kdGQuJG5vbkVkaXRhYmxlW2JdfHxDS0VESVRPUi5kdGQuJGVtcHR5W2JdfHx0aGlzLmlzKFwiYVwiKSYmKHRoaXMuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpfHx0aGlzLmhhc0F0dHJpYnV0ZShcIm5hbWVcIikpJiYhdGhpcy5nZXRDaGlsZENvdW50KCk/ITE6ITEhPT1hPyhhPUNLRURJVE9SLmR0ZFtiXXx8Q0tFRElUT1IuZHRkLnNwYW4sISghYXx8IWFbXCIjXCJdKSk6ITB9LGlzSWRlbnRpY2FsOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2xvbmUoMCwxKTthPWEuY2xvbmUoMCxcbjEpO2IucmVtb3ZlQXR0cmlidXRlcyhbXCJfbW96X2RpcnR5XCIsXCJkYXRhLWNrZS1leHBhbmRvXCIsXCJkYXRhLWNrZS1zYXZlZC1ocmVmXCIsXCJkYXRhLWNrZS1zYXZlZC1uYW1lXCJdKTthLnJlbW92ZUF0dHJpYnV0ZXMoW1wiX21vel9kaXJ0eVwiLFwiZGF0YS1ja2UtZXhwYW5kb1wiLFwiZGF0YS1ja2Utc2F2ZWQtaHJlZlwiLFwiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiXSk7aWYoYi4kLmlzRXF1YWxOb2RlKXJldHVybiBiLiQuc3R5bGUuY3NzVGV4dD1DS0VESVRPUi50b29scy5ub3JtYWxpemVDc3NUZXh0KGIuJC5zdHlsZS5jc3NUZXh0KSxhLiQuc3R5bGUuY3NzVGV4dD1DS0VESVRPUi50b29scy5ub3JtYWxpemVDc3NUZXh0KGEuJC5zdHlsZS5jc3NUZXh0KSxiLiQuaXNFcXVhbE5vZGUoYS4kKTtiPWIuZ2V0T3V0ZXJIdG1sKCk7YT1hLmdldE91dGVySHRtbCgpO2lmKENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmdGhpcy5pcyhcImFcIikpe3ZhciBjPXRoaXMuZ2V0UGFyZW50KCk7XG5jLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGM9Yy5jbG9uZSgpLGMuc2V0SHRtbChiKSxiPWMuZ2V0SHRtbCgpLGMuc2V0SHRtbChhKSxhPWMuZ2V0SHRtbCgpKX1yZXR1cm4gYj09YX0saXNWaXNpYmxlOmZ1bmN0aW9uKCl7dmFyIGE9KHRoaXMuJC5vZmZzZXRIZWlnaHR8fHRoaXMuJC5vZmZzZXRXaWR0aCkmJlwiaGlkZGVuXCIhPXRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcInZpc2liaWxpdHlcIiksYixjO2EmJkNLRURJVE9SLmVudi53ZWJraXQmJihiPXRoaXMuZ2V0V2luZG93KCksIWIuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpKSYmKGM9Yi4kLmZyYW1lRWxlbWVudCkmJihhPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYykpLmlzVmlzaWJsZSgpKSk7cmV0dXJuISFhfSxpc0VtcHR5SW5saW5lUmVtb3ZlYWJsZTpmdW5jdGlvbigpe2lmKCFDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3RoaXMuZ2V0TmFtZSgpXSlyZXR1cm4hMTtmb3IodmFyIGE9dGhpcy5nZXRDaGlsZHJlbigpLFxuYj0wLGM9YS5jb3VudCgpO2I8YztiKyspe3ZhciBnPWEuZ2V0SXRlbShiKTtpZihnLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IWcuZGF0YShcImNrZS1ib29rbWFya1wiKSlpZihnLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWcuaXNFbXB0eUlubGluZVJlbW92ZWFibGUoKXx8Zy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJkNLRURJVE9SLnRvb2xzLnRyaW0oZy5nZXRUZXh0KCkpKXJldHVybiExfXJldHVybiEwfSxoYXNBdHRyaWJ1dGVzOkNLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpP2Z1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuJC5hdHRyaWJ1dGVzLGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXTtzd2l0Y2goYy5ub2RlTmFtZSl7Y2FzZSBcImNsYXNzXCI6aWYodGhpcy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSlyZXR1cm4hMDtjYXNlIFwiZGF0YS1ja2UtZXhwYW5kb1wiOmNvbnRpbnVlO2RlZmF1bHQ6aWYoYy5zcGVjaWZpZWQpcmV0dXJuITB9fXJldHVybiExfTpcbmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmF0dHJpYnV0ZXMsYj1hLmxlbmd0aCxjPXtcImRhdGEtY2tlLWV4cGFuZG9cIjoxLF9tb3pfZGlydHk6MX07cmV0dXJuIDA8YiYmKDI8Ynx8IWNbYVswXS5ub2RlTmFtZV18fDI9PWImJiFjW2FbMV0ubm9kZU5hbWVdKX0saGFzQXR0cmlidXRlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXt2YXIgZD10aGlzLiQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oYik7aWYoXCJpbnB1dFwiPT10aGlzLmdldE5hbWUoKSlzd2l0Y2goYil7Y2FzZSBcImNsYXNzXCI6cmV0dXJuIDA8dGhpcy4kLmNsYXNzTmFtZS5sZW5ndGg7Y2FzZSBcImNoZWNrZWRcIjpyZXR1cm4hIXRoaXMuJC5jaGVja2VkO2Nhc2UgXCJ2YWx1ZVwiOnJldHVybiBiPXRoaXMuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSxcImNoZWNrYm94XCI9PWJ8fFwicmFkaW9cIj09Yj9cIm9uXCIhPXRoaXMuJC52YWx1ZTohIXRoaXMuJC52YWx1ZX1yZXR1cm4gZD9kLnNwZWNpZmllZDohMX1yZXR1cm4gQ0tFRElUT1IuZW52LmllP1xuOD5DS0VESVRPUi5lbnYudmVyc2lvbj9mdW5jdGlvbihiKXtyZXR1cm5cIm5hbWVcIj09Yj8hIXRoaXMuJC5uYW1lOmEuY2FsbCh0aGlzLGIpfTphOmZ1bmN0aW9uKGEpe3JldHVybiEhdGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGEpfX0oKSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIil9LG1vdmVDaGlsZHJlbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuJDthPWEuJDtpZihjIT1hKXt2YXIgZztpZihiKWZvcig7Zz1jLmxhc3RDaGlsZDspYS5pbnNlcnRCZWZvcmUoYy5yZW1vdmVDaGlsZChnKSxhLmZpcnN0Q2hpbGQpO2Vsc2UgZm9yKDtnPWMuZmlyc3RDaGlsZDspYS5hcHBlbmRDaGlsZChjLnJlbW92ZUNoaWxkKGcpKX19LG1lcmdlU2libGluZ3M6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsZCxnKXtpZihkJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7Zm9yKHZhciBjPVtdO2QuZGF0YShcImNrZS1ib29rbWFya1wiKXx8ZC5pc0VtcHR5SW5saW5lUmVtb3ZlYWJsZSgpOylpZihjLnB1c2goZCksXG5kPWc/ZC5nZXROZXh0KCk6ZC5nZXRQcmV2aW91cygpLCFkfHxkLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm47aWYoYi5pc0lkZW50aWNhbChkKSl7Zm9yKHZhciBlPWc/Yi5nZXRMYXN0KCk6Yi5nZXRGaXJzdCgpO2MubGVuZ3RoOyljLnNoaWZ0KCkubW92ZShiLCFnKTtkLm1vdmVDaGlsZHJlbihiLCFnKTtkLnJlbW92ZSgpO2UmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLm1lcmdlU2libGluZ3MoKX19fXJldHVybiBmdW5jdGlvbihiKXtpZighMT09PWJ8fENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbdGhpcy5nZXROYW1lKCldfHx0aGlzLmlzKFwiYVwiKSlhKHRoaXMsdGhpcy5nZXROZXh0KCksITApLGEodGhpcyx0aGlzLmdldFByZXZpb3VzKCkpfX0oKSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5zZXRTdHlsZXMoe2Rpc3BsYXk6XCJcIix2aXNpYmlsaXR5OlwiXCJ9KX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXt0aGlzLiQuc2V0QXR0cmlidXRlKGEsXG5iKTtyZXR1cm4gdGhpc307cmV0dXJuIENLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpP2Z1bmN0aW9uKGIsYyl7XCJjbGFzc1wiPT1iP3RoaXMuJC5jbGFzc05hbWU9YzpcInN0eWxlXCI9PWI/dGhpcy4kLnN0eWxlLmNzc1RleHQ9YzpcInRhYmluZGV4XCI9PWI/dGhpcy4kLnRhYkluZGV4PWM6XCJjaGVja2VkXCI9PWI/dGhpcy4kLmNoZWNrZWQ9YzpcImNvbnRlbnRlZGl0YWJsZVwiPT1iP2EuY2FsbCh0aGlzLFwiY29udGVudEVkaXRhYmxlXCIsYyk6YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9OkNLRURJVE9SLmVudi5pZThDb21wYXQmJkNLRURJVE9SLmVudi5zZWN1cmU/ZnVuY3Rpb24oYixjKXtpZihcInNyY1wiPT1iJiZjLm1hdGNoKC9eaHR0cDpcXC9cXC8vKSl0cnl7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goZyl7fWVsc2UgYS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9OmF9KCksc2V0QXR0cmlidXRlczpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSl0aGlzLnNldEF0dHJpYnV0ZShiLFxuYVtiXSk7cmV0dXJuIHRoaXN9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMuJC52YWx1ZT1hO3JldHVybiB0aGlzfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXt0aGlzLiQucmVtb3ZlQXR0cmlidXRlKGEpfTtyZXR1cm4gQ0tFRElUT1IuZW52LmllJiYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LnF1aXJrcyk/ZnVuY3Rpb24oYSl7XCJjbGFzc1wiPT1hP2E9XCJjbGFzc05hbWVcIjpcInRhYmluZGV4XCI9PWE/YT1cInRhYkluZGV4XCI6XCJjb250ZW50ZWRpdGFibGVcIj09YSYmKGE9XCJjb250ZW50RWRpdGFibGVcIik7dGhpcy4kLnJlbW92ZUF0dHJpYnV0ZShhKX06YX0oKSxyZW1vdmVBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe2lmKENLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSkpZm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYVtiXSk7ZWxzZSBmb3IoYiBpbiBhPWF8fHRoaXMuZ2V0QXR0cmlidXRlcygpLFxuYSlhLmhhc093blByb3BlcnR5KGIpJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZShiKX0scmVtb3ZlU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kLnN0eWxlO2lmKGIucmVtb3ZlUHJvcGVydHl8fFwiYm9yZGVyXCIhPWEmJlwibWFyZ2luXCIhPWEmJlwicGFkZGluZ1wiIT1hKWIucmVtb3ZlUHJvcGVydHk/Yi5yZW1vdmVQcm9wZXJ0eShhKTpiLnJlbW92ZUF0dHJpYnV0ZShDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSkpLHRoaXMuJC5zdHlsZS5jc3NUZXh0fHx0aGlzLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO2Vsc2V7dmFyIGM9W1widG9wXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwiYm90dG9tXCJdLGc7XCJib3JkZXJcIj09YSYmKGc9W1wiY29sb3JcIixcInN0eWxlXCIsXCJ3aWR0aFwiXSk7Zm9yKHZhciBiPVtdLGU9MDtlPGMubGVuZ3RoO2UrKylpZihnKWZvcih2YXIgZj0wO2Y8Zy5sZW5ndGg7ZisrKWIucHVzaChbYSxjW2VdLGdbZl1dLmpvaW4oXCItXCIpKTtlbHNlIGIucHVzaChbYSxjW2VdXS5qb2luKFwiLVwiKSk7XG5mb3IoYT0wO2E8Yi5sZW5ndGg7YSsrKXRoaXMucmVtb3ZlU3R5bGUoYlthXSl9fSxzZXRTdHlsZTpmdW5jdGlvbihhLGIpe3RoaXMuJC5zdHlsZVtDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSldPWI7cmV0dXJuIHRoaXN9LHNldFN0eWxlczpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSl0aGlzLnNldFN0eWxlKGIsYVtiXSk7cmV0dXJuIHRoaXN9LHNldE9wYWNpdHk6ZnVuY3Rpb24oYSl7Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uPyhhPU1hdGgucm91bmQoMTAwKmEpLHRoaXMuc2V0U3R5bGUoXCJmaWx0ZXJcIiwxMDA8PWE/XCJcIjpcInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShvcGFjaXR5XFx4M2RcIithK1wiKVwiKSk6dGhpcy5zZXRTdHlsZShcIm9wYWNpdHlcIixhKX0sdW5zZWxlY3RhYmxlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdHlsZXMoQ0tFRElUT1IudG9vbHMuY3NzVmVuZG9yUHJlZml4KFwidXNlci1zZWxlY3RcIixcIm5vbmVcIikpO1xuaWYoQ0tFRElUT1IuZW52LmllKXt0aGlzLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIik7Zm9yKHZhciBhLGI9dGhpcy5nZXRFbGVtZW50c0J5VGFnKFwiKlwiKSxjPTAsZz1iLmNvdW50KCk7YzxnO2MrKylhPWIuZ2V0SXRlbShjKSxhLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIil9fSxnZXRQb3NpdGlvbmVkQW5jZXN0b3I6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcztcImh0bWxcIiE9YS5nZXROYW1lKCk7KXtpZihcInN0YXRpY1wiIT1hLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKSlyZXR1cm4gYTthPWEuZ2V0UGFyZW50KCl9cmV0dXJuIG51bGx9LGdldERvY3VtZW50UG9zaXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPTAsZz10aGlzLmdldERvY3VtZW50KCksZT1nLmdldEJvZHkoKSxmPVwiQmFja0NvbXBhdFwiPT1nLiQuY29tcGF0TW9kZTtpZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0JiYoQ0tFRElUT1IuZW52LmllP1xuOCE9PUNLRURJVE9SLmVudi52ZXJzaW9uOjEpKXt2YXIgbT10aGlzLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbD1nLiQuZG9jdW1lbnRFbGVtZW50LHY9bC5jbGllbnRUb3B8fGUuJC5jbGllbnRUb3B8fDAscj1sLmNsaWVudExlZnR8fGUuJC5jbGllbnRMZWZ0fHwwLHU9ITA7Q0tFRElUT1IuZW52LmllJiYodT1nLmdldERvY3VtZW50RWxlbWVudCgpLmNvbnRhaW5zKHRoaXMpLGc9Zy5nZXRCb2R5KCkuY29udGFpbnModGhpcyksdT1mJiZnfHwhZiYmdSk7dSYmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5pZSYmMTI8PUNLRURJVE9SLmVudi52ZXJzaW9uPyhiPWUuJC5zY3JvbGxMZWZ0fHxsLnNjcm9sbExlZnQsYz1lLiQuc2Nyb2xsVG9wfHxsLnNjcm9sbFRvcCk6KGM9Zj9lLiQ6bCxiPWMuc2Nyb2xsTGVmdCxjPWMuc2Nyb2xsVG9wKSxiPW0ubGVmdCtiLXIsYz1tLnRvcCtjLXYpfWVsc2UgZm9yKHY9dGhpcyxyPW51bGw7diYmXCJib2R5XCIhPXYuZ2V0TmFtZSgpJiZcblwiaHRtbFwiIT12LmdldE5hbWUoKTspe2IrPXYuJC5vZmZzZXRMZWZ0LXYuJC5zY3JvbGxMZWZ0O2MrPXYuJC5vZmZzZXRUb3Atdi4kLnNjcm9sbFRvcDt2LmVxdWFscyh0aGlzKXx8KGIrPXYuJC5jbGllbnRMZWZ0fHwwLGMrPXYuJC5jbGllbnRUb3B8fDApO2Zvcig7ciYmIXIuZXF1YWxzKHYpOyliLT1yLiQuc2Nyb2xsTGVmdCxjLT1yLiQuc2Nyb2xsVG9wLHI9ci5nZXRQYXJlbnQoKTtyPXY7dj0obT12LiQub2Zmc2V0UGFyZW50KT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobSk6bnVsbH1hJiYobT10aGlzLmdldFdpbmRvdygpLHY9YS5nZXRXaW5kb3coKSwhbS5lcXVhbHModikmJm0uJC5mcmFtZUVsZW1lbnQmJihhPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobS4kLmZyYW1lRWxlbWVudCkpLmdldERvY3VtZW50UG9zaXRpb24oYSksYis9YS54LGMrPWEueSkpO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3R8fCFDS0VESVRPUi5lbnYuZ2Vja298fFxuZnx8KGIrPXRoaXMuJC5jbGllbnRMZWZ0PzE6MCxjKz10aGlzLiQuY2xpZW50VG9wPzE6MCk7cmV0dXJue3g6Yix5OmN9fSxzY3JvbGxJbnRvVmlldzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFBhcmVudCgpO2lmKGIpe2RvIGlmKChiLiQuY2xpZW50V2lkdGgmJmIuJC5jbGllbnRXaWR0aDxiLiQuc2Nyb2xsV2lkdGh8fGIuJC5jbGllbnRIZWlnaHQmJmIuJC5jbGllbnRIZWlnaHQ8Yi4kLnNjcm9sbEhlaWdodCkmJiFiLmlzKFwiYm9keVwiKSYmdGhpcy5zY3JvbGxJbnRvUGFyZW50KGIsYSwxKSxiLmlzKFwiaHRtbFwiKSl7dmFyIGM9Yi5nZXRXaW5kb3coKTt0cnl7dmFyIGc9Yy4kLmZyYW1lRWxlbWVudDtnJiYoYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZykpfWNhdGNoKGUpe319d2hpbGUoYj1iLmdldFBhcmVudCgpKX19LHNjcm9sbEludG9QYXJlbnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBnLGUsZixtO2Z1bmN0aW9uIGwoYixnKXsvYm9keXxodG1sLy50ZXN0KGEuZ2V0TmFtZSgpKT9cbmEuZ2V0V2luZG93KCkuJC5zY3JvbGxCeShiLGcpOihhLiQuc2Nyb2xsTGVmdCs9YixhLiQuc2Nyb2xsVG9wKz1nKX1mdW5jdGlvbiB2KGEsYil7dmFyIGc9e3g6MCx5OjB9O2lmKCFhLmlzKHU/XCJib2R5XCI6XCJodG1sXCIpKXt2YXIgYz1hLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7Zy54PWMubGVmdDtnLnk9Yy50b3B9Yz1hLmdldFdpbmRvdygpO2MuZXF1YWxzKGIpfHwoYz12KENLRURJVE9SLmRvbS5lbGVtZW50LmdldChjLiQuZnJhbWVFbGVtZW50KSxiKSxnLngrPWMueCxnLnkrPWMueSk7cmV0dXJuIGd9ZnVuY3Rpb24gcihhLGIpe3JldHVybiBwYXJzZUludChhLmdldENvbXB1dGVkU3R5bGUoXCJtYXJnaW4tXCIrYil8fDAsMTApfHwwfSFhJiYoYT10aGlzLmdldFdpbmRvdygpKTtmPWEuZ2V0RG9jdW1lbnQoKTt2YXIgdT1cIkJhY2tDb21wYXRcIj09Zi4kLmNvbXBhdE1vZGU7YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS53aW5kb3cmJihhPXU/Zi5nZXRCb2R5KCk6Zi5nZXREb2N1bWVudEVsZW1lbnQoKSk7XG5DS0VESVRPUi5lbnYud2Via2l0JiYoZj10aGlzLmdldEVkaXRvcighMSkpJiYoZi5fLnByZXZpb3VzU2Nyb2xsVG9wPW51bGwpO2Y9YS5nZXRXaW5kb3coKTtlPXYodGhpcyxmKTt2YXIgQj12KGEsZikseD10aGlzLiQub2Zmc2V0SGVpZ2h0O2c9dGhpcy4kLm9mZnNldFdpZHRoO3ZhciB3PWEuJC5jbGllbnRIZWlnaHQsej1hLiQuY2xpZW50V2lkdGg7Zj1lLngtcih0aGlzLFwibGVmdFwiKS1CLnh8fDA7bT1lLnktcih0aGlzLFwidG9wXCIpLUIueXx8MDtnPWUueCtnK3IodGhpcyxcInJpZ2h0XCIpLShCLngreil8fDA7ZT1lLnkreCtyKHRoaXMsXCJib3R0b21cIiktKEIueSt3KXx8MDsoMD5tfHwwPGUpJiZsKDAsITA9PT1iP206ITE9PT1iP2U6MD5tP206ZSk7YyYmKDA+Znx8MDxnKSYmbCgwPmY/ZjpnLDApfSxzZXRTdGF0ZTpmdW5jdGlvbihhLGIsYyl7Yj1ifHxcImNrZVwiO3N3aXRjaChhKXtjYXNlIENLRURJVE9SLlRSSVNUQVRFX09OOnRoaXMuYWRkQ2xhc3MoYitcIl9vblwiKTt0aGlzLnJlbW92ZUNsYXNzKGIrXG5cIl9vZmZcIik7dGhpcy5yZW1vdmVDbGFzcyhiK1wiX2Rpc2FibGVkXCIpO2MmJnRoaXMuc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsITApO2MmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKTticmVhaztjYXNlIENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEOnRoaXMuYWRkQ2xhc3MoYitcIl9kaXNhYmxlZFwiKTt0aGlzLnJlbW92ZUNsYXNzKGIrXCJfb2ZmXCIpO3RoaXMucmVtb3ZlQ2xhc3MoYitcIl9vblwiKTtjJiZ0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwhMCk7YyYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIik7YnJlYWs7ZGVmYXVsdDp0aGlzLmFkZENsYXNzKGIrXCJfb2ZmXCIpLHRoaXMucmVtb3ZlQ2xhc3MoYitcIl9vblwiKSx0aGlzLnJlbW92ZUNsYXNzKGIrXCJfZGlzYWJsZWRcIiksYyYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiksYyYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIpfX0sXG5nZXRGcmFtZURvY3VtZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kO3RyeXthLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnR9Y2F0Y2goYil7YS5zcmM9YS5zcmN9cmV0dXJuIGEmJm5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQoYS5jb250ZW50V2luZG93LmRvY3VtZW50KX0sY29weUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLiQuYXR0cmlidXRlcztiPWJ8fHt9O2Zvcih2YXIgZz0wO2c8Yy5sZW5ndGg7ZysrKXt2YXIgZT1jW2ddLGY9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG07aWYoIShmIGluIGIpKWlmKFwiY2hlY2tlZFwiPT1mJiYobT10aGlzLmdldEF0dHJpYnV0ZShmKSkpYS5zZXRBdHRyaWJ1dGUoZixtKTtlbHNlIGlmKCFDS0VESVRPUi5lbnYuaWV8fHRoaXMuaGFzQXR0cmlidXRlKGYpKW09dGhpcy5nZXRBdHRyaWJ1dGUoZiksbnVsbD09PW0mJihtPWUubm9kZVZhbHVlKSxhLnNldEF0dHJpYnV0ZShmLG0pfVwiXCIhPT10aGlzLiQuc3R5bGUuY3NzVGV4dCYmXG4oYS4kLnN0eWxlLmNzc1RleHQ9dGhpcy4kLnN0eWxlLmNzc1RleHQpfSxyZW5hbWVOb2RlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZ2V0TmFtZSgpIT1hKXt2YXIgYj10aGlzLmdldERvY3VtZW50KCk7YT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSxiKTt0aGlzLmNvcHlBdHRyaWJ1dGVzKGEpO3RoaXMubW92ZUNoaWxkcmVuKGEpO3RoaXMuZ2V0UGFyZW50KCEwKSYmdGhpcy4kLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGEuJCx0aGlzLiQpO2EuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl09dGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXTt0aGlzLiQ9YS4kO2RlbGV0ZSB0aGlzLmdldE5hbWV9fSxnZXRDaGlsZDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXt2YXIgZz1iLmNoaWxkTm9kZXM7aWYoMDw9YyYmYzxnLmxlbmd0aClyZXR1cm4gZ1tjXX1yZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9dGhpcy4kO2lmKGIuc2xpY2UpZm9yKGI9Yi5zbGljZSgpOzA8Yi5sZW5ndGgmJmM7KWM9YShjLFxuYi5zaGlmdCgpKTtlbHNlIGM9YShjLGIpO3JldHVybiBjP25ldyBDS0VESVRPUi5kb20ubm9kZShjKTpudWxsfX0oKSxnZXRDaGlsZENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5jaGlsZE5vZGVzLmxlbmd0aH0sZGlzYWJsZUNvbnRleHRNZW51OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4gYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaGFzQ2xhc3MoXCJja2VfZW5hYmxlX2NvbnRleHRfbWVudVwiKX10aGlzLm9uKFwiY29udGV4dG1lbnVcIixmdW5jdGlvbihiKXtiLmRhdGEuZ2V0VGFyZ2V0KCkuZ2V0QXNjZW5kYW50KGEsITApfHxiLmRhdGEucHJldmVudERlZmF1bHQoKX0pfSxnZXREaXJlY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwiZGlyZWN0aW9uXCIpfHx0aGlzLmdldERpcmVjdGlvbigpfHx0aGlzLmdldFBhcmVudCgpJiZ0aGlzLmdldFBhcmVudCgpLmdldERpcmVjdGlvbigxKXx8dGhpcy5nZXREb2N1bWVudCgpLiQuZGlyfHxcblwibHRyXCI6dGhpcy5nZXRTdHlsZShcImRpcmVjdGlvblwiKXx8dGhpcy5nZXRBdHRyaWJ1dGUoXCJkaXJcIil9LGRhdGE6ZnVuY3Rpb24oYSxiKXthPVwiZGF0YS1cIithO2lmKHZvaWQgMD09PWIpcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKGEpOyExPT09Yj90aGlzLnJlbW92ZUF0dHJpYnV0ZShhKTp0aGlzLnNldEF0dHJpYnV0ZShhLGIpO3JldHVybiBudWxsfSxnZXRFZGl0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9Q0tFRElUT1IuaW5zdGFuY2VzLGMsZyxlO2E9YXx8dm9pZCAwPT09YTtmb3IoYyBpbiBiKWlmKGc9YltjXSxnLmVsZW1lbnQuZXF1YWxzKHRoaXMpJiZnLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE98fCFhJiYoZT1nLmVkaXRhYmxlKCksZS5lcXVhbHModGhpcyl8fGUuY29udGFpbnModGhpcykpKXJldHVybiBnO3JldHVybiBudWxsfSxmaW5kOmZ1bmN0aW9uKGEpe3ZhciBjPWYodGhpcyk7YT1uZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5xdWVyeVNlbGVjdG9yQWxsKGIodGhpcyxcbmEpKSk7YygpO3JldHVybiBhfSxmaW5kT25lOmZ1bmN0aW9uKGEpe3ZhciBjPWYodGhpcyk7YT10aGlzLiQucXVlcnlTZWxlY3RvcihiKHRoaXMsYSkpO2MoKTtyZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSk6bnVsbH0sZm9yRWFjaDpmdW5jdGlvbihhLGIsYyl7aWYoIShjfHxiJiZ0aGlzLnR5cGUhPWIpKXZhciBnPWEodGhpcyk7aWYoITEhPT1nKXtjPXRoaXMuZ2V0Q2hpbGRyZW4oKTtmb3IodmFyIGU9MDtlPGMuY291bnQoKTtlKyspZz1jLmdldEl0ZW0oZSksZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/Zy5mb3JFYWNoKGEsYik6YiYmZy50eXBlIT1ifHxhKGcpfX19KTt2YXIgbD17d2lkdGg6W1wiYm9yZGVyLWxlZnQtd2lkdGhcIixcImJvcmRlci1yaWdodC13aWR0aFwiLFwicGFkZGluZy1sZWZ0XCIsXCJwYWRkaW5nLXJpZ2h0XCJdLGhlaWdodDpbXCJib3JkZXItdG9wLXdpZHRoXCIsXCJib3JkZXItYm90dG9tLXdpZHRoXCIsXCJwYWRkaW5nLXRvcFwiLFwicGFkZGluZy1ib3R0b21cIl19O1xuQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLnNldFNpemU9ZnVuY3Rpb24oYSxiLGUpe1wibnVtYmVyXCI9PXR5cGVvZiBiJiYoIWV8fENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnF1aXJrc3x8KGItPWMuY2FsbCh0aGlzLGEpKSx0aGlzLnNldFN0eWxlKGEsYitcInB4XCIpKX07Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oYSxiKXt2YXIgZT1NYXRoLm1heCh0aGlzLiRbXCJvZmZzZXRcIitDS0VESVRPUi50b29scy5jYXBpdGFsaXplKGEpXSx0aGlzLiRbXCJjbGllbnRcIitDS0VESVRPUi50b29scy5jYXBpdGFsaXplKGEpXSl8fDA7YiYmKGUtPWMuY2FsbCh0aGlzLGEpKTtyZXR1cm4gZX19KCksQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQ9ZnVuY3Rpb24oYSl7YT1hfHxDS0VESVRPUi5kb2N1bWVudDt0aGlzLiQ9YS50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UP2EuJC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk6YX0sQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSxcbkNLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5ULGluc2VydEFmdGVyTm9kZTpmdW5jdGlvbihhKXthPWEuJDthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuJCxhLm5leHRTaWJsaW5nKX0sZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTt0aGlzLmNsb25lKDEsMSkuYXBwZW5kVG8oYSk7cmV0dXJuIGEuZ2V0SHRtbCgpLnJlcGxhY2UoL1xccypkYXRhLWNrZS1leHBhbmRvPVwiLio/XCIvZyxcIlwiKX19LCEwLHthcHBlbmQ6MSxhcHBlbmRCb2d1czoxLGNsb25lOjEsZ2V0Rmlyc3Q6MSxnZXRIdG1sOjEsZ2V0TGFzdDoxLGdldFBhcmVudDoxLGdldE5leHQ6MSxnZXRQcmV2aW91czoxLGFwcGVuZFRvOjEsbW92ZUNoaWxkcmVuOjEsaW5zZXJ0QmVmb3JlOjEsaW5zZXJ0QWZ0ZXJOb2RlOjEscmVwbGFjZToxLHRyaW06MSx0eXBlOjEsbHRyaW06MSxydHJpbToxLGdldERvY3VtZW50OjEsXG5nZXRDaGlsZENvdW50OjEsZ2V0Q2hpbGQ6MSxnZXRDaGlsZHJlbjoxfSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dmFyIGc9dGhpcy5yYW5nZTtpZih0aGlzLl8uZW5kKXJldHVybiBudWxsO2lmKCF0aGlzLl8uc3RhcnQpe3RoaXMuXy5zdGFydD0xO2lmKGcuY29sbGFwc2VkKXJldHVybiB0aGlzLmVuZCgpLG51bGw7Zy5vcHRpbWl6ZSgpfXZhciBjLGQ9Zy5zdGFydENvbnRhaW5lcjtjPWcuZW5kQ29udGFpbmVyO3ZhciBlPWcuc3RhcnRPZmZzZXQsaz1nLmVuZE9mZnNldCxmLGg9dGhpcy5ndWFyZCxuPXRoaXMudHlwZSxtPWE/XCJnZXRQcmV2aW91c1NvdXJjZU5vZGVcIjpcImdldE5leHRTb3VyY2VOb2RlXCI7aWYoIWEmJiF0aGlzLl8uZ3VhcmRMVFIpe3ZhciBsPWMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2M6Yy5nZXRQYXJlbnQoKSxBPWMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2MuZ2V0Q2hpbGQoayk6Yy5nZXROZXh0KCk7dGhpcy5fLmd1YXJkTFRSPWZ1bmN0aW9uKGEsXG5iKXtyZXR1cm4oIWJ8fCFsLmVxdWFscyhhKSkmJighQXx8IWEuZXF1YWxzKEEpKSYmKGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhYnx8IWEuZXF1YWxzKGcucm9vdCkpfX1pZihhJiYhdGhpcy5fLmd1YXJkUlRMKXt2YXIgQz1kLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9kOmQuZ2V0UGFyZW50KCksRj1kLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9lP2QuZ2V0Q2hpbGQoZS0xKTpudWxsOmQuZ2V0UHJldmlvdXMoKTt0aGlzLl8uZ3VhcmRSVEw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4oIWJ8fCFDLmVxdWFscyhhKSkmJighRnx8IWEuZXF1YWxzKEYpKSYmKGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhYnx8IWEuZXF1YWxzKGcucm9vdCkpfX12YXIgRT1hP3RoaXMuXy5ndWFyZFJUTDp0aGlzLl8uZ3VhcmRMVFI7Zj1oP2Z1bmN0aW9uKGEsYil7cmV0dXJuITE9PT1FKGEsYik/ITE6aChhLGIpfTpFO3RoaXMuY3VycmVudD9jPXRoaXMuY3VycmVudFttXSghMSxcbm4sZik6KGE/Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihjPTA8az9jLmdldENoaWxkKGstMSk6ITE9PT1mKGMsITApP251bGw6Yy5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITAsbixmKSk6KGM9ZCxjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKChjPWMuZ2V0Q2hpbGQoZSkpfHwoYz0hMT09PWYoZCwhMCk/bnVsbDpkLmdldE5leHRTb3VyY2VOb2RlKCEwLG4sZikpKSksYyYmITE9PT1mKGMpJiYoYz1udWxsKSk7Zm9yKDtjJiYhdGhpcy5fLmVuZDspe3RoaXMuY3VycmVudD1jO2lmKCF0aGlzLmV2YWx1YXRvcnx8ITEhPT10aGlzLmV2YWx1YXRvcihjKSl7aWYoIWIpcmV0dXJuIGN9ZWxzZSBpZihiJiZ0aGlzLmV2YWx1YXRvcilyZXR1cm4hMTtjPWNbbV0oITEsbixmKX10aGlzLmVuZCgpO3JldHVybiB0aGlzLmN1cnJlbnQ9bnVsbH1mdW5jdGlvbiBmKGIpe2Zvcih2YXIgZyxjPW51bGw7Zz1hLmNhbGwodGhpcyxiKTspYz1nO3JldHVybiBjfUNLRURJVE9SLmRvbS53YWxrZXI9XG5DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhKXt0aGlzLnJhbmdlPWE7dGhpcy5fPXt9fSxwcm90bzp7ZW5kOmZ1bmN0aW9uKCl7dGhpcy5fLmVuZD0xfSxuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuY2FsbCh0aGlzKX0scHJldmlvdXM6ZnVuY3Rpb24oKXtyZXR1cm4gYS5jYWxsKHRoaXMsMSl9LGNoZWNrRm9yd2FyZDpmdW5jdGlvbigpe3JldHVybiExIT09YS5jYWxsKHRoaXMsMCwxKX0sY2hlY2tCYWNrd2FyZDpmdW5jdGlvbigpe3JldHVybiExIT09YS5jYWxsKHRoaXMsMSwxKX0sbGFzdEZvcndhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5jYWxsKHRoaXMpfSxsYXN0QmFja3dhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5jYWxsKHRoaXMsMSl9LHJlc2V0OmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY3VycmVudDt0aGlzLl89e319fX0pO3ZhciBiPXtibG9jazoxLFwibGlzdC1pdGVtXCI6MSx0YWJsZToxLFwidGFibGUtcm93LWdyb3VwXCI6MSxcInRhYmxlLWhlYWRlci1ncm91cFwiOjEsXG5cInRhYmxlLWZvb3Rlci1ncm91cFwiOjEsXCJ0YWJsZS1yb3dcIjoxLFwidGFibGUtY29sdW1uLWdyb3VwXCI6MSxcInRhYmxlLWNvbHVtblwiOjEsXCJ0YWJsZS1jZWxsXCI6MSxcInRhYmxlLWNhcHRpb25cIjoxfSxjPXthYnNvbHV0ZToxLGZpeGVkOjF9O0NLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5pc0Jsb2NrQm91bmRhcnk9ZnVuY3Rpb24oYSl7cmV0dXJuXCJub25lXCIhPXRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcImZsb2F0XCIpfHx0aGlzLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKWluIGN8fCFiW3RoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcImRpc3BsYXlcIildPyEhKHRoaXMuaXMoQ0tFRElUT1IuZHRkLiRibG9jayl8fGEmJnRoaXMuaXMoYSkpOiEwfTtDS0VESVRPUi5kb20ud2Fsa2VyLmJsb2NrQm91bmRhcnk9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiEoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaXNCbG9ja0JvdW5kYXJ5KGEpKX19O0NLRURJVE9SLmRvbS53YWxrZXIubGlzdEl0ZW1Cb3VuZGFyeT1cbmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2tCb3VuZGFyeSh7YnI6MX0pfTtDS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZyhhKXtyZXR1cm4gYSYmYS5nZXROYW1lJiZcInNwYW5cIj09YS5nZXROYW1lKCkmJmEuZGF0YShcImNrZS1ib29rbWFya1wiKX1yZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQsZTtkPWMmJmMudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZT1jLmdldFBhcmVudCgpKSYmZyhlKTtkPWE/ZDpkfHxnKGMpO3JldHVybiEhKGJeZCl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgZztiJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGc9IUNLRURJVE9SLnRvb2xzLnRyaW0oYi5nZXRUZXh0KCkpfHxDS0VESVRPUi5lbnYud2Via2l0JiZiLmdldFRleHQoKT09Q0tFRElUT1IuZG9tLnNlbGVjdGlvbi5GSUxMSU5HX0NIQVJfU0VRVUVOQ0UpO1xucmV0dXJuISEoYV5nKX19O0NLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxnPUNLRURJVE9SLmVudi53ZWJraXQ/MTowO3JldHVybiBmdW5jdGlvbihjKXtiKGMpP2M9MTooYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihjPWMuZ2V0UGFyZW50KCkpLGM9Yy4kLm9mZnNldFdpZHRoPD1nKTtyZXR1cm4hIShhXmMpfX07Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihnKXtyZXR1cm4hIShiXmcudHlwZT09YSl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIW0oYSkmJiFsKGEpfXJldHVybiBmdW5jdGlvbihnKXt2YXIgYz1DS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9nLmlzJiZnLmlzKFwiYnJcIik6Zy5nZXRUZXh0JiZlLnRlc3QoZy5nZXRUZXh0KCkpO2MmJihjPWcuZ2V0UGFyZW50KCksXG5nPWcuZ2V0TmV4dChiKSxjPWMuaXNCbG9ja0JvdW5kYXJ5KCkmJighZ3x8Zy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmcuaXNCbG9ja0JvdW5kYXJ5KCkpKTtyZXR1cm4hIShhXmMpfX07Q0tFRElUT1IuZG9tLndhbGtlci50ZW1wPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGI9Yi5nZXRQYXJlbnQoKSk7Yj1iJiZiLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXRlbXBcIik7cmV0dXJuISEoYV5iKX19O3ZhciBlPS9eW1xcdFxcclxcbiBdKig/OiZuYnNwO3xcXHhhMCkkLyxtPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxsPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxkPUNLRURJVE9SLmRvbS53YWxrZXIudGVtcCgpLGg9ZnVuY3Rpb24oYSl7cmV0dXJuIGwoYSl8fG0oYSl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKSYmIWEuaXMoQ0tFRElUT1IuZHRkLiRlbXB0eSl9O1xuQ0tFRElUT1IuZG9tLndhbGtlci5pZ25vcmVkPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtiPW0oYil8fGwoYil8fGQoYik7cmV0dXJuISEoYV5iKX19O3ZhciBrPUNLRURJVE9SLmRvbS53YWxrZXIuaWdub3JlZCgpO0NLRURJVE9SLmRvbS53YWxrZXIuZW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2Zvcih2YXIgZz0wLGM9Yi5nZXRDaGlsZENvdW50KCk7ZzxjOysrZylpZighayhiLmdldENoaWxkKGcpKSlyZXR1cm4hIWE7cmV0dXJuIWF9fTt2YXIgZz1DS0VESVRPUi5kb20ud2Fsa2VyLmVtcHR5KCksbj1DS0VESVRPUi5kb20ud2Fsa2VyLnZhbGlkRW1wdHlCbG9ja0NvbnRhaW5lcnM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGZ1bmN0aW9uKGEpe3ZhciBiPXt9LGc7Zm9yKGcgaW4gYSlDS0VESVRPUi5kdGRbZ11bXCIjXCJdJiYoYltnXT0xKTtyZXR1cm4gYn0oQ0tFRElUT1IuZHRkLiRibG9jaykse2NhcHRpb246MSx0ZDoxLHRoOjF9KTtDS0VESVRPUi5kb20ud2Fsa2VyLmVkaXRhYmxlPVxuZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2I9ayhiKT8hMTpiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKXx8Yi5pcyhcImhyXCIpfHxcImZhbHNlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfHwhQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJmIuaXMobikmJmcoYikpPyEwOiExO3JldHVybiEhKGFeYil9fTtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuZ2V0Qm9ndXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2RvIGE9YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoKTt3aGlsZShoKGEpKTtyZXR1cm4gYSYmKENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyP2EuaXMmJmEuaXMoXCJiclwiKTphLmdldFRleHQmJmUudGVzdChhLmdldFRleHQoKSkpP2E6ITF9fSgpLENLRURJVE9SLmRvbS5yYW5nZT1mdW5jdGlvbihhKXt0aGlzLmVuZE9mZnNldD10aGlzLmVuZENvbnRhaW5lcj1cbnRoaXMuc3RhcnRPZmZzZXQ9dGhpcy5zdGFydENvbnRhaW5lcj1udWxsO3RoaXMuY29sbGFwc2VkPSEwO3ZhciBmPWEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZG9jdW1lbnQ7dGhpcy5kb2N1bWVudD1mP2E6YS5nZXREb2N1bWVudCgpO3RoaXMucm9vdD1mP2EuZ2V0Qm9keSgpOmF9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXthLmNvbGxhcHNlZD1hLnN0YXJ0Q29udGFpbmVyJiZhLmVuZENvbnRhaW5lciYmYS5zdGFydENvbnRhaW5lci5lcXVhbHMoYS5lbmRDb250YWluZXIpJiZhLnN0YXJ0T2Zmc2V0PT1hLmVuZE9mZnNldH1mdW5jdGlvbiBmKGEsYixjLGQsZSl7ZnVuY3Rpb24gayhhLGIsZyxjKXt2YXIgZD1nP2EuZ2V0UHJldmlvdXMoKTphLmdldE5leHQoKTtpZihjJiZtKXJldHVybiBkO3d8fGM/Yi5hcHBlbmQoYS5jbG9uZSghMCxlKSxnKTooYS5yZW1vdmUoKSxsJiZiLmFwcGVuZChhKSk7cmV0dXJuIGR9ZnVuY3Rpb24gZigpe3ZhciBhLGIsZyxjPU1hdGgubWluKEkubGVuZ3RoLFxuSC5sZW5ndGgpO2ZvcihhPTA7YTxjO2ErKylpZihiPUlbYV0sZz1IW2FdLCFiLmVxdWFscyhnKSlyZXR1cm4gYTtyZXR1cm4gYS0xfWZ1bmN0aW9uIGgoKXt2YXIgYj1SLTEsYz1FJiZKJiYhei5lcXVhbHMoRCk7YjxQLTF8fGI8VC0xfHxjPyhjP2EubW92ZVRvUG9zaXRpb24oRCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpOlQ9PWIrMSYmRj9hLm1vdmVUb1Bvc2l0aW9uKEhbYl0sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk6YS5tb3ZlVG9Qb3NpdGlvbihIW2IrMV0sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxkJiYoYj1JW2IrMV0pJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGM9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjc3BhbiBkYXRhLWNrZS1ib29rbWFya1xceDNkXCIxXCIgc3R5bGVcXHgzZFwiZGlzcGxheTpub25lXCJcXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2UnLGEuZG9jdW1lbnQpLGMuaW5zZXJ0QWZ0ZXIoYiksXG5iLm1lcmdlU2libGluZ3MoITEpLGEubW92ZVRvQm9va21hcmsoe3N0YXJ0Tm9kZTpjfSkpKTphLmNvbGxhcHNlKCEwKX1hLm9wdGltaXplQm9va21hcmsoKTt2YXIgbT0wPT09YixsPTE9PWIsdz0yPT1iO2I9d3x8bDt2YXIgej1hLnN0YXJ0Q29udGFpbmVyLEQ9YS5lbmRDb250YWluZXIseT1hLnN0YXJ0T2Zmc2V0LEE9YS5lbmRPZmZzZXQsQyxGLEUsSixHLE07aWYodyYmRC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJnouZXF1YWxzKEQpKXo9YS5kb2N1bWVudC5jcmVhdGVUZXh0KHouc3Vic3RyaW5nKHksQSkpLGMuYXBwZW5kKHopO2Vsc2V7RC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/dz9NPSEwOkQ9RC5zcGxpdChBKTowPEQuZ2V0Q2hpbGRDb3VudCgpP0E+PUQuZ2V0Q2hpbGRDb3VudCgpPyhEPUQuZ2V0Q2hpbGQoQS0xKSxGPSEwKTpEPUQuZ2V0Q2hpbGQoQSk6Sj1GPSEwO3oudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP3c/Rz0hMDp6LnNwbGl0KHkpOjA8ei5nZXRDaGlsZENvdW50KCk/XG4wPT09eT8oej16LmdldENoaWxkKHkpLEM9ITApOno9ei5nZXRDaGlsZCh5LTEpOkU9Qz0hMDtmb3IodmFyIEk9ei5nZXRQYXJlbnRzKCksSD1ELmdldFBhcmVudHMoKSxSPWYoKSxQPUkubGVuZ3RoLTEsVD1ILmxlbmd0aC0xLE89YyxLLGNhLFcsVT0tMSxMPVI7TDw9UDtMKyspe2NhPUlbTF07Vz1jYS5nZXROZXh0KCk7Zm9yKEwhPVB8fGNhLmVxdWFscyhIW0xdKSYmUDxUP2ImJihLPU8uYXBwZW5kKGNhLmNsb25lKDAsZSkpKTpDP2soY2EsTywhMSxFKTpHJiZPLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZVRleHQoY2Euc3Vic3RyaW5nKHkpKSk7Vzspe2lmKFcuZXF1YWxzKEhbTF0pKXtVPUw7YnJlYWt9Vz1rKFcsTyl9Tz1LfU89Yztmb3IoTD1SO0w8PVQ7TCsrKWlmKGM9SFtMXSxXPWMuZ2V0UHJldmlvdXMoKSxjLmVxdWFscyhJW0xdKSliJiYoTz1PLmdldENoaWxkKDApKTtlbHNle0whPVR8fGMuZXF1YWxzKElbTF0pJiZUPFA/YiYmKEs9Ty5hcHBlbmQoYy5jbG9uZSgwLGUpKSk6XG5GP2soYyxPLCExLEopOk0mJk8uYXBwZW5kKGEuZG9jdW1lbnQuY3JlYXRlVGV4dChjLnN1YnN0cmluZygwLEEpKSk7aWYoTD5VKWZvcig7VzspVz1rKFcsTywhMCk7Tz1LfXd8fGgoKX19ZnVuY3Rpb24gYigpe3ZhciBhPSExLGI9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLGM9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMCksZD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzKCk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBjKGUpfHxiKGUpPyEwOmQoZSkmJiFhP2E9ITA6ZS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihlLmhhc0FzY2VuZGFudChcInByZVwiKXx8Q0tFRElUT1IudG9vbHMudHJpbShlLmdldFRleHQoKSkubGVuZ3RoKXx8ZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFlLmlzKG0pPyExOiEwfX1mdW5jdGlvbiBjKGEpe3ZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxjPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoMSk7XG5yZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGMoZCl8fGIoZCk/ITA6IWEmJmwoZCl8fGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmlzKENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHkpfX1mdW5jdGlvbiBlKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiO3JldHVybiB0aGlzW2E/XCJnZXRQcmV2aW91c05vZGVcIjpcImdldE5leHROb2RlXCJdKGZ1bmN0aW9uKGEpeyFiJiZrKGEpJiYoYj1hKTtyZXR1cm4gaChhKSYmIShsKGEpJiZhLmVxdWFscyhiKSl9KX19dmFyIG09e2FiYnI6MSxhY3JvbnltOjEsYjoxLGJkbzoxLGJpZzoxLGNpdGU6MSxjb2RlOjEsZGVsOjEsZGZuOjEsZW06MSxmb250OjEsaToxLGluczoxLGxhYmVsOjEsa2JkOjEscToxLHNhbXA6MSxzbWFsbDoxLHNwYW46MSxzdHJpa2U6MSxzdHJvbmc6MSxzdWI6MSxzdXA6MSx0dDoxLHU6MSxcInZhclwiOjF9LGw9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpLGQ9L15bXFx0XFxyXFxuIF0qKD86Jm5ic3A7fFxceGEwKSQvLFxuaD1DS0VESVRPUi5kb20ud2Fsa2VyLmVkaXRhYmxlKCksaz1DS0VESVRPUi5kb20ud2Fsa2VyLmlnbm9yZWQoITApO0NLRURJVE9SLmRvbS5yYW5nZS5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2EuX3NldFN0YXJ0Q29udGFpbmVyKHRoaXMuc3RhcnRDb250YWluZXIpO2Euc3RhcnRPZmZzZXQ9dGhpcy5zdGFydE9mZnNldDthLl9zZXRFbmRDb250YWluZXIodGhpcy5lbmRDb250YWluZXIpO2EuZW5kT2Zmc2V0PXRoaXMuZW5kT2Zmc2V0O2EuY29sbGFwc2VkPXRoaXMuY29sbGFwc2VkO3JldHVybiBhfSxjb2xsYXBzZTpmdW5jdGlvbihhKXthPyh0aGlzLl9zZXRFbmRDb250YWluZXIodGhpcy5zdGFydENvbnRhaW5lciksdGhpcy5lbmRPZmZzZXQ9dGhpcy5zdGFydE9mZnNldCk6KHRoaXMuX3NldFN0YXJ0Q29udGFpbmVyKHRoaXMuZW5kQ29udGFpbmVyKSx0aGlzLnN0YXJ0T2Zmc2V0PXRoaXMuZW5kT2Zmc2V0KTtcbnRoaXMuY29sbGFwc2VkPSEwfSxjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudCh0aGlzLmRvY3VtZW50KTt0aGlzLmNvbGxhcHNlZHx8Zih0aGlzLDIsYiwhMSxcInVuZGVmaW5lZFwiPT10eXBlb2YgYT8hMDphKTtyZXR1cm4gYn0sZGVsZXRlQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5jb2xsYXBzZWR8fGYodGhpcywwLG51bGwsYSl9LGV4dHJhY3RDb250ZW50czpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudCh0aGlzLmRvY3VtZW50KTt0aGlzLmNvbGxhcHNlZHx8Zih0aGlzLDEsYyxhLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBiPyEwOmIpO3JldHVybiBjfSxjcmVhdGVCb29rbWFyazpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxrPXRoaXMuY29sbGFwc2VkO2I9dGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtiLmRhdGEoXCJja2UtYm9va21hcmtcIiwxKTtiLnNldFN0eWxlKFwiZGlzcGxheVwiLFxuXCJub25lXCIpO2Iuc2V0SHRtbChcIlxceDI2bmJzcDtcIik7YSYmKGQ9XCJja2VfYm1fXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGIuc2V0QXR0cmlidXRlKFwiaWRcIixkKyhrP1wiQ1wiOlwiU1wiKSkpO2t8fChjPWIuY2xvbmUoKSxjLnNldEh0bWwoXCJcXHgyNm5ic3A7XCIpLGEmJmMuc2V0QXR0cmlidXRlKFwiaWRcIixkK1wiRVwiKSxlPXRoaXMuY2xvbmUoKSxlLmNvbGxhcHNlKCksZS5pbnNlcnROb2RlKGMpKTtlPXRoaXMuY2xvbmUoKTtlLmNvbGxhcHNlKCEwKTtlLmluc2VydE5vZGUoYik7Yz8odGhpcy5zZXRTdGFydEFmdGVyKGIpLHRoaXMuc2V0RW5kQmVmb3JlKGMpKTp0aGlzLm1vdmVUb1Bvc2l0aW9uKGIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtyZXR1cm57c3RhcnROb2RlOmE/ZCsoaz9cIkNcIjpcIlNcIik6YixlbmROb2RlOmE/ZCtcIkVcIjpjLHNlcmlhbGl6YWJsZTphLGNvbGxhcHNlZDprfX0sY3JlYXRlQm9va21hcmsyOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXt2YXIgZz1cbmIuY29udGFpbmVyLGQ9Yi5vZmZzZXQsZTtlPWc7dmFyIGs9ZDtlPWUudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwwPT09a3x8az09ZS5nZXRDaGlsZENvdW50KCk/MDplLmdldENoaWxkKGstMSkudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZlLmdldENoaWxkKGspLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVDtlJiYoZz1nLmdldENoaWxkKGQtMSksZD1nLmdldExlbmd0aCgpKTtpZihnLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmMDxkKXthOntmb3IoZT1nO2QtLTspaWYoaz1lLmdldENoaWxkKGQpLmdldEluZGV4KCEwKSwwPD1rKXtkPWs7YnJlYWsgYX1kPS0xfWQrPTF9aWYoZy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2U9Zztmb3Ioaz0wOyhlPWUuZ2V0UHJldmlvdXMoKSkmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUOylrKz1lLmdldFRleHQoKS5yZXBsYWNlKENLRURJVE9SLmRvbS5zZWxlY3Rpb24uRklMTElOR19DSEFSX1NFUVVFTkNFLFwiXCIpLmxlbmd0aDtcbmU9aztnLmdldFRleHQoKT9kKz1lOihrPWcuZ2V0UHJldmlvdXMoYyksZT8oZD1lLGc9az9rLmdldE5leHQoKTpnLmdldFBhcmVudCgpLmdldEZpcnN0KCkpOihnPWcuZ2V0UGFyZW50KCksZD1rP2suZ2V0SW5kZXgoITApKzE6MCkpfWIuY29udGFpbmVyPWc7Yi5vZmZzZXQ9ZH1mdW5jdGlvbiBiKGEsZyl7dmFyIGM9Zy5nZXRDdXN0b21EYXRhKFwiY2tlLWZpbGxpbmdDaGFyXCIpO2lmKGMpe3ZhciBkPWEuY29udGFpbmVyO2MuZXF1YWxzKGQpJiYoYS5vZmZzZXQtPUNLRURJVE9SLmRvbS5zZWxlY3Rpb24uRklMTElOR19DSEFSX1NFUVVFTkNFLmxlbmd0aCwwPj1hLm9mZnNldCYmKGEub2Zmc2V0PWQuZ2V0SW5kZXgoKSxhLmNvbnRhaW5lcj1kLmdldFBhcmVudCgpKSl9fXZhciBjPUNLRURJVE9SLmRvbS53YWxrZXIubm9kZVR5cGUoQ0tFRElUT1IuTk9ERV9URVhULCEwKTtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5jb2xsYXBzZWQsZT17Y29udGFpbmVyOnRoaXMuc3RhcnRDb250YWluZXIsXG5vZmZzZXQ6dGhpcy5zdGFydE9mZnNldH0saz17Y29udGFpbmVyOnRoaXMuZW5kQ29udGFpbmVyLG9mZnNldDp0aGlzLmVuZE9mZnNldH07YyYmKGEoZSksYihlLHRoaXMucm9vdCksZHx8KGEoayksYihrLHRoaXMucm9vdCkpKTtyZXR1cm57c3RhcnQ6ZS5jb250YWluZXIuZ2V0QWRkcmVzcyhjKSxlbmQ6ZD9udWxsOmsuY29udGFpbmVyLmdldEFkZHJlc3MoYyksc3RhcnRPZmZzZXQ6ZS5vZmZzZXQsZW5kT2Zmc2V0Omsub2Zmc2V0LG5vcm1hbGl6ZWQ6Yyxjb2xsYXBzZWQ6ZCxpczI6ITB9fX0oKSxtb3ZlVG9Cb29rbWFyazpmdW5jdGlvbihhKXtpZihhLmlzMil7dmFyIGI9dGhpcy5kb2N1bWVudC5nZXRCeUFkZHJlc3MoYS5zdGFydCxhLm5vcm1hbGl6ZWQpLGM9YS5zdGFydE9mZnNldCxkPWEuZW5kJiZ0aGlzLmRvY3VtZW50LmdldEJ5QWRkcmVzcyhhLmVuZCxhLm5vcm1hbGl6ZWQpO2E9YS5lbmRPZmZzZXQ7dGhpcy5zZXRTdGFydChiLGMpO2Q/dGhpcy5zZXRFbmQoZCxhKTp0aGlzLmNvbGxhcHNlKCEwKX1lbHNlIGI9XG4oYz1hLnNlcmlhbGl6YWJsZSk/dGhpcy5kb2N1bWVudC5nZXRCeUlkKGEuc3RhcnROb2RlKTphLnN0YXJ0Tm9kZSxhPWM/dGhpcy5kb2N1bWVudC5nZXRCeUlkKGEuZW5kTm9kZSk6YS5lbmROb2RlLHRoaXMuc2V0U3RhcnRCZWZvcmUoYiksYi5yZW1vdmUoKSxhPyh0aGlzLnNldEVuZEJlZm9yZShhKSxhLnJlbW92ZSgpKTp0aGlzLmNvbGxhcHNlKCEwKX0sZ2V0Qm91bmRhcnlOb2RlczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhcnRDb250YWluZXIsYj10aGlzLmVuZENvbnRhaW5lcixjPXRoaXMuc3RhcnRPZmZzZXQsZD10aGlzLmVuZE9mZnNldCxlO2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKGU9YS5nZXRDaGlsZENvdW50KCksZT5jKWE9YS5nZXRDaGlsZChjKTtlbHNlIGlmKDE+ZSlhPWEuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCk7ZWxzZXtmb3IoYT1hLiQ7YS5sYXN0Q2hpbGQ7KWE9YS5sYXN0Q2hpbGQ7YT1uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYSk7YT1cbmEuZ2V0TmV4dFNvdXJjZU5vZGUoKXx8YX1pZihiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClpZihlPWIuZ2V0Q2hpbGRDb3VudCgpLGU+ZCliPWIuZ2V0Q2hpbGQoZCkuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCEwKTtlbHNlIGlmKDE+ZSliPWIuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCk7ZWxzZXtmb3IoYj1iLiQ7Yi5sYXN0Q2hpbGQ7KWI9Yi5sYXN0Q2hpbGQ7Yj1uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYil9YS5nZXRQb3NpdGlvbihiKSZDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkcmJihhPWIpO3JldHVybntzdGFydE5vZGU6YSxlbmROb2RlOmJ9fSxnZXRDb21tb25BbmNlc3RvcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc3RhcnRDb250YWluZXIsZD10aGlzLmVuZENvbnRhaW5lcixjPWMuZXF1YWxzKGQpP2EmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ0aGlzLnN0YXJ0T2Zmc2V0PT10aGlzLmVuZE9mZnNldC0xP2MuZ2V0Q2hpbGQodGhpcy5zdGFydE9mZnNldCk6XG5jOmMuZ2V0Q29tbW9uQW5jZXN0b3IoZCk7cmV0dXJuIGImJiFjLmlzP2MuZ2V0UGFyZW50KCk6Y30sb3B0aW1pemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyLGI9dGhpcy5zdGFydE9mZnNldDthLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGI/Yj49YS5nZXRMZW5ndGgoKSYmdGhpcy5zZXRTdGFydEFmdGVyKGEpOnRoaXMuc2V0U3RhcnRCZWZvcmUoYSkpO2E9dGhpcy5lbmRDb250YWluZXI7Yj10aGlzLmVuZE9mZnNldDthLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGI/Yj49YS5nZXRMZW5ndGgoKSYmdGhpcy5zZXRFbmRBZnRlcihhKTp0aGlzLnNldEVuZEJlZm9yZShhKSl9LG9wdGltaXplQm9va21hcms6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyLGI9dGhpcy5lbmRDb250YWluZXI7YS5pcyYmYS5pcyhcInNwYW5cIikmJmEuZGF0YShcImNrZS1ib29rbWFya1wiKSYmdGhpcy5zZXRTdGFydEF0KGEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtcbmImJmIuaXMmJmIuaXMoXCJzcGFuXCIpJiZiLmRhdGEoXCJja2UtYm9va21hcmtcIikmJnRoaXMuc2V0RW5kQXQoYixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpfSx0cmltOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zdGFydENvbnRhaW5lcixkPXRoaXMuc3RhcnRPZmZzZXQsZT10aGlzLmNvbGxhcHNlZDtpZigoIWF8fGUpJiZjJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7aWYoZClpZihkPj1jLmdldExlbmd0aCgpKWQ9Yy5nZXRJbmRleCgpKzEsYz1jLmdldFBhcmVudCgpO2Vsc2V7dmFyIGs9Yy5zcGxpdChkKSxkPWMuZ2V0SW5kZXgoKSsxLGM9Yy5nZXRQYXJlbnQoKTt0aGlzLnN0YXJ0Q29udGFpbmVyLmVxdWFscyh0aGlzLmVuZENvbnRhaW5lcik/dGhpcy5zZXRFbmQoayx0aGlzLmVuZE9mZnNldC10aGlzLnN0YXJ0T2Zmc2V0KTpjLmVxdWFscyh0aGlzLmVuZENvbnRhaW5lcikmJih0aGlzLmVuZE9mZnNldCs9MSl9ZWxzZSBkPWMuZ2V0SW5kZXgoKSxjPWMuZ2V0UGFyZW50KCk7XG50aGlzLnNldFN0YXJ0KGMsZCk7aWYoZSl7dGhpcy5jb2xsYXBzZSghMCk7cmV0dXJufX1jPXRoaXMuZW5kQ29udGFpbmVyO2Q9dGhpcy5lbmRPZmZzZXQ7Ynx8ZXx8IWN8fGMudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUfHwoZD8oZD49Yy5nZXRMZW5ndGgoKXx8Yy5zcGxpdChkKSxkPWMuZ2V0SW5kZXgoKSsxKTpkPWMuZ2V0SW5kZXgoKSxjPWMuZ2V0UGFyZW50KCksdGhpcy5zZXRFbmQoYyxkKSl9LGVubGFyZ2U6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe3JldHVybiBhJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/bnVsbDphfXZhciBkPW5ldyBSZWdFeHAoL1teXFxzXFx1ZmVmZl0vKTtzd2l0Y2goYSl7Y2FzZSBDS0VESVRPUi5FTkxBUkdFX0lOTElORTp2YXIgZT0xO2Nhc2UgQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UOnZhciBrPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IENLRURJVE9SLmRvbS5yYW5nZShoKTtcbmMuc2V0U3RhcnQoYSxiKTtjLnNldEVuZEF0KGgsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7dmFyIGM9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyksZztmb3IoYy5ndWFyZD1mdW5jdGlvbihhKXtyZXR1cm4hKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzQmxvY2tCb3VuZGFyeSgpKX07Zz1jLm5leHQoKTspe2lmKGcudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUKXJldHVybiExO0M9ZyE9YT9nLmdldFRleHQoKTpnLnN1YnN0cmluZyhiKTtpZihkLnRlc3QoQykpcmV0dXJuITF9cmV0dXJuITB9O2lmKHRoaXMuY29sbGFwc2VkKWJyZWFrO3ZhciBmPXRoaXMuZ2V0Q29tbW9uQW5jZXN0b3IoKSxoPXRoaXMucm9vdCxtLGwsdyx6LEQseT0hMSxBLEM7QT10aGlzLnN0YXJ0Q29udGFpbmVyO3ZhciBGPXRoaXMuc3RhcnRPZmZzZXQ7QS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/KEYmJihBPSFDS0VESVRPUi50b29scy50cmltKEEuc3Vic3RyaW5nKDAsRikpLmxlbmd0aCYmXG5BLHk9ISFBKSxBJiYoKHo9QS5nZXRQcmV2aW91cygpKXx8KHc9QS5nZXRQYXJlbnQoKSkpKTooRiYmKHo9QS5nZXRDaGlsZChGLTEpfHxBLmdldExhc3QoKSksenx8KHc9QSkpO2Zvcih3PWModyk7d3x8ejspe2lmKHcmJiF6KXshRCYmdy5lcXVhbHMoZikmJihEPSEwKTtpZihlP3cuaXNCbG9ja0JvdW5kYXJ5KCk6IWguY29udGFpbnModykpYnJlYWs7eSYmXCJpbmxpbmVcIj09dy5nZXRDb21wdXRlZFN0eWxlKFwiZGlzcGxheVwiKXx8KHk9ITEsRD9tPXc6dGhpcy5zZXRTdGFydEJlZm9yZSh3KSk7ej13LmdldFByZXZpb3VzKCl9Zm9yKDt6OylpZihBPSExLHoudHlwZT09Q0tFRElUT1IuTk9ERV9DT01NRU5UKXo9ei5nZXRQcmV2aW91cygpO2Vsc2V7aWYoei50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpQz16LmdldFRleHQoKSxkLnRlc3QoQykmJih6PW51bGwpLEE9L1tcXHNcXHVmZWZmXSQvLnRlc3QoQyk7ZWxzZSBpZigoei4kLm9mZnNldFdpZHRoPihDS0VESVRPUi5lbnYud2Via2l0PzE6XG4wKXx8YiYmei5pcyhcImJyXCIpKSYmIXouZGF0YShcImNrZS1ib29rbWFya1wiKSlpZih5JiZDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3ouZ2V0TmFtZSgpXSl7Qz16LmdldFRleHQoKTtpZihkLnRlc3QoQykpej1udWxsO2Vsc2UgZm9yKHZhciBGPXouJC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIiksRT0wLEo7Sj1GW0UrK107KWlmKCFDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W0oubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pe3o9bnVsbDticmVha316JiYoQT0hIUMubGVuZ3RoKX1lbHNlIHo9bnVsbDtBJiYoeT9EP209dzp3JiZ0aGlzLnNldFN0YXJ0QmVmb3JlKHcpOnk9ITApO2lmKHope0E9ei5nZXRQcmV2aW91cygpO2lmKCF3JiYhQSl7dz16O3o9bnVsbDticmVha316PUF9ZWxzZSB3PW51bGx9dyYmKHc9Yyh3LmdldFBhcmVudCgpKSl9QT10aGlzLmVuZENvbnRhaW5lcjtGPXRoaXMuZW5kT2Zmc2V0O3c9ej1udWxsO0Q9eT0hMTtBLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9cbkNLRURJVE9SLnRvb2xzLnRyaW0oQS5zdWJzdHJpbmcoRikpLmxlbmd0aD95PSEwOih5PSFBLmdldExlbmd0aCgpLEY9PUEuZ2V0TGVuZ3RoKCk/KHo9QS5nZXROZXh0KCkpfHwodz1BLmdldFBhcmVudCgpKTprKEEsRikmJih3PUEuZ2V0UGFyZW50KCkpKTooej1BLmdldENoaWxkKEYpKXx8KHc9QSk7Zm9yKDt3fHx6Oyl7aWYodyYmIXopeyFEJiZ3LmVxdWFscyhmKSYmKEQ9ITApO2lmKGU/dy5pc0Jsb2NrQm91bmRhcnkoKTohaC5jb250YWlucyh3KSlicmVhazt5JiZcImlubGluZVwiPT13LmdldENvbXB1dGVkU3R5bGUoXCJkaXNwbGF5XCIpfHwoeT0hMSxEP2w9dzp3JiZ0aGlzLnNldEVuZEFmdGVyKHcpKTt6PXcuZ2V0TmV4dCgpfWZvcig7ejspe0E9ITE7aWYoei50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpQz16LmdldFRleHQoKSxrKHosMCl8fCh6PW51bGwpLEE9L15bXFxzXFx1ZmVmZl0vLnRlc3QoQyk7ZWxzZSBpZih6LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7aWYoKDA8ei4kLm9mZnNldFdpZHRofHxcbmImJnouaXMoXCJiclwiKSkmJiF6LmRhdGEoXCJja2UtYm9va21hcmtcIikpaWYoeSYmQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt6LmdldE5hbWUoKV0pe0M9ei5nZXRUZXh0KCk7aWYoZC50ZXN0KEMpKXo9bnVsbDtlbHNlIGZvcihGPXouJC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIiksRT0wO0o9RltFKytdOylpZighQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVtKLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXt6PW51bGw7YnJlYWt9eiYmKEE9ISFDLmxlbmd0aCl9ZWxzZSB6PW51bGx9ZWxzZSBBPTE7QSYmeSYmKEQ/bD13OnRoaXMuc2V0RW5kQWZ0ZXIodykpO2lmKHope0E9ei5nZXROZXh0KCk7aWYoIXcmJiFBKXt3PXo7ej1udWxsO2JyZWFrfXo9QX1lbHNlIHc9bnVsbH13JiYodz1jKHcuZ2V0UGFyZW50KCkpKX1tJiZsJiYoZj1tLmNvbnRhaW5zKGwpP2w6bSx0aGlzLnNldFN0YXJ0QmVmb3JlKGYpLHRoaXMuc2V0RW5kQWZ0ZXIoZikpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUzpjYXNlIENLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTOnc9XG5uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7aD10aGlzLnJvb3Q7dy5zZXRTdGFydEF0KGgsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO3cuc2V0RW5kKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5zdGFydE9mZnNldCk7dz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcih3KTt2YXIgRyxNLEk9Q0tFRElUT1IuZG9tLndhbGtlci5ibG9ja0JvdW5kYXJ5KGE9PUNLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTP3ticjoxfTpudWxsKSxIPW51bGwsUj1mdW5jdGlvbihhKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXCJmYWxzZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlpZihIKXtpZihILmVxdWFscyhhKSl7SD1udWxsO3JldHVybn19ZWxzZSBIPWE7ZWxzZSBpZihIKXJldHVybjt2YXIgYj1JKGEpO2J8fChHPWEpO3JldHVybiBifSxlPWZ1bmN0aW9uKGEpe3ZhciBiPVIoYSk7IWImJmEuaXMmJmEuaXMoXCJiclwiKSYmXG4oTT1hKTtyZXR1cm4gYn07dy5ndWFyZD1SO3c9dy5sYXN0QmFja3dhcmQoKTtHPUd8fGg7dGhpcy5zZXRTdGFydEF0KEcsIUcuaXMoXCJiclwiKSYmKCF3JiZ0aGlzLmNoZWNrU3RhcnRPZkJsb2NrKCl8fHcmJkcuY29udGFpbnModykpP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7aWYoYT09Q0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFMpe3c9dGhpcy5jbG9uZSgpO3c9bmV3IENLRURJVE9SLmRvbS53YWxrZXIodyk7dmFyIFA9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLFQ9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygpO3cuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiFQKGEpJiYhVChhKX07aWYoKHc9dy5wcmV2aW91cygpKSYmdy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJncuaXMoXCJiclwiKSlicmVha313PXRoaXMuY2xvbmUoKTt3LmNvbGxhcHNlKCk7dy5zZXRFbmRBdChoLFxuQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7dz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcih3KTt3Lmd1YXJkPWE9PUNLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTP2U6UjtHPUg9TT1udWxsO3c9dy5sYXN0Rm9yd2FyZCgpO0c9R3x8aDt0aGlzLnNldEVuZEF0KEcsIXcmJnRoaXMuY2hlY2tFbmRPZkJsb2NrKCl8fHcmJkcuY29udGFpbnModyk/Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO00mJnRoaXMuc2V0RW5kQWZ0ZXIoTSl9fSxzaHJpbms6ZnVuY3Rpb24oYSxiLGMpe2lmKCF0aGlzLmNvbGxhcHNlZCl7YT1hfHxDS0VESVRPUi5TSFJJTktfVEVYVDt2YXIgZD10aGlzLmNsb25lKCksZT10aGlzLnN0YXJ0Q29udGFpbmVyLGs9dGhpcy5lbmRDb250YWluZXIsZj10aGlzLnN0YXJ0T2Zmc2V0LGg9dGhpcy5lbmRPZmZzZXQsbT0xLGw9MTtlJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGY/XG5mPj1lLmdldExlbmd0aCgpP2Quc2V0U3RhcnRBZnRlcihlKTooZC5zZXRTdGFydEJlZm9yZShlKSxtPTApOmQuc2V0U3RhcnRCZWZvcmUoZSkpO2smJmsudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoaD9oPj1rLmdldExlbmd0aCgpP2Quc2V0RW5kQWZ0ZXIoayk6KGQuc2V0RW5kQWZ0ZXIoayksbD0wKTpkLnNldEVuZEJlZm9yZShrKSk7dmFyIGQ9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZCksdz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCk7ZC5ldmFsdWF0b3I9ZnVuY3Rpb24oYil7cmV0dXJuIGIudHlwZT09KGE9PUNLRURJVE9SLlNIUklOS19FTEVNRU5UP0NLRURJVE9SLk5PREVfRUxFTUVOVDpDS0VESVRPUi5OT0RFX1RFWFQpfTt2YXIgejtkLmd1YXJkPWZ1bmN0aW9uKGIsZCl7aWYodyhiKSlyZXR1cm4hMDtpZihhPT1DS0VESVRPUi5TSFJJTktfRUxFTUVOVCYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR8fGQmJmIuZXF1YWxzKHopfHwhMT09PWMmJmIudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaXNCbG9ja0JvdW5kYXJ5KCl8fGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4hMTtkfHxiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8KHo9Yik7cmV0dXJuITB9O20mJihlPWRbYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ/XCJsYXN0Rm9yd2FyZFwiOlwibmV4dFwiXSgpKSYmdGhpcy5zZXRTdGFydEF0KGUsYj9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2wmJihkLnJlc2V0KCksKGQ9ZFthPT1DS0VESVRPUi5TSFJJTktfRUxFTUVOVD9cImxhc3RCYWNrd2FyZFwiOlwicHJldmlvdXNcIl0oKSkmJnRoaXMuc2V0RW5kQXQoZCxiP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk7cmV0dXJuISghbSYmIWwpfX0saW5zZXJ0Tm9kZTpmdW5jdGlvbihhKXt0aGlzLm9wdGltaXplQm9va21hcmsoKTtcbnRoaXMudHJpbSghMSwhMCk7dmFyIGI9dGhpcy5zdGFydENvbnRhaW5lcixjPWIuZ2V0Q2hpbGQodGhpcy5zdGFydE9mZnNldCk7Yz9hLmluc2VydEJlZm9yZShjKTpiLmFwcGVuZChhKTthLmdldFBhcmVudCgpJiZhLmdldFBhcmVudCgpLmVxdWFscyh0aGlzLmVuZENvbnRhaW5lcikmJnRoaXMuZW5kT2Zmc2V0Kys7dGhpcy5zZXRTdGFydEJlZm9yZShhKX0sbW92ZVRvUG9zaXRpb246ZnVuY3Rpb24oYSxiKXt0aGlzLnNldFN0YXJ0QXQoYSxiKTt0aGlzLmNvbGxhcHNlKCEwKX0sbW92ZVRvUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5zZXRTdGFydChhLnN0YXJ0Q29udGFpbmVyLGEuc3RhcnRPZmZzZXQpO3RoaXMuc2V0RW5kKGEuZW5kQ29udGFpbmVyLGEuZW5kT2Zmc2V0KX0sc2VsZWN0Tm9kZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuc2V0U3RhcnQoYSwwKTt0aGlzLnNldEVuZChhLGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP2EuZ2V0TGVuZ3RoKCk6YS5nZXRDaGlsZENvdW50KCkpfSxcbnNldFN0YXJ0OmZ1bmN0aW9uKGIsYyl7Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkNLRURJVE9SLmR0ZC4kZW1wdHlbYi5nZXROYW1lKCldJiYoYz1iLmdldEluZGV4KCksYj1iLmdldFBhcmVudCgpKTt0aGlzLl9zZXRTdGFydENvbnRhaW5lcihiKTt0aGlzLnN0YXJ0T2Zmc2V0PWM7dGhpcy5lbmRDb250YWluZXJ8fCh0aGlzLl9zZXRFbmRDb250YWluZXIoYiksdGhpcy5lbmRPZmZzZXQ9Yyk7YSh0aGlzKX0sc2V0RW5kOmZ1bmN0aW9uKGIsYyl7Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkNLRURJVE9SLmR0ZC4kZW1wdHlbYi5nZXROYW1lKCldJiYoYz1iLmdldEluZGV4KCkrMSxiPWIuZ2V0UGFyZW50KCkpO3RoaXMuX3NldEVuZENvbnRhaW5lcihiKTt0aGlzLmVuZE9mZnNldD1jO3RoaXMuc3RhcnRDb250YWluZXJ8fCh0aGlzLl9zZXRTdGFydENvbnRhaW5lcihiKSx0aGlzLnN0YXJ0T2Zmc2V0PWMpO2EodGhpcyl9LHNldFN0YXJ0QWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5zZXRTdGFydChhLmdldFBhcmVudCgpLFxuYS5nZXRJbmRleCgpKzEpfSxzZXRTdGFydEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEuZ2V0UGFyZW50KCksYS5nZXRJbmRleCgpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5zZXRFbmQoYS5nZXRQYXJlbnQoKSxhLmdldEluZGV4KCkrMSl9LHNldEVuZEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLnNldEVuZChhLmdldFBhcmVudCgpLGEuZ2V0SW5kZXgoKSl9LHNldFN0YXJ0QXQ6ZnVuY3Rpb24oYixjKXtzd2l0Y2goYyl7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDp0aGlzLnNldFN0YXJ0KGIsMCk7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP3RoaXMuc2V0U3RhcnQoYixiLmdldExlbmd0aCgpKTp0aGlzLnNldFN0YXJ0KGIsYi5nZXRDaGlsZENvdW50KCkpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUOnRoaXMuc2V0U3RhcnRCZWZvcmUoYik7XG5icmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDp0aGlzLnNldFN0YXJ0QWZ0ZXIoYil9YSh0aGlzKX0sc2V0RW5kQXQ6ZnVuY3Rpb24oYixjKXtzd2l0Y2goYyl7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDp0aGlzLnNldEVuZChiLDApO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDpiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD90aGlzLnNldEVuZChiLGIuZ2V0TGVuZ3RoKCkpOnRoaXMuc2V0RW5kKGIsYi5nZXRDaGlsZENvdW50KCkpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUOnRoaXMuc2V0RW5kQmVmb3JlKGIpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EOnRoaXMuc2V0RW5kQWZ0ZXIoYil9YSh0aGlzKX0sZml4QmxvY2s6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZUJvb2ttYXJrKCksZD10aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYik7dGhpcy5jb2xsYXBzZShhKTtcbnRoaXMuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTKTt0aGlzLmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGQpO2QudHJpbSgpO3RoaXMuaW5zZXJ0Tm9kZShkKTt2YXIgZT1kLmdldEJvZ3VzKCk7ZSYmZS5yZW1vdmUoKTtkLmFwcGVuZEJvZ3VzKCk7dGhpcy5tb3ZlVG9Cb29rbWFyayhjKTtyZXR1cm4gZH0sc3BsaXRCbG9jazpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnJvb3QpLGQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLmVuZENvbnRhaW5lcix0aGlzLnJvb3QpLGU9Yy5ibG9jayxrPWQuYmxvY2ssZj1udWxsO2lmKCFjLmJsb2NrTGltaXQuZXF1YWxzKGQuYmxvY2tMaW1pdCkpcmV0dXJuIG51bGw7XCJiclwiIT1hJiYoZXx8KGU9dGhpcy5maXhCbG9jayghMCxhKSxrPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLFxudGhpcy5yb290KSkuYmxvY2spLGt8fChrPXRoaXMuZml4QmxvY2soITEsYSkpKTtjPWUmJnRoaXMuY2hlY2tTdGFydE9mQmxvY2soKTtkPWsmJnRoaXMuY2hlY2tFbmRPZkJsb2NrKCk7dGhpcy5kZWxldGVDb250ZW50cygpO2UmJmUuZXF1YWxzKGspJiYoZD8oZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KSx0aGlzLm1vdmVUb1Bvc2l0aW9uKGssQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxrPW51bGwpOmM/KGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCksdGhpcy5tb3ZlVG9Qb3NpdGlvbihlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZT1udWxsKTooaz10aGlzLnNwbGl0RWxlbWVudChlLGJ8fCExKSxlLmlzKFwidWxcIixcIm9sXCIpfHxlLmFwcGVuZEJvZ3VzKCkpKTtyZXR1cm57cHJldmlvdXNCbG9jazplLG5leHRCbG9jazprLHdhc1N0YXJ0T2ZCbG9jazpjLFxud2FzRW5kT2ZCbG9jazpkLGVsZW1lbnRQYXRoOmZ9fSxzcGxpdEVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5jb2xsYXBzZWQpcmV0dXJuIG51bGw7dGhpcy5zZXRFbmRBdChhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3ZhciBjPXRoaXMuZXh0cmFjdENvbnRlbnRzKCExLGJ8fCExKSxkPWEuY2xvbmUoITEsYnx8ITEpO2MuYXBwZW5kVG8oZCk7ZC5pbnNlcnRBZnRlcihhKTt0aGlzLm1vdmVUb1Bvc2l0aW9uKGEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtyZXR1cm4gZH0scmVtb3ZlRW1wdHlCbG9ja3NBdEVuZDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoZyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBiKGEpfHxjKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pc0VtcHR5SW5saW5lUmVtb3ZlYWJsZSgpfHxnLmlzKFwidGFibGVcIikmJmEuaXMoXCJjYXB0aW9uXCIpPyExOiEwfX12YXIgYj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksXG5jPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEpO3JldHVybiBmdW5jdGlvbihiKXtmb3IodmFyIGM9dGhpcy5jcmVhdGVCb29rbWFyaygpLGQ9dGhpc1tiP1wiZW5kUGF0aFwiOlwic3RhcnRQYXRoXCJdKCksZT1kLmJsb2NrfHxkLmJsb2NrTGltaXQsaztlJiYhZS5lcXVhbHMoZC5yb290KSYmIWUuZ2V0Rmlyc3QoYShlKSk7KWs9ZS5nZXRQYXJlbnQoKSx0aGlzW2I/XCJzZXRFbmRBdFwiOlwic2V0U3RhcnRBdFwiXShlLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksZS5yZW1vdmUoMSksZT1rO3RoaXMubW92ZVRvQm9va21hcmsoYyl9fSgpLHN0YXJ0UGF0aDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KX0sZW5kUGF0aDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLHRoaXMucm9vdCl9LGNoZWNrQm91bmRhcnlPZkVsZW1lbnQ6ZnVuY3Rpb24oYSxcbmIpe3ZhciBkPWI9PUNLRURJVE9SLlNUQVJULGU9dGhpcy5jbG9uZSgpO2UuY29sbGFwc2UoZCk7ZVtkP1wic2V0U3RhcnRBdFwiOlwic2V0RW5kQXRcIl0oYSxkP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2U9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSk7ZS5ldmFsdWF0b3I9YyhkKTtyZXR1cm4gZVtkP1wiY2hlY2tCYWNrd2FyZFwiOlwiY2hlY2tGb3J3YXJkXCJdKCl9LGNoZWNrU3RhcnRPZkJsb2NrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcixjPXRoaXMuc3RhcnRPZmZzZXQ7Q0tFRElUT1IuZW52LmllJiZjJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGE9Q0tFRElUT1IudG9vbHMubHRyaW0oYS5zdWJzdHJpbmcoMCxjKSksZC50ZXN0KGEpJiZ0aGlzLnRyaW0oMCwxKSk7dGhpcy50cmltKCk7YT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KTtcbmM9dGhpcy5jbG9uZSgpO2MuY29sbGFwc2UoITApO2Muc2V0U3RhcnRBdChhLmJsb2NrfHxhLmJsb2NrTGltaXQsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2E9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyk7YS5ldmFsdWF0b3I9YigpO3JldHVybiBhLmNoZWNrQmFja3dhcmQoKX0sY2hlY2tFbmRPZkJsb2NrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbmRDb250YWluZXIsYz10aGlzLmVuZE9mZnNldDtDS0VESVRPUi5lbnYuaWUmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYT1DS0VESVRPUi50b29scy5ydHJpbShhLnN1YnN0cmluZyhjKSksZC50ZXN0KGEpJiZ0aGlzLnRyaW0oMSwwKSk7dGhpcy50cmltKCk7YT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLHRoaXMucm9vdCk7Yz10aGlzLmNsb25lKCk7Yy5jb2xsYXBzZSghMSk7Yy5zZXRFbmRBdChhLmJsb2NrfHxhLmJsb2NrTGltaXQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7XG5hPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGMpO2EuZXZhbHVhdG9yPWIoKTtyZXR1cm4gYS5jaGVja0ZvcndhcmQoKX0sZ2V0UHJldmlvdXNOb2RlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmNsb25lKCk7ZC5jb2xsYXBzZSgxKTtkLnNldFN0YXJ0QXQoY3x8dGhpcy5yb290LENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtjPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGQpO2MuZXZhbHVhdG9yPWE7Yy5ndWFyZD1iO3JldHVybiBjLnByZXZpb3VzKCl9LGdldE5leHROb2RlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmNsb25lKCk7ZC5jb2xsYXBzZSgpO2Quc2V0RW5kQXQoY3x8dGhpcy5yb290LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2M9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZCk7Yy5ldmFsdWF0b3I9YTtjLmd1YXJkPWI7cmV0dXJuIGMubmV4dCgpfSxjaGVja1JlYWRPbmx5OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe2Zvcig7Yjspe2lmKGIudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKFwiZmFsc2VcIj09Yi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIikmJiFiLmRhdGEoXCJja2UtZWRpdGFibGVcIikpcmV0dXJuIDA7aWYoYi5pcyhcImh0bWxcIil8fFwidHJ1ZVwiPT1iLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSYmKGIuY29udGFpbnMoYyl8fGIuZXF1YWxzKGMpKSlicmVha31iPWIuZ2V0UGFyZW50KCl9cmV0dXJuIDF9cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5zdGFydENvbnRhaW5lcixjPXRoaXMuZW5kQ29udGFpbmVyO3JldHVybiEoYShiLGMpJiZhKGMsYikpfX0oKSxtb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbjpmdW5jdGlvbihhLGIpe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhYS5pc0VkaXRhYmxlKCExKSlyZXR1cm4gdGhpcy5tb3ZlVG9Qb3NpdGlvbihhLGI/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksXG4hMDtmb3IodmFyIGM9MDthOyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2ImJnRoaXMuZW5kQ29udGFpbmVyJiZ0aGlzLmNoZWNrRW5kT2ZCbG9jaygpJiZkLnRlc3QoYS5nZXRUZXh0KCkpP3RoaXMubW92ZVRvUG9zaXRpb24oYSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpOnRoaXMubW92ZVRvUG9zaXRpb24oYSxiP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2M9MTticmVha31pZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClpZihhLmlzRWRpdGFibGUoKSl0aGlzLm1vdmVUb1Bvc2l0aW9uKGEsYj9DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSxjPTE7ZWxzZSBpZihiJiZhLmlzKFwiYnJcIikmJnRoaXMuZW5kQ29udGFpbmVyJiZ0aGlzLmNoZWNrRW5kT2ZCbG9jaygpKXRoaXMubW92ZVRvUG9zaXRpb24oYSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO1xuZWxzZSBpZihcImZhbHNlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiZhLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spKXJldHVybiB0aGlzLnNldFN0YXJ0QmVmb3JlKGEpLHRoaXMuc2V0RW5kQWZ0ZXIoYSksITA7dmFyIGU9YSxmPWMsaD12b2lkIDA7ZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmUuaXNFZGl0YWJsZSghMSkmJihoPWVbYj9cImdldExhc3RcIjpcImdldEZpcnN0XCJdKGspKTtmfHxofHwoaD1lW2I/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShrKSk7YT1ofXJldHVybiEhY30sbW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb246ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTAsZSxrLGY9W0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlRdO2E/KGM9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpLGMubW92ZVRvUG9zaXRpb24oYSxmW2I/MDoxXSkpOmM9dGhpcy5jbG9uZSgpO2lmKGEmJlxuIWEuaXMoQ0tFRElUT1IuZHRkLiRibG9jaykpZD0xO2Vsc2UgaWYoZT1jW2I/XCJnZXROZXh0RWRpdGFibGVOb2RlXCI6XCJnZXRQcmV2aW91c0VkaXRhYmxlTm9kZVwiXSgpKWQ9MSwoaz1lLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCkmJmUuaXMoQ0tFRElUT1IuZHRkLiRibG9jaykmJlwiZmFsc2VcIj09ZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/KGMuc2V0U3RhcnRBdChlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksYy5zZXRFbmRBdChlLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpOiFDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmayYmZS5pcyhDS0VESVRPUi5kb20ud2Fsa2VyLnZhbGlkRW1wdHlCbG9ja0NvbnRhaW5lcnMpPyhjLnNldEVuZChlLDApLGMuY29sbGFwc2UoKSk6Yy5tb3ZlVG9Qb3NpdGlvbihlLGZbYj8xOjBdKTtkJiZ0aGlzLm1vdmVUb1JhbmdlKGMpO3JldHVybiEhZH0sbW92ZVRvRWxlbWVudEVkaXRTdGFydDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihhKX0sXG5tb3ZlVG9FbGVtZW50RWRpdEVuZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihhLCEwKX0sZ2V0RW5jbG9zZWROb2RlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jbG9uZSgpO2Eub3B0aW1pemUoKTtpZihhLnN0YXJ0Q29udGFpbmVyLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8YS5lbmRDb250YWluZXIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXJldHVybiBudWxsO3ZhciBhPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGEpLGI9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMSwhMCksYz1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCEwKTthLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gYyhhKSYmYihhKX07dmFyIGQ9YS5uZXh0KCk7YS5yZXNldCgpO3JldHVybiBkJiZkLmVxdWFscyhhLnByZXZpb3VzKCkpP2Q6bnVsbH0sZ2V0VG91Y2hlZFN0YXJ0Tm9kZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhcnRDb250YWluZXI7XG5yZXR1cm4gdGhpcy5jb2xsYXBzZWR8fGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2E6YS5nZXRDaGlsZCh0aGlzLnN0YXJ0T2Zmc2V0KXx8YX0sZ2V0VG91Y2hlZEVuZE5vZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVuZENvbnRhaW5lcjtyZXR1cm4gdGhpcy5jb2xsYXBzZWR8fGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2E6YS5nZXRDaGlsZCh0aGlzLmVuZE9mZnNldC0xKXx8YX0sZ2V0TmV4dEVkaXRhYmxlTm9kZTplKCksZ2V0UHJldmlvdXNFZGl0YWJsZU5vZGU6ZSgxKSxzY3JvbGxJbnRvVmlldzpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChcIlxceDNjc3BhblxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVwiLHRoaXMuZG9jdW1lbnQpLGIsYyxkLGU9dGhpcy5jbG9uZSgpO2Uub3B0aW1pemUoKTsoZD1lLnN0YXJ0Q29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCk/KGM9ZS5zdGFydENvbnRhaW5lci5nZXRUZXh0KCksXG5iPWUuc3RhcnRDb250YWluZXIuc3BsaXQoZS5zdGFydE9mZnNldCksYS5pbnNlcnRBZnRlcihlLnN0YXJ0Q29udGFpbmVyKSk6ZS5pbnNlcnROb2RlKGEpO2Euc2Nyb2xsSW50b1ZpZXcoKTtkJiYoZS5zdGFydENvbnRhaW5lci5zZXRUZXh0KGMpLGIucmVtb3ZlKCkpO2EucmVtb3ZlKCl9LF9zZXRTdGFydENvbnRhaW5lcjpmdW5jdGlvbihhKXt0aGlzLnN0YXJ0Q29udGFpbmVyPWF9LF9zZXRFbmRDb250YWluZXI6ZnVuY3Rpb24oYSl7dGhpcy5lbmRDb250YWluZXI9YX0sX2ZpbmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENvbW1vbkFuY2VzdG9yKCksZD10aGlzLmdldEJvdW5kYXJ5Tm9kZXMoKSxlPVtdLGssZixoLG07aWYoYyYmYy5maW5kKWZvcihmPWMuZmluZChhKSxrPTA7azxmLmNvdW50KCk7aysrKWlmKGM9Zi5nZXRJdGVtKGspLGJ8fCFjLmlzUmVhZE9ubHkoKSloPWMuZ2V0UG9zaXRpb24oZC5zdGFydE5vZGUpJkNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lOR3x8XG5kLnN0YXJ0Tm9kZS5lcXVhbHMoYyksbT1jLmdldFBvc2l0aW9uKGQuZW5kTm9kZSkmQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HK0NLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCxoJiZtJiZlLnB1c2goYyk7cmV0dXJuIGV9fX0oKSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVD0xLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ9MixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ9MyxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ9NCxDS0VESVRPUi5FTkxBUkdFX0VMRU1FTlQ9MSxDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTPTIsQ0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM9MyxDS0VESVRPUi5FTkxBUkdFX0lOTElORT00LENLRURJVE9SLlNUQVJUPTEsQ0tFRElUT1IuRU5EPTIsQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ9MSxDS0VESVRPUi5TSFJJTktfVEVYVD0yLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXsxPlxuYXJndW1lbnRzLmxlbmd0aHx8KHRoaXMucmFuZ2U9YSx0aGlzLmZvcmNlQnJCcmVhaz0wLHRoaXMuZW5sYXJnZUJyPTEsdGhpcy5lbmZvcmNlUmVhbEJsb2Nrcz0wLHRoaXMuX3x8KHRoaXMuXz17fSkpfWZ1bmN0aW9uIGYoYSl7dmFyIGI9W107YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKFwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4gYi5wdXNoKGEpLCExfSxDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApO3JldHVybiBifWZ1bmN0aW9uIGIoYSxjLGQsZSl7YTp7bnVsbD09ZSYmKGU9ZihkKSk7Zm9yKHZhciBoO2g9ZS5zaGlmdCgpOylpZihoLmdldER0ZCgpLnApe2U9e2VsZW1lbnQ6aCxyZW1haW5pbmc6ZX07YnJlYWsgYX1lPW51bGx9aWYoIWUpcmV0dXJuIDA7aWYoKGg9Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1tlLmVsZW1lbnQuZGF0YShcImNrZS1maWx0ZXJcIildKSYmIWguY2hlY2soYykpcmV0dXJuIGIoYSxjLGQsZS5yZW1haW5pbmcpO1xuYz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGUuZWxlbWVudCk7Yy5zZWxlY3ROb2RlQ29udGVudHMoZS5lbGVtZW50KTtjPWMuY3JlYXRlSXRlcmF0b3IoKTtjLmVubGFyZ2VCcj1hLmVubGFyZ2VCcjtjLmVuZm9yY2VSZWFsQmxvY2tzPWEuZW5mb3JjZVJlYWxCbG9ja3M7Yy5hY3RpdmVGaWx0ZXI9Yy5maWx0ZXI9aDthLl8ubmVzdGVkRWRpdGFibGU9e2VsZW1lbnQ6ZS5lbGVtZW50LGNvbnRhaW5lcjpkLHJlbWFpbmluZzplLnJlbWFpbmluZyxpdGVyYXRvcjpjfTtyZXR1cm4gMX1mdW5jdGlvbiBjKGEsYixjKXtpZighYilyZXR1cm4hMTthPWEuY2xvbmUoKTthLmNvbGxhcHNlKCFjKTtyZXR1cm4gYS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGIsYz9DS0VESVRPUi5TVEFSVDpDS0VESVRPUi5FTkQpfXZhciBlPS9eW1xcclxcblxcdCBdKyQvLG09Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMSwhMCksbD1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCEwKSxkPWZ1bmN0aW9uKGEpe3JldHVybiBtKGEpJiZcbmwoYSl9LGg9e2RkOjEsZHQ6MSxsaToxfTthLnByb3RvdHlwZT17Z2V0TmV4dFBhcmFncmFwaDpmdW5jdGlvbihhKXt2YXIgZyxmLGwscCx0O2E9YXx8XCJwXCI7aWYodGhpcy5fLm5lc3RlZEVkaXRhYmxlKXtpZihnPXRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5pdGVyYXRvci5nZXROZXh0UGFyYWdyYXBoKGEpKXJldHVybiB0aGlzLmFjdGl2ZUZpbHRlcj10aGlzLl8ubmVzdGVkRWRpdGFibGUuaXRlcmF0b3IuYWN0aXZlRmlsdGVyLGc7dGhpcy5hY3RpdmVGaWx0ZXI9dGhpcy5maWx0ZXI7aWYoYih0aGlzLGEsdGhpcy5fLm5lc3RlZEVkaXRhYmxlLmNvbnRhaW5lcix0aGlzLl8ubmVzdGVkRWRpdGFibGUucmVtYWluaW5nKSlyZXR1cm4gdGhpcy5hY3RpdmVGaWx0ZXI9dGhpcy5fLm5lc3RlZEVkaXRhYmxlLml0ZXJhdG9yLmFjdGl2ZUZpbHRlcix0aGlzLl8ubmVzdGVkRWRpdGFibGUuaXRlcmF0b3IuZ2V0TmV4dFBhcmFncmFwaChhKTt0aGlzLl8ubmVzdGVkRWRpdGFibGU9bnVsbH1pZighdGhpcy5yYW5nZS5yb290LmdldER0ZCgpW2FdKXJldHVybiBudWxsO1xuaWYoIXRoaXMuXy5zdGFydGVkKXt2YXIgdj10aGlzLnJhbmdlLmNsb25lKCk7Zj12LnN0YXJ0UGF0aCgpO3ZhciByPXYuZW5kUGF0aCgpLHU9IXYuY29sbGFwc2VkJiZjKHYsZi5ibG9jayksQj0hdi5jb2xsYXBzZWQmJmModixyLmJsb2NrLDEpO3Yuc2hyaW5rKENLRURJVE9SLlNIUklOS19FTEVNRU5ULCEwKTt1JiZ2LnNldFN0YXJ0QXQoZi5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtCJiZ2LnNldEVuZEF0KHIuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2Y9di5lbmRDb250YWluZXIuaGFzQXNjZW5kYW50KFwicHJlXCIsITApfHx2LnN0YXJ0Q29udGFpbmVyLmhhc0FzY2VuZGFudChcInByZVwiLCEwKTt2LmVubGFyZ2UodGhpcy5mb3JjZUJyQnJlYWsmJiFmfHwhdGhpcy5lbmxhcmdlQnI/Q0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM6Q0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUyk7di5jb2xsYXBzZWR8fChmPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHYuY2xvbmUoKSksXG5yPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITAsITApLGYuZXZhbHVhdG9yPXIsdGhpcy5fLm5leHROb2RlPWYubmV4dCgpLGY9bmV3IENLRURJVE9SLmRvbS53YWxrZXIodi5jbG9uZSgpKSxmLmV2YWx1YXRvcj1yLGY9Zi5wcmV2aW91cygpLHRoaXMuXy5sYXN0Tm9kZT1mLmdldE5leHRTb3VyY2VOb2RlKCEwLG51bGwsdi5yb290KSx0aGlzLl8ubGFzdE5vZGUmJnRoaXMuXy5sYXN0Tm9kZS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJiFDS0VESVRPUi50b29scy50cmltKHRoaXMuXy5sYXN0Tm9kZS5nZXRUZXh0KCkpJiZ0aGlzLl8ubGFzdE5vZGUuZ2V0UGFyZW50KCkuaXNCbG9ja0JvdW5kYXJ5KCkmJihyPXRoaXMucmFuZ2UuY2xvbmUoKSxyLm1vdmVUb1Bvc2l0aW9uKHRoaXMuXy5sYXN0Tm9kZSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpLHIuY2hlY2tFbmRPZkJsb2NrKCkmJihyPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoci5lbmRDb250YWluZXIsXG5yLnJvb3QpLHRoaXMuXy5sYXN0Tm9kZT0oci5ibG9ja3x8ci5ibG9ja0xpbWl0KS5nZXROZXh0U291cmNlTm9kZSghMCkpKSx0aGlzLl8ubGFzdE5vZGUmJnYucm9vdC5jb250YWlucyh0aGlzLl8ubGFzdE5vZGUpfHwodGhpcy5fLmxhc3ROb2RlPXRoaXMuXy5kb2NFbmRNYXJrZXI9di5kb2N1bWVudC5jcmVhdGVUZXh0KFwiXCIpLHRoaXMuXy5sYXN0Tm9kZS5pbnNlcnRBZnRlcihmKSksdj1udWxsKTt0aGlzLl8uc3RhcnRlZD0xO2Y9dn1yPXRoaXMuXy5uZXh0Tm9kZTt2PXRoaXMuXy5sYXN0Tm9kZTtmb3IodGhpcy5fLm5leHROb2RlPW51bGw7cjspe3ZhciB1PTAsQj1yLmhhc0FzY2VuZGFudChcInByZVwiKSx4PXIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5ULHc9MDtpZih4KXIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZlLnRlc3Qoci5nZXRUZXh0KCkpJiYoeD0wKTtlbHNle3ZhciB6PXIuZ2V0TmFtZSgpO2lmKENLRURJVE9SLmR0ZC4kYmxvY2tbel0mJlwiZmFsc2VcIj09ci5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpe2c9XG5yO2IodGhpcyxhLGcpO2JyZWFrfWVsc2UgaWYoci5pc0Jsb2NrQm91bmRhcnkodGhpcy5mb3JjZUJyQnJlYWsmJiFCJiZ7YnI6MX0pKXtpZihcImJyXCI9PXopeD0xO2Vsc2UgaWYoIWYmJiFyLmdldENoaWxkQ291bnQoKSYmXCJoclwiIT16KXtnPXI7bD1yLmVxdWFscyh2KTticmVha31mJiYoZi5zZXRFbmRBdChyLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksXCJiclwiIT16JiYodGhpcy5fLm5leHROb2RlPXIpKTt1PTF9ZWxzZXtpZihyLmdldEZpcnN0KCkpe2Z8fChmPXRoaXMucmFuZ2UuY2xvbmUoKSxmLnNldFN0YXJ0QXQocixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpKTtyPXIuZ2V0Rmlyc3QoKTtjb250aW51ZX14PTF9fXgmJiFmJiYoZj10aGlzLnJhbmdlLmNsb25lKCksZi5zZXRTdGFydEF0KHIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSk7bD0oIXV8fHgpJiZyLmVxdWFscyh2KTtpZihmJiYhdSlmb3IoOyFyLmdldE5leHQoZCkmJiFsOyl7ej1cbnIuZ2V0UGFyZW50KCk7aWYoei5pc0Jsb2NrQm91bmRhcnkodGhpcy5mb3JjZUJyQnJlYWsmJiFCJiZ7YnI6MX0pKXt1PTE7eD0wO2x8fHouZXF1YWxzKHYpO2Yuc2V0RW5kQXQoeixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTticmVha31yPXo7eD0xO2w9ci5lcXVhbHModik7dz0xfXgmJmYuc2V0RW5kQXQocixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO3I9dGhpcy5fZ2V0TmV4dFNvdXJjZU5vZGUocix3LHYpO2lmKChsPSFyKXx8dSYmZilicmVha31pZighZyl7aWYoIWYpcmV0dXJuIHRoaXMuXy5kb2NFbmRNYXJrZXImJnRoaXMuXy5kb2NFbmRNYXJrZXIucmVtb3ZlKCksdGhpcy5fLm5leHROb2RlPW51bGw7Zz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGYuc3RhcnRDb250YWluZXIsZi5yb290KTtyPWcuYmxvY2tMaW1pdDt1PXtkaXY6MSx0aDoxLHRkOjF9O2c9Zy5ibG9jazshZyYmciYmIXRoaXMuZW5mb3JjZVJlYWxCbG9ja3MmJnVbci5nZXROYW1lKCldJiZcbmYuY2hlY2tTdGFydE9mQmxvY2soKSYmZi5jaGVja0VuZE9mQmxvY2soKSYmIXIuZXF1YWxzKGYucm9vdCk/Zz1yOiFnfHx0aGlzLmVuZm9yY2VSZWFsQmxvY2tzJiZnLmlzKGgpPyhnPXRoaXMucmFuZ2UuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKSxmLmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGcpLGcudHJpbSgpLGYuaW5zZXJ0Tm9kZShnKSxwPXQ9ITApOlwibGlcIiE9Zy5nZXROYW1lKCk/Zi5jaGVja1N0YXJ0T2ZCbG9jaygpJiZmLmNoZWNrRW5kT2ZCbG9jaygpfHwoZz1nLmNsb25lKCExKSxmLmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGcpLGcudHJpbSgpLHQ9Zi5zcGxpdEJsb2NrKCkscD0hdC53YXNTdGFydE9mQmxvY2ssdD0hdC53YXNFbmRPZkJsb2NrLGYuaW5zZXJ0Tm9kZShnKSk6bHx8KHRoaXMuXy5uZXh0Tm9kZT1nLmVxdWFscyh2KT9udWxsOnRoaXMuX2dldE5leHRTb3VyY2VOb2RlKGYuZ2V0Qm91bmRhcnlOb2RlcygpLmVuZE5vZGUsMSx2KSl9cCYmKHA9XG5nLmdldFByZXZpb3VzKCkpJiZwLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKFwiYnJcIj09cC5nZXROYW1lKCk/cC5yZW1vdmUoKTpwLmdldExhc3QoKSYmXCJiclwiPT1wLmdldExhc3QoKS4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJnAuZ2V0TGFzdCgpLnJlbW92ZSgpKTt0JiYocD1nLmdldExhc3QoKSkmJnAudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImJyXCI9PXAuZ2V0TmFtZSgpJiYoIUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyfHxwLmdldFByZXZpb3VzKG0pfHxwLmdldE5leHQobSkpJiZwLnJlbW92ZSgpO3RoaXMuXy5uZXh0Tm9kZXx8KHRoaXMuXy5uZXh0Tm9kZT1sfHxnLmVxdWFscyh2KXx8IXY/bnVsbDp0aGlzLl9nZXROZXh0U291cmNlTm9kZShnLDEsdikpO3JldHVybiBnfSxfZ2V0TmV4dFNvdXJjZU5vZGU6ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIShhLmVxdWFscyhjKXx8YS5lcXVhbHMoZSkpfXZhciBlPXRoaXMucmFuZ2Uucm9vdDtcbmZvcihhPWEuZ2V0TmV4dFNvdXJjZU5vZGUoYixudWxsLGQpOyFtKGEpOylhPWEuZ2V0TmV4dFNvdXJjZU5vZGUoYixudWxsLGQpO3JldHVybiBhfX07Q0tFRElUT1IuZG9tLnJhbmdlLnByb3RvdHlwZS5jcmVhdGVJdGVyYXRvcj1mdW5jdGlvbigpe3JldHVybiBuZXcgYSh0aGlzKX19KCksQ0tFRElUT1IuY29tbWFuZD1mdW5jdGlvbihhLGYpe3RoaXMudWlJdGVtcz1bXTt0aGlzLmV4ZWM9ZnVuY3Rpb24oYil7aWYodGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUR8fCF0aGlzLmNoZWNrQWxsb3dlZCgpKXJldHVybiExO3RoaXMuZWRpdG9yRm9jdXMmJmEuZm9jdXMoKTtyZXR1cm4hMT09PXRoaXMuZmlyZShcImV4ZWNcIik/ITA6ITEhPT1mLmV4ZWMuY2FsbCh0aGlzLGEsYil9O3RoaXMucmVmcmVzaD1mdW5jdGlvbihhLGIpe2lmKCF0aGlzLnJlYWRPbmx5JiZhLnJlYWRPbmx5KXJldHVybiEwO2lmKHRoaXMuY29udGV4dCYmIWIuaXNDb250ZXh0Rm9yKHRoaXMuY29udGV4dCl8fFxuIXRoaXMuY2hlY2tBbGxvd2VkKCEwKSlyZXR1cm4gdGhpcy5kaXNhYmxlKCksITA7dGhpcy5zdGFydERpc2FibGVkfHx0aGlzLmVuYWJsZSgpO3RoaXMubW9kZXMmJiF0aGlzLm1vZGVzW2EubW9kZV0mJnRoaXMuZGlzYWJsZSgpO3JldHVybiExPT09dGhpcy5maXJlKFwicmVmcmVzaFwiLHtlZGl0b3I6YSxwYXRoOmJ9KT8hMDpmLnJlZnJlc2gmJiExIT09Zi5yZWZyZXNoLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGI7dGhpcy5jaGVja0FsbG93ZWQ9ZnVuY3Rpb24oYyl7cmV0dXJuIGN8fFwiYm9vbGVhblwiIT10eXBlb2YgYj9iPWEuYWN0aXZlRmlsdGVyLmNoZWNrRmVhdHVyZSh0aGlzKTpifTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxmLHttb2Rlczp7d3lzaXd5ZzoxfSxlZGl0b3JGb2N1czoxLGNvbnRleHRTZW5zaXRpdmU6ISFmLmNvbnRleHQsc3RhdGU6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUR9KTtDS0VESVRPUi5ldmVudC5jYWxsKHRoaXMpfSxDS0VESVRPUi5jb21tYW5kLnByb3RvdHlwZT1cbntlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmdGhpcy5jaGVja0FsbG93ZWQoKSYmdGhpcy5zZXRTdGF0ZSh0aGlzLnByZXNlcnZlU3RhdGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLnByZXZpb3VzU3RhdGU/dGhpcy5wcmV2aW91c1N0YXRlOkNLRURJVE9SLlRSSVNUQVRFX09GRil9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX0sc2V0U3RhdGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5zdGF0ZT09YXx8YSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJiF0aGlzLmNoZWNrQWxsb3dlZCgpKXJldHVybiExO3RoaXMucHJldmlvdXNTdGF0ZT10aGlzLnN0YXRlO3RoaXMuc3RhdGU9YTt0aGlzLmZpcmUoXCJzdGF0ZVwiKTtyZXR1cm4hMH0sdG9nZ2xlU3RhdGU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkY/dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PTik6XG50aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTiYmdGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PRkYpfX0sQ0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ0tFRElUT1IuY29tbWFuZC5wcm90b3R5cGUpLENLRURJVE9SLkVOVEVSX1A9MSxDS0VESVRPUi5FTlRFUl9CUj0yLENLRURJVE9SLkVOVEVSX0RJVj0zLENLRURJVE9SLmNvbmZpZz17Y3VzdG9tQ29uZmlnOlwiY29uZmlnLmpzXCIsYXV0b1VwZGF0ZUVsZW1lbnQ6ITAsbGFuZ3VhZ2U6XCJcIixkZWZhdWx0TGFuZ3VhZ2U6XCJlblwiLGNvbnRlbnRzTGFuZ0RpcmVjdGlvbjpcIlwiLGVudGVyTW9kZTpDS0VESVRPUi5FTlRFUl9QLGZvcmNlRW50ZXJNb2RlOiExLHNoaWZ0RW50ZXJNb2RlOkNLRURJVE9SLkVOVEVSX0JSLGRvY1R5cGU6XCJcXHgzYyFET0NUWVBFIGh0bWxcXHgzZVwiLGJvZHlJZDpcIlwiLGJvZHlDbGFzczpcIlwiLGZ1bGxQYWdlOiExLGhlaWdodDoyMDAsY29udGVudHNDc3M6Q0tFRElUT1IuZ2V0VXJsKFwiY29udGVudHMuY3NzXCIpLFxuZXh0cmFQbHVnaW5zOlwiXCIscmVtb3ZlUGx1Z2luczpcIlwiLHByb3RlY3RlZFNvdXJjZTpbXSx0YWJJbmRleDowLHdpZHRoOlwiXCIsYmFzZUZsb2F0WkluZGV4OjFFNCxibG9ja2VkS2V5c3Ryb2tlczpbQ0tFRElUT1IuQ1RSTCs2NixDS0VESVRPUi5DVFJMKzczLENLRURJVE9SLkNUUkwrODVdfSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMsZCxlKXt2YXIgZyxmO2E9W107Zm9yKGcgaW4gYil7Zj1iW2ddO2Y9XCJib29sZWFuXCI9PXR5cGVvZiBmP3t9OlwiZnVuY3Rpb25cIj09dHlwZW9mIGY/e21hdGNoOmZ9OkUoZik7XCIkXCIhPWcuY2hhckF0KDApJiYoZi5lbGVtZW50cz1nKTtjJiYoZi5mZWF0dXJlTmFtZT1jLnRvTG93ZXJDYXNlKCkpO3ZhciBrPWY7ay5lbGVtZW50cz1sKGsuZWxlbWVudHMsL1xccysvKXx8bnVsbDtrLnByb3BlcnRpZXNPbmx5PWsucHJvcGVydGllc09ubHl8fCEwPT09ay5lbGVtZW50czt2YXIgaD0vXFxzKixcXHMqLyxtPXZvaWQgMDtmb3IobSBpbiBNKXtrW21dPWwoa1ttXSxcbmgpfHxudWxsO3ZhciB3PWssdj1JW21dLHo9bChrW0lbbV1dLGgpLHg9a1ttXSxyPVtdLEQ9ITAsbj12b2lkIDA7ej9EPSExOno9e307Zm9yKG4gaW4geClcIiFcIj09bi5jaGFyQXQoMCkmJihuPW4uc2xpY2UoMSksci5wdXNoKG4pLHpbbl09ITAsRD0hMSk7Zm9yKDtuPXIucG9wKCk7KXhbbl09eFtcIiFcIituXSxkZWxldGUgeFtcIiFcIituXTt3W3ZdPShEPyExOnopfHxudWxsfWsubWF0Y2g9ay5tYXRjaHx8bnVsbDtkLnB1c2goZik7YS5wdXNoKGYpfWI9ZS5lbGVtZW50cztlPWUuZ2VuZXJpYzt2YXIgSDtjPTA7Zm9yKGQ9YS5sZW5ndGg7YzxkOysrYyl7Zz1FKGFbY10pO2Y9ITA9PT1nLmNsYXNzZXN8fCEwPT09Zy5zdHlsZXN8fCEwPT09Zy5hdHRyaWJ1dGVzO2s9ZzttPXY9aD12b2lkIDA7Zm9yKGggaW4gTSlrW2hdPXUoa1toXSk7dz0hMDtmb3IobSBpbiBJKXtoPUlbbV07dj1rW2hdO3o9W107eD12b2lkIDA7Zm9yKHggaW4gdiktMTx4LmluZGV4T2YoXCIqXCIpP3oucHVzaChuZXcgUmVnRXhwKFwiXlwiK1xueC5yZXBsYWNlKC9cXCovZyxcIi4qXCIpK1wiJFwiKSk6ei5wdXNoKHgpO3Y9ejt2Lmxlbmd0aCYmKGtbaF09dix3PSExKX1rLm5vdGhpbmdSZXF1aXJlZD13O2subm9Qcm9wZXJ0aWVzPSEoay5hdHRyaWJ1dGVzfHxrLmNsYXNzZXN8fGsuc3R5bGVzKTtpZighMD09PWcuZWxlbWVudHN8fG51bGw9PT1nLmVsZW1lbnRzKWVbZj9cInVuc2hpZnRcIjpcInB1c2hcIl0oZyk7ZWxzZSBmb3IoSCBpbiBrPWcuZWxlbWVudHMsZGVsZXRlIGcuZWxlbWVudHMsaylpZihiW0hdKWJbSF1bZj9cInVuc2hpZnRcIjpcInB1c2hcIl0oZyk7ZWxzZSBiW0hdPVtnXX19ZnVuY3Rpb24gZihhLGMsZSxnKXtpZighYS5tYXRjaHx8YS5tYXRjaChjKSlpZihnfHxkKGEsYykpaWYoYS5wcm9wZXJ0aWVzT25seXx8KGUudmFsaWQ9ITApLGUuYWxsQXR0cmlidXRlc3x8KGUuYWxsQXR0cmlidXRlcz1iKGEuYXR0cmlidXRlcyxjLmF0dHJpYnV0ZXMsZS52YWxpZEF0dHJpYnV0ZXMpKSxlLmFsbFN0eWxlc3x8KGUuYWxsU3R5bGVzPWIoYS5zdHlsZXMsXG5jLnN0eWxlcyxlLnZhbGlkU3R5bGVzKSksIWUuYWxsQ2xhc3Nlcyl7YT1hLmNsYXNzZXM7Yz1jLmNsYXNzZXM7Zz1lLnZhbGlkQ2xhc3NlcztpZihhKWlmKCEwPT09YSlhPSEwO2Vsc2V7Zm9yKHZhciBmPTAsaz1jLmxlbmd0aCxoO2Y8azsrK2YpaD1jW2ZdLGdbaF18fChnW2hdPWEoaCkpO2E9ITF9ZWxzZSBhPSExO2UuYWxsQ2xhc3Nlcz1hfX1mdW5jdGlvbiBiKGEsYixjKXtpZighYSlyZXR1cm4hMTtpZighMD09PWEpcmV0dXJuITA7Zm9yKHZhciBkIGluIGIpY1tkXXx8KGNbZF09YShkKSk7cmV0dXJuITF9ZnVuY3Rpb24gYyhhLGIsYyl7aWYoIWEubWF0Y2h8fGEubWF0Y2goYikpe2lmKGEubm9Qcm9wZXJ0aWVzKXJldHVybiExO2MuaGFkSW52YWxpZEF0dHJpYnV0ZT1lKGEuYXR0cmlidXRlcyxiLmF0dHJpYnV0ZXMpfHxjLmhhZEludmFsaWRBdHRyaWJ1dGU7Yy5oYWRJbnZhbGlkU3R5bGU9ZShhLnN0eWxlcyxiLnN0eWxlcyl8fGMuaGFkSW52YWxpZFN0eWxlO2E9YS5jbGFzc2VzO1xuYj1iLmNsYXNzZXM7aWYoYSl7Zm9yKHZhciBkPSExLGc9ITA9PT1hLGY9Yi5sZW5ndGg7Zi0tOylpZihnfHxhKGJbZl0pKWIuc3BsaWNlKGYsMSksZD0hMDthPWR9ZWxzZSBhPSExO2MuaGFkSW52YWxpZENsYXNzPWF8fGMuaGFkSW52YWxpZENsYXNzfX1mdW5jdGlvbiBlKGEsYil7aWYoIWEpcmV0dXJuITE7dmFyIGM9ITEsZD0hMD09PWEsZTtmb3IoZSBpbiBiKWlmKGR8fGEoZSkpZGVsZXRlIGJbZV0sYz0hMDtyZXR1cm4gY31mdW5jdGlvbiBtKGEsYixjKXtpZihhLmRpc2FibGVkfHxhLmN1c3RvbUNvbmZpZyYmIWN8fCFiKXJldHVybiExO2EuXy5jYWNoZWRDaGVja3M9e307cmV0dXJuITB9ZnVuY3Rpb24gbChhLGIpe2lmKCFhKXJldHVybiExO2lmKCEwPT09YSlyZXR1cm4gYTtpZihcInN0cmluZ1wiPT10eXBlb2YgYSlyZXR1cm4gYT1KKGEpLFwiKlwiPT1hPyEwOkNLRURJVE9SLnRvb2xzLmNvbnZlcnRBcnJheVRvT2JqZWN0KGEuc3BsaXQoYikpO2lmKENLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSkpcmV0dXJuIGEubGVuZ3RoP1xuQ0tFRElUT1IudG9vbHMuY29udmVydEFycmF5VG9PYmplY3QoYSk6ITE7dmFyIGM9e30sZD0wLGU7Zm9yKGUgaW4gYSljW2VdPWFbZV0sZCsrO3JldHVybiBkP2M6ITF9ZnVuY3Rpb24gZChhLGIpe2lmKGEubm90aGluZ1JlcXVpcmVkKXJldHVybiEwO3ZhciBjLGQsZSxnO2lmKGU9YS5yZXF1aXJlZENsYXNzZXMpZm9yKGc9Yi5jbGFzc2VzLGM9MDtjPGUubGVuZ3RoOysrYylpZihkPWVbY10sXCJzdHJpbmdcIj09dHlwZW9mIGQpe2lmKC0xPT1DS0VESVRPUi50b29scy5pbmRleE9mKGcsZCkpcmV0dXJuITF9ZWxzZSBpZighQ0tFRElUT1IudG9vbHMuY2hlY2tJZkFueUFycmF5SXRlbU1hdGNoZXMoZyxkKSlyZXR1cm4hMTtyZXR1cm4gaChiLnN0eWxlcyxhLnJlcXVpcmVkU3R5bGVzKSYmaChiLmF0dHJpYnV0ZXMsYS5yZXF1aXJlZEF0dHJpYnV0ZXMpfWZ1bmN0aW9uIGgoYSxiKXtpZighYilyZXR1cm4hMDtmb3IodmFyIGM9MCxkO2M8Yi5sZW5ndGg7KytjKWlmKGQ9YltjXSxcInN0cmluZ1wiPT1cbnR5cGVvZiBkKXtpZighKGQgaW4gYSkpcmV0dXJuITF9ZWxzZSBpZighQ0tFRElUT1IudG9vbHMuY2hlY2tJZkFueU9iamVjdFByb3BlcnR5TWF0Y2hlcyhhLGQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGsoYSl7aWYoIWEpcmV0dXJue307YT1hLnNwbGl0KC9cXHMqLFxccyovKS5zb3J0KCk7Zm9yKHZhciBiPXt9O2EubGVuZ3RoOyliW2Euc2hpZnQoKV09XCJja2UtdGVzdFwiO3JldHVybiBifWZ1bmN0aW9uIGcoYSl7dmFyIGIsYyxkLGUsZz17fSxmPTE7Zm9yKGE9SihhKTtiPWEubWF0Y2goSCk7KShjPWJbMl0pPyhkPW4oYyxcInN0eWxlc1wiKSxlPW4oYyxcImF0dHJzXCIpLGM9bihjLFwiY2xhc3Nlc1wiKSk6ZD1lPWM9bnVsbCxnW1wiJFwiK2YrK109e2VsZW1lbnRzOmJbMV0sY2xhc3NlczpjLHN0eWxlczpkLGF0dHJpYnV0ZXM6ZX0sYT1hLnNsaWNlKGJbMF0ubGVuZ3RoKTtyZXR1cm4gZ31mdW5jdGlvbiBuKGEsYil7dmFyIGM9YS5tYXRjaChSW2JdKTtyZXR1cm4gYz9KKGNbMV0pOm51bGx9XG5mdW5jdGlvbiBxKGEpe3ZhciBiPWEuc3R5bGVCYWNrdXA9YS5hdHRyaWJ1dGVzLnN0eWxlLGM9YS5jbGFzc0JhY2t1cD1hLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXTthLnN0eWxlc3x8KGEuc3R5bGVzPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChifHxcIlwiLDEpKTthLmNsYXNzZXN8fChhLmNsYXNzZXM9Yz9jLnNwbGl0KC9cXHMrLyk6W10pfWZ1bmN0aW9uIHAoYSxiLGQsZSl7dmFyIGc9MCxrO2UudG9IdG1sJiYoYi5uYW1lPWIubmFtZS5yZXBsYWNlKFAsXCIkMVwiKSk7aWYoZS5kb0NhbGxiYWNrcyYmYS5lbGVtZW50Q2FsbGJhY2tzKXthOntrPWEuZWxlbWVudENhbGxiYWNrcztmb3IodmFyIGg9MCxtPWsubGVuZ3RoLGw7aDxtOysraClpZihsPWtbaF0oYikpe2s9bDticmVhayBhfWs9dm9pZCAwfWlmKGspcmV0dXJuIGt9aWYoZS5kb1RyYW5zZm9ybSYmKGs9YS5fLnRyYW5zZm9ybWF0aW9uc1tiLm5hbWVdKSl7cShiKTtmb3IoaD0wO2g8ay5sZW5ndGg7KytoKXooYSxiLGtbaF0pO3YoYil9aWYoZS5kb0ZpbHRlcil7YTp7aD1cbmIubmFtZTttPWEuXzthPW0uYWxsb3dlZFJ1bGVzLmVsZW1lbnRzW2hdO2s9bS5hbGxvd2VkUnVsZXMuZ2VuZXJpYztoPW0uZGlzYWxsb3dlZFJ1bGVzLmVsZW1lbnRzW2hdO209bS5kaXNhbGxvd2VkUnVsZXMuZ2VuZXJpYztsPWUuc2tpcFJlcXVpcmVkO3ZhciB3PXt2YWxpZDohMSx2YWxpZEF0dHJpYnV0ZXM6e30sdmFsaWRDbGFzc2VzOnt9LHZhbGlkU3R5bGVzOnt9LGFsbEF0dHJpYnV0ZXM6ITEsYWxsQ2xhc3NlczohMSxhbGxTdHlsZXM6ITEsaGFkSW52YWxpZEF0dHJpYnV0ZTohMSxoYWRJbnZhbGlkQ2xhc3M6ITEsaGFkSW52YWxpZFN0eWxlOiExfSx4LHU7aWYoYXx8ayl7cShiKTtpZihoKWZvcih4PTAsdT1oLmxlbmd0aDt4PHU7Kyt4KWlmKCExPT09YyhoW3hdLGIsdykpe2E9bnVsbDticmVhayBhfWlmKG0pZm9yKHg9MCx1PW0ubGVuZ3RoO3g8dTsrK3gpYyhtW3hdLGIsdyk7aWYoYSlmb3IoeD0wLHU9YS5sZW5ndGg7eDx1OysreClmKGFbeF0sYix3LGwpO2lmKGspZm9yKHg9XG4wLHU9ay5sZW5ndGg7eDx1OysreClmKGtbeF0sYix3LGwpO2E9d31lbHNlIGE9bnVsbH1pZighYXx8IWEudmFsaWQpcmV0dXJuIGQucHVzaChiKSwxO3U9YS52YWxpZEF0dHJpYnV0ZXM7dmFyIG49YS52YWxpZFN0eWxlcztrPWEudmFsaWRDbGFzc2VzO3ZhciBoPWIuYXR0cmlidXRlcyxEPWIuc3R5bGVzLG09Yi5jbGFzc2VzO2w9Yi5jbGFzc0JhY2t1cDt2YXIgSD1iLnN0eWxlQmFja3VwLEkseSx0PVtdLHc9W10scD0vXmRhdGEtY2tlLS87eD0hMTtkZWxldGUgaC5zdHlsZTtkZWxldGUgaFtcImNsYXNzXCJdO2RlbGV0ZSBiLmNsYXNzQmFja3VwO2RlbGV0ZSBiLnN0eWxlQmFja3VwO2lmKCFhLmFsbEF0dHJpYnV0ZXMpZm9yKEkgaW4gaCl1W0ldfHwocC50ZXN0KEkpP0k9PSh5PUkucmVwbGFjZSgvXmRhdGEtY2tlLXNhdmVkLS8sXCJcIikpfHx1W3ldfHwoZGVsZXRlIGhbSV0seD0hMCk6KGRlbGV0ZSBoW0ldLHg9ITApKTtpZighYS5hbGxTdHlsZXN8fGEuaGFkSW52YWxpZFN0eWxlKXtmb3IoSSBpbiBEKWEuYWxsU3R5bGVzfHxcbm5bSV0/dC5wdXNoKEkrXCI6XCIrRFtJXSk6eD0hMDt0Lmxlbmd0aCYmKGguc3R5bGU9dC5zb3J0KCkuam9pbihcIjsgXCIpKX1lbHNlIEgmJihoLnN0eWxlPUgpO2lmKCFhLmFsbENsYXNzZXN8fGEuaGFkSW52YWxpZENsYXNzKXtmb3IoST0wO0k8bS5sZW5ndGg7KytJKShhLmFsbENsYXNzZXN8fGtbbVtJXV0pJiZ3LnB1c2gobVtJXSk7dy5sZW5ndGgmJihoW1wiY2xhc3NcIl09dy5zb3J0KCkuam9pbihcIiBcIikpO2wmJncubGVuZ3RoPGwuc3BsaXQoL1xccysvKS5sZW5ndGgmJih4PSEwKX1lbHNlIGwmJihoW1wiY2xhc3NcIl09bCk7eCYmKGc9MSk7aWYoIWUuc2tpcEZpbmFsVmFsaWRhdGlvbiYmIXIoYikpcmV0dXJuIGQucHVzaChiKSwxfWUudG9IdG1sJiYoYi5uYW1lPWIubmFtZS5yZXBsYWNlKFQsXCJja2U6JDFcIikpO3JldHVybiBnfWZ1bmN0aW9uIHQoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhKS0xPGMuaW5kZXhPZihcIipcIikmJmIucHVzaChjLnJlcGxhY2UoL1xcKi9nLFwiLipcIikpO3JldHVybiBiLmxlbmd0aD9cbm5ldyBSZWdFeHAoXCJeKD86XCIrYi5qb2luKFwifFwiKStcIikkXCIpOm51bGx9ZnVuY3Rpb24gdihhKXt2YXIgYj1hLmF0dHJpYnV0ZXMsYztkZWxldGUgYi5zdHlsZTtkZWxldGUgYltcImNsYXNzXCJdO2lmKGM9Q0tFRElUT1IudG9vbHMud3JpdGVDc3NUZXh0KGEuc3R5bGVzLCEwKSliLnN0eWxlPWM7YS5jbGFzc2VzLmxlbmd0aCYmKGJbXCJjbGFzc1wiXT1hLmNsYXNzZXMuc29ydCgpLmpvaW4oXCIgXCIpKX1mdW5jdGlvbiByKGEpe3N3aXRjaChhLm5hbWUpe2Nhc2UgXCJhXCI6aWYoIShhLmNoaWxkcmVuLmxlbmd0aHx8YS5hdHRyaWJ1dGVzLm5hbWV8fGEuYXR0cmlidXRlcy5pZCkpcmV0dXJuITE7YnJlYWs7Y2FzZSBcImltZ1wiOmlmKCFhLmF0dHJpYnV0ZXMuc3JjKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIHUoYSl7aWYoIWEpcmV0dXJuITE7aWYoITA9PT1hKXJldHVybiEwO3ZhciBiPXQoYSk7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBjIGluIGF8fGImJmMubWF0Y2goYil9fWZ1bmN0aW9uIEIoKXtyZXR1cm4gbmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChcImJyXCIpfVxuZnVuY3Rpb24geChhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihcImJyXCI9PWEubmFtZXx8Ri4kYmxvY2tbYS5uYW1lXSl9ZnVuY3Rpb24gdyhhLGIsYyl7dmFyIGQ9YS5uYW1lO2lmKEYuJGVtcHR5W2RdfHwhYS5jaGlsZHJlbi5sZW5ndGgpXCJoclwiPT1kJiZcImJyXCI9PWI/YS5yZXBsYWNlV2l0aChCKCkpOihhLnBhcmVudCYmYy5wdXNoKHtjaGVjazpcIml0XCIsZWw6YS5wYXJlbnR9KSxhLnJlbW92ZSgpKTtlbHNlIGlmKEYuJGJsb2NrW2RdfHxcInRyXCI9PWQpaWYoXCJiclwiPT1iKWEucHJldmlvdXMmJiF4KGEucHJldmlvdXMpJiYoYj1CKCksYi5pbnNlcnRCZWZvcmUoYSkpLGEubmV4dCYmIXgoYS5uZXh0KSYmKGI9QigpLGIuaW5zZXJ0QWZ0ZXIoYSkpLGEucmVwbGFjZVdpdGhDaGlsZHJlbigpO2Vsc2V7dmFyIGQ9YS5jaGlsZHJlbixlO2I6e2U9RltiXTtmb3IodmFyIGc9MCxmPWQubGVuZ3RoLGs7ZzxmOysrZylpZihrPWRbZ10say50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxuIWVbay5uYW1lXSl7ZT0hMTticmVhayBifWU9ITB9aWYoZSlhLm5hbWU9YixhLmF0dHJpYnV0ZXM9e30sYy5wdXNoKHtjaGVjazpcInBhcmVudC1kb3duXCIsZWw6YX0pO2Vsc2V7ZT1hLnBhcmVudDtmb3IodmFyIGc9ZS50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UfHxcImJvZHlcIj09ZS5uYW1lLGgsbSxmPWQubGVuZ3RoOzA8Zjspaz1kWy0tZl0sZyYmKGsudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHxrLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmRi4kaW5saW5lW2submFtZV0pPyhofHwoaD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KGIpLGguaW5zZXJ0QWZ0ZXIoYSksYy5wdXNoKHtjaGVjazpcInBhcmVudC1kb3duXCIsZWw6aH0pKSxoLmFkZChrLDApKTooaD1udWxsLG09RltlLm5hbWVdfHxGLnNwYW4say5pbnNlcnRBZnRlcihhKSxlLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlR8fGsudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxcbm1bay5uYW1lXXx8Yy5wdXNoKHtjaGVjazpcImVsLXVwXCIsZWw6a30pKTthLnJlbW92ZSgpfX1lbHNlIGQgaW57c3R5bGU6MSxzY3JpcHQ6MX0/YS5yZW1vdmUoKTooYS5wYXJlbnQmJmMucHVzaCh7Y2hlY2s6XCJpdFwiLGVsOmEucGFyZW50fSksYS5yZXBsYWNlV2l0aENoaWxkcmVuKCkpfWZ1bmN0aW9uIHooYSxiLGMpe3ZhciBkLGU7Zm9yKGQ9MDtkPGMubGVuZ3RoOysrZClpZihlPWNbZF0sIShlLmNoZWNrJiYhYS5jaGVjayhlLmNoZWNrLCExKXx8ZS5sZWZ0JiYhZS5sZWZ0KGIpKSl7ZS5yaWdodChiLE8pO2JyZWFrfX1mdW5jdGlvbiBEKGEsYil7dmFyIGM9Yi5nZXREZWZpbml0aW9uKCksZD1jLmF0dHJpYnV0ZXMsZT1jLnN0eWxlcyxnLGssZixoO2lmKGEubmFtZSE9Yy5lbGVtZW50KXJldHVybiExO2ZvcihnIGluIGQpaWYoXCJjbGFzc1wiPT1nKWZvcihjPWRbZ10uc3BsaXQoL1xccysvKSxmPWEuY2xhc3Nlcy5qb2luKFwifFwiKTtoPWMucG9wKCk7KXtpZigtMT09Zi5pbmRleE9mKGgpKXJldHVybiExfWVsc2UgaWYoYS5hdHRyaWJ1dGVzW2ddIT1cbmRbZ10pcmV0dXJuITE7Zm9yKGsgaW4gZSlpZihhLnN0eWxlc1trXSE9ZVtrXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB5KGEsYil7dmFyIGMsZDtcInN0cmluZ1wiPT10eXBlb2YgYT9jPWE6YSBpbnN0YW5jZW9mIENLRURJVE9SLnN0eWxlP2Q9YTooYz1hWzBdLGQ9YVsxXSk7cmV0dXJuW3tlbGVtZW50OmMsbGVmdDpkLHJpZ2h0OmZ1bmN0aW9uKGEsYyl7Yy50cmFuc2Zvcm0oYSxiKX19XX1mdW5jdGlvbiBBKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gRChiLGEpfX1mdW5jdGlvbiBDKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe2NbYV0oYil9fXZhciBGPUNLRURJVE9SLmR0ZCxFPUNLRURJVE9SLnRvb2xzLmNvcHksSj1DS0VESVRPUi50b29scy50cmltLEc9W1wiXCIsXCJwXCIsXCJiclwiLFwiZGl2XCJdO0NLRURJVE9SLkZJTFRFUl9TS0lQX1RSRUU9MjtDS0VESVRPUi5maWx0ZXI9ZnVuY3Rpb24oYSl7dGhpcy5hbGxvd2VkQ29udGVudD1bXTt0aGlzLmRpc2FsbG93ZWRDb250ZW50PVxuW107dGhpcy5lbGVtZW50Q2FsbGJhY2tzPW51bGw7dGhpcy5kaXNhYmxlZD0hMTt0aGlzLmVkaXRvcj1udWxsO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO3RoaXMuXz17YWxsb3dlZFJ1bGVzOntlbGVtZW50czp7fSxnZW5lcmljOltdfSxkaXNhbGxvd2VkUnVsZXM6e2VsZW1lbnRzOnt9LGdlbmVyaWM6W119LHRyYW5zZm9ybWF0aW9uczp7fSxjYWNoZWRUZXN0czp7fX07Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1t0aGlzLmlkXT10aGlzO2lmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0b3Ipe2E9dGhpcy5lZGl0b3I9YTt0aGlzLmN1c3RvbUNvbmZpZz0hMDt2YXIgYj1hLmNvbmZpZy5hbGxvd2VkQ29udGVudDshMD09PWI/dGhpcy5kaXNhYmxlZD0hMDooYnx8KHRoaXMuY3VzdG9tQ29uZmlnPSExKSx0aGlzLmFsbG93KGIsXCJjb25maWdcIiwxKSx0aGlzLmFsbG93KGEuY29uZmlnLmV4dHJhQWxsb3dlZENvbnRlbnQsXCJleHRyYVwiLDEpLHRoaXMuYWxsb3coR1thLmVudGVyTW9kZV0rXG5cIiBcIitHW2Euc2hpZnRFbnRlck1vZGVdLFwiZGVmYXVsdFwiLDEpLHRoaXMuZGlzYWxsb3coYS5jb25maWcuZGlzYWxsb3dlZENvbnRlbnQpKX1lbHNlIHRoaXMuY3VzdG9tQ29uZmlnPSExLHRoaXMuYWxsb3coYSxcImRlZmF1bHRcIiwxKX07Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlcz17fTtDS0VESVRPUi5maWx0ZXIucHJvdG90eXBlPXthbGxvdzpmdW5jdGlvbihiLGMsZCl7aWYoIW0odGhpcyxiLGQpKXJldHVybiExO3ZhciBlLGs7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpYj1nKGIpO2Vsc2UgaWYoYiBpbnN0YW5jZW9mIENLRURJVE9SLnN0eWxlKXtpZihiLnRvQWxsb3dlZENvbnRlbnRSdWxlcylyZXR1cm4gdGhpcy5hbGxvdyhiLnRvQWxsb3dlZENvbnRlbnRSdWxlcyh0aGlzLmVkaXRvciksYyxkKTtlPWIuZ2V0RGVmaW5pdGlvbigpO2I9e307ZD1lLmF0dHJpYnV0ZXM7YltlLmVsZW1lbnRdPWU9e3N0eWxlczplLnN0eWxlcyxyZXF1aXJlZFN0eWxlczplLnN0eWxlcyYmQ0tFRElUT1IudG9vbHMub2JqZWN0S2V5cyhlLnN0eWxlcyl9O1xuZCYmKGQ9RShkKSxlLmNsYXNzZXM9ZFtcImNsYXNzXCJdP2RbXCJjbGFzc1wiXS5zcGxpdCgvXFxzKy8pOm51bGwsZS5yZXF1aXJlZENsYXNzZXM9ZS5jbGFzc2VzLGRlbGV0ZSBkW1wiY2xhc3NcIl0sZS5hdHRyaWJ1dGVzPWQsZS5yZXF1aXJlZEF0dHJpYnV0ZXM9ZCYmQ0tFRElUT1IudG9vbHMub2JqZWN0S2V5cyhkKSl9ZWxzZSBpZihDS0VESVRPUi50b29scy5pc0FycmF5KGIpKXtmb3IoZT0wO2U8Yi5sZW5ndGg7KytlKWs9dGhpcy5hbGxvdyhiW2VdLGMsZCk7cmV0dXJuIGt9YSh0aGlzLGIsYyx0aGlzLmFsbG93ZWRDb250ZW50LHRoaXMuXy5hbGxvd2VkUnVsZXMpO3JldHVybiEwfSxhcHBseVRvOmZ1bmN0aW9uKGEsYixjLGQpe2lmKHRoaXMuZGlzYWJsZWQpcmV0dXJuITE7dmFyIGU9dGhpcyxnPVtdLGs9dGhpcy5lZGl0b3ImJnRoaXMuZWRpdG9yLmNvbmZpZy5wcm90ZWN0ZWRTb3VyY2UsZixoPSExLG09e2RvRmlsdGVyOiFjLGRvVHJhbnNmb3JtOiEwLGRvQ2FsbGJhY2tzOiEwLHRvSHRtbDpifTtcbmEuZm9yRWFjaChmdW5jdGlvbihhKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7aWYoXCJvZmZcIj09YS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtZmlsdGVyXCJdKXJldHVybiExO2lmKCFifHxcInNwYW5cIiE9YS5uYW1lfHwhfkNLRURJVE9SLnRvb2xzLm9iamVjdEtleXMoYS5hdHRyaWJ1dGVzKS5qb2luKFwifFwiKS5pbmRleE9mKFwiZGF0YS1ja2UtXCIpKWlmKGY9cChlLGEsZyxtKSxmJjEpaD0hMDtlbHNlIGlmKGYmMilyZXR1cm4hMX1lbHNlIGlmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9DT01NRU5UJiZhLnZhbHVlLm1hdGNoKC9eXFx7Y2tlX3Byb3RlY3RlZFxcfSg/IVxce0NcXH0pLykpe3ZhciBjO2E6e3ZhciBkPWRlY29kZVVSSUNvbXBvbmVudChhLnZhbHVlLnJlcGxhY2UoL15cXHtja2VfcHJvdGVjdGVkXFx9LyxcIlwiKSk7Yz1bXTt2YXIgbCx3LHg7aWYoaylmb3Iodz0wO3c8ay5sZW5ndGg7Kyt3KWlmKCh4PWQubWF0Y2goa1t3XSkpJiZ4WzBdLmxlbmd0aD09ZC5sZW5ndGgpe2M9ITA7XG5icmVhayBhfWQ9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChkKTsxPT1kLmNoaWxkcmVuLmxlbmd0aCYmKGw9ZC5jaGlsZHJlblswXSkudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZwKGUsbCxjLG0pO2M9IWMubGVuZ3RofWN8fGcucHVzaChhKX19LG51bGwsITApO2cubGVuZ3RoJiYoaD0hMCk7dmFyIGw7YT1bXTtkPUdbZHx8KHRoaXMuZWRpdG9yP3RoaXMuZWRpdG9yLmVudGVyTW9kZTpDS0VESVRPUi5FTlRFUl9QKV07Zm9yKHZhciB4O2M9Zy5wb3AoKTspYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/dyhjLGQsYSk6Yy5yZW1vdmUoKTtmb3IoO2w9YS5wb3AoKTspaWYoYz1sLmVsLGMucGFyZW50KXN3aXRjaCh4PUZbYy5wYXJlbnQubmFtZV18fEYuc3BhbixsLmNoZWNrKXtjYXNlIFwiaXRcIjpGLiRyZW1vdmVFbXB0eVtjLm5hbWVdJiYhYy5jaGlsZHJlbi5sZW5ndGg/dyhjLGQsYSk6cihjKXx8dyhjLGQsYSk7YnJlYWs7Y2FzZSBcImVsLXVwXCI6Yy5wYXJlbnQudHlwZT09XG5DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UfHx4W2MubmFtZV18fHcoYyxkLGEpO2JyZWFrO2Nhc2UgXCJwYXJlbnQtZG93blwiOmMucGFyZW50LnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlR8fHhbYy5uYW1lXXx8dyhjLnBhcmVudCxkLGEpfXJldHVybiBofSxjaGVja0ZlYXR1cmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5kaXNhYmxlZHx8IWEpcmV0dXJuITA7YS50b0ZlYXR1cmUmJihhPWEudG9GZWF0dXJlKHRoaXMuZWRpdG9yKSk7cmV0dXJuIWEucmVxdWlyZWRDb250ZW50fHx0aGlzLmNoZWNrKGEucmVxdWlyZWRDb250ZW50KX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ITB9LGRpc2FsbG93OmZ1bmN0aW9uKGIpe2lmKCFtKHRoaXMsYiwhMCkpcmV0dXJuITE7XCJzdHJpbmdcIj09dHlwZW9mIGImJihiPWcoYikpO2EodGhpcyxiLG51bGwsdGhpcy5kaXNhbGxvd2VkQ29udGVudCx0aGlzLl8uZGlzYWxsb3dlZFJ1bGVzKTtyZXR1cm4hMH0sXG5hZGRDb250ZW50Rm9ybXM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuZGlzYWJsZWQmJmEpe3ZhciBiLGMsZD1bXSxlO2ZvcihiPTA7YjxhLmxlbmd0aCYmIWU7KytiKWM9YVtiXSwoXCJzdHJpbmdcIj09dHlwZW9mIGN8fGMgaW5zdGFuY2VvZiBDS0VESVRPUi5zdHlsZSkmJnRoaXMuY2hlY2soYykmJihlPWMpO2lmKGUpe2ZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZC5wdXNoKHkoYVtiXSxlKSk7dGhpcy5hZGRUcmFuc2Zvcm1hdGlvbnMoZCl9fX0sYWRkRWxlbWVudENhbGxiYWNrOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudENhbGxiYWNrc3x8KHRoaXMuZWxlbWVudENhbGxiYWNrcz1bXSk7dGhpcy5lbGVtZW50Q2FsbGJhY2tzLnB1c2goYSl9LGFkZEZlYXR1cmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5kaXNhYmxlZHx8IWEpcmV0dXJuITA7YS50b0ZlYXR1cmUmJihhPWEudG9GZWF0dXJlKHRoaXMuZWRpdG9yKSk7dGhpcy5hbGxvdyhhLmFsbG93ZWRDb250ZW50LGEubmFtZSk7dGhpcy5hZGRUcmFuc2Zvcm1hdGlvbnMoYS5jb250ZW50VHJhbnNmb3JtYXRpb25zKTtcbnRoaXMuYWRkQ29udGVudEZvcm1zKGEuY29udGVudEZvcm1zKTtyZXR1cm4gYS5yZXF1aXJlZENvbnRlbnQmJih0aGlzLmN1c3RvbUNvbmZpZ3x8dGhpcy5kaXNhbGxvd2VkQ29udGVudC5sZW5ndGgpP3RoaXMuY2hlY2soYS5yZXF1aXJlZENvbnRlbnQpOiEwfSxhZGRUcmFuc2Zvcm1hdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGIsYztpZighdGhpcy5kaXNhYmxlZCYmYSl7dmFyIGQ9dGhpcy5fLnRyYW5zZm9ybWF0aW9ucyxlO2ZvcihlPTA7ZTxhLmxlbmd0aDsrK2Upe2I9YVtlXTt2YXIgZz12b2lkIDAsaz12b2lkIDAsZj12b2lkIDAsaD12b2lkIDAsbT12b2lkIDAsbD12b2lkIDA7Yz1bXTtmb3Ioaz0wO2s8Yi5sZW5ndGg7KytrKWY9YltrXSxcInN0cmluZ1wiPT10eXBlb2YgZj8oZj1mLnNwbGl0KC9cXHMqOlxccyovKSxoPWZbMF0sbT1udWxsLGw9ZlsxXSk6KGg9Zi5jaGVjayxtPWYubGVmdCxsPWYucmlnaHQpLGd8fChnPWYsZz1nLmVsZW1lbnQ/Zy5lbGVtZW50Omg/aC5tYXRjaCgvXihbYS16MC05XSspL2kpWzBdOlxuZy5sZWZ0LmdldERlZmluaXRpb24oKS5lbGVtZW50KSxtIGluc3RhbmNlb2YgQ0tFRElUT1Iuc3R5bGUmJihtPUEobSkpLGMucHVzaCh7Y2hlY2s6aD09Zz9udWxsOmgsbGVmdDptLHJpZ2h0Olwic3RyaW5nXCI9PXR5cGVvZiBsP0MobCk6bH0pO2I9ZztkW2JdfHwoZFtiXT1bXSk7ZFtiXS5wdXNoKGMpfX19LGNoZWNrOmZ1bmN0aW9uKGEsYixjKXtpZih0aGlzLmRpc2FibGVkKXJldHVybiEwO2lmKENLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSkpe2Zvcih2YXIgZD1hLmxlbmd0aDtkLS07KWlmKHRoaXMuY2hlY2soYVtkXSxiLGMpKXJldHVybiEwO3JldHVybiExfXZhciBlLGY7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpe2Y9YStcIlxceDNjXCIrKCExPT09Yj9cIjBcIjpcIjFcIikrKGM/XCIxXCI6XCIwXCIpK1wiXFx4M2VcIjtpZihmIGluIHRoaXMuXy5jYWNoZWRDaGVja3MpcmV0dXJuIHRoaXMuXy5jYWNoZWRDaGVja3NbZl07ZD1nKGEpLiQxO2U9ZC5zdHlsZXM7dmFyIGg9ZC5jbGFzc2VzO2QubmFtZT1kLmVsZW1lbnRzO1xuZC5jbGFzc2VzPWg9aD9oLnNwbGl0KC9cXHMqLFxccyovKTpbXTtkLnN0eWxlcz1rKGUpO2QuYXR0cmlidXRlcz1rKGQuYXR0cmlidXRlcyk7ZC5jaGlsZHJlbj1bXTtoLmxlbmd0aCYmKGQuYXR0cmlidXRlc1tcImNsYXNzXCJdPWguam9pbihcIiBcIikpO2UmJihkLmF0dHJpYnV0ZXMuc3R5bGU9Q0tFRElUT1IudG9vbHMud3JpdGVDc3NUZXh0KGQuc3R5bGVzKSk7ZT1kfWVsc2UgZD1hLmdldERlZmluaXRpb24oKSxlPWQuc3R5bGVzLGg9ZC5hdHRyaWJ1dGVzfHx7fSxlJiYhQ0tFRElUT1IudG9vbHMuaXNFbXB0eShlKT8oZT1FKGUpLGguc3R5bGU9Q0tFRElUT1IudG9vbHMud3JpdGVDc3NUZXh0KGUsITApKTplPXt9LGU9e25hbWU6ZC5lbGVtZW50LGF0dHJpYnV0ZXM6aCxjbGFzc2VzOmhbXCJjbGFzc1wiXT9oW1wiY2xhc3NcIl0uc3BsaXQoL1xccysvKTpbXSxzdHlsZXM6ZSxjaGlsZHJlbjpbXX07dmFyIGg9Q0tFRElUT1IudG9vbHMuY2xvbmUoZSksbT1bXSxsO2lmKCExIT09YiYmKGw9dGhpcy5fLnRyYW5zZm9ybWF0aW9uc1tlLm5hbWVdKSl7Zm9yKGQ9XG4wO2Q8bC5sZW5ndGg7KytkKXoodGhpcyxlLGxbZF0pO3YoZSl9cCh0aGlzLGgsbSx7ZG9GaWx0ZXI6ITAsZG9UcmFuc2Zvcm06ITEhPT1iLHNraXBSZXF1aXJlZDohYyxza2lwRmluYWxWYWxpZGF0aW9uOiFjfSk7Yj0wPG0ubGVuZ3RoPyExOkNLRURJVE9SLnRvb2xzLm9iamVjdENvbXBhcmUoZS5hdHRyaWJ1dGVzLGguYXR0cmlidXRlcywhMCk/ITA6ITE7XCJzdHJpbmdcIj09dHlwZW9mIGEmJih0aGlzLl8uY2FjaGVkQ2hlY2tzW2ZdPWIpO3JldHVybiBifSxnZXRBbGxvd2VkRW50ZXJNb2RlOmZ1bmN0aW9uKCl7dmFyIGE9W1wicFwiLFwiZGl2XCIsXCJiclwiXSxiPXtwOkNLRURJVE9SLkVOVEVSX1AsZGl2OkNLRURJVE9SLkVOVEVSX0RJVixicjpDS0VESVRPUi5FTlRFUl9CUn07cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIGU9YS5zbGljZSgpLGc7aWYodGhpcy5jaGVjayhHW2NdKSlyZXR1cm4gYztmb3IoZHx8KGU9ZS5yZXZlcnNlKCkpO2c9ZS5wb3AoKTspaWYodGhpcy5jaGVjayhnKSlyZXR1cm4gYltnXTtcbnJldHVybiBDS0VESVRPUi5FTlRFUl9CUn19KCksZGVzdHJveTpmdW5jdGlvbigpe2RlbGV0ZSBDS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzW3RoaXMuaWRdO2RlbGV0ZSB0aGlzLl87ZGVsZXRlIHRoaXMuYWxsb3dlZENvbnRlbnQ7ZGVsZXRlIHRoaXMuZGlzYWxsb3dlZENvbnRlbnR9fTt2YXIgTT17c3R5bGVzOjEsYXR0cmlidXRlczoxLGNsYXNzZXM6MX0sST17c3R5bGVzOlwicmVxdWlyZWRTdHlsZXNcIixhdHRyaWJ1dGVzOlwicmVxdWlyZWRBdHRyaWJ1dGVzXCIsY2xhc3NlczpcInJlcXVpcmVkQ2xhc3Nlc1wifSxIPS9eKFthLXowLTlcXC0qXFxzXSspKCg/OlxccypcXHtbIVxcd1xcLSxcXHNcXCpdK1xcfVxccyp8XFxzKlxcW1shXFx3XFwtLFxcc1xcKl0rXFxdXFxzKnxcXHMqXFwoWyFcXHdcXC0sXFxzXFwqXStcXClcXHMqKXswLDN9KSg/OjtcXHMqfCQpL2ksUj17c3R5bGVzOi97KFtefV0rKX0vLGF0dHJzOi9cXFsoW15cXF1dKylcXF0vLGNsYXNzZXM6L1xcKChbXlxcKV0rKVxcKS99LFA9L15ja2U6KG9iamVjdHxlbWJlZHxwYXJhbSkkLyxcblQ9L14ob2JqZWN0fGVtYmVkfHBhcmFtKSQvLE87Tz1DS0VESVRPUi5maWx0ZXIudHJhbnNmb3JtYXRpb25zVG9vbHM9e3NpemVUb1N0eWxlOmZ1bmN0aW9uKGEpe3RoaXMubGVuZ3RoVG9TdHlsZShhLFwid2lkdGhcIik7dGhpcy5sZW5ndGhUb1N0eWxlKGEsXCJoZWlnaHRcIil9LHNpemVUb0F0dHJpYnV0ZTpmdW5jdGlvbihhKXt0aGlzLmxlbmd0aFRvQXR0cmlidXRlKGEsXCJ3aWR0aFwiKTt0aGlzLmxlbmd0aFRvQXR0cmlidXRlKGEsXCJoZWlnaHRcIil9LGxlbmd0aFRvU3R5bGU6ZnVuY3Rpb24oYSxiLGMpe2M9Y3x8YjtpZighKGMgaW4gYS5zdHlsZXMpKXt2YXIgZD1hLmF0dHJpYnV0ZXNbYl07ZCYmKC9eXFxkKyQvLnRlc3QoZCkmJihkKz1cInB4XCIpLGEuc3R5bGVzW2NdPWQpfWRlbGV0ZSBhLmF0dHJpYnV0ZXNbYl19LGxlbmd0aFRvQXR0cmlidXRlOmZ1bmN0aW9uKGEsYixjKXtjPWN8fGI7aWYoIShjIGluIGEuYXR0cmlidXRlcykpe3ZhciBkPWEuc3R5bGVzW2JdLGU9ZCYmZC5tYXRjaCgvXihcXGQrKSg/OlxcLlxcZCopP3B4JC8pO1xuZT9hLmF0dHJpYnV0ZXNbY109ZVsxXTpcImNrZS10ZXN0XCI9PWQmJihhLmF0dHJpYnV0ZXNbY109XCJja2UtdGVzdFwiKX1kZWxldGUgYS5zdHlsZXNbYl19LGFsaWdubWVudFRvU3R5bGU6ZnVuY3Rpb24oYSl7aWYoIShcImZsb2F0XCJpbiBhLnN0eWxlcykpe3ZhciBiPWEuYXR0cmlidXRlcy5hbGlnbjtpZihcImxlZnRcIj09Ynx8XCJyaWdodFwiPT1iKWEuc3R5bGVzW1wiZmxvYXRcIl09Yn1kZWxldGUgYS5hdHRyaWJ1dGVzLmFsaWdufSxhbGlnbm1lbnRUb0F0dHJpYnV0ZTpmdW5jdGlvbihhKXtpZighKFwiYWxpZ25cImluIGEuYXR0cmlidXRlcykpe3ZhciBiPWEuc3R5bGVzW1wiZmxvYXRcIl07aWYoXCJsZWZ0XCI9PWJ8fFwicmlnaHRcIj09YilhLmF0dHJpYnV0ZXMuYWxpZ249Yn1kZWxldGUgYS5zdHlsZXNbXCJmbG9hdFwiXX0sc3BsaXRCb3JkZXJTaG9ydGhhbmQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihkKXthLnN0eWxlc1tcImJvcmRlci10b3Atd2lkdGhcIl09Y1tkWzBdXTthLnN0eWxlc1tcImJvcmRlci1yaWdodC13aWR0aFwiXT1cbmNbZFsxXV07YS5zdHlsZXNbXCJib3JkZXItYm90dG9tLXdpZHRoXCJdPWNbZFsyXV07YS5zdHlsZXNbXCJib3JkZXItbGVmdC13aWR0aFwiXT1jW2RbM11dfWlmKGEuc3R5bGVzLmJvcmRlcil7dmFyIGM9YS5zdHlsZXMuYm9yZGVyLm1hdGNoKC8oW1xcLlxcZF0rXFx3KykvZyl8fFtcIjBweFwiXTtzd2l0Y2goYy5sZW5ndGgpe2Nhc2UgMTphLnN0eWxlc1tcImJvcmRlci13aWR0aFwiXT1jWzBdO2JyZWFrO2Nhc2UgMjpiKFswLDEsMCwxXSk7YnJlYWs7Y2FzZSAzOmIoWzAsMSwyLDFdKTticmVhaztjYXNlIDQ6YihbMCwxLDIsM10pfWEuc3R5bGVzW1wiYm9yZGVyLXN0eWxlXCJdPWEuc3R5bGVzW1wiYm9yZGVyLXN0eWxlXCJdfHwoYS5zdHlsZXMuYm9yZGVyLm1hdGNoKC8obm9uZXxoaWRkZW58ZG90dGVkfGRhc2hlZHxzb2xpZHxkb3VibGV8Z3Jvb3ZlfHJpZGdlfGluc2V0fG91dHNldHxpbml0aWFsfGluaGVyaXQpLyl8fFtdKVswXTthLnN0eWxlc1tcImJvcmRlci1zdHlsZVwiXXx8ZGVsZXRlIGEuc3R5bGVzW1wiYm9yZGVyLXN0eWxlXCJdO1xuZGVsZXRlIGEuc3R5bGVzLmJvcmRlcn19LGxpc3RUeXBlVG9TdHlsZTpmdW5jdGlvbihhKXtpZihhLmF0dHJpYnV0ZXMudHlwZSlzd2l0Y2goYS5hdHRyaWJ1dGVzLnR5cGUpe2Nhc2UgXCJhXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJsb3dlci1hbHBoYVwiO2JyZWFrO2Nhc2UgXCJBXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJ1cHBlci1hbHBoYVwiO2JyZWFrO2Nhc2UgXCJpXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJsb3dlci1yb21hblwiO2JyZWFrO2Nhc2UgXCJJXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJ1cHBlci1yb21hblwiO2JyZWFrO2Nhc2UgXCIxXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJkZWNpbWFsXCI7YnJlYWs7ZGVmYXVsdDphLnN0eWxlc1tcImxpc3Qtc3R5bGUtdHlwZVwiXT1hLmF0dHJpYnV0ZXMudHlwZX19LHNwbGl0TWFyZ2luU2hvcnRoYW5kOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZCl7YS5zdHlsZXNbXCJtYXJnaW4tdG9wXCJdPVxuY1tkWzBdXTthLnN0eWxlc1tcIm1hcmdpbi1yaWdodFwiXT1jW2RbMV1dO2Euc3R5bGVzW1wibWFyZ2luLWJvdHRvbVwiXT1jW2RbMl1dO2Euc3R5bGVzW1wibWFyZ2luLWxlZnRcIl09Y1tkWzNdXX1pZihhLnN0eWxlcy5tYXJnaW4pe3ZhciBjPWEuc3R5bGVzLm1hcmdpbi5tYXRjaCgvKFxcLT9bXFwuXFxkXStcXHcrKS9nKXx8W1wiMHB4XCJdO3N3aXRjaChjLmxlbmd0aCl7Y2FzZSAxOmEuc3R5bGVzLm1hcmdpbj1jWzBdO2JyZWFrO2Nhc2UgMjpiKFswLDEsMCwxXSk7YnJlYWs7Y2FzZSAzOmIoWzAsMSwyLDFdKTticmVhaztjYXNlIDQ6YihbMCwxLDIsM10pfWRlbGV0ZSBhLnN0eWxlcy5tYXJnaW59fSxtYXRjaGVzU3R5bGU6RCx0cmFuc2Zvcm06ZnVuY3Rpb24oYSxiKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYilhLm5hbWU9YjtlbHNle3ZhciBjPWIuZ2V0RGVmaW5pdGlvbigpLGQ9Yy5zdHlsZXMsZT1jLmF0dHJpYnV0ZXMsZyxmLGssaDthLm5hbWU9Yy5lbGVtZW50O2ZvcihnIGluIGUpaWYoXCJjbGFzc1wiPT1cbmcpZm9yKGM9YS5jbGFzc2VzLmpvaW4oXCJ8XCIpLGs9ZVtnXS5zcGxpdCgvXFxzKy8pO2g9ay5wb3AoKTspLTE9PWMuaW5kZXhPZihoKSYmYS5jbGFzc2VzLnB1c2goaCk7ZWxzZSBhLmF0dHJpYnV0ZXNbZ109ZVtnXTtmb3IoZiBpbiBkKWEuc3R5bGVzW2ZdPWRbZl19fX19KCksZnVuY3Rpb24oKXtDS0VESVRPUi5mb2N1c01hbmFnZXI9ZnVuY3Rpb24oYSl7aWYoYS5mb2N1c01hbmFnZXIpcmV0dXJuIGEuZm9jdXNNYW5hZ2VyO3RoaXMuaGFzRm9jdXM9ITE7dGhpcy5jdXJyZW50QWN0aXZlPW51bGw7dGhpcy5fPXtlZGl0b3I6YX07cmV0dXJuIHRoaXN9O0NLRURJVE9SLmZvY3VzTWFuYWdlci5fPXtibHVyRGVsYXk6MjAwfTtDS0VESVRPUi5mb2N1c01hbmFnZXIucHJvdG90eXBlPXtmb2N1czpmdW5jdGlvbihhKXt0aGlzLl8udGltZXImJmNsZWFyVGltZW91dCh0aGlzLl8udGltZXIpO2EmJih0aGlzLmN1cnJlbnRBY3RpdmU9YSk7dGhpcy5oYXNGb2N1c3x8dGhpcy5fLmxvY2tlZHx8KChhPVxuQ0tFRElUT1IuY3VycmVudEluc3RhbmNlKSYmYS5mb2N1c01hbmFnZXIuYmx1cigxKSx0aGlzLmhhc0ZvY3VzPSEwLChhPXRoaXMuXy5lZGl0b3IuY29udGFpbmVyKSYmYS5hZGRDbGFzcyhcImNrZV9mb2N1c1wiKSx0aGlzLl8uZWRpdG9yLmZpcmUoXCJmb2N1c1wiKSl9LGxvY2s6ZnVuY3Rpb24oKXt0aGlzLl8ubG9ja2VkPTF9LHVubG9jazpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl8ubG9ja2VkfSxibHVyOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGYoKXtpZih0aGlzLmhhc0ZvY3VzKXt0aGlzLmhhc0ZvY3VzPSExO3ZhciBhPXRoaXMuXy5lZGl0b3IuY29udGFpbmVyO2EmJmEucmVtb3ZlQ2xhc3MoXCJja2VfZm9jdXNcIik7dGhpcy5fLmVkaXRvci5maXJlKFwiYmx1clwiKX19aWYoIXRoaXMuXy5sb2NrZWQpe3RoaXMuXy50aW1lciYmY2xlYXJUaW1lb3V0KHRoaXMuXy50aW1lcik7dmFyIGI9Q0tFRElUT1IuZm9jdXNNYW5hZ2VyLl8uYmx1ckRlbGF5O2F8fCFiP2YuY2FsbCh0aGlzKTp0aGlzLl8udGltZXI9XG5DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuXy50aW1lcjtmLmNhbGwodGhpcyl9LGIsdGhpcyl9fSxhZGQ6ZnVuY3Rpb24oYSxmKXt2YXIgYj1hLmdldEN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJcIik7aWYoIWJ8fGIhPXRoaXMpe2ImJmIucmVtb3ZlKGEpO3ZhciBiPVwiZm9jdXNcIixjPVwiYmx1clwiO2YmJihDS0VESVRPUi5lbnYuaWU/KGI9XCJmb2N1c2luXCIsYz1cImZvY3Vzb3V0XCIpOkNLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9MSk7dmFyIGU9e2JsdXI6ZnVuY3Rpb24oKXthLmVxdWFscyh0aGlzLmN1cnJlbnRBY3RpdmUpJiZ0aGlzLmJsdXIoKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKGEpfX07YS5vbihiLGUuZm9jdXMsdGhpcyk7YS5vbihjLGUuYmx1cix0aGlzKTtmJiYoQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0wKTthLnNldEN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJcIix0aGlzKTthLnNldEN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJfaGFuZGxlcnNcIixcbmUpfX0scmVtb3ZlOmZ1bmN0aW9uKGEpe2EucmVtb3ZlQ3VzdG9tRGF0YShcImZvY3VzbWFuYWdlclwiKTt2YXIgZj1hLnJlbW92ZUN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJfaGFuZGxlcnNcIik7YS5yZW1vdmVMaXN0ZW5lcihcImJsdXJcIixmLmJsdXIpO2EucmVtb3ZlTGlzdGVuZXIoXCJmb2N1c1wiLGYuZm9jdXMpfX19KCksQ0tFRElUT1Iua2V5c3Ryb2tlSGFuZGxlcj1mdW5jdGlvbihhKXtpZihhLmtleXN0cm9rZUhhbmRsZXIpcmV0dXJuIGEua2V5c3Ryb2tlSGFuZGxlcjt0aGlzLmtleXN0cm9rZXM9e307dGhpcy5ibG9ja2VkS2V5c3Ryb2tlcz17fTt0aGlzLl89e2VkaXRvcjphfTtyZXR1cm4gdGhpc30sZnVuY3Rpb24oKXt2YXIgYSxmPWZ1bmN0aW9uKGIpe2I9Yi5kYXRhO3ZhciBlPWIuZ2V0S2V5c3Ryb2tlKCksZj10aGlzLmtleXN0cm9rZXNbZV0sbD10aGlzLl8uZWRpdG9yO2E9ITE9PT1sLmZpcmUoXCJrZXlcIix7a2V5Q29kZTplLGRvbUV2ZW50OmJ9KTthfHwoZiYmKGE9ITEhPT1cbmwuZXhlY0NvbW1hbmQoZix7ZnJvbTpcImtleXN0cm9rZUhhbmRsZXJcIn0pKSxhfHwoYT0hIXRoaXMuYmxvY2tlZEtleXN0cm9rZXNbZV0pKTthJiZiLnByZXZlbnREZWZhdWx0KCEwKTtyZXR1cm4hYX0sYj1mdW5jdGlvbihiKXthJiYoYT0hMSxiLmRhdGEucHJldmVudERlZmF1bHQoITApKX07Q0tFRElUT1Iua2V5c3Ryb2tlSGFuZGxlci5wcm90b3R5cGU9e2F0dGFjaDpmdW5jdGlvbihhKXthLm9uKFwia2V5ZG93blwiLGYsdGhpcyk7aWYoQ0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjKWEub24oXCJrZXlwcmVzc1wiLGIsdGhpcyl9fX0oKSxmdW5jdGlvbigpe0NLRURJVE9SLmxhbmc9e2xhbmd1YWdlczp7YWY6MSxhcjoxLGJnOjEsYm46MSxiczoxLGNhOjEsY3M6MSxjeToxLGRhOjEsZGU6MSxcImRlLWNoXCI6MSxlbDoxLFwiZW4tYXVcIjoxLFwiZW4tY2FcIjoxLFwiZW4tZ2JcIjoxLGVuOjEsZW86MSxlczoxLGV0OjEsZXU6MSxmYToxLGZpOjEsZm86MSxcImZyLWNhXCI6MSxmcjoxLGdsOjEsXG5ndToxLGhlOjEsaGk6MSxocjoxLGh1OjEsaWQ6MSxpczoxLGl0OjEsamE6MSxrYToxLGttOjEsa286MSxrdToxLGx0OjEsbHY6MSxtazoxLG1uOjEsbXM6MSxuYjoxLG5sOjEsbm86MSxvYzoxLHBsOjEsXCJwdC1iclwiOjEscHQ6MSxybzoxLHJ1OjEsc2k6MSxzazoxLHNsOjEsc3E6MSxcInNyLWxhdG5cIjoxLHNyOjEsc3Y6MSx0aDoxLHRyOjEsdHQ6MSx1ZzoxLHVrOjEsdmk6MSxcInpoLWNuXCI6MSx6aDoxfSxydGw6e2FyOjEsZmE6MSxoZToxLGt1OjEsdWc6MX0sbG9hZDpmdW5jdGlvbihhLGYsYil7YSYmQ0tFRElUT1IubGFuZy5sYW5ndWFnZXNbYV18fChhPXRoaXMuZGV0ZWN0KGYsYSkpO3ZhciBjPXRoaXM7Zj1mdW5jdGlvbigpe2NbYV0uZGlyPWMucnRsW2FdP1wicnRsXCI6XCJsdHJcIjtiKGEsY1thXSl9O3RoaXNbYV0/ZigpOkNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChcImxhbmcvXCIrYStcIi5qc1wiKSxmLHRoaXMpfSxkZXRlY3Q6ZnVuY3Rpb24oYSxmKXt2YXIgYj1cbnRoaXMubGFuZ3VhZ2VzO2Y9Znx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLmxhbmd1YWdlfHxhO3ZhciBjPWYudG9Mb3dlckNhc2UoKS5tYXRjaCgvKFthLXpdKykoPzotKFthLXpdKykpPy8pLGU9Y1sxXSxjPWNbMl07YltlK1wiLVwiK2NdP2U9ZStcIi1cIitjOmJbZV18fChlPW51bGwpO0NLRURJVE9SLmxhbmcuZGV0ZWN0PWU/ZnVuY3Rpb24oKXtyZXR1cm4gZX06ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O3JldHVybiBlfHxhfX19KCksQ0tFRElUT1Iuc2NyaXB0TG9hZGVyPWZ1bmN0aW9uKCl7dmFyIGE9e30sZj17fTtyZXR1cm57bG9hZDpmdW5jdGlvbihiLGMsZSxtKXt2YXIgbD1cInN0cmluZ1wiPT10eXBlb2YgYjtsJiYoYj1bYl0pO2V8fChlPUNLRURJVE9SKTt2YXIgZD1iLmxlbmd0aCxoPVtdLGs9W10sZz1mdW5jdGlvbihhKXtjJiYobD9jLmNhbGwoZSxhKTpjLmNhbGwoZSxoLGspKX07aWYoMD09PWQpZyghMCk7ZWxzZXt2YXIgbj1mdW5jdGlvbihhLGIpeyhiP2g6aykucHVzaChhKTtcbjA+PS0tZCYmKG0mJkNLRURJVE9SLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLnJlbW92ZVN0eWxlKFwiY3Vyc29yXCIpLGcoYikpfSxxPWZ1bmN0aW9uKGIsYyl7YVtiXT0xO3ZhciBkPWZbYl07ZGVsZXRlIGZbYl07Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspZFtlXShiLGMpfSxwPWZ1bmN0aW9uKGIpe2lmKGFbYl0pbihiLCEwKTtlbHNle3ZhciBkPWZbYl18fChmW2JdPVtdKTtkLnB1c2gobik7aWYoISgxPGQubGVuZ3RoKSl7dmFyIGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic2NyaXB0XCIpO2Uuc2V0QXR0cmlidXRlcyh7dHlwZTpcInRleHQvamF2YXNjcmlwdFwiLHNyYzpifSk7YyYmKENLRURJVE9SLmVudi5pZSYmKDg+PUNLRURJVE9SLmVudi52ZXJzaW9ufHxDS0VESVRPUi5lbnYuaWU5Q29tcGF0KT9lLiQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoXCJsb2FkZWRcIj09ZS4kLnJlYWR5U3RhdGV8fFwiY29tcGxldGVcIj09ZS4kLnJlYWR5U3RhdGUpZS4kLm9ucmVhZHlzdGF0ZWNoYW5nZT1cbm51bGwscShiLCEwKX06KGUuJC5vbmxvYWQ9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cShiLCEwKX0sMCl9LGUuJC5vbmVycm9yPWZ1bmN0aW9uKCl7cShiLCExKX0pKTtlLmFwcGVuZFRvKENLRURJVE9SLmRvY3VtZW50LmdldEhlYWQoKSl9fX07bSYmQ0tFRElUT1IuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCkuc2V0U3R5bGUoXCJjdXJzb3JcIixcIndhaXRcIik7Zm9yKHZhciB0PTA7dDxkO3QrKylwKGJbdF0pfX0scXVldWU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGI7KGI9Y1swXSkmJnRoaXMubG9hZChiLnNjcmlwdFVybCxiLmNhbGxiYWNrLENLRURJVE9SLDApfXZhciBjPVtdO3JldHVybiBmdW5jdGlvbihlLGYpe3ZhciBsPXRoaXM7Yy5wdXNoKHtzY3JpcHRVcmw6ZSxjYWxsYmFjazpmdW5jdGlvbigpe2YmJmYuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Muc2hpZnQoKTthLmNhbGwobCl9fSk7MT09Yy5sZW5ndGgmJmEuY2FsbCh0aGlzKX19KCl9fSgpLFxuQ0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyPWZ1bmN0aW9uKGEsZil7dGhpcy5iYXNlUGF0aD1hO3RoaXMuZmlsZU5hbWU9Zjt0aGlzLnJlZ2lzdGVyZWQ9e307dGhpcy5sb2FkZWQ9e307dGhpcy5leHRlcm5hbHM9e307dGhpcy5fPXt3YWl0aW5nTGlzdDp7fX19LENLRURJVE9SLnJlc291cmNlTWFuYWdlci5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbihhLGYpe2lmKHRoaXMucmVnaXN0ZXJlZFthXSl0aHJvdyBFcnJvcignW0NLRURJVE9SLnJlc291cmNlTWFuYWdlci5hZGRdIFRoZSByZXNvdXJjZSBuYW1lIFwiJythKydcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuJyk7dmFyIGI9dGhpcy5yZWdpc3RlcmVkW2FdPWZ8fHt9O2IubmFtZT1hO2IucGF0aD10aGlzLmdldFBhdGgoYSk7Q0tFRElUT1IuZmlyZShhK0NLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUodGhpcy5maWxlTmFtZSkrXCJSZWFkeVwiLGIpO3JldHVybiB0aGlzLmdldChhKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlZ2lzdGVyZWRbYV18fFxubnVsbH0sZ2V0UGF0aDpmdW5jdGlvbihhKXt2YXIgZj10aGlzLmV4dGVybmFsc1thXTtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKGYmJmYuZGlyfHx0aGlzLmJhc2VQYXRoK2ErXCIvXCIpfSxnZXRGaWxlUGF0aDpmdW5jdGlvbihhKXt2YXIgZj10aGlzLmV4dGVybmFsc1thXTtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKHRoaXMuZ2V0UGF0aChhKSsoZj9mLmZpbGU6dGhpcy5maWxlTmFtZStcIi5qc1wiKSl9LGFkZEV4dGVybmFsOmZ1bmN0aW9uKGEsZixiKXthPWEuc3BsaXQoXCIsXCIpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZT1hW2NdO2J8fChmPWYucmVwbGFjZSgvW15cXC9dKyQvLGZ1bmN0aW9uKGEpe2I9YTtyZXR1cm5cIlwifSkpO3RoaXMuZXh0ZXJuYWxzW2VdPXtkaXI6ZixmaWxlOmJ8fHRoaXMuZmlsZU5hbWUrXCIuanNcIn19fSxsb2FkOmZ1bmN0aW9uKGEsZixiKXtDS0VESVRPUi50b29scy5pc0FycmF5KGEpfHwoYT1hP1thXTpbXSk7Zm9yKHZhciBjPXRoaXMubG9hZGVkLGU9XG50aGlzLnJlZ2lzdGVyZWQsbT1bXSxsPXt9LGQ9e30saD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgaz1hW2hdO2lmKGspaWYoY1trXXx8ZVtrXSlkW2tdPXRoaXMuZ2V0KGspO2Vsc2V7dmFyIGc9dGhpcy5nZXRGaWxlUGF0aChrKTttLnB1c2goZyk7ZyBpbiBsfHwobFtnXT1bXSk7bFtnXS5wdXNoKGspfX1DS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChtLGZ1bmN0aW9uKGEsZSl7aWYoZS5sZW5ndGgpdGhyb3cgRXJyb3IoJ1tDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIubG9hZF0gUmVzb3VyY2UgbmFtZSBcIicrbFtlWzBdXS5qb2luKFwiLFwiKSsnXCIgd2FzIG5vdCBmb3VuZCBhdCBcIicrZVswXSsnXCIuJyk7Zm9yKHZhciBnPTA7ZzxhLmxlbmd0aDtnKyspZm9yKHZhciBrPWxbYVtnXV0saD0wO2g8ay5sZW5ndGg7aCsrKXt2YXIgbT1rW2hdO2RbbV09dGhpcy5nZXQobSk7Y1ttXT0xfWYuY2FsbChiLGQpfSx0aGlzKX19LENLRURJVE9SLnBsdWdpbnM9bmV3IENLRURJVE9SLnJlc291cmNlTWFuYWdlcihcInBsdWdpbnMvXCIsXG5cInBsdWdpblwiKSxDS0VESVRPUi5wbHVnaW5zLmxvYWQ9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoQ0tFRElUT1IucGx1Z2lucy5sb2FkLGZ1bmN0aW9uKGEpe3ZhciBmPXt9O3JldHVybiBmdW5jdGlvbihiLGMsZSl7dmFyIG09e30sbD1mdW5jdGlvbihiKXthLmNhbGwodGhpcyxiLGZ1bmN0aW9uKGEpe0NLRURJVE9SLnRvb2xzLmV4dGVuZChtLGEpO3ZhciBiPVtdLGQ7Zm9yKGQgaW4gYSl7dmFyIG49YVtkXSxxPW4mJm4ucmVxdWlyZXM7aWYoIWZbZF0pe2lmKG4uaWNvbnMpZm9yKHZhciBwPW4uaWNvbnMuc3BsaXQoXCIsXCIpLHQ9cC5sZW5ndGg7dC0tOylDS0VESVRPUi5za2luLmFkZEljb24ocFt0XSxuLnBhdGgrXCJpY29ucy9cIisoQ0tFRElUT1IuZW52LmhpZHBpJiZuLmhpZHBpP1wiaGlkcGkvXCI6XCJcIikrcFt0XStcIi5wbmdcIik7ZltkXT0xfWlmKHEpZm9yKHEuc3BsaXQmJihxPXEuc3BsaXQoXCIsXCIpKSxuPTA7bjxxLmxlbmd0aDtuKyspbVtxW25dXXx8Yi5wdXNoKHFbbl0pfWlmKGIubGVuZ3RoKWwuY2FsbCh0aGlzLFxuYik7ZWxzZXtmb3IoZCBpbiBtKW49bVtkXSxuLm9uTG9hZCYmIW4ub25Mb2FkLl9jYWxsZWQmJighMT09PW4ub25Mb2FkKCkmJmRlbGV0ZSBtW2RdLG4ub25Mb2FkLl9jYWxsZWQ9MSk7YyYmYy5jYWxsKGV8fHdpbmRvdyxtKX19LHRoaXMpfTtsLmNhbGwodGhpcyxiKX19KSxDS0VESVRPUi5wbHVnaW5zLnNldExhbmc9ZnVuY3Rpb24oYSxmLGIpe3ZhciBjPXRoaXMuZ2V0KGEpO2E9Yy5sYW5nRW50cmllc3x8KGMubGFuZ0VudHJpZXM9e30pO2M9Yy5sYW5nfHwoYy5sYW5nPVtdKTtjLnNwbGl0JiYoYz1jLnNwbGl0KFwiLFwiKSk7LTE9PUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYyxmKSYmYy5wdXNoKGYpO2FbZl09Yn0sQ0tFRElUT1IudWk9ZnVuY3Rpb24oYSl7aWYoYS51aSlyZXR1cm4gYS51aTt0aGlzLml0ZW1zPXt9O3RoaXMuaW5zdGFuY2VzPXt9O3RoaXMuZWRpdG9yPWE7dGhpcy5fPXtoYW5kbGVyczp7fX07cmV0dXJuIHRoaXN9LENLRURJVE9SLnVpLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGEsXG5mLGIpe2IubmFtZT1hLnRvTG93ZXJDYXNlKCk7dmFyIGM9dGhpcy5pdGVtc1thXT17dHlwZTpmLGNvbW1hbmQ6Yi5jb21tYW5kfHxudWxsLGFyZ3M6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpfTtDS0VESVRPUi50b29scy5leHRlbmQoYyxiKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmluc3RhbmNlc1thXX0sY3JlYXRlOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuaXRlbXNbYV0sYj1mJiZ0aGlzLl8uaGFuZGxlcnNbZi50eXBlXSxjPWYmJmYuY29tbWFuZCYmdGhpcy5lZGl0b3IuZ2V0Q29tbWFuZChmLmNvbW1hbmQpLGI9YiYmYi5jcmVhdGUuYXBwbHkodGhpcyxmLmFyZ3MpO3RoaXMuaW5zdGFuY2VzW2FdPWI7YyYmYy51aUl0ZW1zLnB1c2goYik7YiYmIWIudHlwZSYmKGIudHlwZT1mLnR5cGUpO3JldHVybiBifSxhZGRIYW5kbGVyOmZ1bmN0aW9uKGEsZil7dGhpcy5fLmhhbmRsZXJzW2FdPWZ9LHNwYWNlOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuc3BhY2VJZChhKSl9LFxuc3BhY2VJZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lZGl0b3IuaWQrXCJfXCIrYX19LENLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLnVpKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxlLGcpe0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyk7YT1hJiZDS0VESVRPUi50b29scy5jbG9uZShhKTtpZih2b2lkIDAhPT1lKXtpZighKGUgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudCkpdGhyb3cgRXJyb3IoXCJFeHBlY3QgZWxlbWVudCBvZiB0eXBlIENLRURJVE9SLmRvbS5lbGVtZW50LlwiKTtpZighZyl0aHJvdyBFcnJvcihcIk9uZSBvZiB0aGUgZWxlbWVudCBtb2RlcyBtdXN0IGJlIHNwZWNpZmllZC5cIik7aWYoQ0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzJiZnPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FKXRocm93IEVycm9yKFwiSW5saW5lIGVsZW1lbnQgbW9kZSBpcyBub3Qgc3VwcG9ydGVkIG9uIElFIHF1aXJrcy5cIik7aWYoIWIoZSxcbmcpKXRocm93IEVycm9yKCdUaGUgc3BlY2lmaWVkIGVsZW1lbnQgbW9kZSBpcyBub3Qgc3VwcG9ydGVkIG9uIGVsZW1lbnQ6IFwiJytlLmdldE5hbWUoKSsnXCIuJyk7dGhpcy5lbGVtZW50PWU7dGhpcy5lbGVtZW50TW9kZT1nO3RoaXMubmFtZT10aGlzLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8mJihlLmdldElkKCl8fGUuZ2V0TmFtZUF0dCgpKX1lbHNlIHRoaXMuZWxlbWVudE1vZGU9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX05PTkU7dGhpcy5fPXt9O3RoaXMuY29tbWFuZHM9e307dGhpcy50ZW1wbGF0ZXM9e307dGhpcy5uYW1lPXRoaXMubmFtZXx8ZigpO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5zdGF0dXM9XCJ1bmxvYWRlZFwiO3RoaXMuY29uZmlnPUNLRURJVE9SLnRvb2xzLnByb3RvdHlwZWRDb3B5KENLRURJVE9SLmNvbmZpZyk7dGhpcy51aT1uZXcgQ0tFRElUT1IudWkodGhpcyk7dGhpcy5mb2N1c01hbmFnZXI9bmV3IENLRURJVE9SLmZvY3VzTWFuYWdlcih0aGlzKTtcbnRoaXMua2V5c3Ryb2tlSGFuZGxlcj1uZXcgQ0tFRElUT1Iua2V5c3Ryb2tlSGFuZGxlcih0aGlzKTt0aGlzLm9uKFwicmVhZE9ubHlcIixjKTt0aGlzLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oYSl7bSh0aGlzLGEuZGF0YS5wYXRoKX0pO3RoaXMub24oXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIixmdW5jdGlvbigpe20odGhpcyx0aGlzLmVsZW1lbnRQYXRoKCksITApfSk7dGhpcy5vbihcIm1vZGVcIixjKTt0aGlzLm9uKFwiaW5zdGFuY2VSZWFkeVwiLGZ1bmN0aW9uKCl7dGhpcy5jb25maWcuc3RhcnR1cEZvY3VzJiZ0aGlzLmZvY3VzKCl9KTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VDcmVhdGVkXCIsbnVsbCx0aGlzKTtDS0VESVRPUi5hZGQodGhpcyk7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe1wiZGVzdHJveWVkXCIhPT10aGlzLnN0YXR1cz9kKHRoaXMsYSk6Q0tFRElUT1Iud2FybihcImVkaXRvci1pbmNvcnJlY3QtZGVzdHJveVwiKX0sMCx0aGlzKX1mdW5jdGlvbiBmKCl7ZG8gdmFyIGE9XG5cImVkaXRvclwiKyArK3A7d2hpbGUoQ0tFRElUT1IuaW5zdGFuY2VzW2FdKTtyZXR1cm4gYX1mdW5jdGlvbiBiKGEsYil7cmV0dXJuIGI9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/YS5pcyhDS0VESVRPUi5kdGQuJGVkaXRhYmxlKXx8YS5pcyhcInRleHRhcmVhXCIpOmI9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFPyFhLmlzKENLRURJVE9SLmR0ZC4kbm9uQm9keUNvbnRlbnQpOjF9ZnVuY3Rpb24gYygpe3ZhciBhPXRoaXMuY29tbWFuZHMsYjtmb3IoYiBpbiBhKWUodGhpcyxhW2JdKX1mdW5jdGlvbiBlKGEsYil7YltiLnN0YXJ0RGlzYWJsZWQ/XCJkaXNhYmxlXCI6YS5yZWFkT25seSYmIWIucmVhZE9ubHk/XCJkaXNhYmxlXCI6Yi5tb2Rlc1thLm1vZGVdP1wiZW5hYmxlXCI6XCJkaXNhYmxlXCJdKCl9ZnVuY3Rpb24gbShhLGIsYyl7aWYoYil7dmFyIGQsZSxnPWEuY29tbWFuZHM7Zm9yKGUgaW4gZylkPWdbZV0sKGN8fGQuY29udGV4dFNlbnNpdGl2ZSkmJmQucmVmcmVzaChhLGIpfX1cbmZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5jb25maWcuY3VzdG9tQ29uZmlnO2lmKCFiKXJldHVybiExO3ZhciBiPUNLRURJVE9SLmdldFVybChiKSxjPXRbYl18fCh0W2JdPXt9KTtjLmZuPyhjLmZuLmNhbGwoYSxhLmNvbmZpZyksQ0tFRElUT1IuZ2V0VXJsKGEuY29uZmlnLmN1c3RvbUNvbmZpZykhPWImJmwoYSl8fGEuZmlyZU9uY2UoXCJjdXN0b21Db25maWdMb2FkZWRcIikpOkNLRURJVE9SLnNjcmlwdExvYWRlci5xdWV1ZShiLGZ1bmN0aW9uKCl7Yy5mbj1DS0VESVRPUi5lZGl0b3JDb25maWc/Q0tFRElUT1IuZWRpdG9yQ29uZmlnOmZ1bmN0aW9uKCl7fTtsKGEpfSk7cmV0dXJuITB9ZnVuY3Rpb24gZChhLGIpe2Eub24oXCJjdXN0b21Db25maWdMb2FkZWRcIixmdW5jdGlvbigpe2lmKGIpe2lmKGIub24pZm9yKHZhciBjIGluIGIub24pYS5vbihjLGIub25bY10pO0NLRURJVE9SLnRvb2xzLmV4dGVuZChhLmNvbmZpZyxiLCEwKTtkZWxldGUgYS5jb25maWcub259Yz1hLmNvbmZpZzthLnJlYWRPbmx5PVxuYy5yZWFkT25seT8hMDphLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuZWxlbWVudC5pcyhcInRleHRhcmVhXCIpP2EuZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKXx8YS5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcInJlYWRvbmx5XCIpOmEuZWxlbWVudC5pc1JlYWRPbmx5KCk6YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U/YS5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRpc2FibGVkXCIpfHxhLmVsZW1lbnQuaGFzQXR0cmlidXRlKFwicmVhZG9ubHlcIik6ITE7YS5ibG9ja2xlc3M9YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT8hKGEuZWxlbWVudC5pcyhcInRleHRhcmVhXCIpfHxDS0VESVRPUi5kdGRbYS5lbGVtZW50LmdldE5hbWUoKV0ucCk6ITE7YS50YWJJbmRleD1jLnRhYkluZGV4fHxhLmVsZW1lbnQmJmEuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKXx8MDthLmFjdGl2ZUVudGVyTW9kZT1cbmEuZW50ZXJNb2RlPWEuYmxvY2tsZXNzP0NLRURJVE9SLkVOVEVSX0JSOmMuZW50ZXJNb2RlO2EuYWN0aXZlU2hpZnRFbnRlck1vZGU9YS5zaGlmdEVudGVyTW9kZT1hLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjpjLnNoaWZ0RW50ZXJNb2RlO2Muc2tpbiYmKENLRURJVE9SLnNraW5OYW1lPWMuc2tpbik7YS5maXJlT25jZShcImNvbmZpZ0xvYWRlZFwiKTthLmRhdGFQcm9jZXNzb3I9bmV3IENLRURJVE9SLmh0bWxEYXRhUHJvY2Vzc29yKGEpO2EuZmlsdGVyPWEuYWN0aXZlRmlsdGVyPW5ldyBDS0VESVRPUi5maWx0ZXIoYSk7aChhKX0pO2ImJm51bGwhPWIuY3VzdG9tQ29uZmlnJiYoYS5jb25maWcuY3VzdG9tQ29uZmlnPWIuY3VzdG9tQ29uZmlnKTtsKGEpfHxhLmZpcmVPbmNlKFwiY3VzdG9tQ29uZmlnTG9hZGVkXCIpfWZ1bmN0aW9uIGgoYSl7Q0tFRElUT1Iuc2tpbi5sb2FkUGFydChcImVkaXRvclwiLGZ1bmN0aW9uKCl7ayhhKX0pfWZ1bmN0aW9uIGsoYSl7Q0tFRElUT1IubGFuZy5sb2FkKGEuY29uZmlnLmxhbmd1YWdlLFxuYS5jb25maWcuZGVmYXVsdExhbmd1YWdlLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5jb25maWcudGl0bGU7YS5sYW5nQ29kZT1iO2EubGFuZz1DS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShjKTthLnRpdGxlPVwic3RyaW5nXCI9PXR5cGVvZiBkfHwhMT09PWQ/ZDpbYS5sYW5nLmVkaXRvcixhLm5hbWVdLmpvaW4oXCIsIFwiKTthLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb258fChhLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb249YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT9hLmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpOmEubGFuZy5kaXIpO2EuZmlyZShcImxhbmdMb2FkZWRcIik7ZyhhKX0pfWZ1bmN0aW9uIGcoYSl7YS5nZXRTdHlsZXNTZXQoZnVuY3Rpb24oYil7YS5vbmNlKFwibG9hZGVkXCIsZnVuY3Rpb24oKXthLmZpcmUoXCJzdHlsZXNTZXRcIix7c3R5bGVzOmJ9KX0sbnVsbCxudWxsLDEpO24oYSl9KX1mdW5jdGlvbiBuKGEpe3ZhciBiPWEuY29uZmlnLFxuYz1iLnBsdWdpbnMsZD1iLmV4dHJhUGx1Z2lucyxlPWIucmVtb3ZlUGx1Z2lucztpZihkKXZhciBnPW5ldyBSZWdFeHAoXCIoPzpefCwpKD86XCIrZC5yZXBsYWNlKC9cXHMqLFxccyovZyxcInxcIikrXCIpKD9cXHgzZCx8JClcIixcImdcIiksYz1jLnJlcGxhY2UoZyxcIlwiKSxjPWMrKFwiLFwiK2QpO2lmKGUpdmFyIGY9bmV3IFJlZ0V4cChcIig/Ol58LCkoPzpcIitlLnJlcGxhY2UoL1xccyosXFxzKi9nLFwifFwiKStcIikoP1xceDNkLHwkKVwiLFwiZ1wiKSxjPWMucmVwbGFjZShmLFwiXCIpO0NLRURJVE9SLmVudi5haXImJihjKz1cIixhZG9iZWFpclwiKTtDS0VESVRPUi5wbHVnaW5zLmxvYWQoYy5zcGxpdChcIixcIiksZnVuY3Rpb24oYyl7dmFyIGQ9W10sZT1bXSxnPVtdO2EucGx1Z2lucz1jO2Zvcih2YXIgayBpbiBjKXt2YXIgaD1jW2tdLG09aC5sYW5nLGw9bnVsbCx3PWgucmVxdWlyZXMseDtDS0VESVRPUi50b29scy5pc0FycmF5KHcpJiYodz13LmpvaW4oXCIsXCIpKTtpZih3JiYoeD13Lm1hdGNoKGYpKSlmb3IoO3c9eC5wb3AoKTspQ0tFRElUT1IuZXJyb3IoXCJlZGl0b3ItcGx1Z2luLXJlcXVpcmVkXCIsXG57cGx1Z2luOncucmVwbGFjZShcIixcIixcIlwiKSxyZXF1aXJlZEJ5Omt9KTttJiYhYS5sYW5nW2tdJiYobS5zcGxpdCYmKG09bS5zcGxpdChcIixcIikpLDA8PUNLRURJVE9SLnRvb2xzLmluZGV4T2YobSxhLmxhbmdDb2RlKT9sPWEubGFuZ0NvZGU6KGw9YS5sYW5nQ29kZS5yZXBsYWNlKC8tLiovLFwiXCIpLGw9bCE9YS5sYW5nQ29kZSYmMDw9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihtLGwpP2w6MDw9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihtLFwiZW5cIik/XCJlblwiOm1bMF0pLGgubGFuZ0VudHJpZXMmJmgubGFuZ0VudHJpZXNbbF0/KGEubGFuZ1trXT1oLmxhbmdFbnRyaWVzW2xdLGw9bnVsbCk6Zy5wdXNoKENLRURJVE9SLmdldFVybChoLnBhdGgrXCJsYW5nL1wiK2wrXCIuanNcIikpKTtlLnB1c2gobCk7ZC5wdXNoKGgpfUNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGcsZnVuY3Rpb24oKXtmb3IodmFyIGM9W1wiYmVmb3JlSW5pdFwiLFwiaW5pdFwiLFwiYWZ0ZXJJbml0XCJdLGc9MDtnPGMubGVuZ3RoO2crKylmb3IodmFyIGY9XG4wO2Y8ZC5sZW5ndGg7ZisrKXt2YXIgaz1kW2ZdOzA9PT1nJiZlW2ZdJiZrLmxhbmcmJmsubGFuZ0VudHJpZXMmJihhLmxhbmdbay5uYW1lXT1rLmxhbmdFbnRyaWVzW2VbZl1dKTtpZihrW2NbZ11dKWtbY1tnXV0oYSl9YS5maXJlT25jZShcInBsdWdpbnNMb2FkZWRcIik7Yi5rZXlzdHJva2VzJiZhLnNldEtleXN0cm9rZShhLmNvbmZpZy5rZXlzdHJva2VzKTtmb3IoZj0wO2Y8YS5jb25maWcuYmxvY2tlZEtleXN0cm9rZXMubGVuZ3RoO2YrKylhLmtleXN0cm9rZUhhbmRsZXIuYmxvY2tlZEtleXN0cm9rZXNbYS5jb25maWcuYmxvY2tlZEtleXN0cm9rZXNbZl1dPTE7YS5zdGF0dXM9XCJsb2FkZWRcIjthLmZpcmVPbmNlKFwibG9hZGVkXCIpO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZUxvYWRlZFwiLG51bGwsYSl9KX0pfWZ1bmN0aW9uIHEoKXt2YXIgYT10aGlzLmVsZW1lbnQ7aWYoYSYmdGhpcy5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPKXt2YXIgYj10aGlzLmdldERhdGEoKTtcbnRoaXMuY29uZmlnLmh0bWxFbmNvZGVPdXRwdXQmJihiPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYikpO2EuaXMoXCJ0ZXh0YXJlYVwiKT9hLnNldFZhbHVlKGIpOmEuc2V0SHRtbChiKTtyZXR1cm4hMH1yZXR1cm4hMX1hLnByb3RvdHlwZT1DS0VESVRPUi5lZGl0b3IucHJvdG90eXBlO0NLRURJVE9SLmVkaXRvcj1hO3ZhciBwPTAsdD17fTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7YWRkQ29tbWFuZDpmdW5jdGlvbihhLGIpe2IubmFtZT1hLnRvTG93ZXJDYXNlKCk7dmFyIGM9bmV3IENLRURJVE9SLmNvbW1hbmQodGhpcyxiKTt0aGlzLm1vZGUmJmUodGhpcyxjKTtyZXR1cm4gdGhpcy5jb21tYW5kc1thXT1jfSxfYXR0YWNoVG9Gb3JtOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtjLnVwZGF0ZUVsZW1lbnQoKTtjLl8ucmVxdWlyZWQmJiFkLmdldFZhbHVlKCkmJiExPT09Yy5maXJlKFwicmVxdWlyZWRcIikmJmIuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfVxuZnVuY3Rpb24gYihhKXtyZXR1cm4hIShhJiZhLmNhbGwmJmEuYXBwbHkpfXZhciBjPXRoaXMsZD1jLmVsZW1lbnQsZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZC4kLmZvcm0pO2QuaXMoXCJ0ZXh0YXJlYVwiKSYmZSYmKGUub24oXCJzdWJtaXRcIixhKSxiKGUuJC5zdWJtaXQpJiYoZS4kLnN1Ym1pdD1DS0VESVRPUi50b29scy5vdmVycmlkZShlLiQuc3VibWl0LGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe2EoKTtiLmFwcGx5P2IuYXBwbHkodGhpcyk6YigpfX0pKSxjLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7ZS5yZW1vdmVMaXN0ZW5lcihcInN1Ym1pdFwiLGEpfSkpfSxkZXN0cm95OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZShcImJlZm9yZURlc3Ryb3lcIik7IWEmJnEuY2FsbCh0aGlzKTt0aGlzLmVkaXRhYmxlKG51bGwpO3RoaXMuZmlsdGVyJiYodGhpcy5maWx0ZXIuZGVzdHJveSgpLGRlbGV0ZSB0aGlzLmZpbHRlcik7ZGVsZXRlIHRoaXMuYWN0aXZlRmlsdGVyO3RoaXMuc3RhdHVzPVxuXCJkZXN0cm95ZWRcIjt0aGlzLmZpcmUoXCJkZXN0cm95XCIpO3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7Q0tFRElUT1IucmVtb3ZlKHRoaXMpO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZURlc3Ryb3llZFwiLG51bGwsdGhpcyl9LGVsZW1lbnRQYXRoOmZ1bmN0aW9uKGEpe2lmKCFhKXthPXRoaXMuZ2V0U2VsZWN0aW9uKCk7aWYoIWEpcmV0dXJuIG51bGw7YT1hLmdldFN0YXJ0RWxlbWVudCgpfXJldHVybiBhP25ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYSx0aGlzLmVkaXRhYmxlKCkpOm51bGx9LGNyZWF0ZVJhbmdlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0YWJsZSgpO3JldHVybiBhP25ldyBDS0VESVRPUi5kb20ucmFuZ2UoYSk6bnVsbH0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENvbW1hbmQoYSksZD17bmFtZTphLGNvbW1hbmREYXRhOmIsY29tbWFuZDpjfTtyZXR1cm4gYyYmYy5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJlxuITEhPT10aGlzLmZpcmUoXCJiZWZvcmVDb21tYW5kRXhlY1wiLGQpJiYoZC5yZXR1cm5WYWx1ZT1jLmV4ZWMoZC5jb21tYW5kRGF0YSksIWMuYXN5bmMmJiExIT09dGhpcy5maXJlKFwiYWZ0ZXJDb21tYW5kRXhlY1wiLGQpKT9kLnJldHVyblZhbHVlOiExfSxnZXRDb21tYW5kOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbW1hbmRzW2FdfSxnZXREYXRhOmZ1bmN0aW9uKGEpeyFhJiZ0aGlzLmZpcmUoXCJiZWZvcmVHZXREYXRhXCIpO3ZhciBiPXRoaXMuXy5kYXRhO1wic3RyaW5nXCIhPXR5cGVvZiBiJiYoYj0oYj10aGlzLmVsZW1lbnQpJiZ0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT9iLmlzKFwidGV4dGFyZWFcIik/Yi5nZXRWYWx1ZSgpOmIuZ2V0SHRtbCgpOlwiXCIpO2I9e2RhdGFWYWx1ZTpifTshYSYmdGhpcy5maXJlKFwiZ2V0RGF0YVwiLGIpO3JldHVybiBiLmRhdGFWYWx1ZX0sZ2V0U25hcHNob3Q6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmZpcmUoXCJnZXRTbmFwc2hvdFwiKTtcblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYT0oYT10aGlzLmVsZW1lbnQpJiZ0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT9hLmlzKFwidGV4dGFyZWFcIik/YS5nZXRWYWx1ZSgpOmEuZ2V0SHRtbCgpOlwiXCIpO3JldHVybiBhfSxsb2FkU25hcHNob3Q6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwibG9hZFNuYXBzaG90XCIsYSl9LHNldERhdGE6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSEwLGU9YjtiJiZcIm9iamVjdFwiPT10eXBlb2YgYiYmKGM9Yi5pbnRlcm5hbCxlPWIuY2FsbGJhY2ssZD0hYi5ub1NuYXBzaG90KTshYyYmZCYmdGhpcy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2lmKGV8fCFjKXRoaXMub25jZShcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKGEpeyFjJiZkJiZ0aGlzLmZpcmUoXCJzYXZlU25hcHNob3RcIik7ZSYmZS5jYWxsKGEuZWRpdG9yKX0pO2E9e2RhdGFWYWx1ZTphfTshYyYmdGhpcy5maXJlKFwic2V0RGF0YVwiLGEpO3RoaXMuXy5kYXRhPWEuZGF0YVZhbHVlO1xuIWMmJnRoaXMuZmlyZShcImFmdGVyU2V0RGF0YVwiLGEpfSxzZXRSZWFkT25seTpmdW5jdGlvbihhKXthPW51bGw9PWF8fGE7dGhpcy5yZWFkT25seSE9YSYmKHRoaXMucmVhZE9ubHk9YSx0aGlzLmtleXN0cm9rZUhhbmRsZXIuYmxvY2tlZEtleXN0cm9rZXNbOF09K2EsdGhpcy5lZGl0YWJsZSgpLnNldFJlYWRPbmx5KGEpLHRoaXMuZmlyZShcInJlYWRPbmx5XCIpKX0saW5zZXJ0SHRtbDpmdW5jdGlvbihhLGIsYyl7dGhpcy5maXJlKFwiaW5zZXJ0SHRtbFwiLHtkYXRhVmFsdWU6YSxtb2RlOmIscmFuZ2U6Y30pfSxpbnNlcnRUZXh0OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZShcImluc2VydFRleHRcIixhKX0saW5zZXJ0RWxlbWVudDpmdW5jdGlvbihhKXt0aGlzLmZpcmUoXCJpbnNlcnRFbGVtZW50XCIsYSl9LGdldFNlbGVjdGVkSHRtbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkaXRhYmxlKCksYz10aGlzLmdldFNlbGVjdGlvbigpLGM9YyYmYy5nZXRSYW5nZXMoKTtpZighYnx8IWN8fDA9PT1jLmxlbmd0aClyZXR1cm4gbnVsbDtcbmZvcih2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQsZSxnLGYsaz0wO2s8Yy5sZW5ndGg7aysrKXt2YXIgaD1jW2tdLG09aC5zdGFydENvbnRhaW5lcjttLmdldE5hbWUmJlwidHJcIj09bS5nZXROYW1lKCk/KGV8fChlPW0uZ2V0QXNjZW5kYW50KFwidGFibGVcIikuY2xvbmUoKSxlLmFwcGVuZChtLmdldEFzY2VuZGFudChcInRib2R5XCIpLmNsb25lKCkpLGQuYXBwZW5kKGUpLGU9ZS5maW5kT25lKFwidGJvZHlcIikpLGcmJmcuZXF1YWxzKG0pfHwoZz1tLGY9bS5jbG9uZSgpLGUuYXBwZW5kKGYpKSxmLmFwcGVuZChoLmNsb25lQ29udGVudHMoKSkpOmQuYXBwZW5kKGguY2xvbmVDb250ZW50cygpKX1iPWU/ZDpiLmdldEh0bWxGcm9tUmFuZ2UoY1swXSk7cmV0dXJuIGE/Yi5nZXRIdG1sKCk6Yn0sZXh0cmFjdFNlbGVjdGVkSHRtbDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZWRpdGFibGUoKSxkPXRoaXMuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKCk7aWYoIWN8fDA9PT1cbmQubGVuZ3RoKXJldHVybiBudWxsO2Q9ZFswXTtjPWMuZXh0cmFjdEh0bWxGcm9tUmFuZ2UoZCxiKTtifHx0aGlzLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbZF0pO3JldHVybiBhP2MuZ2V0SHRtbCgpOmN9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5maXJlKFwiYmVmb3JlRm9jdXNcIil9LGNoZWNrRGlydHk6ZnVuY3Rpb24oKXtyZXR1cm5cInJlYWR5XCI9PXRoaXMuc3RhdHVzJiZ0aGlzLl8ucHJldmlvdXNWYWx1ZSE9PXRoaXMuZ2V0U25hcHNob3QoKX0scmVzZXREaXJ0eTpmdW5jdGlvbigpe3RoaXMuXy5wcmV2aW91c1ZhbHVlPXRoaXMuZ2V0U25hcHNob3QoKX0sdXBkYXRlRWxlbWVudDpmdW5jdGlvbigpe3JldHVybiBxLmNhbGwodGhpcyl9LHNldEtleXN0cm9rZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmtleXN0cm9rZUhhbmRsZXIua2V5c3Ryb2tlcyxiPUNLRURJVE9SLnRvb2xzLmlzQXJyYXkoYXJndW1lbnRzWzBdKT9hcmd1bWVudHNbMF06W1tdLnNsaWNlLmNhbGwoYXJndW1lbnRzLFxuMCldLGMsZCxlPWIubGVuZ3RoO2UtLTspYz1iW2VdLGQ9MCxDS0VESVRPUi50b29scy5pc0FycmF5KGMpJiYoZD1jWzFdLGM9Y1swXSksZD9hW2NdPWQ6ZGVsZXRlIGFbY119LGdldENvbW1hbmRLZXlzdHJva2U6ZnVuY3Rpb24oYSl7dmFyIGI9YS5uYW1lLGM9dGhpcy5rZXlzdHJva2VIYW5kbGVyLmtleXN0cm9rZXMsZDtpZihhLmZha2VLZXlzdHJva2UpcmV0dXJuIGEuZmFrZUtleXN0cm9rZTtmb3IoZCBpbiBjKWlmKGMuaGFzT3duUHJvcGVydHkoZCkmJmNbZF09PWIpcmV0dXJuIGQ7cmV0dXJuIG51bGx9LGFkZEZlYXR1cmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZmlsdGVyLmFkZEZlYXR1cmUoYSl9LHNldEFjdGl2ZUZpbHRlcjpmdW5jdGlvbihhKXthfHwoYT10aGlzLmZpbHRlcik7dGhpcy5hY3RpdmVGaWx0ZXIhPT1hJiYodGhpcy5hY3RpdmVGaWx0ZXI9YSx0aGlzLmZpcmUoXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIiksYT09PXRoaXMuZmlsdGVyP3RoaXMuc2V0QWN0aXZlRW50ZXJNb2RlKG51bGwsXG5udWxsKTp0aGlzLnNldEFjdGl2ZUVudGVyTW9kZShhLmdldEFsbG93ZWRFbnRlck1vZGUodGhpcy5lbnRlck1vZGUpLGEuZ2V0QWxsb3dlZEVudGVyTW9kZSh0aGlzLnNoaWZ0RW50ZXJNb2RlLCEwKSkpfSxzZXRBY3RpdmVFbnRlck1vZGU6ZnVuY3Rpb24oYSxiKXthPWE/dGhpcy5ibG9ja2xlc3M/Q0tFRElUT1IuRU5URVJfQlI6YTp0aGlzLmVudGVyTW9kZTtiPWI/dGhpcy5ibG9ja2xlc3M/Q0tFRElUT1IuRU5URVJfQlI6Yjp0aGlzLnNoaWZ0RW50ZXJNb2RlO2lmKHRoaXMuYWN0aXZlRW50ZXJNb2RlIT1hfHx0aGlzLmFjdGl2ZVNoaWZ0RW50ZXJNb2RlIT1iKXRoaXMuYWN0aXZlRW50ZXJNb2RlPWEsdGhpcy5hY3RpdmVTaGlmdEVudGVyTW9kZT1iLHRoaXMuZmlyZShcImFjdGl2ZUVudGVyTW9kZUNoYW5nZVwiKX0sc2hvd05vdGlmaWNhdGlvbjpmdW5jdGlvbihhKXthbGVydChhKX19KX0oKSxDS0VESVRPUi5FTEVNRU5UX01PREVfTk9ORT0wLENLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFPVxuMSxDS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE89MixDS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FPTMsQ0tFRElUT1IuaHRtbFBhcnNlcj1mdW5jdGlvbigpe3RoaXMuXz17aHRtbFBhcnRzUmVnZXg6LzwoPzooPzpcXC8oW14+XSspPil8KD86IS0tKFtcXFN8XFxzXSo/KS0tXFx4M2UpfCg/OihbXlxcL1xccz5dKykoKD86XFxzK1tcXHdcXC06Ll0rKD86XFxzKj1cXHMqPyg/Oig/OlwiW15cIl0qXCIpfCg/OidbXiddKicpfFteXFxzXCInXFwvPl0rKSk/KSopW1xcU1xcc10qPyhcXC8/KT4pKS9nfX0sZnVuY3Rpb24oKXt2YXIgYT0vKFtcXHdcXC06Ll0rKSg/Oig/Olxccyo9XFxzKig/Oig/OlwiKFteXCJdKilcIil8KD86JyhbXiddKiknKXwoW15cXHM+XSspKSl8KD89XFxzfCQpKS9nLGY9e2NoZWNrZWQ6MSxjb21wYWN0OjEsZGVjbGFyZToxLGRlZmVyOjEsZGlzYWJsZWQ6MSxpc21hcDoxLG11bHRpcGxlOjEsbm9ocmVmOjEsbm9yZXNpemU6MSxub3NoYWRlOjEsbm93cmFwOjEscmVhZG9ubHk6MSxzZWxlY3RlZDoxfTtcbkNLRURJVE9SLmh0bWxQYXJzZXIucHJvdG90eXBlPXtvblRhZ09wZW46ZnVuY3Rpb24oKXt9LG9uVGFnQ2xvc2U6ZnVuY3Rpb24oKXt9LG9uVGV4dDpmdW5jdGlvbigpe30sb25DREFUQTpmdW5jdGlvbigpe30sb25Db21tZW50OmZ1bmN0aW9uKCl7fSxwYXJzZTpmdW5jdGlvbihiKXtmb3IodmFyIGMsZSxtPTAsbDtjPXRoaXMuXy5odG1sUGFydHNSZWdleC5leGVjKGIpOyl7ZT1jLmluZGV4O2lmKGU+bSlpZihtPWIuc3Vic3RyaW5nKG0sZSksbClsLnB1c2gobSk7ZWxzZSB0aGlzLm9uVGV4dChtKTttPXRoaXMuXy5odG1sUGFydHNSZWdleC5sYXN0SW5kZXg7aWYoZT1jWzFdKWlmKGU9ZS50b0xvd2VyQ2FzZSgpLGwmJkNLRURJVE9SLmR0ZC4kY2RhdGFbZV0mJih0aGlzLm9uQ0RBVEEobC5qb2luKFwiXCIpKSxsPW51bGwpLCFsKXt0aGlzLm9uVGFnQ2xvc2UoZSk7Y29udGludWV9aWYobClsLnB1c2goY1swXSk7ZWxzZSBpZihlPWNbM10pe2lmKGU9ZS50b0xvd2VyQ2FzZSgpLCEvPVwiLy50ZXN0KGUpKXt2YXIgZD1cbnt9LGgsaz1jWzRdO2M9ISFjWzVdO2lmKGspZm9yKDtoPWEuZXhlYyhrKTspe3ZhciBnPWhbMV0udG9Mb3dlckNhc2UoKTtoPWhbMl18fGhbM118fGhbNF18fFwiXCI7ZFtnXT0haCYmZltnXT9nOkNLRURJVE9SLnRvb2xzLmh0bWxEZWNvZGVBdHRyKGgpfXRoaXMub25UYWdPcGVuKGUsZCxjKTshbCYmQ0tFRElUT1IuZHRkLiRjZGF0YVtlXSYmKGw9W10pfX1lbHNlIGlmKGU9Y1syXSl0aGlzLm9uQ29tbWVudChlKX1pZihiLmxlbmd0aD5tKXRoaXMub25UZXh0KGIuc3Vic3RyaW5nKG0sYi5sZW5ndGgpKX19fSgpLENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oKXt0aGlzLl89e291dHB1dDpbXX19LHByb3RvOntvcGVuVGFnOmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChcIlxceDNjXCIsYSl9LG9wZW5UYWdDbG9zZTpmdW5jdGlvbihhLGYpe2Y/dGhpcy5fLm91dHB1dC5wdXNoKFwiIC9cXHgzZVwiKTp0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzZVwiKX0sXG5hdHRyaWJ1dGU6ZnVuY3Rpb24oYSxmKXtcInN0cmluZ1wiPT10eXBlb2YgZiYmKGY9Q0tFRElUT1IudG9vbHMuaHRtbEVuY29kZUF0dHIoZikpO3RoaXMuXy5vdXRwdXQucHVzaChcIiBcIixhLCdcXHgzZFwiJyxmLCdcIicpfSxjbG9zZVRhZzpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzYy9cIixhLFwiXFx4M2VcIil9LHRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5fLm91dHB1dC5wdXNoKGEpfSxjb21tZW50OmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChcIlxceDNjIS0tXCIsYSxcIi0tXFx4M2VcIil9LHdyaXRlOmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChhKX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl8ub3V0cHV0PVtdO3RoaXMuXy5pbmRlbnQ9ITF9LGdldEh0bWw6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy5fLm91dHB1dC5qb2luKFwiXCIpO2EmJnRoaXMucmVzZXQoKTtyZXR1cm4gZn19fSksXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtDS0VESVRPUi5odG1sUGFyc2VyLm5vZGU9XG5mdW5jdGlvbigpe307Q0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLnByb3RvdHlwZT17cmVtb3ZlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYXJlbnQuY2hpbGRyZW4sZj1DS0VESVRPUi50b29scy5pbmRleE9mKGEsdGhpcyksYj10aGlzLnByZXZpb3VzLGM9dGhpcy5uZXh0O2ImJihiLm5leHQ9Yyk7YyYmKGMucHJldmlvdXM9Yik7YS5zcGxpY2UoZiwxKTt0aGlzLnBhcmVudD1udWxsfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihhKXt2YXIgZj10aGlzLnBhcmVudC5jaGlsZHJlbixiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZix0aGlzKSxjPWEucHJldmlvdXM9dGhpcy5wcmV2aW91cyxlPWEubmV4dD10aGlzLm5leHQ7YyYmKGMubmV4dD1hKTtlJiYoZS5wcmV2aW91cz1hKTtmW2JdPWE7YS5wYXJlbnQ9dGhpcy5wYXJlbnQ7dGhpcy5wYXJlbnQ9bnVsbH0saW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24oYSl7dmFyIGY9YS5wYXJlbnQuY2hpbGRyZW4sYj1DS0VESVRPUi50b29scy5pbmRleE9mKGYsXG5hKSxjPWEubmV4dDtmLnNwbGljZShiKzEsMCx0aGlzKTt0aGlzLm5leHQ9YS5uZXh0O3RoaXMucHJldmlvdXM9YTthLm5leHQ9dGhpcztjJiYoYy5wcmV2aW91cz10aGlzKTt0aGlzLnBhcmVudD1hLnBhcmVudH0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGEpe3ZhciBmPWEucGFyZW50LmNoaWxkcmVuLGI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihmLGEpO2Yuc3BsaWNlKGIsMCx0aGlzKTt0aGlzLm5leHQ9YTsodGhpcy5wcmV2aW91cz1hLnByZXZpb3VzKSYmKGEucHJldmlvdXMubmV4dD10aGlzKTthLnByZXZpb3VzPXRoaXM7dGhpcy5wYXJlbnQ9YS5wYXJlbnR9LGdldEFzY2VuZGFudDpmdW5jdGlvbihhKXt2YXIgZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2E6XCJzdHJpbmdcIj09dHlwZW9mIGE/ZnVuY3Rpb24oYil7cmV0dXJuIGIubmFtZT09YX06ZnVuY3Rpb24oYil7cmV0dXJuIGIubmFtZSBpbiBhfSxiPXRoaXMucGFyZW50O2Zvcig7YiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ7KXtpZihmKGIpKXJldHVybiBiO1xuYj1iLnBhcmVudH1yZXR1cm4gbnVsbH0sd3JhcFdpdGg6ZnVuY3Rpb24oYSl7dGhpcy5yZXBsYWNlV2l0aChhKTthLmFkZCh0aGlzKTtyZXR1cm4gYX0sZ2V0SW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLnBhcmVudC5jaGlsZHJlbix0aGlzKX0sZ2V0RmlsdGVyQ29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYXx8e319fX0oKSxcInVzZSBzdHJpY3RcIixDS0VESVRPUi5odG1sUGFyc2VyLmNvbW1lbnQ9ZnVuY3Rpb24oYSl7dGhpcy52YWx1ZT1hO3RoaXMuXz17aXNCbG9ja0xpa2U6ITF9fSxDS0VESVRPUi5odG1sUGFyc2VyLmNvbW1lbnQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfQ09NTUVOVCxmaWx0ZXI6ZnVuY3Rpb24oYSxmKXt2YXIgYj10aGlzLnZhbHVlO2lmKCEoYj1hLm9uQ29tbWVudChmLGIsdGhpcykpKXJldHVybiB0aGlzLnJlbW92ZSgpLFxuITE7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGIpcmV0dXJuIHRoaXMucmVwbGFjZVdpdGgoYiksITE7dGhpcy52YWx1ZT1iO3JldHVybiEwfSx3cml0ZUh0bWw6ZnVuY3Rpb24oYSxmKXtmJiZ0aGlzLmZpbHRlcihmKTthLmNvbW1lbnQodGhpcy52YWx1ZSl9fSksXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtDS0VESVRPUi5odG1sUGFyc2VyLnRleHQ9ZnVuY3Rpb24oYSl7dGhpcy52YWx1ZT1hO3RoaXMuXz17aXNCbG9ja0xpa2U6ITF9fTtDS0VESVRPUi5odG1sUGFyc2VyLnRleHQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfVEVYVCxmaWx0ZXI6ZnVuY3Rpb24oYSxmKXtpZighKHRoaXMudmFsdWU9YS5vblRleHQoZix0aGlzLnZhbHVlLHRoaXMpKSlyZXR1cm4gdGhpcy5yZW1vdmUoKSwhMX0sd3JpdGVIdG1sOmZ1bmN0aW9uKGEsZil7ZiYmdGhpcy5maWx0ZXIoZik7YS50ZXh0KHRoaXMudmFsdWUpfX0pfSgpLFxuXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtDS0VESVRPUi5odG1sUGFyc2VyLmNkYXRhPWZ1bmN0aW9uKGEpe3RoaXMudmFsdWU9YX07Q0tFRElUT1IuaHRtbFBhcnNlci5jZGF0YS5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLm5vZGUse3R5cGU6Q0tFRElUT1IuTk9ERV9URVhULGZpbHRlcjpmdW5jdGlvbigpe30sd3JpdGVIdG1sOmZ1bmN0aW9uKGEpe2Eud3JpdGUodGhpcy52YWx1ZSl9fSl9KCksXCJ1c2Ugc3RyaWN0XCIsQ0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudD1mdW5jdGlvbigpe3RoaXMuY2hpbGRyZW49W107dGhpcy5wYXJlbnQ9bnVsbDt0aGlzLl89e2lzQmxvY2tMaWtlOiEwLGhhc0lubGluZVN0YXJ0ZWQ6ITF9fSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIGEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXN1cnZpdmVcIl0/ITE6XCJhXCI9PWEubmFtZSYmYS5hdHRyaWJ1dGVzLmhyZWZ8fENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbYS5uYW1lXX1cbnZhciBmPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7dGFibGU6MSx1bDoxLG9sOjEsZGw6MX0sQ0tFRElUT1IuZHRkLnRhYmxlLENLRURJVE9SLmR0ZC51bCxDS0VESVRPUi5kdGQub2wsQ0tFRElUT1IuZHRkLmRsKSxiPXtvbDoxLHVsOjF9LGM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHtodG1sOjF9LENLRURJVE9SLmR0ZC5odG1sLENLRURJVE9SLmR0ZC5ib2R5LENLRURJVE9SLmR0ZC5oZWFkLHtzdHlsZToxLHNjcmlwdDoxfSksZT17dWw6XCJsaVwiLG9sOlwibGlcIixkbDpcImRkXCIsdGFibGU6XCJ0Ym9keVwiLHRib2R5OlwidHJcIix0aGVhZDpcInRyXCIsdGZvb3Q6XCJ0clwiLHRyOlwidGRcIn07Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbD1mdW5jdGlvbihtLGwsZCl7ZnVuY3Rpb24gaChhKXt2YXIgYjtpZigwPHIubGVuZ3RoKWZvcih2YXIgYz0wO2M8ci5sZW5ndGg7YysrKXt2YXIgZD1yW2NdLGU9ZC5uYW1lLGc9Q0tFRElUT1IuZHRkW2VdLGY9Qi5uYW1lJiZDS0VESVRPUi5kdGRbQi5uYW1lXTtcbmYmJiFmW2VdfHxhJiZnJiYhZ1thXSYmQ0tFRElUT1IuZHRkW2FdP2U9PUIubmFtZSYmKG4oQixCLnBhcmVudCwxKSxjLS0pOihifHwoaygpLGI9MSksZD1kLmNsb25lKCksZC5wYXJlbnQ9QixCPWQsci5zcGxpY2UoYywxKSxjLS0pfX1mdW5jdGlvbiBrKCl7Zm9yKDt1Lmxlbmd0aDspbih1LnNoaWZ0KCksQil9ZnVuY3Rpb24gZyhhKXtpZihhLl8uaXNCbG9ja0xpa2UmJlwicHJlXCIhPWEubmFtZSYmXCJ0ZXh0YXJlYVwiIT1hLm5hbWUpe3ZhciBiPWEuY2hpbGRyZW4ubGVuZ3RoLGM9YS5jaGlsZHJlbltiLTFdLGQ7YyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJigoZD1DS0VESVRPUi50b29scy5ydHJpbShjLnZhbHVlKSk/Yy52YWx1ZT1kOmEuY2hpbGRyZW4ubGVuZ3RoPWItMSl9fWZ1bmN0aW9uIG4oYixjLGUpe2M9Y3x8Qnx8djt2YXIgZj1CO3ZvaWQgMD09PWIucHJldmlvdXMmJihxKGMsYikmJihCPWMsdC5vblRhZ09wZW4oZCx7fSksYi5yZXR1cm5Qb2ludD1jPUIpLGcoYiksXG5hKGIpJiYhYi5jaGlsZHJlbi5sZW5ndGh8fGMuYWRkKGIpLFwicHJlXCI9PWIubmFtZSYmKHc9ITEpLFwidGV4dGFyZWFcIj09Yi5uYW1lJiYoeD0hMSkpO2IucmV0dXJuUG9pbnQ/KEI9Yi5yZXR1cm5Qb2ludCxkZWxldGUgYi5yZXR1cm5Qb2ludCk6Qj1lP2M6Zn1mdW5jdGlvbiBxKGEsYil7aWYoKGE9PXZ8fFwiYm9keVwiPT1hLm5hbWUpJiZkJiYoIWEubmFtZXx8Q0tFRElUT1IuZHRkW2EubmFtZV1bZF0pKXt2YXIgYyxlO3JldHVybihjPWIuYXR0cmlidXRlcyYmKGU9Yi5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtcmVhbC1lbGVtZW50LXR5cGVcIl0pP2U6Yi5uYW1lKSYmYyBpbiBDS0VESVRPUi5kdGQuJGlubGluZSYmIShjIGluIENLRURJVE9SLmR0ZC5oZWFkKSYmIWIuaXNPcnBoYW58fGIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfX1mdW5jdGlvbiBwKGEsYil7cmV0dXJuIGEgaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbXx8YSBpbiBDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudD9hPT1ifHxcblwiZHRcIj09YSYmXCJkZFwiPT1ifHxcImRkXCI9PWEmJlwiZHRcIj09YjohMX12YXIgdD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlcix2PWwgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ/bDpcInN0cmluZ1wiPT10eXBlb2YgbD9uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KGwpOm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LHI9W10sdT1bXSxCPXYseD1cInRleHRhcmVhXCI9PXYubmFtZSx3PVwicHJlXCI9PXYubmFtZTt0Lm9uVGFnT3Blbj1mdW5jdGlvbihkLGUsZyxtKXtlPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoZCxlKTtlLmlzVW5rbm93biYmZyYmKGUuaXNFbXB0eT0hMCk7ZS5pc09wdGlvbmFsQ2xvc2U9bTtpZihhKGUpKXIucHVzaChlKTtlbHNle2lmKFwicHJlXCI9PWQpdz0hMDtlbHNle2lmKFwiYnJcIj09ZCYmdyl7Qi5hZGQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChcIlxcblwiKSk7cmV0dXJufVwidGV4dGFyZWFcIj09ZCYmKHg9ITApfWlmKFwiYnJcIj09XG5kKXUucHVzaChlKTtlbHNle2Zvcig7IShtPShnPUIubmFtZSk/Q0tFRElUT1IuZHRkW2ddfHwoQi5fLmlzQmxvY2tMaWtlP0NLRURJVE9SLmR0ZC5kaXY6Q0tFRElUT1IuZHRkLnNwYW4pOmMsZS5pc1Vua25vd258fEIuaXNVbmtub3dufHxtW2RdKTspaWYoQi5pc09wdGlvbmFsQ2xvc2UpdC5vblRhZ0Nsb3NlKGcpO2Vsc2UgaWYoZCBpbiBiJiZnIGluIGIpZz1CLmNoaWxkcmVuLChnPWdbZy5sZW5ndGgtMV0pJiZcImxpXCI9PWcubmFtZXx8bihnPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoXCJsaVwiKSxCKSwhZS5yZXR1cm5Qb2ludCYmKGUucmV0dXJuUG9pbnQ9QiksQj1nO2Vsc2UgaWYoZCBpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtJiYhcChkLGcpKXQub25UYWdPcGVuKFwibGlcIj09ZD9cInVsXCI6XCJkbFwiLHt9LDAsMSk7ZWxzZSBpZihnIGluIGYmJiFwKGQsZykpIWUucmV0dXJuUG9pbnQmJihlLnJldHVyblBvaW50PUIpLEI9Qi5wYXJlbnQ7ZWxzZSBpZihnIGluIENLRURJVE9SLmR0ZC4kaW5saW5lJiZcbnIudW5zaGlmdChCKSxCLnBhcmVudCluKEIsQi5wYXJlbnQsMSk7ZWxzZXtlLmlzT3JwaGFuPTE7YnJlYWt9aChkKTtrKCk7ZS5wYXJlbnQ9QjtlLmlzRW1wdHk/bihlKTpCPWV9fX07dC5vblRhZ0Nsb3NlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1yLmxlbmd0aC0xOzA8PWI7Yi0tKWlmKGE9PXJbYl0ubmFtZSl7ci5zcGxpY2UoYiwxKTtyZXR1cm59Zm9yKHZhciBjPVtdLGU9W10sZz1CO2chPXYmJmcubmFtZSE9YTspZy5fLmlzQmxvY2tMaWtlfHxlLnVuc2hpZnQoZyksYy5wdXNoKGcpLGc9Zy5yZXR1cm5Qb2ludHx8Zy5wYXJlbnQ7aWYoZyE9dil7Zm9yKGI9MDtiPGMubGVuZ3RoO2IrKyl7dmFyIGY9Y1tiXTtuKGYsZi5wYXJlbnQpfUI9ZztnLl8uaXNCbG9ja0xpa2UmJmsoKTtuKGcsZy5wYXJlbnQpO2c9PUImJihCPUIucGFyZW50KTtyPXIuY29uY2F0KGUpfVwiYm9keVwiPT1hJiYoZD0hMSl9O3Qub25UZXh0PWZ1bmN0aW9uKGEpe2lmKCEoQi5fLmhhc0lubGluZVN0YXJ0ZWQmJiF1Lmxlbmd0aHx8XG53fHx4KSYmKGE9Q0tFRElUT1IudG9vbHMubHRyaW0oYSksMD09PWEubGVuZ3RoKSlyZXR1cm47dmFyIGI9Qi5uYW1lLGc9Yj9DS0VESVRPUi5kdGRbYl18fChCLl8uaXNCbG9ja0xpa2U/Q0tFRElUT1IuZHRkLmRpdjpDS0VESVRPUi5kdGQuc3Bhbik6YztpZigheCYmIWdbXCIjXCJdJiZiIGluIGYpdC5vblRhZ09wZW4oZVtiXXx8XCJcIiksdC5vblRleHQoYSk7ZWxzZXtrKCk7aCgpO3d8fHh8fChhPWEucmVwbGFjZSgvW1xcdFxcclxcbiBdezIsfXxbXFx0XFxyXFxuXS9nLFwiIFwiKSk7YT1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KGEpO2lmKHEoQixhKSl0aGlzLm9uVGFnT3BlbihkLHt9LDAsMSk7Qi5hZGQoYSl9fTt0Lm9uQ0RBVEE9ZnVuY3Rpb24oYSl7Qi5hZGQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIuY2RhdGEoYSkpfTt0Lm9uQ29tbWVudD1mdW5jdGlvbihhKXtrKCk7aCgpO0IuYWRkKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmNvbW1lbnQoYSkpfTt0LnBhcnNlKG0pO2ZvcihrKCk7QiE9XG52OyluKEIsQi5wYXJlbnQsMSk7Zyh2KTtyZXR1cm4gdn07Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5wcm90b3R5cGU9e3R5cGU6Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCxhZGQ6ZnVuY3Rpb24oYSxiKXtpc05hTihiKSYmKGI9dGhpcy5jaGlsZHJlbi5sZW5ndGgpO3ZhciBjPTA8Yj90aGlzLmNoaWxkcmVuW2ItMV06bnVsbDtpZihjKXtpZihhLl8uaXNCbG9ja0xpa2UmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYy52YWx1ZT1DS0VESVRPUi50b29scy5ydHJpbShjLnZhbHVlKSwwPT09Yy52YWx1ZS5sZW5ndGgpKXt0aGlzLmNoaWxkcmVuLnBvcCgpO3RoaXMuYWRkKGEpO3JldHVybn1jLm5leHQ9YX1hLnByZXZpb3VzPWM7YS5wYXJlbnQ9dGhpczt0aGlzLmNoaWxkcmVuLnNwbGljZShiLDAsYSk7dGhpcy5fLmhhc0lubGluZVN0YXJ0ZWR8fCh0aGlzLl8uaGFzSW5saW5lU3RhcnRlZD1hLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8YS50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWEuXy5pc0Jsb2NrTGlrZSl9LGZpbHRlcjpmdW5jdGlvbihhLGIpe2I9dGhpcy5nZXRGaWx0ZXJDb250ZXh0KGIpO2Eub25Sb290KGIsdGhpcyk7dGhpcy5maWx0ZXJDaGlsZHJlbihhLCExLGIpfSxmaWx0ZXJDaGlsZHJlbjpmdW5jdGlvbihhLGIsYyl7aWYodGhpcy5jaGlsZHJlbkZpbHRlcmVkQnkhPWEuaWQpe2M9dGhpcy5nZXRGaWx0ZXJDb250ZXh0KGMpO2lmKGImJiF0aGlzLnBhcmVudClhLm9uUm9vdChjLHRoaXMpO3RoaXMuY2hpbGRyZW5GaWx0ZXJlZEJ5PWEuaWQ7Zm9yKGI9MDtiPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2IrKykhMT09PXRoaXMuY2hpbGRyZW5bYl0uZmlsdGVyKGEsYykmJmItLX19LHdyaXRlSHRtbDpmdW5jdGlvbihhLGIpe2ImJnRoaXMuZmlsdGVyKGIpO3RoaXMud3JpdGVDaGlsZHJlbkh0bWwoYSl9LHdyaXRlQ2hpbGRyZW5IdG1sOmZ1bmN0aW9uKGEsYixjKXt2YXIgZT10aGlzLmdldEZpbHRlckNvbnRleHQoKTtcbmlmKGMmJiF0aGlzLnBhcmVudCYmYiliLm9uUm9vdChlLHRoaXMpO2ImJnRoaXMuZmlsdGVyQ2hpbGRyZW4oYiwhMSxlKTtiPTA7Yz10aGlzLmNoaWxkcmVuO2ZvcihlPWMubGVuZ3RoO2I8ZTtiKyspY1tiXS53cml0ZUh0bWwoYSl9LGZvckVhY2g6ZnVuY3Rpb24oYSxiLGMpe2lmKCEoY3x8YiYmdGhpcy50eXBlIT1iKSl2YXIgZT1hKHRoaXMpO2lmKCExIT09ZSl7Yz10aGlzLmNoaWxkcmVuO2Zvcih2YXIgZj0wO2Y8Yy5sZW5ndGg7ZisrKWU9Y1tmXSxlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9lLmZvckVhY2goYSxiKTpiJiZlLnR5cGUhPWJ8fGEoZSl9fSxnZXRGaWx0ZXJDb250ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhfHx7fX19fSgpLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RoaXMucnVsZXM9W119ZnVuY3Rpb24gZihiLGMsZSxmKXt2YXIgbCxkO2ZvcihsIGluIGMpKGQ9YltsXSl8fChkPWJbbF09bmV3IGEpLGQuYWRkKGNbbF0sZSxmKX1DS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlcj1cbkNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGIpe3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO3RoaXMuZWxlbWVudE5hbWVSdWxlcz1uZXcgYTt0aGlzLmF0dHJpYnV0ZU5hbWVSdWxlcz1uZXcgYTt0aGlzLmVsZW1lbnRzUnVsZXM9e307dGhpcy5hdHRyaWJ1dGVzUnVsZXM9e307dGhpcy50ZXh0UnVsZXM9bmV3IGE7dGhpcy5jb21tZW50UnVsZXM9bmV3IGE7dGhpcy5yb290UnVsZXM9bmV3IGE7YiYmdGhpcy5hZGRSdWxlcyhiLDEwKX0scHJvdG86e2FkZFJ1bGVzOmZ1bmN0aW9uKGEsYyl7dmFyIGU7XCJudW1iZXJcIj09dHlwZW9mIGM/ZT1jOmMmJlwicHJpb3JpdHlcImluIGMmJihlPWMucHJpb3JpdHkpO1wibnVtYmVyXCIhPXR5cGVvZiBlJiYoZT0xMCk7XCJvYmplY3RcIiE9dHlwZW9mIGMmJihjPXt9KTthLmVsZW1lbnROYW1lcyYmdGhpcy5lbGVtZW50TmFtZVJ1bGVzLmFkZE1hbnkoYS5lbGVtZW50TmFtZXMsZSxjKTthLmF0dHJpYnV0ZU5hbWVzJiZcbnRoaXMuYXR0cmlidXRlTmFtZVJ1bGVzLmFkZE1hbnkoYS5hdHRyaWJ1dGVOYW1lcyxlLGMpO2EuZWxlbWVudHMmJmYodGhpcy5lbGVtZW50c1J1bGVzLGEuZWxlbWVudHMsZSxjKTthLmF0dHJpYnV0ZXMmJmYodGhpcy5hdHRyaWJ1dGVzUnVsZXMsYS5hdHRyaWJ1dGVzLGUsYyk7YS50ZXh0JiZ0aGlzLnRleHRSdWxlcy5hZGQoYS50ZXh0LGUsYyk7YS5jb21tZW50JiZ0aGlzLmNvbW1lbnRSdWxlcy5hZGQoYS5jb21tZW50LGUsYyk7YS5yb290JiZ0aGlzLnJvb3RSdWxlcy5hZGQoYS5yb290LGUsYyl9LGFwcGx5VG86ZnVuY3Rpb24oYSl7YS5maWx0ZXIodGhpcyl9LG9uRWxlbWVudE5hbWU6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5lbGVtZW50TmFtZVJ1bGVzLmV4ZWNPbk5hbWUoYSxjKX0sb25BdHRyaWJ1dGVOYW1lOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuYXR0cmlidXRlTmFtZVJ1bGVzLmV4ZWNPbk5hbWUoYSxjKX0sb25UZXh0OmZ1bmN0aW9uKGEsYyxlKXtyZXR1cm4gdGhpcy50ZXh0UnVsZXMuZXhlYyhhLFxuYyxlKX0sb25Db21tZW50OmZ1bmN0aW9uKGEsYyxlKXtyZXR1cm4gdGhpcy5jb21tZW50UnVsZXMuZXhlYyhhLGMsZSl9LG9uUm9vdDpmdW5jdGlvbihhLGMpe3JldHVybiB0aGlzLnJvb3RSdWxlcy5leGVjKGEsYyl9LG9uRWxlbWVudDpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZT1bdGhpcy5lbGVtZW50c1J1bGVzW1wiXlwiXSx0aGlzLmVsZW1lbnRzUnVsZXNbYy5uYW1lXSx0aGlzLmVsZW1lbnRzUnVsZXMuJF0sZixsPTA7Mz5sO2wrKylpZihmPWVbbF0pe2Y9Zi5leGVjKGEsYyx0aGlzKTtpZighMT09PWYpcmV0dXJuIG51bGw7aWYoZiYmZiE9YylyZXR1cm4gdGhpcy5vbk5vZGUoYSxmKTtpZihjLnBhcmVudCYmIWMubmFtZSlicmVha31yZXR1cm4gY30sb25Ob2RlOmZ1bmN0aW9uKGEsYyl7dmFyIGU9Yy50eXBlO3JldHVybiBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/dGhpcy5vbkVsZW1lbnQoYSxjKTplPT1DS0VESVRPUi5OT0RFX1RFWFQ/bmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dCh0aGlzLm9uVGV4dChhLFxuYy52YWx1ZSkpOmU9PUNLRURJVE9SLk5PREVfQ09NTUVOVD9uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50KHRoaXMub25Db21tZW50KGEsYy52YWx1ZSkpOm51bGx9LG9uQXR0cmlidXRlOmZ1bmN0aW9uKGEsYyxlLGYpe3JldHVybihlPXRoaXMuYXR0cmlidXRlc1J1bGVzW2VdKT9lLmV4ZWMoYSxmLGMsdGhpcyk6Zn19fSk7Q0tFRElUT1IuaHRtbFBhcnNlci5maWx0ZXJSdWxlc0dyb3VwPWE7YS5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbihhLGMsZSl7dGhpcy5ydWxlcy5zcGxpY2UodGhpcy5maW5kSW5kZXgoYyksMCx7dmFsdWU6YSxwcmlvcml0eTpjLG9wdGlvbnM6ZX0pfSxhZGRNYW55OmZ1bmN0aW9uKGEsYyxlKXtmb3IodmFyIGY9W3RoaXMuZmluZEluZGV4KGMpLDBdLGw9MCxkPWEubGVuZ3RoO2w8ZDtsKyspZi5wdXNoKHt2YWx1ZTphW2xdLHByaW9yaXR5OmMsb3B0aW9uczplfSk7dGhpcy5ydWxlcy5zcGxpY2UuYXBwbHkodGhpcy5ydWxlcyxmKX0sZmluZEluZGV4OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1cbnRoaXMucnVsZXMsZT1jLmxlbmd0aC0xOzA8PWUmJmE8Y1tlXS5wcmlvcml0eTspZS0tO3JldHVybiBlKzF9LGV4ZWM6ZnVuY3Rpb24oYSxjKXt2YXIgZT1jIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlfHxjIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudCxmPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxsPXRoaXMucnVsZXMsZD1sLmxlbmd0aCxoLGssZyxuO2ZvcihuPTA7bjxkO24rKylpZihlJiYoaD1jLnR5cGUsaz1jLm5hbWUpLGc9bFtuXSwhKGEubm9uRWRpdGFibGUmJiFnLm9wdGlvbnMuYXBwbHlUb0FsbHx8YS5uZXN0ZWRFZGl0YWJsZSYmZy5vcHRpb25zLmV4Y2x1ZGVOZXN0ZWRFZGl0YWJsZSkpe2c9Zy52YWx1ZS5hcHBseShudWxsLGYpO2lmKCExPT09Z3x8ZSYmZyYmKGcubmFtZSE9a3x8Zy50eXBlIT1oKSlyZXR1cm4gZztudWxsIT1nJiYoZlswXT1jPWcpfXJldHVybiBjfSxleGVjT25OYW1lOmZ1bmN0aW9uKGEsXG5jKXtmb3IodmFyIGU9MCxmPXRoaXMucnVsZXMsbD1mLmxlbmd0aCxkO2MmJmU8bDtlKyspZD1mW2VdLGEubm9uRWRpdGFibGUmJiFkLm9wdGlvbnMuYXBwbHlUb0FsbHx8YS5uZXN0ZWRFZGl0YWJsZSYmZC5vcHRpb25zLmV4Y2x1ZGVOZXN0ZWRFZGl0YWJsZXx8KGM9Yy5yZXBsYWNlKGQudmFsdWVbMF0sZC52YWx1ZVsxXSkpO3JldHVybiBjfX19KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZCl7ZnVuY3Rpb24gZyhhKXtyZXR1cm4gYXx8Q0tFRElUT1IuZW52Lm5lZWRzTmJzcEZpbGxlcj9uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KFwiwqBcIik6bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChcImJyXCIse1wiZGF0YS1ja2UtYm9ndXNcIjoxfSl9ZnVuY3Rpb24gZihhLGQpe3JldHVybiBmdW5jdGlvbihlKXtpZihlLnR5cGUhPUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe3ZhciBmPVtdLGg9YihlKSxsLHc7aWYoaClmb3IoayhoLDEpJiZmLnB1c2goaCk7aDspbShoKSYmXG4obD1jKGgpKSYmayhsKSYmKCh3PWMobCkpJiYhbSh3KT9mLnB1c2gobCk6KGcoeCkuaW5zZXJ0QWZ0ZXIobCksbC5yZW1vdmUoKSkpLGg9aC5wcmV2aW91cztmb3IoaD0wO2g8Zi5sZW5ndGg7aCsrKWZbaF0ucmVtb3ZlKCk7aWYoZj0hYXx8ITEhPT0oXCJmdW5jdGlvblwiPT10eXBlb2YgZD9kKGUpOmQpKXh8fENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyfHxlLnR5cGUhPUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQ/eHx8Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXJ8fCEoNzxkb2N1bWVudC5kb2N1bWVudE1vZGV8fGUubmFtZSBpbiBDS0VESVRPUi5kdGQudHJ8fGUubmFtZSBpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtKT8oZj1iKGUpLGY9IWZ8fFwiZm9ybVwiPT1lLm5hbWUmJlwiaW5wdXRcIj09Zi5uYW1lKTpmPSExOmY9ITE7ZiYmZS5hZGQoZyhhKSl9fX1mdW5jdGlvbiBrKGEsYil7aWYoKCF4fHxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcikmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcblwiYnJcIj09YS5uYW1lJiYhYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtZW9sXCJdKXJldHVybiEwO3ZhciBjO3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGM9YS52YWx1ZS5tYXRjaChyKSkmJihjLmluZGV4JiYoKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQoYS52YWx1ZS5zdWJzdHJpbmcoMCxjLmluZGV4KSkpLmluc2VydEJlZm9yZShhKSxhLnZhbHVlPWNbMF0pLCFDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmeCYmKCFifHxhLnBhcmVudC5uYW1lIGluIG4pfHwheCYmKChjPWEucHJldmlvdXMpJiZcImJyXCI9PWMubmFtZXx8IWN8fG0oYykpKT8hMDohMX12YXIgaD17ZWxlbWVudHM6e319LHg9XCJodG1sXCI9PWQsbj1DS0VESVRPUi50b29scy5leHRlbmQoe30sdyksejtmb3IoeiBpbiBuKVwiI1wiaW4gQlt6XXx8ZGVsZXRlIG5bel07Zm9yKHogaW4gbiloLmVsZW1lbnRzW3pdPWYoeCxhLmNvbmZpZy5maWxsRW1wdHlCbG9ja3MpO2gucm9vdD1mKHgsITEpO2guZWxlbWVudHMuYnI9XG5mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7aWYoYi5wYXJlbnQudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl7dmFyIGQ9Yi5hdHRyaWJ1dGVzO2lmKFwiZGF0YS1ja2UtYm9ndXNcImluIGR8fFwiZGF0YS1ja2UtZW9sXCJpbiBkKWRlbGV0ZSBkW1wiZGF0YS1ja2UtYm9ndXNcIl07ZWxzZXtmb3IoZD1iLm5leHQ7ZCYmZShkKTspZD1kLm5leHQ7dmFyIGY9YyhiKTshZCYmbShiLnBhcmVudCk/bChiLnBhcmVudCxnKGEpKTptKGQpJiZmJiYhbShmKSYmZyhhKS5pbnNlcnRCZWZvcmUoZCl9fX19KHgpO3JldHVybiBofWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gYSE9Q0tFRElUT1IuRU5URVJfQlImJiExIT09Yj9hPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIjohMX1mdW5jdGlvbiBiKGEpe2ZvcihhPWEuY2hpbGRyZW5bYS5jaGlsZHJlbi5sZW5ndGgtMV07YSYmZShhKTspYT1hLnByZXZpb3VzO3JldHVybiBhfWZ1bmN0aW9uIGMoYSl7Zm9yKGE9YS5wcmV2aW91czthJiZcbmUoYSk7KWE9YS5wcmV2aW91cztyZXR1cm4gYX1mdW5jdGlvbiBlKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmIUNLRURJVE9SLnRvb2xzLnRyaW0oYS52YWx1ZSl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1ib29rbWFya1wiXX1mdW5jdGlvbiBtKGEpe3JldHVybiBhJiYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEubmFtZSBpbiB3fHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpfWZ1bmN0aW9uIGwoYSxiKXt2YXIgYz1hLmNoaWxkcmVuW2EuY2hpbGRyZW4ubGVuZ3RoLTFdO2EuY2hpbGRyZW4ucHVzaChiKTtiLnBhcmVudD1hO2MmJihjLm5leHQ9YixiLnByZXZpb3VzPWMpfWZ1bmN0aW9uIGQoYSl7YT1hLmF0dHJpYnV0ZXM7XCJmYWxzZVwiIT1hLmNvbnRlbnRlZGl0YWJsZSYmKGFbXCJkYXRhLWNrZS1lZGl0YWJsZVwiXT1hLmNvbnRlbnRlZGl0YWJsZT9cInRydWVcIjoxKTtcbmEuY29udGVudGVkaXRhYmxlPVwiZmFsc2VcIn1mdW5jdGlvbiBoKGEpe2E9YS5hdHRyaWJ1dGVzO3N3aXRjaChhW1wiZGF0YS1ja2UtZWRpdGFibGVcIl0pe2Nhc2UgXCJ0cnVlXCI6YS5jb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI7YnJlYWs7Y2FzZSBcIjFcIjpkZWxldGUgYS5jb250ZW50ZWRpdGFibGV9fWZ1bmN0aW9uIGsoYSl7cmV0dXJuIGEucmVwbGFjZShDLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm5cIlxceDNjXCIrYitjLnJlcGxhY2UoRixmdW5jdGlvbihhLGIpe3JldHVybiBFLnRlc3QoYikmJi0xPT1jLmluZGV4T2YoXCJkYXRhLWNrZS1zYXZlZC1cIitiKT9cIiBkYXRhLWNrZS1zYXZlZC1cIithK1wiIGRhdGEtY2tlLVwiK0NLRURJVE9SLnJuZCtcIi1cIithOmF9KStcIlxceDNlXCJ9KX1mdW5jdGlvbiBnKGEsYil7cmV0dXJuIGEucmVwbGFjZShiLGZ1bmN0aW9uKGEsYixjKXswPT09YS5pbmRleE9mKFwiXFx4M2N0ZXh0YXJlYVwiKSYmKGE9YitwKGMpLnJlcGxhY2UoLzwvZyxcIlxceDI2bHQ7XCIpLnJlcGxhY2UoLz4vZyxcblwiXFx4MjZndDtcIikrXCJcXHgzYy90ZXh0YXJlYVxceDNlXCIpO3JldHVyblwiXFx4M2Nja2U6ZW5jb2RlZFxceDNlXCIrZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiXFx4M2MvY2tlOmVuY29kZWRcXHgzZVwifSl9ZnVuY3Rpb24gbihhKXtyZXR1cm4gYS5yZXBsYWNlKE0sZnVuY3Rpb24oYSxiKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGIpfSl9ZnVuY3Rpb24gcShhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXHgzYyEtLSg/IXtja2VfcHJvdGVjdGVkfSlbXFxzXFxTXSs/LS1cXHgzZS9nLGZ1bmN0aW9uKGEpe3JldHVyblwiXFx4M2MhLS1cIit1K1wie0N9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGEpLnJlcGxhY2UoLy0tL2csXCIlMkQlMkRcIikrXCItLVxceDNlXCJ9KX1mdW5jdGlvbiBwKGEpe3JldHVybiBhLnJlcGxhY2UoL1xceDNjIS0tXFx7Y2tlX3Byb3RlY3RlZFxcfVxce0NcXH0oW1xcc1xcU10rPyktLVxceDNlL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGIpfSl9ZnVuY3Rpb24gdChhLGIpe3ZhciBjPWIuXy5kYXRhU3RvcmU7XG5yZXR1cm4gYS5yZXBsYWNlKC9cXHgzYyEtLVxce2NrZV9wcm90ZWN0ZWRcXH0oW1xcc1xcU10rPyktLVxceDNlL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGIpfSkucmVwbGFjZSgvXFx7Y2tlX3Byb3RlY3RlZF8oXFxkKylcXH0vZyxmdW5jdGlvbihhLGIpe3JldHVybiBjJiZjW2JdfHxcIlwifSl9ZnVuY3Rpb24gdihhLGIpe3ZhciBjPVtdLGQ9Yi5jb25maWcucHJvdGVjdGVkU291cmNlLGU9Yi5fLmRhdGFTdG9yZXx8KGIuXy5kYXRhU3RvcmU9e2lkOjF9KSxnPS88XFwhLS1cXHtja2VfdGVtcChjb21tZW50KT9cXH0oXFxkKj8pLS1cXHgzZS9nLGQ9Wy88c2NyaXB0W1xcc1xcU10qPyg8XFwvc2NyaXB0PnwkKS9naSwvPG5vc2NyaXB0W1xcc1xcU10qPzxcXC9ub3NjcmlwdD4vZ2ksLzxtZXRhW1xcc1xcU10qP1xcLz8+L2dpXS5jb25jYXQoZCk7YT1hLnJlcGxhY2UoL1xceDNjIS0tW1xcc1xcU10qPy0tXFx4M2UvZyxmdW5jdGlvbihhKXtyZXR1cm5cIlxceDNjIS0te2NrZV90ZW1wY29tbWVudH1cIisoYy5wdXNoKGEpLVxuMSkrXCItLVxceDNlXCJ9KTtmb3IodmFyIGY9MDtmPGQubGVuZ3RoO2YrKylhPWEucmVwbGFjZShkW2ZdLGZ1bmN0aW9uKGEpe2E9YS5yZXBsYWNlKGcsZnVuY3Rpb24oYSxiLGQpe3JldHVybiBjW2RdfSk7cmV0dXJuL2NrZV90ZW1wKGNvbW1lbnQpPy8udGVzdChhKT9hOlwiXFx4M2MhLS17Y2tlX3RlbXB9XCIrKGMucHVzaChhKS0xKStcIi0tXFx4M2VcIn0pO2E9YS5yZXBsYWNlKGcsZnVuY3Rpb24oYSxiLGQpe3JldHVyblwiXFx4M2MhLS1cIit1KyhiP1wie0N9XCI6XCJcIikrZW5jb2RlVVJJQ29tcG9uZW50KGNbZF0pLnJlcGxhY2UoLy0tL2csXCIlMkQlMkRcIikrXCItLVxceDNlXCJ9KTthPWEucmVwbGFjZSgvPFxcdysoPzpcXHMrKD86KD86W15cXHM9Pl0rXFxzKj1cXHMqKD86W14nXCJcXHM+XSt8J1teJ10qJ3xcIlteXCJdKlwiKSl8W15cXHM9XFwvPl0rKSkrXFxzKlxcLz8+L2csZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXFx4M2MhLS1cXHtja2VfcHJvdGVjdGVkXFx9KFtePl0qKS0tXFx4M2UvZyxmdW5jdGlvbihhLGIpe2VbZS5pZF09XG5kZWNvZGVVUklDb21wb25lbnQoYik7cmV0dXJuXCJ7Y2tlX3Byb3RlY3RlZF9cIitlLmlkKysgK1wifVwifSl9KTtyZXR1cm4gYT1hLnJlcGxhY2UoLzwodGl0bGV8aWZyYW1lfHRleHRhcmVhKShbXj5dKik+KFtcXHNcXFNdKj8pPFxcL1xcMT4vZyxmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm5cIlxceDNjXCIrYytkK1wiXFx4M2VcIit0KHAoZSksYikrXCJcXHgzYy9cIitjK1wiXFx4M2VcIn0pfUNLRURJVE9SLmh0bWxEYXRhUHJvY2Vzc29yPWZ1bmN0aW9uKGIpe3ZhciBjLGQsZT10aGlzO3RoaXMuZWRpdG9yPWI7dGhpcy5kYXRhRmlsdGVyPWM9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyO3RoaXMuaHRtbEZpbHRlcj1kPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlcjt0aGlzLndyaXRlcj1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjtjLmFkZFJ1bGVzKHopO2MuYWRkUnVsZXMoRCx7YXBwbHlUb0FsbDohMH0pO2MuYWRkUnVsZXMoYShiLFwiZGF0YVwiKSx7YXBwbHlUb0FsbDohMH0pO1xuZC5hZGRSdWxlcyh5KTtkLmFkZFJ1bGVzKEEse2FwcGx5VG9BbGw6ITB9KTtkLmFkZFJ1bGVzKGEoYixcImh0bWxcIikse2FwcGx5VG9BbGw6ITB9KTtiLm9uKFwidG9IdG1sXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7dmFyIGM9YS5kYXRhVmFsdWUsZCxjPXYoYyxiKSxjPWcoYyxHKSxjPWsoYyksYz1nKGMsSiksYz1jLnJlcGxhY2UoSSxcIiQxY2tlOiQyXCIpLGM9Yy5yZXBsYWNlKFIsXCJcXHgzY2NrZTokMSQyXFx4M2VcXHgzYy9ja2U6JDFcXHgzZVwiKSxjPWMucmVwbGFjZSgvKDxwcmVcXGJbXj5dKj4pKFxcclxcbnxcXG4pL2csXCIkMSQyJDJcIiksYz1jLnJlcGxhY2UoLyhbXmEtejAtOTxcXC1dKShvblxcd3szLH0pKD8hPikvZ2ksXCIkMWRhdGEtY2tlLVwiK0NLRURJVE9SLnJuZCtcIi0kMlwiKTtkPWEuY29udGV4dHx8Yi5lZGl0YWJsZSgpLmdldE5hbWUoKTt2YXIgZTtDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJlwicHJlXCI9PWQmJihkPVwiZGl2XCIsYz1cIlxceDNjcHJlXFx4M2VcIitjK1wiXFx4M2MvcHJlXFx4M2VcIixcbmU9MSk7ZD1iLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZCk7ZC5zZXRIdG1sKFwiYVwiK2MpO2M9ZC5nZXRIdG1sKCkuc3Vic3RyKDEpO2M9Yy5yZXBsYWNlKG5ldyBSZWdFeHAoXCJkYXRhLWNrZS1cIitDS0VESVRPUi5ybmQrXCItXCIsXCJpZ1wiKSxcIlwiKTtlJiYoYz1jLnJlcGxhY2UoL148cHJlPnw8XFwvcHJlPiQvZ2ksXCJcIikpO2M9Yy5yZXBsYWNlKEgsXCIkMSQyXCIpO2M9bihjKTtjPXAoYyk7ZD0hMT09PWEuZml4Rm9yQm9keT8hMTpmKGEuZW50ZXJNb2RlLGIuY29uZmlnLmF1dG9QYXJhZ3JhcGgpO2M9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChjLGEuY29udGV4dCxkKTtkJiYoZT1jLCFlLmNoaWxkcmVuLmxlbmd0aCYmQ0tFRElUT1IuZHRkW2UubmFtZV1bZF0mJihkPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoZCksZS5hZGQoZCkpKTthLmRhdGFWYWx1ZT1jfSxudWxsLG51bGwsNSk7Yi5vbihcInRvSHRtbFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5maWx0ZXIuYXBwbHlUbyhhLmRhdGEuZGF0YVZhbHVlLFxuITAsYS5kYXRhLmRvbnRGaWx0ZXIsYS5kYXRhLmVudGVyTW9kZSkmJmIuZmlyZShcImRhdGFGaWx0ZXJlZFwiKX0sbnVsbCxudWxsLDYpO2Iub24oXCJ0b0h0bWxcIixmdW5jdGlvbihhKXthLmRhdGEuZGF0YVZhbHVlLmZpbHRlckNoaWxkcmVuKGUuZGF0YUZpbHRlciwhMCl9LG51bGwsbnVsbCwxMCk7Yi5vbihcInRvSHRtbFwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO3ZhciBiPWEuZGF0YVZhbHVlLGM9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7Yi53cml0ZUNoaWxkcmVuSHRtbChjKTtiPWMuZ2V0SHRtbCghMCk7YS5kYXRhVmFsdWU9cShiKX0sbnVsbCxudWxsLDE1KTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7dmFyIGM9YS5kYXRhLmRhdGFWYWx1ZTthLmRhdGEuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmKGM9Yy5yZXBsYWNlKC9ePGJyICpcXC8/Pi9pLFwiXCIpKTthLmRhdGEuZGF0YVZhbHVlPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYyxcbmEuZGF0YS5jb250ZXh0LGYoYS5kYXRhLmVudGVyTW9kZSxiLmNvbmZpZy5hdXRvUGFyYWdyYXBoKSl9LG51bGwsbnVsbCw1KTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7YS5kYXRhLmRhdGFWYWx1ZS5maWx0ZXJDaGlsZHJlbihlLmh0bWxGaWx0ZXIsITApfSxudWxsLG51bGwsMTApO2Iub24oXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXthLmRhdGEuZmlsdGVyLmFwcGx5VG8oYS5kYXRhLmRhdGFWYWx1ZSwhMSwhMCl9LG51bGwsbnVsbCwxMSk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe3ZhciBjPWEuZGF0YS5kYXRhVmFsdWUsZD1lLndyaXRlcjtkLnJlc2V0KCk7Yy53cml0ZUNoaWxkcmVuSHRtbChkKTtjPWQuZ2V0SHRtbCghMCk7Yz1wKGMpO2M9dChjLGIpO2EuZGF0YS5kYXRhVmFsdWU9Y30sbnVsbCxudWxsLDE1KX07Q0tFRElUT1IuaHRtbERhdGFQcm9jZXNzb3IucHJvdG90eXBlPXt0b0h0bWw6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5lZGl0b3IsXG5nLGYsayxoO2ImJlwib2JqZWN0XCI9PXR5cGVvZiBiPyhnPWIuY29udGV4dCxjPWIuZml4Rm9yQm9keSxkPWIuZG9udEZpbHRlcixmPWIuZmlsdGVyLGs9Yi5lbnRlck1vZGUsaD1iLnByb3RlY3RlZFdoaXRlc3BhY2VzKTpnPWI7Z3x8bnVsbD09PWd8fChnPWUuZWRpdGFibGUoKS5nZXROYW1lKCkpO3JldHVybiBlLmZpcmUoXCJ0b0h0bWxcIix7ZGF0YVZhbHVlOmEsY29udGV4dDpnLGZpeEZvckJvZHk6Yyxkb250RmlsdGVyOmQsZmlsdGVyOmZ8fGUuZmlsdGVyLGVudGVyTW9kZTprfHxlLmVudGVyTW9kZSxwcm90ZWN0ZWRXaGl0ZXNwYWNlczpofSkuZGF0YVZhbHVlfSx0b0RhdGFGb3JtYXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU7YiYmKGM9Yi5jb250ZXh0LGQ9Yi5maWx0ZXIsZT1iLmVudGVyTW9kZSk7Y3x8bnVsbD09PWN8fChjPXRoaXMuZWRpdG9yLmVkaXRhYmxlKCkuZ2V0TmFtZSgpKTtyZXR1cm4gdGhpcy5lZGl0b3IuZmlyZShcInRvRGF0YUZvcm1hdFwiLHtkYXRhVmFsdWU6YSxcbmZpbHRlcjpkfHx0aGlzLmVkaXRvci5maWx0ZXIsY29udGV4dDpjLGVudGVyTW9kZTplfHx0aGlzLmVkaXRvci5lbnRlck1vZGV9KS5kYXRhVmFsdWV9fTt2YXIgcj0vKD86Jm5ic3A7fFxceGEwKSQvLHU9XCJ7Y2tlX3Byb3RlY3RlZH1cIixCPUNLRURJVE9SLmR0ZCx4PVwiY2FwdGlvbiBjb2xncm91cCBjb2wgdGhlYWQgdGZvb3QgdGJvZHlcIi5zcGxpdChcIiBcIiksdz1DS0VESVRPUi50b29scy5leHRlbmQoe30sQi4kYmxvY2tMaW1pdCxCLiRibG9jayksej17ZWxlbWVudHM6e2lucHV0OmQsdGV4dGFyZWE6ZH19LEQ9e2F0dHJpYnV0ZU5hbWVzOltbL15vbi8sXCJkYXRhLWNrZS1wYS1vblwiXSxbL15kYXRhLWNrZS1leHBhbmRvJC8sXCJcIl1dfSx5PXtlbGVtZW50czp7ZW1iZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnQ7aWYoYiYmXCJvYmplY3RcIj09Yi5uYW1lKXt2YXIgYz1iLmF0dHJpYnV0ZXMud2lkdGgsYj1iLmF0dHJpYnV0ZXMuaGVpZ2h0O2MmJihhLmF0dHJpYnV0ZXMud2lkdGg9Yyk7XG5iJiYoYS5hdHRyaWJ1dGVzLmhlaWdodD1iKX19LGE6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRyaWJ1dGVzO2lmKCEoYS5jaGlsZHJlbi5sZW5ndGh8fGIubmFtZXx8Yi5pZHx8YS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiXSkpcmV0dXJuITF9fX0sQT17ZWxlbWVudE5hbWVzOltbL15ja2U6LyxcIlwiXSxbL15cXD94bWw6bmFtZXNwYWNlJC8sXCJcIl1dLGF0dHJpYnV0ZU5hbWVzOltbL15kYXRhLWNrZS0oc2F2ZWR8cGEpLS8sXCJcIl0sWy9eZGF0YS1ja2UtLiovLFwiXCJdLFtcImhpZGVmb2N1c1wiLFwiXCJdXSxlbGVtZW50czp7JDpmdW5jdGlvbihhKXt2YXIgYj1hLmF0dHJpYnV0ZXM7aWYoYil7aWYoYltcImRhdGEtY2tlLXRlbXBcIl0pcmV0dXJuITE7Zm9yKHZhciBjPVtcIm5hbWVcIixcImhyZWZcIixcInNyY1wiXSxkLGU9MDtlPGMubGVuZ3RoO2UrKylkPVwiZGF0YS1ja2Utc2F2ZWQtXCIrY1tlXSxkIGluIGImJmRlbGV0ZSBiW2NbZV1dfXJldHVybiBhfSx0YWJsZTpmdW5jdGlvbihhKXthLmNoaWxkcmVuLnNsaWNlKDApLnNvcnQoZnVuY3Rpb24oYSxcbmIpe3ZhciBjLGQ7YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIudHlwZT09YS50eXBlJiYoYz1DS0VESVRPUi50b29scy5pbmRleE9mKHgsYS5uYW1lKSxkPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoeCxiLm5hbWUpKTstMTxjJiYtMTxkJiZjIT1kfHwoYz1hLnBhcmVudD9hLmdldEluZGV4KCk6LTEsZD1iLnBhcmVudD9iLmdldEluZGV4KCk6LTEpO3JldHVybiBjPmQ/MTotMX0pfSxwYXJhbTpmdW5jdGlvbihhKXthLmNoaWxkcmVuPVtdO2EuaXNFbXB0eT0hMDtyZXR1cm4gYX0sc3BhbjpmdW5jdGlvbihhKXtcIkFwcGxlLXN0eWxlLXNwYW5cIj09YS5hdHRyaWJ1dGVzW1wiY2xhc3NcIl0mJmRlbGV0ZSBhLm5hbWV9LGh0bWw6ZnVuY3Rpb24oYSl7ZGVsZXRlIGEuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGU7ZGVsZXRlIGEuYXR0cmlidXRlc1tcImNsYXNzXCJdfSxib2R5OmZ1bmN0aW9uKGEpe2RlbGV0ZSBhLmF0dHJpYnV0ZXMuc3BlbGxjaGVjaztkZWxldGUgYS5hdHRyaWJ1dGVzLmNvbnRlbnRlZGl0YWJsZX0sXG5zdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hLmNoaWxkcmVuWzBdO2ImJmIudmFsdWUmJihiLnZhbHVlPUNLRURJVE9SLnRvb2xzLnRyaW0oYi52YWx1ZSkpO2EuYXR0cmlidXRlcy50eXBlfHwoYS5hdHRyaWJ1dGVzLnR5cGU9XCJ0ZXh0L2Nzc1wiKX0sdGl0bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5jaGlsZHJlblswXTshYiYmbChhLGI9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dCk7Yi52YWx1ZT1hLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS10aXRsZVwiXXx8XCJcIn0saW5wdXQ6aCx0ZXh0YXJlYTpofSxhdHRyaWJ1dGVzOntcImNsYXNzXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmx0cmltKGEucmVwbGFjZSgvKD86XnxcXHMrKWNrZV9bXlxcc10qL2csXCJcIikpfHwhMX19fTtDS0VESVRPUi5lbnYuaWUmJihBLmF0dHJpYnV0ZXMuc3R5bGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvKF58OykoW15cXDpdKykvZyxmdW5jdGlvbihhKXtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpfSl9KTtcbnZhciBDPS88KGF8YXJlYXxpbWd8aW5wdXR8c291cmNlKVxcYihbXj5dKik+L2dpLEY9LyhbXFx3LTpdKylcXHMqPVxccyooPzooPzpcIlteXCJdKlwiKXwoPzonW14nXSonKXwoPzpbXiBcIic+XSspKS9naSxFPS9eKGhyZWZ8c3JjfG5hbWUpJC9pLEo9Lyg/OjxzdHlsZSg/PVsgPl0pW14+XSo+W1xcc1xcU10qPzxcXC9zdHlsZT4pfCg/OjwoOj9saW5rfG1ldGF8YmFzZSlbXj5dKj4pL2dpLEc9Lyg8dGV4dGFyZWEoPz1bID5dKVtePl0qPikoW1xcc1xcU10qPykoPzo8XFwvdGV4dGFyZWE+KS9naSxNPS88Y2tlOmVuY29kZWQ+KFtePF0qKTxcXC9ja2U6ZW5jb2RlZD4vZ2ksST0vKDxcXC8/KSgoPzpvYmplY3R8ZW1iZWR8cGFyYW18aHRtbHxib2R5fGhlYWR8dGl0bGUpW14+XSo+KS9naSxIPS8oPFxcLz8pY2tlOigoPzpodG1sfGJvZHl8aGVhZHx0aXRsZSlbXj5dKj4pL2dpLFI9Lzxja2U6KHBhcmFtfGVtYmVkKShbXj5dKj8pXFwvPz4oPyFcXHMqPFxcL2NrZTpcXDEpL2dpfSgpLFwidXNlIHN0cmljdFwiLENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD1cbmZ1bmN0aW9uKGEsZil7dGhpcy5uYW1lPWE7dGhpcy5hdHRyaWJ1dGVzPWZ8fHt9O3RoaXMuY2hpbGRyZW49W107dmFyIGI9YXx8XCJcIixjPWIubWF0Y2goL15ja2U6KC4qKS8pO2MmJihiPWNbMV0pO2I9ISEoQ0tFRElUT1IuZHRkLiRub25Cb2R5Q29udGVudFtiXXx8Q0tFRElUT1IuZHRkLiRibG9ja1tiXXx8Q0tFRElUT1IuZHRkLiRsaXN0SXRlbVtiXXx8Q0tFRElUT1IuZHRkLiR0YWJsZUNvbnRlbnRbYl18fENLRURJVE9SLmR0ZC4kbm9uRWRpdGFibGVbYl18fFwiYnJcIj09Yik7dGhpcy5pc0VtcHR5PSEhQ0tFRElUT1IuZHRkLiRlbXB0eVthXTt0aGlzLmlzVW5rbm93bj0hQ0tFRElUT1IuZHRkW2FdO3RoaXMuXz17aXNCbG9ja0xpa2U6YixoYXNJbmxpbmVTdGFydGVkOnRoaXMuaXNFbXB0eXx8IWJ9fSxDS0VESVRPUi5odG1sUGFyc2VyLmNzc1N0eWxlPWZ1bmN0aW9uKGEpe3ZhciBmPXt9OygoYSBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD9hLmF0dHJpYnV0ZXMuc3R5bGU6XG5hKXx8XCJcIikucmVwbGFjZSgvJnF1b3Q7L2csJ1wiJykucmVwbGFjZSgvXFxzKihbXiA6O10rKVxccyo6XFxzKihbXjtdKylcXHMqKD89O3wkKS9nLGZ1bmN0aW9uKGEsYyxlKXtcImZvbnQtZmFtaWx5XCI9PWMmJihlPWUucmVwbGFjZSgvW1wiJ10vZyxcIlwiKSk7ZltjLnRvTG93ZXJDYXNlKCldPWV9KTtyZXR1cm57cnVsZXM6Zixwb3B1bGF0ZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnRvU3RyaW5nKCk7YyYmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudD9hLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsYyk6YSBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD9hLmF0dHJpYnV0ZXMuc3R5bGU9YzphLnN0eWxlPWMpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBhPVtdLGM7Zm9yKGMgaW4gZilmW2NdJiZhLnB1c2goYyxcIjpcIixmW2NdLFwiO1wiKTtyZXR1cm4gYS5qb2luKFwiXCIpfX19LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGIudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihcInN0cmluZ1wiPT10eXBlb2YgYT9iLm5hbWU9PWE6Yi5uYW1lIGluIGEpfX12YXIgZj1mdW5jdGlvbihhLGIpe2E9YVswXTtiPWJbMF07cmV0dXJuIGE8Yj8tMTphPmI/MTowfSxiPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQucHJvdG90eXBlO0NLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLm5vZGUse3R5cGU6Q0tFRElUT1IuTk9ERV9FTEVNRU5ULGFkZDpiLmFkZCxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KHRoaXMubmFtZSx0aGlzLmF0dHJpYnV0ZXMpfSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgZj10aGlzLGwsZDtiPWYuZ2V0RmlsdGVyQ29udGV4dChiKTtpZihiLm9mZilyZXR1cm4hMDtpZighZi5wYXJlbnQpYS5vblJvb3QoYixmKTtmb3IoOzspe2w9Zi5uYW1lO2lmKCEoZD1cbmEub25FbGVtZW50TmFtZShiLGwpKSlyZXR1cm4gdGhpcy5yZW1vdmUoKSwhMTtmLm5hbWU9ZDtpZighKGY9YS5vbkVsZW1lbnQoYixmKSkpcmV0dXJuIHRoaXMucmVtb3ZlKCksITE7aWYoZiE9PXRoaXMpcmV0dXJuIHRoaXMucmVwbGFjZVdpdGgoZiksITE7aWYoZi5uYW1lPT1sKWJyZWFrO2lmKGYudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKGYpLCExO2lmKCFmLm5hbWUpcmV0dXJuIHRoaXMucmVwbGFjZVdpdGhDaGlsZHJlbigpLCExfWw9Zi5hdHRyaWJ1dGVzO3ZhciBoLGs7Zm9yKGggaW4gbCl7Zm9yKGQ9bFtoXTs7KWlmKGs9YS5vbkF0dHJpYnV0ZU5hbWUoYixoKSlpZihrIT1oKWRlbGV0ZSBsW2hdLGg9aztlbHNlIGJyZWFrO2Vsc2V7ZGVsZXRlIGxbaF07YnJlYWt9ayYmKCExPT09KGQ9YS5vbkF0dHJpYnV0ZShiLGYsayxkKSk/ZGVsZXRlIGxba106bFtrXT1kKX1mLmlzRW1wdHl8fHRoaXMuZmlsdGVyQ2hpbGRyZW4oYSwhMSxcbmIpO3JldHVybiEwfSxmaWx0ZXJDaGlsZHJlbjpiLmZpbHRlckNoaWxkcmVuLHdyaXRlSHRtbDpmdW5jdGlvbihhLGIpe2ImJnRoaXMuZmlsdGVyKGIpO3ZhciBtPXRoaXMubmFtZSxsPVtdLGQ9dGhpcy5hdHRyaWJ1dGVzLGgsazthLm9wZW5UYWcobSxkKTtmb3IoaCBpbiBkKWwucHVzaChbaCxkW2hdXSk7YS5zb3J0QXR0cmlidXRlcyYmbC5zb3J0KGYpO2g9MDtmb3Ioaz1sLmxlbmd0aDtoPGs7aCsrKWQ9bFtoXSxhLmF0dHJpYnV0ZShkWzBdLGRbMV0pO2Eub3BlblRhZ0Nsb3NlKG0sdGhpcy5pc0VtcHR5KTt0aGlzLndyaXRlQ2hpbGRyZW5IdG1sKGEpO3RoaXMuaXNFbXB0eXx8YS5jbG9zZVRhZyhtKX0sd3JpdGVDaGlsZHJlbkh0bWw6Yi53cml0ZUNoaWxkcmVuSHRtbCxyZXBsYWNlV2l0aENoaWxkcmVuOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuY2hpbGRyZW4sYj1hLmxlbmd0aDtiOylhWy0tYl0uaW5zZXJ0QWZ0ZXIodGhpcyk7dGhpcy5yZW1vdmUoKX0sZm9yRWFjaDpiLmZvckVhY2gsXG5nZXRGaXJzdDpmdW5jdGlvbihiKXtpZighYilyZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGg/dGhpcy5jaGlsZHJlblswXTpudWxsO1wiZnVuY3Rpb25cIiE9dHlwZW9mIGImJihiPWEoYikpO2Zvcih2YXIgZT0wLGY9dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZTxmOysrZSlpZihiKHRoaXMuY2hpbGRyZW5bZV0pKXJldHVybiB0aGlzLmNoaWxkcmVuW2VdO3JldHVybiBudWxsfSxnZXRIdG1sOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7dGhpcy53cml0ZUNoaWxkcmVuSHRtbChhKTtyZXR1cm4gYS5nZXRIdG1sKCl9LHNldEh0bWw6ZnVuY3Rpb24oYSl7YT10aGlzLmNoaWxkcmVuPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYSkuY2hpbGRyZW47Zm9yKHZhciBiPTAsZj1hLmxlbmd0aDtiPGY7KytiKWFbYl0ucGFyZW50PXRoaXN9LGdldE91dGVySHRtbDpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO1xudGhpcy53cml0ZUh0bWwoYSk7cmV0dXJuIGEuZ2V0SHRtbCgpfSxzcGxpdDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jaGlsZHJlbi5zcGxpY2UoYSx0aGlzLmNoaWxkcmVuLmxlbmd0aC1hKSxmPXRoaXMuY2xvbmUoKSxsPTA7bDxiLmxlbmd0aDsrK2wpYltsXS5wYXJlbnQ9ZjtmLmNoaWxkcmVuPWI7YlswXSYmKGJbMF0ucHJldmlvdXM9bnVsbCk7MDxhJiYodGhpcy5jaGlsZHJlblthLTFdLm5leHQ9bnVsbCk7dGhpcy5wYXJlbnQuYWRkKGYsdGhpcy5nZXRJbmRleCgpKzEpO3JldHVybiBmfSxmaW5kOmZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9ITEpO3ZhciBmPVtdLGw7Zm9yKGw9MDtsPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2wrKyl7dmFyIGQ9dGhpcy5jaGlsZHJlbltsXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiZhKGQpP2YucHVzaChkKTpcInN0cmluZ1wiPT10eXBlb2YgYSYmZC5uYW1lPT09YSYmZi5wdXNoKGQpO2ImJmQuZmluZCYmKGY9Zi5jb25jYXQoZC5maW5kKGEsXG5iKSkpfXJldHVybiBmfSxhZGRDbGFzczpmdW5jdGlvbihhKXtpZighdGhpcy5oYXNDbGFzcyhhKSl7dmFyIGI9dGhpcy5hdHRyaWJ1dGVzW1wiY2xhc3NcIl18fFwiXCI7dGhpcy5hdHRyaWJ1dGVzW1wiY2xhc3NcIl09YisoYj9cIiBcIjpcIlwiKSthfX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hdHRyaWJ1dGVzW1wiY2xhc3NcIl07YiYmKChiPUNLRURJVE9SLnRvb2xzLnRyaW0oYi5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoPzpcXFxccyt8XilcIithK1wiKD86XFxcXHMrfCQpXCIpLFwiIFwiKSkpP3RoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdPWI6ZGVsZXRlIHRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdKX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hdHRyaWJ1dGVzW1wiY2xhc3NcIl07cmV0dXJuIGI/KG5ldyBSZWdFeHAoXCIoPzpefFxcXFxzKVwiK2ErXCIoP1xceDNkXFxcXHN8JClcIikpLnRlc3QoYik6ITF9LGdldEZpbHRlckNvbnRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI9W107YXx8KGE9e29mZjohMSxcbm5vbkVkaXRhYmxlOiExLG5lc3RlZEVkaXRhYmxlOiExfSk7YS5vZmZ8fFwib2ZmXCIhPXRoaXMuYXR0cmlidXRlc1tcImRhdGEtY2tlLXByb2Nlc3NvclwiXXx8Yi5wdXNoKFwib2ZmXCIsITApO2Eubm9uRWRpdGFibGV8fFwiZmFsc2VcIiE9dGhpcy5hdHRyaWJ1dGVzLmNvbnRlbnRlZGl0YWJsZT9hLm5vbkVkaXRhYmxlJiYhYS5uZXN0ZWRFZGl0YWJsZSYmXCJ0cnVlXCI9PXRoaXMuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGUmJmIucHVzaChcIm5lc3RlZEVkaXRhYmxlXCIsITApOmIucHVzaChcIm5vbkVkaXRhYmxlXCIsITApO2lmKGIubGVuZ3RoKXthPUNLRURJVE9SLnRvb2xzLmNvcHkoYSk7Zm9yKHZhciBmPTA7ZjxiLmxlbmd0aDtmKz0yKWFbYltmXV09YltmKzFdfXJldHVybiBhfX0sITApfSgpLGZ1bmN0aW9uKCl7dmFyIGE9e30sZj0veyhbXn1dKyl9L2csYj0vKFtcXFxcJ10pL2csYz0vXFxuL2csZT0vXFxyL2c7Q0tFRElUT1IudGVtcGxhdGU9ZnVuY3Rpb24obSl7aWYoYVttXSl0aGlzLm91dHB1dD1cbmFbbV07ZWxzZXt2YXIgbD1tLnJlcGxhY2UoYixcIlxcXFwkMVwiKS5yZXBsYWNlKGMsXCJcXFxcblwiKS5yZXBsYWNlKGUsXCJcXFxcclwiKS5yZXBsYWNlKGYsZnVuY3Rpb24oYSxiKXtyZXR1cm5cIicsZGF0YVsnXCIrYitcIiddXFx4M2RcXHgzZHVuZGVmaW5lZD8ne1wiK2IrXCJ9JzpkYXRhWydcIitiK1wiJ10sJ1wifSk7dGhpcy5vdXRwdXQ9YVttXT1GdW5jdGlvbihcImRhdGFcIixcImJ1ZmZlclwiLFwicmV0dXJuIGJ1ZmZlcj9idWZmZXIucHVzaCgnXCIrbCtcIicpOlsnXCIrbCtcIiddLmpvaW4oJycpO1wiKX19fSgpLGRlbGV0ZSBDS0VESVRPUi5sb2FkRnVsbENvcmUsQ0tFRElUT1IuaW5zdGFuY2VzPXt9LENLRURJVE9SLmRvY3VtZW50PW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQoZG9jdW1lbnQpLENLRURJVE9SLmFkZD1mdW5jdGlvbihhKXtDS0VESVRPUi5pbnN0YW5jZXNbYS5uYW1lXT1hO2Eub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuY3VycmVudEluc3RhbmNlIT1hJiYoQ0tFRElUT1IuY3VycmVudEluc3RhbmNlPVxuYSxDS0VESVRPUi5maXJlKFwiY3VycmVudEluc3RhbmNlXCIpKX0pO2Eub24oXCJibHVyXCIsZnVuY3Rpb24oKXtDS0VESVRPUi5jdXJyZW50SW5zdGFuY2U9PWEmJihDS0VESVRPUi5jdXJyZW50SW5zdGFuY2U9bnVsbCxDS0VESVRPUi5maXJlKFwiY3VycmVudEluc3RhbmNlXCIpKX0pO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZVwiLG51bGwsYSl9LENLRURJVE9SLnJlbW92ZT1mdW5jdGlvbihhKXtkZWxldGUgQ0tFRElUT1IuaW5zdGFuY2VzW2EubmFtZV19LGZ1bmN0aW9uKCl7dmFyIGE9e307Q0tFRElUT1IuYWRkVGVtcGxhdGU9ZnVuY3Rpb24oZixiKXt2YXIgYz1hW2ZdO2lmKGMpcmV0dXJuIGM7Yz17bmFtZTpmLHNvdXJjZTpifTtDS0VESVRPUi5maXJlKFwidGVtcGxhdGVcIixjKTtyZXR1cm4gYVtmXT1uZXcgQ0tFRElUT1IudGVtcGxhdGUoYy5zb3VyY2UpfTtDS0VESVRPUi5nZXRUZW1wbGF0ZT1mdW5jdGlvbihmKXtyZXR1cm4gYVtmXX19KCksZnVuY3Rpb24oKXt2YXIgYT1bXTtDS0VESVRPUi5hZGRDc3M9XG5mdW5jdGlvbihmKXthLnB1c2goZil9O0NLRURJVE9SLmdldENzcz1mdW5jdGlvbigpe3JldHVybiBhLmpvaW4oXCJcXG5cIil9fSgpLENLRURJVE9SLm9uKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLmlzRW1wdHkodGhpcy5pbnN0YW5jZXMpJiZDS0VESVRPUi5maXJlKFwicmVzZXRcIil9KSxDS0VESVRPUi5UUklTVEFURV9PTj0xLENLRURJVE9SLlRSSVNUQVRFX09GRj0yLENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEPTAsZnVuY3Rpb24oKXtDS0VESVRPUi5pbmxpbmU9ZnVuY3Rpb24oYSxmKXtpZighQ0tFRElUT1IuZW52LmlzQ29tcGF0aWJsZSlyZXR1cm4gbnVsbDthPUNLRURJVE9SLmRvbS5lbGVtZW50LmdldChhKTtpZihhLmdldEVkaXRvcigpKXRocm93J1RoZSBlZGl0b3IgaW5zdGFuY2UgXCInK2EuZ2V0RWRpdG9yKCkubmFtZSsnXCIgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byB0aGUgcHJvdmlkZWQgZWxlbWVudC4nO3ZhciBiPW5ldyBDS0VESVRPUi5lZGl0b3IoZixcbmEsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSksYz1hLmlzKFwidGV4dGFyZWFcIik/YTpudWxsO2M/KGIuc2V0RGF0YShjLmdldFZhbHVlKCksbnVsbCwhMCksYT1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgY29udGVudGVkaXRhYmxlXFx4M2RcIicrISFiLnJlYWRPbmx5KydcIiBjbGFzc1xceDNkXCJja2VfdGV4dGFyZWFfaW5saW5lXCJcXHgzZScrYy5nZXRWYWx1ZSgpK1wiXFx4M2MvZGl2XFx4M2VcIixDS0VESVRPUi5kb2N1bWVudCksYS5pbnNlcnRBZnRlcihjKSxjLmhpZGUoKSxjLiQuZm9ybSYmYi5fYXR0YWNoVG9Gb3JtKCkpOmIuc2V0RGF0YShhLmdldEh0bWwoKSxudWxsLCEwKTtiLm9uKFwibG9hZGVkXCIsZnVuY3Rpb24oKXtiLmZpcmUoXCJ1aVJlYWR5XCIpO2IuZWRpdGFibGUoYSk7Yi5jb250YWluZXI9YTtiLnVpLmNvbnRlbnRzRWxlbWVudD1hO2Iuc2V0RGF0YShiLmdldERhdGEoMSkpO2IucmVzZXREaXJ0eSgpO2IuZmlyZShcImNvbnRlbnREb21cIik7XG5iLm1vZGU9XCJ3eXNpd3lnXCI7Yi5maXJlKFwibW9kZVwiKTtiLnN0YXR1cz1cInJlYWR5XCI7Yi5maXJlT25jZShcImluc3RhbmNlUmVhZHlcIik7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlUmVhZHlcIixudWxsLGIpfSxudWxsLG51bGwsMUU0KTtiLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7YyYmKGIuY29udGFpbmVyLmNsZWFyQ3VzdG9tRGF0YSgpLGIuY29udGFpbmVyLnJlbW92ZSgpLGMuc2hvdygpKTtiLmVsZW1lbnQuY2xlYXJDdXN0b21EYXRhKCk7ZGVsZXRlIGIuZWxlbWVudH0pO3JldHVybiBifTtDS0VESVRPUi5pbmxpbmVBbGw9ZnVuY3Rpb24oKXt2YXIgYSxmLGI7Zm9yKGIgaW4gQ0tFRElUT1IuZHRkLiRlZGl0YWJsZSlmb3IodmFyIGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhiKSxlPTAsbT1jLmNvdW50KCk7ZTxtO2UrKylhPWMuZ2V0SXRlbShlKSxcInRydWVcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJihmPXtlbGVtZW50OmEsY29uZmlnOnt9fSxcbiExIT09Q0tFRElUT1IuZmlyZShcImlubGluZVwiLGYpJiZDS0VESVRPUi5pbmxpbmUoYSxmLmNvbmZpZykpfTtDS0VESVRPUi5kb21SZWFkeShmdW5jdGlvbigpeyFDS0VESVRPUi5kaXNhYmxlQXV0b0lubGluZSYmQ0tFRElUT1IuaW5saW5lQWxsKCl9KX0oKSxDS0VESVRPUi5yZXBsYWNlQ2xhc3M9XCJja2VkaXRvclwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGUsbSxsKXtpZighQ0tFRElUT1IuZW52LmlzQ29tcGF0aWJsZSlyZXR1cm4gbnVsbDthPUNLRURJVE9SLmRvbS5lbGVtZW50LmdldChhKTtpZihhLmdldEVkaXRvcigpKXRocm93J1RoZSBlZGl0b3IgaW5zdGFuY2UgXCInK2EuZ2V0RWRpdG9yKCkubmFtZSsnXCIgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byB0aGUgcHJvdmlkZWQgZWxlbWVudC4nO3ZhciBkPW5ldyBDS0VESVRPUi5lZGl0b3IoZSxhLGwpO2w9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiYoYS5zZXRTdHlsZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKSxkLl8ucmVxdWlyZWQ9XG5hLmhhc0F0dHJpYnV0ZShcInJlcXVpcmVkXCIpLGEucmVtb3ZlQXR0cmlidXRlKFwicmVxdWlyZWRcIikpO20mJmQuc2V0RGF0YShtLG51bGwsITApO2Qub24oXCJsb2FkZWRcIixmdW5jdGlvbigpe2IoZCk7bD09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0UmJmQuY29uZmlnLmF1dG9VcGRhdGVFbGVtZW50JiZhLiQuZm9ybSYmZC5fYXR0YWNoVG9Gb3JtKCk7ZC5zZXRNb2RlKGQuY29uZmlnLnN0YXJ0dXBNb2RlLGZ1bmN0aW9uKCl7ZC5yZXNldERpcnR5KCk7ZC5zdGF0dXM9XCJyZWFkeVwiO2QuZmlyZU9uY2UoXCJpbnN0YW5jZVJlYWR5XCIpO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZVJlYWR5XCIsbnVsbCxkKX0pfSk7ZC5vbihcImRlc3Ryb3lcIixmKTtyZXR1cm4gZH1mdW5jdGlvbiBmKCl7dmFyIGE9dGhpcy5jb250YWluZXIsYj10aGlzLmVsZW1lbnQ7YSYmKGEuY2xlYXJDdXN0b21EYXRhKCksYS5yZW1vdmUoKSk7YiYmKGIuY2xlYXJDdXN0b21EYXRhKCksdGhpcy5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0UmJlxuKGIuc2hvdygpLHRoaXMuXy5yZXF1aXJlZCYmYi5zZXRBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiLFwicmVxdWlyZWRcIikpLGRlbGV0ZSB0aGlzLmVsZW1lbnQpfWZ1bmN0aW9uIGIoYSl7dmFyIGI9YS5uYW1lLGY9YS5lbGVtZW50LGw9YS5lbGVtZW50TW9kZSxkPWEuZmlyZShcInVpU3BhY2VcIix7c3BhY2U6XCJ0b3BcIixodG1sOlwiXCJ9KS5odG1sLGg9YS5maXJlKFwidWlTcGFjZVwiLHtzcGFjZTpcImJvdHRvbVwiLGh0bWw6XCJcIn0pLmh0bWwsaz1uZXcgQ0tFRElUT1IudGVtcGxhdGUoJ1xceDNje291dGVyRWx9IGlkXFx4M2RcImNrZV97bmFtZX1cIiBjbGFzc1xceDNkXCJ7aWR9IGNrZSBja2VfcmVzZXQgY2tlX2Nocm9tZSBja2VfZWRpdG9yX3tuYW1lfSBja2Vfe2xhbmdEaXJ9ICcrQ0tFRElUT1IuZW52LmNzc0NsYXNzKydcIiAgZGlyXFx4M2RcIntsYW5nRGlyfVwiIGxhbmdcXHgzZFwie2xhbmdDb2RlfVwiIHJvbGVcXHgzZFwiYXBwbGljYXRpb25cIicrKGEudGl0bGU/JyBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiY2tlX3tuYW1lfV9hcmlhbGJsXCInOlxuXCJcIikrXCJcXHgzZVwiKyhhLnRpdGxlPydcXHgzY3NwYW4gaWRcXHgzZFwiY2tlX3tuYW1lfV9hcmlhbGJsXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZXt2b2ljZUxhYmVsfVxceDNjL3NwYW5cXHgzZSc6XCJcIikrJ1xceDNje291dGVyRWx9IGNsYXNzXFx4M2RcImNrZV9pbm5lciBja2VfcmVzZXRcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2V7dG9wSHRtbH1cXHgzY3tvdXRlckVsfSBpZFxceDNkXCJ7Y29udGVudElkfVwiIGNsYXNzXFx4M2RcImNrZV9jb250ZW50cyBja2VfcmVzZXRcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzYy97b3V0ZXJFbH1cXHgzZXtib3R0b21IdG1sfVxceDNjL3tvdXRlckVsfVxceDNlXFx4M2Mve291dGVyRWx9XFx4M2UnKSxiPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGsub3V0cHV0KHtpZDphLmlkLG5hbWU6YixsYW5nRGlyOmEubGFuZy5kaXIsbGFuZ0NvZGU6YS5sYW5nQ29kZSx2b2ljZUxhYmVsOmEudGl0bGUsdG9wSHRtbDpkPydcXHgzY3NwYW4gaWRcXHgzZFwiJytcbmEudWkuc3BhY2VJZChcInRvcFwiKSsnXCIgY2xhc3NcXHgzZFwiY2tlX3RvcCBja2VfcmVzZXRfYWxsXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBzdHlsZVxceDNkXCJoZWlnaHQ6YXV0b1wiXFx4M2UnK2QrXCJcXHgzYy9zcGFuXFx4M2VcIjpcIlwiLGNvbnRlbnRJZDphLnVpLnNwYWNlSWQoXCJjb250ZW50c1wiKSxib3R0b21IdG1sOmg/J1xceDNjc3BhbiBpZFxceDNkXCInK2EudWkuc3BhY2VJZChcImJvdHRvbVwiKSsnXCIgY2xhc3NcXHgzZFwiY2tlX2JvdHRvbSBja2VfcmVzZXRfYWxsXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlJytoK1wiXFx4M2Mvc3BhblxceDNlXCI6XCJcIixvdXRlckVsOkNLRURJVE9SLmVudi5pZT9cInNwYW5cIjpcImRpdlwifSkpO2w9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFPyhmLmhpZGUoKSxiLmluc2VydEFmdGVyKGYpKTpmLmFwcGVuZChiKTthLmNvbnRhaW5lcj1iO2EudWkuY29udGVudHNFbGVtZW50PWEudWkuc3BhY2UoXCJjb250ZW50c1wiKTtkJiZhLnVpLnNwYWNlKFwidG9wXCIpLnVuc2VsZWN0YWJsZSgpO1xuaCYmYS51aS5zcGFjZShcImJvdHRvbVwiKS51bnNlbGVjdGFibGUoKTtmPWEuY29uZmlnLndpZHRoO2w9YS5jb25maWcuaGVpZ2h0O2YmJmIuc2V0U3R5bGUoXCJ3aWR0aFwiLENLRURJVE9SLnRvb2xzLmNzc0xlbmd0aChmKSk7bCYmYS51aS5zcGFjZShcImNvbnRlbnRzXCIpLnNldFN0eWxlKFwiaGVpZ2h0XCIsQ0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoKGwpKTtiLmRpc2FibGVDb250ZXh0TWVudSgpO0NLRURJVE9SLmVudi53ZWJraXQmJmIub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7YS5mb2N1cygpfSk7YS5maXJlT25jZShcInVpUmVhZHlcIil9Q0tFRElUT1IucmVwbGFjZT1mdW5jdGlvbihiLGUpe3JldHVybiBhKGIsZSxudWxsLENLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFKX07Q0tFRElUT1IuYXBwZW5kVG89ZnVuY3Rpb24oYixlLGYpe3JldHVybiBhKGIsZSxmLENLRURJVE9SLkVMRU1FTlRfTU9ERV9BUFBFTkRUTyl9O0NLRURJVE9SLnJlcGxhY2VBbGw9ZnVuY3Rpb24oKXtmb3IodmFyIGE9XG5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRleHRhcmVhXCIpLGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGY9bnVsbCxsPWFbYl07aWYobC5uYW1lfHxsLmlkKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYXJndW1lbnRzWzBdKXtpZighKG5ldyBSZWdFeHAoXCIoPzpefFxcXFxzKVwiK2FyZ3VtZW50c1swXStcIig/OiR8XFxcXHMpXCIpKS50ZXN0KGwuY2xhc3NOYW1lKSljb250aW51ZX1lbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1swXSYmKGY9e30sITE9PT1hcmd1bWVudHNbMF0obCxmKSkpY29udGludWU7dGhpcy5yZXBsYWNlKGwsZil9fX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5hZGRNb2RlPWZ1bmN0aW9uKGEsYil7KHRoaXMuXy5tb2Rlc3x8KHRoaXMuXy5tb2Rlcz17fSkpW2FdPWJ9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuc2V0TW9kZT1mdW5jdGlvbihhLGIpe3ZhciBmPXRoaXMsbD10aGlzLl8ubW9kZXM7aWYoYSE9Zi5tb2RlJiZsJiZsW2FdKXtmLmZpcmUoXCJiZWZvcmVTZXRNb2RlXCIsXG5hKTtpZihmLm1vZGUpe3ZhciBkPWYuY2hlY2tEaXJ0eSgpLGw9Zi5fLnByZXZpb3VzTW9kZURhdGEsaCxrPTA7Zi5maXJlKFwiYmVmb3JlTW9kZVVubG9hZFwiKTtmLmVkaXRhYmxlKDApO2YuXy5wcmV2aW91c01vZGU9Zi5tb2RlO2YuXy5wcmV2aW91c01vZGVEYXRhPWg9Zi5nZXREYXRhKDEpO1wic291cmNlXCI9PWYubW9kZSYmbD09aCYmKGYuZmlyZShcImxvY2tTbmFwc2hvdFwiLHtmb3JjZVVwZGF0ZTohMH0pLGs9MSk7Zi51aS5zcGFjZShcImNvbnRlbnRzXCIpLnNldEh0bWwoXCJcIik7Zi5tb2RlPVwiXCJ9ZWxzZSBmLl8ucHJldmlvdXNNb2RlRGF0YT1mLmdldERhdGEoMSk7dGhpcy5fLm1vZGVzW2FdKGZ1bmN0aW9uKCl7Zi5tb2RlPWE7dm9pZCAwIT09ZCYmIWQmJmYucmVzZXREaXJ0eSgpO2s/Zi5maXJlKFwidW5sb2NrU25hcHNob3RcIik6XCJ3eXNpd3lnXCI9PWEmJmYuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zi5maXJlKFwibW9kZVwiKTtiJiZiLmNhbGwoZil9LFxuMCl9KX19O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGEsYixmLGwpe3ZhciBkPXRoaXMuY29udGFpbmVyLGg9dGhpcy51aS5zcGFjZShcImNvbnRlbnRzXCIpLGs9Q0tFRElUT1IuZW52LndlYmtpdCYmdGhpcy5kb2N1bWVudCYmdGhpcy5kb2N1bWVudC5nZXRXaW5kb3coKS4kLmZyYW1lRWxlbWVudDtsPWw/dGhpcy5jb250YWluZXIuZ2V0Rmlyc3QoZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0NsYXNzKFwiY2tlX2lubmVyXCIpfSk6ZDtsLnNldFNpemUoXCJ3aWR0aFwiLGEsITApO2smJihrLnN0eWxlLndpZHRoPVwiMSVcIik7dmFyIGc9KGwuJC5vZmZzZXRIZWlnaHR8fDApLShoLiQuY2xpZW50SGVpZ2h0fHwwKSxkPU1hdGgubWF4KGItKGY/MDpnKSwwKTtiPWY/YitnOmI7aC5zZXRTdHlsZShcImhlaWdodFwiLGQrXCJweFwiKTtrJiYoay5zdHlsZS53aWR0aD1cIjEwMCVcIik7dGhpcy5maXJlKFwicmVzaXplXCIse291dGVySGVpZ2h0OmIsXG5jb250ZW50c0hlaWdodDpkLG91dGVyV2lkdGg6YXx8bC5nZXRTaXplKFwid2lkdGhcIil9KX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5nZXRSZXNpemFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy51aS5zcGFjZShcImNvbnRlbnRzXCIpOnRoaXMuY29udGFpbmVyfTtDS0VESVRPUi5kb21SZWFkeShmdW5jdGlvbigpe0NLRURJVE9SLnJlcGxhY2VDbGFzcyYmQ0tFRElUT1IucmVwbGFjZUFsbChDS0VESVRPUi5yZXBsYWNlQ2xhc3MpfSl9KCksQ0tFRElUT1IuY29uZmlnLnN0YXJ0dXBNb2RlPVwid3lzaXd5Z1wiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt2YXIgYj1hLmVkaXRvcixkPWEuZGF0YS5wYXRoLGU9ZC5ibG9ja0xpbWl0LGc9YS5kYXRhLnNlbGVjdGlvbixrPWcuZ2V0UmFuZ2VzKClbMF0saDtpZihDS0VESVRPUi5lbnYuZ2Vja298fENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXIpaWYoZz1mKGcsZCkpZy5hcHBlbmRCb2d1cygpLGg9Q0tFRElUT1IuZW52LmllO1xubChiLGQuYmxvY2ssZSkmJmsuY29sbGFwc2VkJiYhay5nZXRDb21tb25BbmNlc3RvcigpLmlzUmVhZE9ubHkoKSYmKGQ9ay5jbG9uZSgpLGQuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTKSxlPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGQpLGUuZ3VhcmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIWMoYSl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9DT01NRU5UfHxhLmlzUmVhZE9ubHkoKX0sIWUuY2hlY2tGb3J3YXJkKCl8fGQuY2hlY2tTdGFydE9mQmxvY2soKSYmZC5jaGVja0VuZE9mQmxvY2soKSkmJihiPWsuZml4QmxvY2soITAsYi5hY3RpdmVFbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiKSxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8KGI9Yi5nZXRGaXJzdChjKSkmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZDS0VESVRPUi50b29scy50cmltKGIuZ2V0VGV4dCgpKS5tYXRjaCgvXig/OiZuYnNwO3xcXHhhMCkkLykmJmIucmVtb3ZlKCksXG5oPTEsYS5jYW5jZWwoKSk7aCYmay5zZWxlY3QoKX1mdW5jdGlvbiBmKGEsYil7aWYoYS5pc0Zha2UpcmV0dXJuIDA7dmFyIGQ9Yi5ibG9ja3x8Yi5ibG9ja0xpbWl0LGU9ZCYmZC5nZXRMYXN0KGMpO2lmKCEoIWR8fCFkLmlzQmxvY2tCb3VuZGFyeSgpfHxlJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZS5pc0Jsb2NrQm91bmRhcnkoKXx8ZC5pcyhcInByZVwiKXx8ZC5nZXRCb2d1cygpKSlyZXR1cm4gZH1mdW5jdGlvbiBiKGEpe3ZhciBiPWEuZGF0YS5nZXRUYXJnZXQoKTtiLmlzKFwiaW5wdXRcIikmJihiPWIuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSxcInN1Ym1pdFwiIT1iJiZcInJlc2V0XCIhPWJ8fGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX1mdW5jdGlvbiBjKGEpe3JldHVybiBnKGEpJiZuKGEpfWZ1bmN0aW9uIGUoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9Yy5kYXRhLiQudG9FbGVtZW50fHxjLmRhdGEuJC5mcm9tRWxlbWVudHx8Yy5kYXRhLiQucmVsYXRlZFRhcmdldDtcbihkPWQmJmQubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZCk6bnVsbCkmJihiLmVxdWFscyhkKXx8Yi5jb250YWlucyhkKSl8fGEuY2FsbCh0aGlzLGMpfX1mdW5jdGlvbiBtKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZSl7ZSYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaXMoZykmJihkPWIpO2lmKCEoZXx8IWMoYil8fGEmJnAoYikpKXJldHVybiExfX12YXIgZCxlPWEuZ2V0UmFuZ2VzKClbMF07YT1hLnJvb3Q7dmFyIGc9e3RhYmxlOjEsdWw6MSxvbDoxLGRsOjF9O2lmKGUuc3RhcnRQYXRoKCkuY29udGFpbnMoZykpe3ZhciBmPWUuY2xvbmUoKTtmLmNvbGxhcHNlKDEpO2Yuc2V0U3RhcnRBdChhLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTthPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGYpO2EuZ3VhcmQ9YigpO2EuY2hlY2tCYWNrd2FyZCgpO2lmKGQpcmV0dXJuIGY9ZS5jbG9uZSgpLFxuZi5jb2xsYXBzZSgpLGYuc2V0RW5kQXQoZCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpLGE9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZiksYS5ndWFyZD1iKCEwKSxkPSExLGEuY2hlY2tGb3J3YXJkKCksZH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBsKGEsYixjKXtyZXR1cm4hMSE9PWEuY29uZmlnLmF1dG9QYXJhZ3JhcGgmJmEuYWN0aXZlRW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmKGEuZWRpdGFibGUoKS5lcXVhbHMoYykmJiFifHxiJiZcInRydWVcIj09Yi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEuYWN0aXZlRW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmITEhPT1hLmNvbmZpZy5hdXRvUGFyYWdyYXBoP2EuYWN0aXZlRW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIjohMX1mdW5jdGlvbiBoKGEpe3ZhciBiPWEuZWRpdG9yO2IuZ2V0U2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKTtcbnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmZpcmUoXCJzYXZlU25hcHNob3RcIil9LDApfWZ1bmN0aW9uIGsoYSxiLGMpe3ZhciBkPWEuZ2V0Q29tbW9uQW5jZXN0b3IoYik7Zm9yKGI9YT1jP2I6YTsoYT1hLmdldFBhcmVudCgpKSYmIWQuZXF1YWxzKGEpJiYxPT1hLmdldENoaWxkQ291bnQoKTspYj1hO2IucmVtb3ZlKCl9dmFyIGcsbixxLHAsdCx2LHIsdSxCO0NLRURJVE9SLmVkaXRhYmxlPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLmRvbS5lbGVtZW50LCQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2UoYi4kfHxiKTt0aGlzLmVkaXRvcj1hO3RoaXMuc3RhdHVzPVwidW5sb2FkZWRcIjt0aGlzLmhhc0ZvY3VzPSExO3RoaXMuc2V0dXAoKX0scHJvdG86e2ZvY3VzOmZ1bmN0aW9uKCl7dmFyIGE7aWYoQ0tFRElUT1IuZW52LndlYmtpdCYmIXRoaXMuaGFzRm9jdXMmJihhPXRoaXMuZWRpdG9yLl8ucHJldmlvdXNBY3RpdmV8fHRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRBY3RpdmUoKSxcbnRoaXMuY29udGFpbnMoYSkpKXthLmZvY3VzKCk7cmV0dXJufUNLRURJVE9SLmVudi5lZGdlJiYxNDxDS0VESVRPUi5lbnYudmVyc2lvbiYmIXRoaXMuaGFzRm9jdXMmJnRoaXMuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpJiYodGhpcy5lZGl0b3IuXy5wcmV2aW91c1Njcm9sbFRvcD10aGlzLiQuc2Nyb2xsVG9wKTt0cnl7IUNLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LmVkZ2UmJjE0PENLRURJVE9SLmVudi52ZXJzaW9ufHwhdGhpcy5nZXREb2N1bWVudCgpLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudCk/dGhpcy4kLmZvY3VzKCk6dGhpcy4kLnNldEFjdGl2ZSgpfWNhdGNoKGIpe2lmKCFDS0VESVRPUi5lbnYuaWUpdGhyb3cgYjt9Q0tFRElUT1IuZW52LnNhZmFyaSYmIXRoaXMuaXNJbmxpbmUoKSYmKGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCksYS5lcXVhbHModGhpcy5nZXRXaW5kb3coKS5nZXRGcmFtZSgpKXx8dGhpcy5nZXRXaW5kb3coKS5mb2N1cygpKX0sXG5vbjpmdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtDS0VESVRPUi5lbnYuaWUmJi9eZm9jdXN8Ymx1ciQvLmV4ZWMoYSkmJihhPVwiZm9jdXNcIj09YT9cImZvY3VzaW5cIjpcImZvY3Vzb3V0XCIsYj1lKGIsdGhpcyksY1swXT1hLGNbMV09Yik7cmV0dXJuIENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5vbi5hcHBseSh0aGlzLGMpfSxhdHRhY2hMaXN0ZW5lcjpmdW5jdGlvbihhKXshdGhpcy5fLmxpc3RlbmVycyYmKHRoaXMuXy5saXN0ZW5lcnM9W10pO3ZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxiPWEub24uYXBwbHkoYSxiKTt0aGlzLl8ubGlzdGVuZXJzLnB1c2goYik7cmV0dXJuIGJ9LGNsZWFyTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmxpc3RlbmVyczt0cnl7Zm9yKDthLmxlbmd0aDspYS5wb3AoKS5yZW1vdmVMaXN0ZW5lcigpfWNhdGNoKGIpe319LHJlc3RvcmVBdHRyczpmdW5jdGlvbigpe3ZhciBhPVxudGhpcy5fLmF0dHJDaGFuZ2VzLGIsYztmb3IoYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJihiPWFbY10sbnVsbCE9PWI/dGhpcy5zZXRBdHRyaWJ1dGUoYyxiKTp0aGlzLnJlbW92ZUF0dHJpYnV0ZShjKSl9LGF0dGFjaENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0Q3VzdG9tRGF0YShcImNsYXNzZXNcIik7dGhpcy5oYXNDbGFzcyhhKXx8KCFiJiYoYj1bXSksYi5wdXNoKGEpLHRoaXMuc2V0Q3VzdG9tRGF0YShcImNsYXNzZXNcIixiKSx0aGlzLmFkZENsYXNzKGEpKX0sY2hhbmdlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0QXR0cmlidXRlKGEpO2IhPT1jJiYoIXRoaXMuXy5hdHRyQ2hhbmdlcyYmKHRoaXMuXy5hdHRyQ2hhbmdlcz17fSksYSBpbiB0aGlzLl8uYXR0ckNoYW5nZXN8fCh0aGlzLl8uYXR0ckNoYW5nZXNbYV09YyksdGhpcy5zZXRBdHRyaWJ1dGUoYSxiKSl9LGluc2VydFRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3IuZm9jdXMoKTt0aGlzLmluc2VydEh0bWwodGhpcy50cmFuc2Zvcm1QbGFpblRleHRUb0h0bWwoYSksXG5cInRleHRcIil9LHRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKS5oYXNBc2NlbmRhbnQoXCJwcmVcIiwhMCk/Q0tFRElUT1IuRU5URVJfQlI6dGhpcy5lZGl0b3IuYWN0aXZlRW50ZXJNb2RlO3JldHVybiBDS0VESVRPUi50b29scy50cmFuc2Zvcm1QbGFpblRleHRUb0h0bWwoYSxiKX0saW5zZXJ0SHRtbDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5lZGl0b3I7ZC5mb2N1cygpO2QuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtjfHwoYz1kLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdKTt2KHRoaXMsYnx8XCJodG1sXCIsYSxjKTtjLnNlbGVjdCgpO2godGhpcyk7dGhpcy5lZGl0b3IuZmlyZShcImFmdGVySW5zZXJ0SHRtbFwiLHt9KX0saW5zZXJ0SHRtbEludG9SYW5nZTpmdW5jdGlvbihhLGIsYyl7dih0aGlzLGN8fFwiaHRtbFwiLGEsYik7dGhpcy5lZGl0b3IuZmlyZShcImFmdGVySW5zZXJ0SHRtbFwiLFxue2ludG9SYW5nZTpifSl9LGluc2VydEVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLmVkaXRvcjtkLmZvY3VzKCk7ZC5maXJlKFwic2F2ZVNuYXBzaG90XCIpO3ZhciBlPWQuYWN0aXZlRW50ZXJNb2RlLGQ9ZC5nZXRTZWxlY3Rpb24oKSxnPWEuZ2V0TmFtZSgpLGc9Q0tFRElUT1IuZHRkLiRibG9ja1tnXTtifHwoYj1kLmdldFJhbmdlcygpWzBdKTt0aGlzLmluc2VydEVsZW1lbnRJbnRvUmFuZ2UoYSxiKSYmKGIubW92ZVRvUG9zaXRpb24oYSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpLGcmJigoZz1hLmdldE5leHQoZnVuY3Rpb24oYSl7cmV0dXJuIGMoYSkmJiFwKGEpfSkpJiZnLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZy5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKT9nLmdldER0ZCgpW1wiI1wiXT9iLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoZyk6Yi5tb3ZlVG9FbGVtZW50RWRpdEVuZChhKTpnfHxlPT1DS0VESVRPUi5FTlRFUl9CUnx8KGc9Yi5maXhCbG9jayghMCxcbmU9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiKSxiLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoZykpKSk7ZC5zZWxlY3RSYW5nZXMoW2JdKTtoKHRoaXMpfSxpbnNlcnRFbGVtZW50SW50b1NlbGVjdGlvbjpmdW5jdGlvbihhKXt0aGlzLmluc2VydEVsZW1lbnQoYSl9LGluc2VydEVsZW1lbnRJbnRvUmFuZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmVkaXRvcixkPWMuY29uZmlnLmVudGVyTW9kZSxlPWEuZ2V0TmFtZSgpLGc9Q0tFRElUT1IuZHRkLiRibG9ja1tlXTtpZihiLmNoZWNrUmVhZE9ubHkoKSlyZXR1cm4hMTtiLmRlbGV0ZUNvbnRlbnRzKDEpO2Iuc3RhcnRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLnN0YXJ0Q29udGFpbmVyLmlzKHt0cjoxLHRhYmxlOjEsdGJvZHk6MSx0aGVhZDoxLHRmb290OjF9KSYmcihiKTt2YXIgZixrO2lmKGcpZm9yKDsoZj1iLmdldENvbW1vbkFuY2VzdG9yKDAsMSkpJiYoaz1DS0VESVRPUi5kdGRbZi5nZXROYW1lKCldKSYmXG4oIWt8fCFrW2VdKTspZi5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuc3Bhbj9iLnNwbGl0RWxlbWVudChmKTpiLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmIuY2hlY2tFbmRPZkJsb2NrKCk/KGIuc2V0U3RhcnRCZWZvcmUoZiksYi5jb2xsYXBzZSghMCksZi5yZW1vdmUoKSk6Yi5zcGxpdEJsb2NrKGQ9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiLGMuZWRpdGFibGUoKSk7Yi5pbnNlcnROb2RlKGEpO3JldHVybiEwfSxzZXREYXRhOmZ1bmN0aW9uKGEsYil7Ynx8KGE9dGhpcy5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0h0bWwoYSkpO3RoaXMuc2V0SHRtbChhKTt0aGlzLmZpeEluaXRpYWxTZWxlY3Rpb24oKTtcInVubG9hZGVkXCI9PXRoaXMuc3RhdHVzJiYodGhpcy5zdGF0dXM9XCJyZWFkeVwiKTt0aGlzLmVkaXRvci5maXJlKFwiZGF0YVJlYWR5XCIpfSxnZXREYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0SHRtbCgpO2F8fChiPXRoaXMuZWRpdG9yLmRhdGFQcm9jZXNzb3IudG9EYXRhRm9ybWF0KGIpKTtcbnJldHVybiBifSxzZXRSZWFkT25seTpmdW5jdGlvbihhKXt0aGlzLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCFhKX0sZGV0YWNoOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVDbGFzcyhcImNrZV9lZGl0YWJsZVwiKTt0aGlzLnN0YXR1cz1cImRldGFjaGVkXCI7dmFyIGE9dGhpcy5lZGl0b3I7dGhpcy5fLmRldGFjaCgpO2RlbGV0ZSBhLmRvY3VtZW50O2RlbGV0ZSBhLndpbmRvd30saXNJbmxpbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREb2N1bWVudCgpLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudCl9LGZpeEluaXRpYWxTZWxlY3Rpb246ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGI9Yy5nZXREb2N1bWVudCgpLiQsZD1iLmdldFNlbGVjdGlvbigpLGU7YTppZihkLmFuY2hvck5vZGUmJmQuYW5jaG9yTm9kZT09Yy4kKWU9ITA7ZWxzZXtpZihDS0VESVRPUi5lbnYud2Via2l0JiYoZT1jLmdldERvY3VtZW50KCkuZ2V0QWN0aXZlKCkpJiZlLmVxdWFscyhjKSYmIWQuYW5jaG9yTm9kZSl7ZT1cbiEwO2JyZWFrIGF9ZT12b2lkIDB9ZSYmKGU9bmV3IENLRURJVE9SLmRvbS5yYW5nZShjKSxlLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYyksYj1iLmNyZWF0ZVJhbmdlKCksYi5zZXRTdGFydChlLnN0YXJ0Q29udGFpbmVyLiQsZS5zdGFydE9mZnNldCksYi5jb2xsYXBzZSghMCksZC5yZW1vdmVBbGxSYW5nZXMoKSxkLmFkZFJhbmdlKGIpKX1mdW5jdGlvbiBiKCl7dmFyIGE9Yy5nZXREb2N1bWVudCgpLiQsZD1hLnNlbGVjdGlvbixlPWMuZ2V0RG9jdW1lbnQoKS5nZXRBY3RpdmUoKTtcIk5vbmVcIj09ZC50eXBlJiZlLmVxdWFscyhjKSYmKGQ9bmV3IENLRURJVE9SLmRvbS5yYW5nZShjKSxhPWEuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKSxkLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYyksZD1kLnN0YXJ0Q29udGFpbmVyLGQudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZD1kLmdldFBhcmVudCgpKSxhLm1vdmVUb0VsZW1lbnRUZXh0KGQuJCksYS5jb2xsYXBzZSghMCksYS5zZWxlY3QoKSl9XG52YXIgYz10aGlzO2lmKENLRURJVE9SLmVudi5pZSYmKDk+Q0tFRElUT1IuZW52LnZlcnNpb258fENLRURJVE9SLmVudi5xdWlya3MpKXRoaXMuaGFzRm9jdXMmJih0aGlzLmZvY3VzKCksYigpKTtlbHNlIGlmKHRoaXMuaGFzRm9jdXMpdGhpcy5mb2N1cygpLGEoKTtlbHNlIHRoaXMub25jZShcImZvY3VzXCIsZnVuY3Rpb24oKXthKCl9LG51bGwsbnVsbCwtOTk5KX0sZ2V0SHRtbEZyb21SYW5nZTpmdW5jdGlvbihhKXtpZihhLmNvbGxhcHNlZClyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGEuZG9jdW1lbnQpO2E9e2RvYzp0aGlzLmdldERvY3VtZW50KCkscmFuZ2U6YS5jbG9uZSgpfTt1LmVvbC5kZXRlY3QoYSx0aGlzKTt1LmJvZ3VzLmV4Y2x1ZGUoYSk7dS5jZWxsLnNocmluayhhKTthLmZyYWdtZW50PWEucmFuZ2UuY2xvbmVDb250ZW50cygpO3UudHJlZS5yZWJ1aWxkKGEsdGhpcyk7dS5lb2wuZml4KGEsdGhpcyk7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChhLmZyYWdtZW50LiQpfSxcbmV4dHJhY3RIdG1sRnJvbVJhbmdlOmZ1bmN0aW9uKGEsYil7dmFyIGM9QixkPXtyYW5nZTphLGRvYzphLmRvY3VtZW50fSxlPXRoaXMuZ2V0SHRtbEZyb21SYW5nZShhKTtpZihhLmNvbGxhcHNlZClyZXR1cm4gYS5vcHRpbWl6ZSgpLGU7YS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FLDEpO2MudGFibGUuZGV0ZWN0UHVyZ2UoZCk7ZC5ib29rbWFyaz1hLmNyZWF0ZUJvb2ttYXJrKCk7ZGVsZXRlIGQucmFuZ2U7dmFyIGc9dGhpcy5lZGl0b3IuY3JlYXRlUmFuZ2UoKTtnLm1vdmVUb1Bvc2l0aW9uKGQuYm9va21hcmsuc3RhcnROb2RlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7ZC50YXJnZXRCb29rbWFyaz1nLmNyZWF0ZUJvb2ttYXJrKCk7Yy5saXN0LmRldGVjdE1lcmdlKGQsdGhpcyk7Yy50YWJsZS5kZXRlY3RSYW5nZXMoZCx0aGlzKTtjLmJsb2NrLmRldGVjdE1lcmdlKGQsdGhpcyk7ZC50YWJsZUNvbnRlbnRzUmFuZ2VzPyhjLnRhYmxlLmRlbGV0ZVJhbmdlcyhkKSxcbmEubW92ZVRvQm9va21hcmsoZC5ib29rbWFyayksZC5yYW5nZT1hKTooYS5tb3ZlVG9Cb29rbWFyayhkLmJvb2ttYXJrKSxkLnJhbmdlPWEsYS5leHRyYWN0Q29udGVudHMoYy5kZXRlY3RFeHRyYWN0TWVyZ2UoZCkpKTthLm1vdmVUb0Jvb2ttYXJrKGQudGFyZ2V0Qm9va21hcmspO2Eub3B0aW1pemUoKTtjLmZpeFVuZWRpdGFibGVSYW5nZVBvc2l0aW9uKGEpO2MubGlzdC5tZXJnZShkLHRoaXMpO2MudGFibGUucHVyZ2UoZCx0aGlzKTtjLmJsb2NrLm1lcmdlKGQsdGhpcyk7aWYoYil7Yz1hLnN0YXJ0UGF0aCgpO2lmKGQ9YS5jaGVja1N0YXJ0T2ZCbG9jaygpJiZhLmNoZWNrRW5kT2ZCbG9jaygpJiZjLmJsb2NrJiYhYS5yb290LmVxdWFscyhjLmJsb2NrKSl7YTp7dmFyIGQ9Yy5ibG9jay5nZXRFbGVtZW50c0J5VGFnKFwic3BhblwiKSxnPTAsZjtpZihkKWZvcig7Zj1kLmdldEl0ZW0oZysrKTspaWYoIW4oZikpe2Q9ITA7YnJlYWsgYX1kPSExfWQ9IWR9ZCYmKGEubW92ZVRvUG9zaXRpb24oYy5ibG9jayxcbkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksYy5ibG9jay5yZW1vdmUoKSl9ZWxzZSBjLmF1dG9QYXJhZ3JhcGgodGhpcy5lZGl0b3IsYSkscShhLnN0YXJ0Q29udGFpbmVyKSYmYS5zdGFydENvbnRhaW5lci5hcHBlbmRCb2d1cygpO2Euc3RhcnRDb250YWluZXIubWVyZ2VTaWJsaW5ncygpO3JldHVybiBlfSxzZXR1cDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImJlZm9yZUdldERhdGFcIixmdW5jdGlvbigpe3ZhciBiPXRoaXMuZ2V0RGF0YSgpO3RoaXMuaXMoXCJ0ZXh0YXJlYVwiKXx8ITEhPT1hLmNvbmZpZy5pZ25vcmVFbXB0eVBhcmFncmFwaCYmKGI9Yi5yZXBsYWNlKHQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYn0pKTthLnNldERhdGEoYixudWxsLDEpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJnZXRTbmFwc2hvdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YT10aGlzLmdldERhdGEoMSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcblwiYWZ0ZXJTZXREYXRhXCIsZnVuY3Rpb24oKXt0aGlzLnNldERhdGEoYS5nZXREYXRhKDEpKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwibG9hZFNuYXBzaG90XCIsZnVuY3Rpb24oYSl7dGhpcy5zZXREYXRhKGEuZGF0YSwxKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiYmVmb3JlRm9jdXNcIixmdW5jdGlvbigpe3ZhciBiPWEuZ2V0U2VsZWN0aW9uKCk7KGI9YiYmYi5nZXROYXRpdmUoKSkmJlwiQ29udHJvbFwiPT1iLnR5cGV8fHRoaXMuZm9jdXMoKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiaW5zZXJ0SHRtbFwiLGZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0SHRtbChhLmRhdGEuZGF0YVZhbHVlLGEuZGF0YS5tb2RlLGEuZGF0YS5yYW5nZSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImluc2VydEVsZW1lbnRcIixmdW5jdGlvbihhKXt0aGlzLmluc2VydEVsZW1lbnQoYS5kYXRhKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiaW5zZXJ0VGV4dFwiLFxuZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRUZXh0KGEuZGF0YSl9LHRoaXMpO3RoaXMuc2V0UmVhZE9ubHkoYS5yZWFkT25seSk7dGhpcy5hdHRhY2hDbGFzcyhcImNrZV9lZGl0YWJsZVwiKTthLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP3RoaXMuYXR0YWNoQ2xhc3MoXCJja2VfZWRpdGFibGVfaW5saW5lXCIpOmEuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiZhLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE98fHRoaXMuYXR0YWNoQ2xhc3MoXCJja2VfZWRpdGFibGVfdGhlbWVkXCIpO3RoaXMuYXR0YWNoQ2xhc3MoXCJja2VfY29udGVudHNfXCIrYS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9uKTthLmtleXN0cm9rZUhhbmRsZXIuYmxvY2tlZEtleXN0cm9rZXNbOF09K2EucmVhZE9ubHk7YS5rZXlzdHJva2VIYW5kbGVyLmF0dGFjaCh0aGlzKTt0aGlzLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7dGhpcy5oYXNGb2N1cz1cbiExfSxudWxsLG51bGwsLTEpO3RoaXMub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7dGhpcy5oYXNGb2N1cz0hMH0sbnVsbCxudWxsLC0xKTtpZihDS0VESVRPUi5lbnYud2Via2l0KXRoaXMub24oXCJzY3JvbGxcIixmdW5jdGlvbigpe2EuXy5wcmV2aW91c1Njcm9sbFRvcD1hLmVkaXRhYmxlKCkuJC5zY3JvbGxUb3B9LG51bGwsbnVsbCwtMSk7aWYoQ0tFRElUT1IuZW52LmVkZ2UmJjE0PENLRURJVE9SLmVudi52ZXJzaW9uKXt2YXIgZD1mdW5jdGlvbigpe3ZhciBiPWEuZWRpdGFibGUoKTtudWxsIT1hLl8ucHJldmlvdXNTY3JvbGxUb3AmJmIuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpJiYoYi4kLnNjcm9sbFRvcD1hLl8ucHJldmlvdXNTY3JvbGxUb3AsYS5fLnByZXZpb3VzU2Nyb2xsVG9wPW51bGwsdGhpcy5yZW1vdmVMaXN0ZW5lcihcInNjcm9sbFwiLGQpKX07dGhpcy5vbihcInNjcm9sbFwiLGQpfWEuZm9jdXNNYW5hZ2VyLmFkZCh0aGlzKTt0aGlzLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKSkmJlxuKHRoaXMuaGFzRm9jdXM9ITAsYS5vbmNlKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7YS5mb2N1c01hbmFnZXIuZm9jdXModGhpcyl9LHRoaXMpKTt0aGlzLmlzSW5saW5lKCkmJnRoaXMuY2hhbmdlQXR0cihcInRhYmluZGV4XCIsYS50YWJJbmRleCk7aWYoIXRoaXMuaXMoXCJ0ZXh0YXJlYVwiKSl7YS5kb2N1bWVudD10aGlzLmdldERvY3VtZW50KCk7YS53aW5kb3c9dGhpcy5nZXRXaW5kb3coKTt2YXIgZT1hLmRvY3VtZW50O3RoaXMuY2hhbmdlQXR0cihcInNwZWxsY2hlY2tcIiwhYS5jb25maWcuZGlzYWJsZU5hdGl2ZVNwZWxsQ2hlY2tlcik7dmFyIGY9YS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9uO3RoaXMuZ2V0RGlyZWN0aW9uKDEpIT1mJiZ0aGlzLmNoYW5nZUF0dHIoXCJkaXJcIixmKTt2YXIgaD1DS0VESVRPUi5nZXRDc3MoKTtpZihoKXt2YXIgZj1lLmdldEhlYWQoKSxsPWYuZ2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIik7bD9oIT1sLmdldFRleHQoKSYmKENLRURJVE9SLmVudi5pZSYmXG45PkNLRURJVE9SLmVudi52ZXJzaW9uP2wuJC5zdHlsZVNoZWV0LmNzc1RleHQ9aDpsLnNldFRleHQoaCkpOihoPWUuYXBwZW5kU3R5bGVUZXh0KGgpLGg9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGgub3duZXJOb2RlfHxoLm93bmluZ0VsZW1lbnQpLGYuc2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIixoKSxoLmRhdGEoXCJja2UtdGVtcFwiLDEpKX1mPWUuZ2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIpfHwwO2Uuc2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIsZisxKTt0aGlzLnNldEN1c3RvbURhdGEoXCJja2VfaW5jbHVkZVJlYWRvbmx5XCIsIWEuY29uZmlnLmRpc2FibGVSZWFkb25seVN0eWxpbmcpO3RoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcImNsaWNrXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7dmFyIGI9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYS5nZXRUYXJnZXQoKSx0aGlzKSkuY29udGFpbnMoXCJhXCIpO2ImJjIhPWEuJC5idXR0b24mJmIuaXNSZWFkT25seSgpJiZcbmEucHJldmVudERlZmF1bHQoKX0pO3ZhciBuPXs4OjEsNDY6MX07dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwia2V5XCIsZnVuY3Rpb24oYil7aWYoYS5yZWFkT25seSlyZXR1cm4hMDt2YXIgYz1iLmRhdGEuZG9tRXZlbnQuZ2V0S2V5KCksZDtpZihjIGluIG4pe2I9YS5nZXRTZWxlY3Rpb24oKTt2YXIgZSxmPWIuZ2V0UmFuZ2VzKClbMF0saz1mLnN0YXJ0UGF0aCgpLGgsbCx3LGM9OD09YztDS0VESVRPUi5lbnYuaWUmJjExPkNLRURJVE9SLmVudi52ZXJzaW9uJiYoZT1iLmdldFNlbGVjdGVkRWxlbWVudCgpKXx8KGU9bShiKSk/KGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxmLm1vdmVUb1Bvc2l0aW9uKGUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxlLnJlbW92ZSgpLGYuc2VsZWN0KCksYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGQ9MSk6Zi5jb2xsYXBzZWQmJigoaD1rLmJsb2NrKSYmKHc9aFtjP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oZykpJiZ3LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXG53LmlzKFwidGFibGVcIikmJmZbYz9cImNoZWNrU3RhcnRPZkJsb2NrXCI6XCJjaGVja0VuZE9mQmxvY2tcIl0oKT8oYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGZbYz9cImNoZWNrRW5kT2ZCbG9ja1wiOlwiY2hlY2tTdGFydE9mQmxvY2tcIl0oKSYmaC5yZW1vdmUoKSxmW1wibW92ZVRvRWxlbWVudEVkaXRcIisoYz9cIkVuZFwiOlwiU3RhcnRcIildKHcpLGYuc2VsZWN0KCksYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGQ9MSk6ay5ibG9ja0xpbWl0JiZrLmJsb2NrTGltaXQuaXMoXCJ0ZFwiKSYmKGw9ay5ibG9ja0xpbWl0LmdldEFzY2VuZGFudChcInRhYmxlXCIpKSYmZi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGwsYz9DS0VESVRPUi5TVEFSVDpDS0VESVRPUi5FTkQpJiYodz1sW2M/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShnKSk/KGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxmW1wibW92ZVRvRWxlbWVudEVkaXRcIisoYz9cIkVuZFwiOlwiU3RhcnRcIildKHcpLGYuY2hlY2tTdGFydE9mQmxvY2soKSYmZi5jaGVja0VuZE9mQmxvY2soKT9cbncucmVtb3ZlKCk6Zi5zZWxlY3QoKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksZD0xKToobD1rLmNvbnRhaW5zKFtcInRkXCIsXCJ0aFwiLFwiY2FwdGlvblwiXSkpJiZmLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQobCxjP0NLRURJVE9SLlNUQVJUOkNLRURJVE9SLkVORCkmJihkPTEpKX1yZXR1cm4hZH0pO2EuYmxvY2tsZXNzJiZDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZ0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJrZXl1cFwiLGZ1bmN0aW9uKGIpe2IuZGF0YS5nZXRLZXlzdHJva2UoKWluIG4mJiF0aGlzLmdldEZpcnN0KGMpJiYodGhpcy5hcHBlbmRCb2d1cygpLGI9YS5jcmVhdGVSYW5nZSgpLGIubW92ZVRvUG9zaXRpb24odGhpcyxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksYi5zZWxlY3QoKSl9KTt0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJkYmxjbGlja1wiLGZ1bmN0aW9uKGIpe2lmKGEucmVhZE9ubHkpcmV0dXJuITE7Yj17ZWxlbWVudDpiLmRhdGEuZ2V0VGFyZ2V0KCl9O1xuYS5maXJlKFwiZG91YmxlY2xpY2tcIixiKX0pO0NLRURJVE9SLmVudi5pZSYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwiY2xpY2tcIixiKTtDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZXx8dGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYil7dmFyIGM9Yi5kYXRhLmdldFRhcmdldCgpO2MuaXMoXCJpbWdcIixcImhyXCIsXCJpbnB1dFwiLFwidGV4dGFyZWFcIixcInNlbGVjdFwiKSYmIWMuaXNSZWFkT25seSgpJiYoYS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RFbGVtZW50KGMpLGMuaXMoXCJpbnB1dFwiLFwidGV4dGFyZWFcIixcInNlbGVjdFwiKSYmYi5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSk7Q0tFRElUT1IuZW52LmVkZ2UmJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNldXBcIixmdW5jdGlvbihiKXsoYj1iLmRhdGEuZ2V0VGFyZ2V0KCkpJiZiLmlzKFwiaW1nXCIpJiZhLmdldFNlbGVjdGlvbigpLnNlbGVjdEVsZW1lbnQoYil9KTtDS0VESVRPUi5lbnYuZ2Vja28mJlxudGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwibW91c2V1cFwiLGZ1bmN0aW9uKGIpe2lmKDI9PWIuZGF0YS4kLmJ1dHRvbiYmKGI9Yi5kYXRhLmdldFRhcmdldCgpLCFiLmdldE91dGVySHRtbCgpLnJlcGxhY2UodCxcIlwiKSkpe3ZhciBjPWEuY3JlYXRlUmFuZ2UoKTtjLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYik7Yy5zZWxlY3QoITApfX0pO0NLRURJVE9SLmVudi53ZWJraXQmJih0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImlucHV0XCIsXCJzZWxlY3RcIikmJmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwibW91c2V1cFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImlucHV0XCIsXCJ0ZXh0YXJlYVwiKSYmYS5kYXRhLnByZXZlbnREZWZhdWx0KCl9KSk7Q0tFRElUT1IuZW52LndlYmtpdCYmdGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwia2V5XCIsZnVuY3Rpb24oYil7aWYoYS5yZWFkT25seSlyZXR1cm4hMDtcbmI9Yi5kYXRhLmRvbUV2ZW50LmdldEtleSgpO2lmKGIgaW4gbil7dmFyIGM9OD09YixkPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF07Yj1kLnN0YXJ0UGF0aCgpO2lmKGQuY29sbGFwc2VkKWE6e3ZhciBlPWIuYmxvY2s7aWYoZSYmZFtjP1wiY2hlY2tTdGFydE9mQmxvY2tcIjpcImNoZWNrRW5kT2ZCbG9ja1wiXSgpJiZkLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKGUsIWMpJiZkLmNvbGxhcHNlZCl7aWYoZC5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe3ZhciBnPWQuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoZC5zdGFydE9mZnNldC0oYz8xOjApKTtpZihnJiZnLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZy5pcyhcImhyXCIpKXthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7Zy5yZW1vdmUoKTtiPSEwO2JyZWFrIGF9fWQ9ZC5zdGFydFBhdGgoKS5ibG9jaztpZighZHx8ZCYmZC5jb250YWlucyhlKSliPXZvaWQgMDtlbHNle2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtcbnZhciBmOyhmPShjP2Q6ZSkuZ2V0Qm9ndXMoKSkmJmYucmVtb3ZlKCk7Zj1hLmdldFNlbGVjdGlvbigpO2c9Zi5jcmVhdGVCb29rbWFya3MoKTsoYz9lOmQpLm1vdmVDaGlsZHJlbihjP2Q6ZSwhMSk7Yi5sYXN0RWxlbWVudC5tZXJnZVNpYmxpbmdzKCk7ayhlLGQsIWMpO2Yuc2VsZWN0Qm9va21hcmtzKGcpO2I9ITB9fWVsc2UgYj0hMX1lbHNlIGM9ZCxmPWIuYmxvY2ssZD1jLmVuZFBhdGgoKS5ibG9jayxmJiZkJiYhZi5lcXVhbHMoZCk/KGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSwoZT1mLmdldEJvZ3VzKCkpJiZlLnJlbW92ZSgpLGMuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0lOTElORSksYy5kZWxldGVDb250ZW50cygpLGQuZ2V0UGFyZW50KCkmJihkLm1vdmVDaGlsZHJlbihmLCExKSxiLmxhc3RFbGVtZW50Lm1lcmdlU2libGluZ3MoKSxrKGYsZCwhMCkpLGM9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXSxjLmNvbGxhcHNlKDEpLGMub3B0aW1pemUoKSxcIlwiPT09Yy5zdGFydENvbnRhaW5lci5nZXRIdG1sKCkmJlxuYy5zdGFydENvbnRhaW5lci5hcHBlbmRCb2d1cygpLGMuc2VsZWN0KCksYj0hMCk6Yj0hMTtpZighYilyZXR1cm47YS5nZXRTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtyZXR1cm4hMX19LHRoaXMsbnVsbCwxMDApfX19LF86e2RldGFjaDpmdW5jdGlvbigpe3RoaXMuZWRpdG9yLnNldERhdGEodGhpcy5lZGl0b3IuZ2V0RGF0YSgpLDAsMSk7dGhpcy5jbGVhckxpc3RlbmVycygpO3RoaXMucmVzdG9yZUF0dHJzKCk7dmFyIGE7aWYoYT10aGlzLnJlbW92ZUN1c3RvbURhdGEoXCJjbGFzc2VzXCIpKWZvcig7YS5sZW5ndGg7KXRoaXMucmVtb3ZlQ2xhc3MoYS5wb3AoKSk7aWYoIXRoaXMuaXMoXCJ0ZXh0YXJlYVwiKSl7YT10aGlzLmdldERvY3VtZW50KCk7dmFyIGI9YS5nZXRIZWFkKCk7aWYoYi5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiKSl7dmFyIGM9YS5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIik7LS1jP2Euc2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIsXG5jKTooYS5yZW1vdmVDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIiksYi5yZW1vdmVDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiKS5yZW1vdmUoKSl9fXRoaXMuZWRpdG9yLmZpcmUoXCJjb250ZW50RG9tVW5sb2FkXCIpO2RlbGV0ZSB0aGlzLmVkaXRvcn19fSk7Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5lZGl0YWJsZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl8uZWRpdGFibGU7aWYoYiYmYSlyZXR1cm4gMDthcmd1bWVudHMubGVuZ3RoJiYoYj10aGlzLl8uZWRpdGFibGU9YT9hIGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdGFibGU/YTpuZXcgQ0tFRElUT1IuZWRpdGFibGUodGhpcyxhKTooYiYmYi5kZXRhY2goKSxudWxsKSk7cmV0dXJuIGJ9O0NLRURJVE9SLm9uKFwiaW5zdGFuY2VMb2FkZWRcIixmdW5jdGlvbihiKXt2YXIgYz1iLmVkaXRvcjtjLm9uKFwiaW5zZXJ0RWxlbWVudFwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO2EudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYS5pcyhcImlucHV0XCIpfHxcbmEuaXMoXCJ0ZXh0YXJlYVwiKSkmJihcImZhbHNlXCIhPWEuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiZhLmRhdGEoXCJja2UtZWRpdGFibGVcIixhLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9cInRydWVcIjpcIjFcIiksYS5zZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIiwhMSkpfSk7Yy5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGIpe2lmKCFjLnJlYWRPbmx5KXt2YXIgZD1jLmdldFNlbGVjdGlvbigpO2QmJiFkLmlzTG9ja2VkJiYoZD1jLmNoZWNrRGlydHkoKSxjLmZpcmUoXCJsb2NrU25hcHNob3RcIiksYShiKSxjLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKSwhZCYmYy5yZXNldERpcnR5KCkpfX0pfSk7Q0tFRElUT1Iub24oXCJpbnN0YW5jZUNyZWF0ZWRcIixmdW5jdGlvbihhKXt2YXIgYj1hLmVkaXRvcjtiLm9uKFwibW9kZVwiLGZ1bmN0aW9uKCl7dmFyIGE9Yi5lZGl0YWJsZSgpO2lmKGEmJmEuaXNJbmxpbmUoKSl7dmFyIGM9Yi50aXRsZTthLmNoYW5nZUF0dHIoXCJyb2xlXCIsXG5cInRleHRib3hcIik7YS5jaGFuZ2VBdHRyKFwiYXJpYS1sYWJlbFwiLGMpO2MmJmEuY2hhbmdlQXR0cihcInRpdGxlXCIsYyk7dmFyIGQ9Yi5maXJlKFwiYXJpYUVkaXRvckhlbHBMYWJlbFwiLHt9KS5sYWJlbDtpZihkJiYoYz10aGlzLnVpLnNwYWNlKHRoaXMuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/XCJ0b3BcIjpcImNvbnRlbnRzXCIpKSl7dmFyIGU9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksZD1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NzcGFuIGlkXFx4M2RcIicrZSsnXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZScrZCtcIlxceDNjL3NwYW5cXHgzZVwiKTtjLmFwcGVuZChkKTthLmNoYW5nZUF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIsZSl9fX0pfSk7Q0tFRElUT1IuYWRkQ3NzKFwiLmNrZV9lZGl0YWJsZXtjdXJzb3I6dGV4dH0uY2tlX2VkaXRhYmxlIGltZywuY2tlX2VkaXRhYmxlIGlucHV0LC5ja2VfZWRpdGFibGUgdGV4dGFyZWF7Y3Vyc29yOmRlZmF1bHR9XCIpO1xuZz1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCEwKTtuPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEsITApO3E9Q0tFRElUT1IuZG9tLndhbGtlci5lbXB0eSgpO3A9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO3Q9LyhefDxib2R5XFxiW14+XSo+KVxccyo8KHB8ZGl2fGFkZHJlc3N8aFxcZHxjZW50ZXJ8cHJlKVtePl0qPlxccyooPzo8YnJbXj5dKj58Jm5ic3A7fFxcdTAwQTB8JiMxNjA7KT9cXHMqKDo/PFxcL1xcMj4pP1xccyooPz0kfDxcXC9ib2R5PikvZ2k7dj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfWZ1bmN0aW9uIGIoYyxkKXt2YXIgZSxnLGYsayxoPVtdLGw9ZC5yYW5nZS5zdGFydENvbnRhaW5lcjtlPWQucmFuZ2Uuc3RhcnRQYXRoKCk7Zm9yKHZhciBsPW1bbC5nZXROYW1lKCldLG49MCx1PWMuZ2V0Q2hpbGRyZW4oKSxyPXUuY291bnQoKSx6PS0xLHQ9LTEscD0wLHY9ZS5jb250YWlucyhtLiRsaXN0KTtuPFxucjsrK24pZT11LmdldEl0ZW0obiksYShlKT8oZj1lLmdldE5hbWUoKSx2JiZmIGluIENLRURJVE9SLmR0ZC4kbGlzdD9oPWguY29uY2F0KGIoZSxkKSk6KGs9ISFsW2ZdLFwiYnJcIiE9Znx8IWUuZGF0YShcImNrZS1lb2xcIil8fG4mJm4hPXItMXx8KHA9KGc9bj9oW24tMV0ubm9kZTp1LmdldEl0ZW0obisxKSkmJighYShnKXx8IWcuaXMoXCJiclwiKSksZz1nJiZhKGcpJiZtLiRibG9ja1tnLmdldE5hbWUoKV0pLC0xIT16fHxrfHwoej1uKSxrfHwodD1uKSxoLnB1c2goe2lzRWxlbWVudDoxLGlzTGluZUJyZWFrOnAsaXNCbG9jazplLmlzQmxvY2tCb3VuZGFyeSgpLGhhc0Jsb2NrU2libGluZzpnLG5vZGU6ZSxuYW1lOmYsYWxsb3dlZDprfSksZz1wPTApKTpoLnB1c2goe2lzRWxlbWVudDowLG5vZGU6ZSxhbGxvd2VkOjF9KTstMTx6JiYoaFt6XS5maXJzdE5vdEFsbG93ZWQ9MSk7LTE8dCYmKGhbdF0ubGFzdE5vdEFsbG93ZWQ9MSk7cmV0dXJuIGh9ZnVuY3Rpb24gZShiLGMpe3ZhciBkPVtdLFxuZz1iLmdldENoaWxkcmVuKCksZj1nLmNvdW50KCksayxoPTAsbD1tW2NdLG49IWIuaXMobS4kaW5saW5lKXx8Yi5pcyhcImJyXCIpO2ZvcihuJiZkLnB1c2goXCIgXCIpO2g8ZjtoKyspaz1nLmdldEl0ZW0oaCksYShrKSYmIWsuaXMobCk/ZD1kLmNvbmNhdChlKGssYykpOmQucHVzaChrKTtuJiZkLnB1c2goXCIgXCIpO3JldHVybiBkfWZ1bmN0aW9uIGcoYil7cmV0dXJuIGEoYi5zdGFydENvbnRhaW5lcikmJmIuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoYi5zdGFydE9mZnNldC0xKX1mdW5jdGlvbiBmKGIpe3JldHVybiBiJiZhKGIpJiYoYi5pcyhtLiRyZW1vdmVFbXB0eSl8fGIuaXMoXCJhXCIpJiYhYi5pc0Jsb2NrQm91bmRhcnkoKSl9ZnVuY3Rpb24gayhiLGMsZCxlKXt2YXIgZz1iLmNsb25lKCksZixoO2cuc2V0RW5kQXQoYyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTsoZj0obmV3IENLRURJVE9SLmRvbS53YWxrZXIoZykpLm5leHQoKSkmJmEoZikmJm5bZi5nZXROYW1lKCldJiZcbihoPWYuZ2V0UHJldmlvdXMoKSkmJmEoaCkmJiFoLmdldFBhcmVudCgpLmVxdWFscyhiLnN0YXJ0Q29udGFpbmVyKSYmZC5jb250YWlucyhoKSYmZS5jb250YWlucyhmKSYmZi5pc0lkZW50aWNhbChoKSYmKGYubW92ZUNoaWxkcmVuKGgpLGYucmVtb3ZlKCksayhiLGMsZCxlKSl9ZnVuY3Rpb24gaChiLGMpe2Z1bmN0aW9uIGQoYixjKXtpZihjLmlzQmxvY2smJmMuaXNFbGVtZW50JiYhYy5ub2RlLmlzKFwiYnJcIikmJmEoYikmJmIuaXMoXCJiclwiKSlyZXR1cm4gYi5yZW1vdmUoKSwxfXZhciBlPWMuZW5kQ29udGFpbmVyLmdldENoaWxkKGMuZW5kT2Zmc2V0KSxnPWMuZW5kQ29udGFpbmVyLmdldENoaWxkKGMuZW5kT2Zmc2V0LTEpO2UmJmQoZSxiW2IubGVuZ3RoLTFdKTtnJiZkKGcsYlswXSkmJihjLnNldEVuZChjLmVuZENvbnRhaW5lcixjLmVuZE9mZnNldC0xKSxjLmNvbGxhcHNlKCkpfXZhciBtPUNLRURJVE9SLmR0ZCxuPXtwOjEsZGl2OjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLFxuaDY6MSx1bDoxLG9sOjEsbGk6MSxwcmU6MSxkbDoxLGJsb2NrcXVvdGU6MX0sdT17cDoxLGRpdjoxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxfSxyPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxtLiRpbmxpbmUpO2RlbGV0ZSByLmJyO3JldHVybiBmdW5jdGlvbihuLHQsSCxwKXt2YXIgdj1uLmVkaXRvcixCPSExO1widW5maWx0ZXJlZF9odG1sXCI9PXQmJih0PVwiaHRtbFwiLEI9ITApO2lmKCFwLmNoZWNrUmVhZE9ubHkoKSl7dmFyIHE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgocC5zdGFydENvbnRhaW5lcixwLnJvb3QpKS5ibG9ja0xpbWl0fHxwLnJvb3Q7bj17dHlwZTp0LGRvbnRGaWx0ZXI6QixlZGl0YWJsZTpuLGVkaXRvcjp2LHJhbmdlOnAsYmxvY2tMaW1pdDpxLG1lcmdlQ2FuZGlkYXRlczpbXSx6b21iaWVzOltdfTt0PW4ucmFuZ2U7cD1uLm1lcmdlQ2FuZGlkYXRlczt2YXIgSyxFO1widGV4dFwiPT1uLnR5cGUmJnQuc2hyaW5rKENLRURJVE9SLlNIUklOS19FTEVNRU5ULFxuITAsITEpJiYoSz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChcIlxceDNjc3BhblxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVwiLHQuZG9jdW1lbnQpLHQuaW5zZXJ0Tm9kZShLKSx0LnNldFN0YXJ0QWZ0ZXIoSykpO0I9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0LnN0YXJ0Q29udGFpbmVyKTtuLmVuZFBhdGg9cT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHQuZW5kQ29udGFpbmVyKTtpZighdC5jb2xsYXBzZWQpe3ZhciB2PXEuYmxvY2t8fHEuYmxvY2tMaW1pdCxXPXQuZ2V0Q29tbW9uQW5jZXN0b3IoKTt2JiYhdi5lcXVhbHMoVykmJiF2LmNvbnRhaW5zKFcpJiZ0LmNoZWNrRW5kT2ZCbG9jaygpJiZuLnpvbWJpZXMucHVzaCh2KTt0LmRlbGV0ZUNvbnRlbnRzKCl9Zm9yKDsoRT1nKHQpKSYmYShFKSYmRS5pc0Jsb2NrQm91bmRhcnkoKSYmQi5jb250YWlucyhFKTspdC5tb3ZlVG9Qb3NpdGlvbihFLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO1xuayh0LG4uYmxvY2tMaW1pdCxCLHEpO0smJih0LnNldEVuZEJlZm9yZShLKSx0LmNvbGxhcHNlKCksSy5yZW1vdmUoKSk7Sz10LnN0YXJ0UGF0aCgpO2lmKHY9Sy5jb250YWlucyhmLCExLDEpKXQuc3BsaXRFbGVtZW50KHYpLG4uaW5saW5lU3R5bGVzUm9vdD12LG4uaW5saW5lU3R5bGVzUGVhaz1LLmxhc3RFbGVtZW50O0s9dC5jcmVhdGVCb29rbWFyaygpOyh2PUsuc3RhcnROb2RlLmdldFByZXZpb3VzKGMpKSYmYSh2KSYmZih2KSYmcC5wdXNoKHYpOyh2PUsuc3RhcnROb2RlLmdldE5leHQoYykpJiZhKHYpJiZmKHYpJiZwLnB1c2godik7Zm9yKHY9Sy5zdGFydE5vZGU7KHY9di5nZXRQYXJlbnQoKSkmJmYodik7KXAucHVzaCh2KTt0Lm1vdmVUb0Jvb2ttYXJrKEspO2lmKEs9SCl7Sz1uLnJhbmdlO2lmKFwidGV4dFwiPT1uLnR5cGUmJm4uaW5saW5lU3R5bGVzUm9vdCl7RT1uLmlubGluZVN0eWxlc1BlYWs7dD1FLmdldERvY3VtZW50KCkuY3JlYXRlVGV4dChcIntja2UtcGVha31cIik7Zm9yKHA9XG5uLmlubGluZVN0eWxlc1Jvb3QuZ2V0UGFyZW50KCk7IUUuZXF1YWxzKHApOyl0PXQuYXBwZW5kVG8oRS5jbG9uZSgpKSxFPUUuZ2V0UGFyZW50KCk7SD10LmdldE91dGVySHRtbCgpLnNwbGl0KFwie2NrZS1wZWFrfVwiKS5qb2luKEgpfUU9bi5ibG9ja0xpbWl0LmdldE5hbWUoKTtpZigvXlxccyt8XFxzKyQvLnRlc3QoSCkmJlwic3BhblwiaW4gQ0tFRElUT1IuZHRkW0VdKXt2YXIgVT0nXFx4M2NzcGFuIGRhdGEtY2tlLW1hcmtlclxceDNkXCIxXCJcXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2UnO0g9VStIK1V9SD1uLmVkaXRvci5kYXRhUHJvY2Vzc29yLnRvSHRtbChILHtjb250ZXh0Om51bGwsZml4Rm9yQm9keTohMSxwcm90ZWN0ZWRXaGl0ZXNwYWNlczohIVUsZG9udEZpbHRlcjpuLmRvbnRGaWx0ZXIsZmlsdGVyOm4uZWRpdG9yLmFjdGl2ZUZpbHRlcixlbnRlck1vZGU6bi5lZGl0b3IuYWN0aXZlRW50ZXJNb2RlfSk7RT1LLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJib2R5XCIpO0Uuc2V0SHRtbChIKTtcblUmJihFLmdldEZpcnN0KCkucmVtb3ZlKCksRS5nZXRMYXN0KCkucmVtb3ZlKCkpO2lmKChVPUsuc3RhcnRQYXRoKCkuYmxvY2spJiYoMSE9VS5nZXRDaGlsZENvdW50KCl8fCFVLmdldEJvZ3VzKCkpKWE6e3ZhciBMO2lmKDE9PUUuZ2V0Q2hpbGRDb3VudCgpJiZhKEw9RS5nZXRGaXJzdCgpKSYmTC5pcyh1KSYmIUwuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXtVPUwuZ2V0RWxlbWVudHNCeVRhZyhcIipcIik7Sz0wO2ZvcihwPVUuY291bnQoKTtLPHA7SysrKWlmKHQ9VS5nZXRJdGVtKEspLCF0LmlzKHIpKWJyZWFrIGE7TC5tb3ZlQ2hpbGRyZW4oTC5nZXRQYXJlbnQoMSkpO0wucmVtb3ZlKCl9fW4uZGF0YVdyYXBwZXI9RTtLPUh9aWYoSyl7TD1uLnJhbmdlO0s9TC5kb2N1bWVudDt2YXIgTjtFPW4uYmxvY2tMaW1pdDtwPTA7dmFyIFMsVT1bXSxRLFk7SD12PTA7dmFyIFYsZGE7dD1MLnN0YXJ0Q29udGFpbmVyO3ZhciBCPW4uZW5kUGF0aC5lbGVtZW50c1swXSxaLHE9Qi5nZXRQb3NpdGlvbih0KSxcblc9ISFCLmdldENvbW1vbkFuY2VzdG9yKHQpJiZxIT1DS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUwmJiEocSZDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQpO3Q9YihuLmRhdGFXcmFwcGVyLG4pO2ZvcihoKHQsTCk7cDx0Lmxlbmd0aDtwKyspe3E9dFtwXTtpZihOPXEuaXNMaW5lQnJlYWspe049TDtWPUU7dmFyIFg9dm9pZCAwLGZhPXZvaWQgMDtxLmhhc0Jsb2NrU2libGluZz9OPTE6KFg9Ti5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQobS4kYmxvY2ssMSkpJiZYLmlzKHtkaXY6MSxwOjF9KT8oZmE9WC5nZXRQb3NpdGlvbihWKSxmYT09Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMfHxmYT09Q0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlM/Tj0wOihWPU4uc3BsaXRFbGVtZW50KFgpLE4ubW92ZVRvUG9zaXRpb24oVixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksTj0xKSk6Tj0wfWlmKE4pSD0wPHA7ZWxzZXtOPVxuTC5zdGFydFBhdGgoKTshcS5pc0Jsb2NrJiZsKG4uZWRpdG9yLE4uYmxvY2ssTi5ibG9ja0xpbWl0KSYmKFk9ZChuLmVkaXRvcikpJiYoWT1LLmNyZWF0ZUVsZW1lbnQoWSksWS5hcHBlbmRCb2d1cygpLEwuaW5zZXJ0Tm9kZShZKSxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmKFM9WS5nZXRCb2d1cygpKSYmUy5yZW1vdmUoKSxMLm1vdmVUb1Bvc2l0aW9uKFksQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCkpO2lmKChOPUwuc3RhcnRQYXRoKCkuYmxvY2spJiYhTi5lcXVhbHMoUSkpe2lmKFM9Ti5nZXRCb2d1cygpKVMucmVtb3ZlKCksVS5wdXNoKE4pO1E9Tn1xLmZpcnN0Tm90QWxsb3dlZCYmKHY9MSk7aWYodiYmcS5pc0VsZW1lbnQpe049TC5zdGFydENvbnRhaW5lcjtmb3IoVj1udWxsO04mJiFtW04uZ2V0TmFtZSgpXVtxLm5hbWVdOyl7aWYoTi5lcXVhbHMoRSkpe049bnVsbDticmVha31WPU47Tj1OLmdldFBhcmVudCgpfWlmKE4pViYmKGRhPUwuc3BsaXRFbGVtZW50KFYpLFxubi56b21iaWVzLnB1c2goZGEpLG4uem9tYmllcy5wdXNoKFYpKTtlbHNle1Y9RS5nZXROYW1lKCk7Wj0hcDtOPXA9PXQubGVuZ3RoLTE7Vj1lKHEubm9kZSxWKTtmb3IodmFyIFg9W10sZmE9Vi5sZW5ndGgsYmE9MCxlYT12b2lkIDAsZ2E9MCxoYT0tMTtiYTxmYTtiYSsrKWVhPVZbYmFdLFwiIFwiPT1lYT8oZ2F8fFomJiFiYXx8KFgucHVzaChuZXcgQ0tFRElUT1IuZG9tLnRleHQoXCIgXCIpKSxoYT1YLmxlbmd0aCksZ2E9MSk6KFgucHVzaChlYSksZ2E9MCk7TiYmaGE9PVgubGVuZ3RoJiZYLnBvcCgpO1o9WH19aWYoWil7Zm9yKDtOPVoucG9wKCk7KUwuaW5zZXJ0Tm9kZShOKTtaPTB9ZWxzZSBMLmluc2VydE5vZGUocS5ub2RlKTtxLmxhc3ROb3RBbGxvd2VkJiZwPHQubGVuZ3RoLTEmJigoZGE9Vz9COmRhKSYmTC5zZXRFbmRBdChkYSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksdj0wKTtMLmNvbGxhcHNlKCl9fTEhPXQubGVuZ3RoP1M9ITE6KFM9dFswXSxTPVMuaXNFbGVtZW50JiZcblwiZmFsc2VcIj09Uy5ub2RlLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSk7UyYmKEg9ITAsTj10WzBdLm5vZGUsTC5zZXRTdGFydEF0KE4sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxMLnNldEVuZEF0KE4sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk7bi5kb250TW92ZUNhcmV0PUg7bi5ib2d1c05lZWRlZEJsb2Nrcz1VfVM9bi5yYW5nZTt2YXIgYWE7ZGE9bi5ib2d1c05lZWRlZEJsb2Nrcztmb3IoWj1TLmNyZWF0ZUJvb2ttYXJrKCk7UT1uLnpvbWJpZXMucG9wKCk7KVEuZ2V0UGFyZW50KCkmJihZPVMuY2xvbmUoKSxZLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoUSksWS5yZW1vdmVFbXB0eUJsb2Nrc0F0RW5kKCkpO2lmKGRhKWZvcig7UT1kYS5wb3AoKTspQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI/US5hcHBlbmRCb2d1cygpOlEuYXBwZW5kKFMuZG9jdW1lbnQuY3JlYXRlVGV4dChcIsKgXCIpKTtmb3IoO1E9bi5tZXJnZUNhbmRpZGF0ZXMucG9wKCk7KVEubWVyZ2VTaWJsaW5ncygpO1xuUy5tb3ZlVG9Cb29rbWFyayhaKTtpZighbi5kb250TW92ZUNhcmV0KXtmb3IoUT1nKFMpO1EmJmEoUSkmJiFRLmlzKG0uJGVtcHR5KTspe2lmKFEuaXNCbG9ja0JvdW5kYXJ5KCkpUy5tb3ZlVG9Qb3NpdGlvbihRLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2Vsc2V7aWYoZihRKSYmUS5nZXRIdG1sKCkubWF0Y2goLyhcXHN8Jm5ic3A7KSQvZykpe2FhPW51bGw7YnJlYWt9YWE9Uy5jbG9uZSgpO2FhLm1vdmVUb1Bvc2l0aW9uKFEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCl9UT1RLmdldExhc3QoYyl9YWEmJlMubW92ZVRvUmFuZ2UoYWEpfX19fSgpO3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe2I9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYik7Yi5ndWFyZD1mdW5jdGlvbihhLGIpe2lmKGIpcmV0dXJuITE7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIGEuaXMoQ0tFRElUT1IuZHRkLiR0YWJsZUNvbnRlbnQpfTtiLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVH07cmV0dXJuIGJ9ZnVuY3Rpb24gYihhLGMsZCl7Yz1hLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChjKTthLmFwcGVuZChjLGQpO3JldHVybiBjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9YS5jb3VudCgpLGQ7Zm9yKGI7MDxiLS07KWQ9YS5nZXRJdGVtKGIpLENLRURJVE9SLnRvb2xzLnRyaW0oZC5nZXRIdG1sKCkpfHwoZC5hcHBlbmRCb2d1cygpLENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmZC5nZXRDaGlsZENvdW50KCkmJmQuZ2V0Rmlyc3QoKS5yZW1vdmUoKSl9cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWQuc3RhcnRDb250YWluZXIsZz1lLmdldEFzY2VuZGFudChcInRhYmxlXCIsMSksZj0hMTtjKGcuZ2V0RWxlbWVudHNCeVRhZyhcInRkXCIpKTtjKGcuZ2V0RWxlbWVudHNCeVRhZyhcInRoXCIpKTtnPWQuY2xvbmUoKTtnLnNldFN0YXJ0KGUsMCk7Zz1hKGcpLmxhc3RCYWNrd2FyZCgpO2d8fChnPWQuY2xvbmUoKSxnLnNldEVuZEF0KGUsXG5DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxnPWEoZykubGFzdEZvcndhcmQoKSxmPSEwKTtnfHwoZz1lKTtnLmlzKFwidGFibGVcIik/KGQuc2V0U3RhcnRBdChnLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZC5jb2xsYXBzZSghMCksZy5yZW1vdmUoKSk6KGcuaXMoe3Rib2R5OjEsdGhlYWQ6MSx0Zm9vdDoxfSkmJihnPWIoZyxcInRyXCIsZikpLGcuaXMoXCJ0clwiKSYmKGc9YihnLGcuZ2V0UGFyZW50KCkuaXMoXCJ0aGVhZFwiKT9cInRoXCI6XCJ0ZFwiLGYpKSwoZT1nLmdldEJvZ3VzKCkpJiZlLnJlbW92ZSgpLGQubW92ZVRvUG9zaXRpb24oZyxmP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpKX19KCk7dT17ZW9sOntkZXRlY3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnJhbmdlLGQ9Yy5jbG9uZSgpLGU9Yy5jbG9uZSgpLGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLnN0YXJ0Q29udGFpbmVyLGIpLGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLmVuZENvbnRhaW5lcixcbmIpO2QuY29sbGFwc2UoMSk7ZS5jb2xsYXBzZSgpO2cuYmxvY2smJmQuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChnLmJsb2NrLENLRURJVE9SLkVORCkmJihjLnNldFN0YXJ0QWZ0ZXIoZy5ibG9jayksYS5wcmVwZW5kRW9sQnI9MSk7Zi5ibG9jayYmZS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGYuYmxvY2ssQ0tFRElUT1IuU1RBUlQpJiYoYy5zZXRFbmRCZWZvcmUoZi5ibG9jayksYS5hcHBlbmRFb2xCcj0xKX0sZml4OmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXREb2N1bWVudCgpLGQ7YS5hcHBlbmRFb2xCciYmKGQ9dGhpcy5jcmVhdGVFb2xCcihjKSxhLmZyYWdtZW50LmFwcGVuZChkKSk7IWEucHJlcGVuZEVvbEJyfHxkJiYhZC5nZXRQcmV2aW91cygpfHxhLmZyYWdtZW50LmFwcGVuZCh0aGlzLmNyZWF0ZUVvbEJyKGMpLDEpfSxjcmVhdGVFb2xCcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5jcmVhdGVFbGVtZW50KFwiYnJcIix7YXR0cmlidXRlczp7XCJkYXRhLWNrZS1lb2xcIjoxfX0pfX0sXG5ib2d1czp7ZXhjbHVkZTpmdW5jdGlvbihhKXt2YXIgYj1hLnJhbmdlLmdldEJvdW5kYXJ5Tm9kZXMoKSxjPWIuc3RhcnROb2RlLGI9Yi5lbmROb2RlOyFifHwhcChiKXx8YyYmYy5lcXVhbHMoYil8fGEucmFuZ2Uuc2V0RW5kQmVmb3JlKGIpfX0sdHJlZTp7cmVidWlsZDpmdW5jdGlvbihhLGIpe3ZhciBjPWEucmFuZ2UsZD1jLmdldENvbW1vbkFuY2VzdG9yKCksZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQsYiksZz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGMuc3RhcnRDb250YWluZXIsYiksYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGMuZW5kQ29udGFpbmVyLGIpLGY7ZC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihkPWQuZ2V0UGFyZW50KCkpO2lmKGUuYmxvY2tMaW1pdC5pcyh7dHI6MSx0YWJsZToxfSkpe3ZhciBrPWUuY29udGFpbnMoXCJ0YWJsZVwiKS5nZXRQYXJlbnQoKTtmPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhrKX19ZWxzZSBpZihlLmJsb2NrJiZcbmUuYmxvY2suaXMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkmJihnPWcuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KSxjPWMuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KSwhZy5lcXVhbHMoYykpKXt2YXIgaD1lLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCkuZ2V0UGFyZW50KCk7Zj1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMoaCl9fWZ8fChmPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhlLmJsb2NrKSYmIWEuZXF1YWxzKGUuYmxvY2tMaW1pdCl9KTt0aGlzLnJlYnVpbGRGcmFnbWVudChhLGIsZCxmKX0scmVidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZTtjJiYhYy5lcXVhbHMoYikmJmQoYyk7KWU9Yy5jbG9uZSgwLDEpLGEuZnJhZ21lbnQuYXBwZW5kVG8oZSksYS5mcmFnbWVudD1lLGM9Yy5nZXRQYXJlbnQoKX19LGNlbGw6e3NocmluazpmdW5jdGlvbihhKXthPWEucmFuZ2U7dmFyIGI9YS5zdGFydENvbnRhaW5lcixjPWEuZW5kQ29udGFpbmVyLFxuZD1hLnN0YXJ0T2Zmc2V0LGU9YS5lbmRPZmZzZXQ7Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuZXF1YWxzKGMpJiZiLmlzKFwidHJcIikmJisrZD09ZSYmYS5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX1RFWFQpfX19O0I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyl7dmFyIGQ9Yi5nZXRQYXJlbnQoKTtpZihkLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKSliW2M/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKGQpfWZ1bmN0aW9uIGIoYyxkLGUpe2EoZCk7YShlLDEpO2Zvcih2YXIgZztnPWUuZ2V0TmV4dCgpOylnLmluc2VydEFmdGVyKGQpLGQ9ZztxKGMpJiZjLnJlbW92ZSgpfWZ1bmN0aW9uIGMoYSxiKXt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGEpO2Quc2V0U3RhcnRBZnRlcihiLnN0YXJ0Tm9kZSk7ZC5zZXRFbmRCZWZvcmUoYi5lbmROb2RlKTtyZXR1cm4gZH1yZXR1cm57bGlzdDp7ZGV0ZWN0TWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgZD1jKGIsYS5ib29rbWFyayksXG5lPWQuc3RhcnRQYXRoKCksZz1kLmVuZFBhdGgoKSxmPWUuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KSxrPWcuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KTthLm1lcmdlTGlzdD1mJiZrJiZmLmdldFBhcmVudCgpLmVxdWFscyhrLmdldFBhcmVudCgpKSYmIWYuZXF1YWxzKGspO2EubWVyZ2VMaXN0SXRlbXM9ZS5ibG9jayYmZy5ibG9jayYmZS5ibG9jay5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmZy5ibG9jay5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKTtpZihhLm1lcmdlTGlzdHx8YS5tZXJnZUxpc3RJdGVtcylkPWQuY2xvbmUoKSxkLnNldFN0YXJ0QmVmb3JlKGEuYm9va21hcmsuc3RhcnROb2RlKSxkLnNldEVuZEFmdGVyKGEuYm9va21hcmsuZW5kTm9kZSksYS5tZXJnZUxpc3RCb29rbWFyaz1kLmNyZWF0ZUJvb2ttYXJrKCl9LG1lcmdlOmZ1bmN0aW9uKGEsYyl7aWYoYS5tZXJnZUxpc3RCb29rbWFyayl7dmFyIGQ9YS5tZXJnZUxpc3RCb29rbWFyay5zdGFydE5vZGUsXG5lPWEubWVyZ2VMaXN0Qm9va21hcmsuZW5kTm9kZSxnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZCxjKSxmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZSxjKTtpZihhLm1lcmdlTGlzdCl7dmFyIGs9Zy5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpLGg9Zi5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpO2suZXF1YWxzKGgpfHwoaC5tb3ZlQ2hpbGRyZW4oayksaC5yZW1vdmUoKSl9YS5tZXJnZUxpc3RJdGVtcyYmKGc9Zy5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSxmPWYuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSksZy5lcXVhbHMoZil8fGIoZixkLGUpKTtkLnJlbW92ZSgpO2UucmVtb3ZlKCl9fX0sYmxvY2s6e2RldGVjdE1lcmdlOmZ1bmN0aW9uKGEsYil7aWYoIWEudGFibGVDb250ZW50c1JhbmdlcyYmIWEubWVyZ2VMaXN0Qm9va21hcmspe3ZhciBjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYik7Yy5zZXRTdGFydEJlZm9yZShhLmJvb2ttYXJrLnN0YXJ0Tm9kZSk7XG5jLnNldEVuZEFmdGVyKGEuYm9va21hcmsuZW5kTm9kZSk7YS5tZXJnZUJsb2NrQm9va21hcms9Yy5jcmVhdGVCb29rbWFyaygpfX0sbWVyZ2U6ZnVuY3Rpb24oYSxjKXtpZihhLm1lcmdlQmxvY2tCb29rbWFyayYmIWEucHVyZ2VUYWJsZUJvb2ttYXJrKXt2YXIgZD1hLm1lcmdlQmxvY2tCb29rbWFyay5zdGFydE5vZGUsZT1hLm1lcmdlQmxvY2tCb29rbWFyay5lbmROb2RlLGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChkLGMpLGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChlLGMpLGc9Zy5ibG9jayxmPWYuYmxvY2s7ZyYmZiYmIWcuZXF1YWxzKGYpJiZiKGYsZCxlKTtkLnJlbW92ZSgpO2UucmVtb3ZlKCl9fX0sdGFibGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGMpe3ZhciBlPVtdLGcsZj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKSxrPWMuc3RhcnRQYXRoKCkuY29udGFpbnMoZCksaD1jLmVuZFBhdGgoKS5jb250YWlucyhkKSxsPXt9O2YuZ3VhcmQ9ZnVuY3Rpb24oYSxcbmYpe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXt2YXIgbT1cInZpc2l0ZWRfXCIrKGY/XCJvdXRcIjpcImluXCIpO2lmKGEuZ2V0Q3VzdG9tRGF0YShtKSlyZXR1cm47Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGwsYSxtLDEpfWlmKGYmJmsmJmEuZXF1YWxzKGspKWc9Yy5jbG9uZSgpLGcuc2V0RW5kQXQoayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxlLnB1c2goZyk7ZWxzZSBpZighZiYmaCYmYS5lcXVhbHMoaCkpZz1jLmNsb25lKCksZy5zZXRTdGFydEF0KGgsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLGUucHVzaChnKTtlbHNle2lmKG09IWYpbT1hLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhkKSYmKCFrfHxiKGEsaykpJiYoIWh8fGIoYSxoKSk7bSYmKGc9Yy5jbG9uZSgpLGcuc2VsZWN0Tm9kZUNvbnRlbnRzKGEpLGUucHVzaChnKSl9fTtmLmxhc3RGb3J3YXJkKCk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGwpO1xucmV0dXJuIGV9ZnVuY3Rpb24gYihhLGMpe3ZhciBkPUNLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCxlPWEuZ2V0UG9zaXRpb24oYyk7cmV0dXJuIGU9PT1DS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUw/ITE6MD09PShlJmQpfXZhciBkPXt0ZDoxLHRoOjEsY2FwdGlvbjoxfTtyZXR1cm57ZGV0ZWN0UHVyZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9YS5yYW5nZSxjPWIuY2xvbmUoKTtjLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UKTt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKSxlPTA7Yy5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMoZCkmJisrZX07Yy5jaGVja0ZvcndhcmQoKTtpZigxPGUpe3ZhciBjPWIuc3RhcnRQYXRoKCkuY29udGFpbnMoXCJ0YWJsZVwiKSxnPWIuZW5kUGF0aCgpLmNvbnRhaW5zKFwidGFibGVcIik7YyYmZyYmYi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGMsXG5DS0VESVRPUi5TVEFSVCkmJmIuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChnLENLRURJVE9SLkVORCkmJihiPWEucmFuZ2UuY2xvbmUoKSxiLnNldFN0YXJ0QmVmb3JlKGMpLGIuc2V0RW5kQWZ0ZXIoZyksYS5wdXJnZVRhYmxlQm9va21hcms9Yi5jcmVhdGVCb29rbWFyaygpKX19LGRldGVjdFJhbmdlczpmdW5jdGlvbihlLGcpe3ZhciBmPWMoZyxlLmJvb2ttYXJrKSxrPWYuY2xvbmUoKSxoLGwsbT1mLmdldENvbW1vbkFuY2VzdG9yKCk7bS5pcyhDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudCkmJiFtLmlzKGQpJiYobT1tLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApKTtsPW07bT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGYuc3RhcnRDb250YWluZXIsbCk7bD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGYuZW5kQ29udGFpbmVyLGwpO209bS5jb250YWlucyhcInRhYmxlXCIpO2w9bC5jb250YWlucyhcInRhYmxlXCIpO2lmKG18fGwpbSYmbCYmYihtLGwpPyhlLnRhYmxlU3Vycm91bmRpbmdSYW5nZT1cbmssay5zZXRTdGFydEF0KG0sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxrLnNldEVuZEF0KGwsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxrPWYuY2xvbmUoKSxrLnNldEVuZEF0KG0sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxoPWYuY2xvbmUoKSxoLnNldFN0YXJ0QXQobCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGg9YShrKS5jb25jYXQoYShoKSkpOm0/bHx8KGUudGFibGVTdXJyb3VuZGluZ1JhbmdlPWssay5zZXRTdGFydEF0KG0sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxmLnNldEVuZEF0KG0sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk6KGUudGFibGVTdXJyb3VuZGluZ1JhbmdlPWssay5zZXRFbmRBdChsLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZi5zZXRTdGFydEF0KGwsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKSxlLnRhYmxlQ29udGVudHNSYW5nZXM9aD9oOmEoZil9LGRlbGV0ZVJhbmdlczpmdW5jdGlvbihhKXtmb3IodmFyIGI7Yj1cbmEudGFibGVDb250ZW50c1Jhbmdlcy5wb3AoKTspYi5leHRyYWN0Q29udGVudHMoKSxxKGIuc3RhcnRDb250YWluZXIpJiZiLnN0YXJ0Q29udGFpbmVyLmFwcGVuZEJvZ3VzKCk7YS50YWJsZVN1cnJvdW5kaW5nUmFuZ2UmJmEudGFibGVTdXJyb3VuZGluZ1JhbmdlLmV4dHJhY3RDb250ZW50cygpfSxwdXJnZTpmdW5jdGlvbihhKXtpZihhLnB1cmdlVGFibGVCb29rbWFyayl7dmFyIGI9YS5kb2MsYz1hLnJhbmdlLmNsb25lKCksYj1iLmNyZWF0ZUVsZW1lbnQoXCJwXCIpO2IuaW5zZXJ0QmVmb3JlKGEucHVyZ2VUYWJsZUJvb2ttYXJrLnN0YXJ0Tm9kZSk7Yy5tb3ZlVG9Cb29rbWFyayhhLnB1cmdlVGFibGVCb29rbWFyayk7Yy5kZWxldGVDb250ZW50cygpO2EucmFuZ2UubW92ZVRvUG9zaXRpb24oYixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCl9fX19KCksZGV0ZWN0RXh0cmFjdE1lcmdlOmZ1bmN0aW9uKGEpe3JldHVybiEoYS5yYW5nZS5zdGFydFBhdGgoKS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmXG5hLnJhbmdlLmVuZFBhdGgoKS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSl9LGZpeFVuZWRpdGFibGVSYW5nZVBvc2l0aW9uOmZ1bmN0aW9uKGEpe2Euc3RhcnRDb250YWluZXIuZ2V0RHRkKClbXCIjXCJdfHxhLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKG51bGwsITApfSxhdXRvUGFyYWdyYXBoOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5zdGFydFBhdGgoKSxlO2woYSxjLmJsb2NrLGMuYmxvY2tMaW1pdCkmJihlPWQoYSkpJiYoZT1iLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSksZS5hcHBlbmRCb2d1cygpLGIuaW5zZXJ0Tm9kZShlKSxiLm1vdmVUb1Bvc2l0aW9uKGUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKX19fSgpfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3ZhciBhPXRoaXMuXy5mYWtlU2VsZWN0aW9uLGI7YSYmKGI9dGhpcy5nZXRTZWxlY3Rpb24oMSksYiYmYi5pc0hpZGRlbigpfHwoYS5yZXNldCgpLGE9MCkpO2lmKCFhJiYoYT1ifHxcbnRoaXMuZ2V0U2VsZWN0aW9uKDEpLCFhfHxhLmdldFR5cGUoKT09Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUpKXJldHVybjt0aGlzLmZpcmUoXCJzZWxlY3Rpb25DaGVja1wiLGEpO2I9dGhpcy5lbGVtZW50UGF0aCgpO2lmKCFiLmNvbXBhcmUodGhpcy5fLnNlbGVjdGlvblByZXZpb3VzUGF0aCkpe3ZhciBjPXRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGgmJnRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGguYmxvY2tMaW1pdC5lcXVhbHMoYi5ibG9ja0xpbWl0KTtDS0VESVRPUi5lbnYud2Via2l0JiYhYyYmKHRoaXMuXy5wcmV2aW91c0FjdGl2ZT10aGlzLmRvY3VtZW50LmdldEFjdGl2ZSgpKTt0aGlzLl8uc2VsZWN0aW9uUHJldmlvdXNQYXRoPWI7dGhpcy5maXJlKFwic2VsZWN0aW9uQ2hhbmdlXCIse3NlbGVjdGlvbjphLHBhdGg6Yn0pfX1mdW5jdGlvbiBmKCl7cj0hMDt2fHwoYi5jYWxsKHRoaXMpLHY9Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChiLDIwMCx0aGlzKSl9ZnVuY3Rpb24gYigpe3Y9XG5udWxsO3ImJihDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGEsMCx0aGlzKSxyPSExKX1mdW5jdGlvbiBjKGEpe3JldHVybiB1KGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWEuaXMoQ0tFRElUT1IuZHRkLiRlbXB0eSk/ITA6ITF9ZnVuY3Rpb24gZShhKXtmdW5jdGlvbiBiKGMsZCl7cmV0dXJuIGMmJmMudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUP2EuY2xvbmUoKVtcIm1vdmVUb0VsZW1lbnRFZGl0XCIrKGQ/XCJFbmRcIjpcIlN0YXJ0XCIpXShjKTohMX1pZighKGEucm9vdCBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRhYmxlKSlyZXR1cm4hMTt2YXIgZD1hLnN0YXJ0Q29udGFpbmVyLGU9YS5nZXRQcmV2aW91c05vZGUoYyxudWxsLGQpLGc9YS5nZXROZXh0Tm9kZShjLG51bGwsZCk7cmV0dXJuIGIoZSl8fGIoZywxKXx8IShlfHxnfHxkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pc0Jsb2NrQm91bmRhcnkoKSYmZC5nZXRCb2d1cygpKT8hMDohMX1mdW5jdGlvbiBtKGEpe2woYSxcbiExKTt2YXIgYj1hLmdldERvY3VtZW50KCkuY3JlYXRlVGV4dChwKTthLnNldEN1c3RvbURhdGEoXCJja2UtZmlsbGluZ0NoYXJcIixiKTtyZXR1cm4gYn1mdW5jdGlvbiBsKGEsYil7dmFyIGM9YSYmYS5yZW1vdmVDdXN0b21EYXRhKFwiY2tlLWZpbGxpbmdDaGFyXCIpO2lmKGMpe2lmKCExIT09Yil7dmFyIGU9YS5nZXREb2N1bWVudCgpLmdldFNlbGVjdGlvbigpLmdldE5hdGl2ZSgpLGc9ZSYmXCJOb25lXCIhPWUudHlwZSYmZS5nZXRSYW5nZUF0KDApLGY9cC5sZW5ndGg7aWYoYy5nZXRMZW5ndGgoKT5mJiZnJiZnLmludGVyc2VjdHNOb2RlKGMuJCkpe3ZhciBrPVt7bm9kZTplLmFuY2hvck5vZGUsb2Zmc2V0OmUuYW5jaG9yT2Zmc2V0fSx7bm9kZTplLmZvY3VzTm9kZSxvZmZzZXQ6ZS5mb2N1c09mZnNldH1dO2UuYW5jaG9yTm9kZT09Yy4kJiZlLmFuY2hvck9mZnNldD5mJiYoa1swXS5vZmZzZXQtPWYpO2UuZm9jdXNOb2RlPT1jLiQmJmUuZm9jdXNPZmZzZXQ+ZiYmKGtbMV0ub2Zmc2V0LT1cbmYpfX1jLnNldFRleHQoZChjLmdldFRleHQoKSwxKSk7ayYmKGM9YS5nZXREb2N1bWVudCgpLiQsZT1jLmdldFNlbGVjdGlvbigpLGM9Yy5jcmVhdGVSYW5nZSgpLGMuc2V0U3RhcnQoa1swXS5ub2RlLGtbMF0ub2Zmc2V0KSxjLmNvbGxhcHNlKCEwKSxlLnJlbW92ZUFsbFJhbmdlcygpLGUuYWRkUmFuZ2UoYyksZS5leHRlbmQoa1sxXS5ub2RlLGtbMV0ub2Zmc2V0KSl9fWZ1bmN0aW9uIGQoYSxiKXtyZXR1cm4gYj9hLnJlcGxhY2UodCxmdW5jdGlvbihhLGIpe3JldHVybiBiP1wiwqBcIjpcIlwifSk6YS5yZXBsYWNlKHAsXCJcIil9ZnVuY3Rpb24gaChhLGIpe3ZhciBjPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBkYXRhLWNrZS1oaWRkZW4tc2VsXFx4M2RcIjFcIiBkYXRhLWNrZS10ZW1wXFx4M2RcIjFcIiBzdHlsZVxceDNkXCInKyhDS0VESVRPUi5lbnYuaWUmJjE0PkNLRURJVE9SLmVudi52ZXJzaW9uP1wiZGlzcGxheTpub25lXCI6XCJwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0Oi0xMDAwcHhcIikrXG4nXCJcXHgzZScrKGJ8fFwiXFx4MjZuYnNwO1wiKStcIlxceDNjL2RpdlxceDNlXCIsYS5kb2N1bWVudCk7YS5maXJlKFwibG9ja1NuYXBzaG90XCIpO2EuZWRpdGFibGUoKS5hcHBlbmQoYyk7dmFyIGQ9YS5nZXRTZWxlY3Rpb24oMSksZT1hLmNyZWF0ZVJhbmdlKCksZz1kLnJvb3Qub24oXCJzZWxlY3Rpb25jaGFuZ2VcIixmdW5jdGlvbihhKXthLmNhbmNlbCgpfSxudWxsLG51bGwsMCk7ZS5zZXRTdGFydEF0KGMsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2Uuc2V0RW5kQXQoYyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtkLnNlbGVjdFJhbmdlcyhbZV0pO2cucmVtb3ZlTGlzdGVuZXIoKTthLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKTthLl8uaGlkZGVuU2VsZWN0aW9uQ29udGFpbmVyPWN9ZnVuY3Rpb24gayhhKXt2YXIgYj17Mzc6MSwzOToxLDg6MSw0NjoxfTtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9Yy5kYXRhLmdldEtleXN0cm9rZSgpO2lmKGJbZF0pe3ZhciBlPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKCksXG5nPWVbMF07MT09ZS5sZW5ndGgmJmcuY29sbGFwc2VkJiYoZD1nWzM4PmQ/XCJnZXRQcmV2aW91c0VkaXRhYmxlTm9kZVwiOlwiZ2V0TmV4dEVkaXRhYmxlTm9kZVwiXSgpKSYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiZmFsc2VcIj09ZC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJihhLmdldFNlbGVjdGlvbigpLmZha2UoZCksYy5kYXRhLnByZXZlbnREZWZhdWx0KCksYy5jYW5jZWwoKSl9fX1mdW5jdGlvbiBnKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO2MuZ2V0Q29tbW9uQW5jZXN0b3IoKS5pc1JlYWRPbmx5KCkmJmEuc3BsaWNlKGIsMSk7aWYoIWMuY29sbGFwc2VkKXtpZihjLnN0YXJ0Q29udGFpbmVyLmlzUmVhZE9ubHkoKSlmb3IodmFyIGQ9Yy5zdGFydENvbnRhaW5lcixlO2QmJiEoKGU9ZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpJiZkLmlzKFwiYm9keVwiKXx8IWQuaXNSZWFkT25seSgpKTspZSYmXCJmYWxzZVwiPT1cbmQuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiZjLnNldFN0YXJ0QWZ0ZXIoZCksZD1kLmdldFBhcmVudCgpO2Q9Yy5zdGFydENvbnRhaW5lcjtlPWMuZW5kQ29udGFpbmVyO3ZhciBnPWMuc3RhcnRPZmZzZXQsZj1jLmVuZE9mZnNldCxrPWMuY2xvbmUoKTtkJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGc+PWQuZ2V0TGVuZ3RoKCk/ay5zZXRTdGFydEFmdGVyKGQpOmsuc2V0U3RhcnRCZWZvcmUoZCkpO2UmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZj9rLnNldEVuZEFmdGVyKGUpOmsuc2V0RW5kQmVmb3JlKGUpKTtkPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGspO2QuZXZhbHVhdG9yPWZ1bmN0aW9uKGQpe2lmKGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmlzUmVhZE9ubHkoKSl7dmFyIGU9Yy5jbG9uZSgpO2Muc2V0RW5kQmVmb3JlKGQpO2MuY29sbGFwc2VkJiZhLnNwbGljZShiLS0sMSk7ZC5nZXRQb3NpdGlvbihrLmVuZENvbnRhaW5lcikmXG5DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOU3x8KGUuc2V0U3RhcnRBZnRlcihkKSxlLmNvbGxhcHNlZHx8YS5zcGxpY2UoYisxLDAsZSkpO3JldHVybiEwfXJldHVybiExfTtkLm5leHQoKX19cmV0dXJuIGF9dmFyIG49XCJmdW5jdGlvblwiIT10eXBlb2Ygd2luZG93LmdldFNlbGVjdGlvbixxPTEscD1DS0VESVRPUi50b29scy5yZXBlYXQoXCLigItcIiw3KSx0PW5ldyBSZWdFeHAocCtcIiggKT9cIixcImdcIiksdixyLHU9Q0tFRElUT1IuZG9tLndhbGtlci5pbnZpc2libGUoMSksQj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBjPWEuZWRpdG9yLmNyZWF0ZVJhbmdlKCk7Yy5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihhLnNlbGVjdGVkLGIpJiZhLmVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2NdKTtyZXR1cm4hMX19ZnVuY3Rpb24gYihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5lZGl0b3IsZD1jLmNyZWF0ZVJhbmdlKCksXG5lOyhlPWQubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oYi5zZWxlY3RlZCxhKSl8fChlPWQubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oYi5zZWxlY3RlZCwhYSkpO2UmJmMuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtkXSk7Yy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2Iuc2VsZWN0ZWQucmVtb3ZlKCk7ZXx8KGQubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oYy5lZGl0YWJsZSgpKSxjLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbZF0pKTtjLmZpcmUoXCJzYXZlU25hcHNob3RcIik7cmV0dXJuITF9fXZhciBjPWEoKSxkPWEoMSk7cmV0dXJuezM3OmMsMzg6YywzOTpkLDQwOmQsODpiKCksNDY6YigxKX19KCk7Q0tFRElUT1Iub24oXCJpbnN0YW5jZUNyZWF0ZWRcIixmdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7dmFyIGE9ZC5nZXRTZWxlY3Rpb24oKTthJiZhLnJlbW92ZUFsbFJhbmdlcygpfXZhciBkPWIuZWRpdG9yO2Qub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBiKCl7cj1cbm5ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKGQuZ2V0U2VsZWN0aW9uKCkpO3IubG9jaygpfWZ1bmN0aW9uIGMoKXtnLnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpO3UucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYyk7dmFyIGE9Q0tFRElUT1IuZG9jdW1lbnQuJC5zZWxlY3Rpb24sYj1hLmNyZWF0ZVJhbmdlKCk7XCJOb25lXCIhPWEudHlwZSYmYi5wYXJlbnRFbGVtZW50KCkub3duZXJEb2N1bWVudD09ZS4kJiZiLnNlbGVjdCgpfXZhciBlPWQuZG9jdW1lbnQsZz1DS0VESVRPUi5kb2N1bWVudCxoPWQuZWRpdGFibGUoKSxtPWUuZ2V0Qm9keSgpLHU9ZS5nZXREb2N1bWVudEVsZW1lbnQoKSx3PWguaXNJbmxpbmUoKSx0LHI7Q0tFRElUT1IuZW52LmdlY2tvJiZoLmF0dGFjaExpc3RlbmVyKGgsXCJmb2N1c1wiLGZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTswIT09dCYmKGE9ZC5nZXRTZWxlY3Rpb24oKS5nZXROYXRpdmUoKSkmJmEuaXNDb2xsYXBzZWQmJmEuYW5jaG9yTm9kZT09XG5oLiQmJihhPWQuY3JlYXRlUmFuZ2UoKSxhLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoaCksYS5zZWxlY3QoKSl9LG51bGwsbnVsbCwtMik7aC5hdHRhY2hMaXN0ZW5lcihoLENLRURJVE9SLmVudi53ZWJraXQ/XCJET01Gb2N1c0luXCI6XCJmb2N1c1wiLGZ1bmN0aW9uKCl7dCYmQ0tFRElUT1IuZW52LndlYmtpdCYmKHQ9ZC5fLnByZXZpb3VzQWN0aXZlJiZkLl8ucHJldmlvdXNBY3RpdmUuZXF1YWxzKGUuZ2V0QWN0aXZlKCkpKSYmbnVsbCE9ZC5fLnByZXZpb3VzU2Nyb2xsVG9wJiZkLl8ucHJldmlvdXNTY3JvbGxUb3AhPWguJC5zY3JvbGxUb3AmJihoLiQuc2Nyb2xsVG9wPWQuXy5wcmV2aW91c1Njcm9sbFRvcCk7ZC51bmxvY2tTZWxlY3Rpb24odCk7dD0wfSxudWxsLG51bGwsLTEpO2guYXR0YWNoTGlzdGVuZXIoaCxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7dD0wfSk7aWYoQ0tFRElUT1IuZW52LmllfHx3KW4/aC5hdHRhY2hMaXN0ZW5lcihoLFwiYmVmb3JlZGVhY3RpdmF0ZVwiLGIsbnVsbCxcbm51bGwsLTEpOmguYXR0YWNoTGlzdGVuZXIoZCxcInNlbGVjdGlvbkNoZWNrXCIsYixudWxsLG51bGwsLTEpLGguYXR0YWNoTGlzdGVuZXIoaCxDS0VESVRPUi5lbnYud2Via2l0P1wiRE9NRm9jdXNPdXRcIjpcImJsdXJcIixmdW5jdGlvbigpe2QubG9ja1NlbGVjdGlvbihyKTt0PTF9LG51bGwsbnVsbCwtMSksaC5hdHRhY2hMaXN0ZW5lcihoLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXt0PTB9KTtpZihDS0VESVRPUi5lbnYuaWUmJiF3KXt2YXIgcDtoLmF0dGFjaExpc3RlbmVyKGgsXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXsyPT1hLmRhdGEuJC5idXR0b24mJigoYT1kLmRvY3VtZW50LmdldFNlbGVjdGlvbigpKSYmYS5nZXRUeXBlKCkhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FfHwocD1kLndpbmRvdy5nZXRTY3JvbGxQb3NpdGlvbigpKSl9KTtoLmF0dGFjaExpc3RlbmVyKGgsXCJtb3VzZXVwXCIsZnVuY3Rpb24oYSl7Mj09YS5kYXRhLiQuYnV0dG9uJiZwJiYoZC5kb2N1bWVudC4kLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0PVxucC54LGQuZG9jdW1lbnQuJC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wPXAueSk7cD1udWxsfSk7aWYoXCJCYWNrQ29tcGF0XCIhPWUuJC5jb21wYXRNb2RlKXtpZihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgdix6O3Uub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2E9YS5kYXRhLiQ7aWYodil7dmFyIGM9bS4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXtjLm1vdmVUb1BvaW50KGEuY2xpZW50WCxhLmNsaWVudFkpfWNhdGNoKGQpe312LnNldEVuZFBvaW50KDA+ei5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb1N0YXJ0XCIsYyk/XCJFbmRUb0VuZFwiOlwiU3RhcnRUb1N0YXJ0XCIsYyk7di5zZWxlY3QoKX19ZnVuY3Rpb24gYygpe3UucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixiKTtnLnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpO3UucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYyk7di5zZWxlY3QoKX1hPWEuZGF0YTtcbmlmKGEuZ2V0VGFyZ2V0KCkuaXMoXCJodG1sXCIpJiZhLiQueTx1LiQuY2xpZW50SGVpZ2h0JiZhLiQueDx1LiQuY2xpZW50V2lkdGgpe3Y9bS4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXt2Lm1vdmVUb1BvaW50KGEuJC5jbGllbnRYLGEuJC5jbGllbnRZKX1jYXRjaChkKXt9ej12LmR1cGxpY2F0ZSgpO3Uub24oXCJtb3VzZW1vdmVcIixiKTtnLm9uKFwibW91c2V1cFwiLGMpO3Uub24oXCJtb3VzZXVwXCIsYyl9fSl9aWYoNzxDS0VESVRPUi5lbnYudmVyc2lvbiYmMTE+Q0tFRElUT1IuZW52LnZlcnNpb24pdS5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImh0bWxcIikmJihnLm9uKFwibW91c2V1cFwiLGMpLHUub24oXCJtb3VzZXVwXCIsYykpfSl9fWguYXR0YWNoTGlzdGVuZXIoaCxcInNlbGVjdGlvbmNoYW5nZVwiLGEsZCk7aC5hdHRhY2hMaXN0ZW5lcihoLFwia2V5dXBcIixmLGQpO2guYXR0YWNoTGlzdGVuZXIoaCxDS0VESVRPUi5lbnYud2Via2l0P1wiRE9NRm9jdXNJblwiOlxuXCJmb2N1c1wiLGZ1bmN0aW9uKCl7ZC5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO2Quc2VsZWN0aW9uQ2hhbmdlKDEpfSk7aWYodyYmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5nZWNrbykpe3ZhciBxO2guYXR0YWNoTGlzdGVuZXIoaCxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7cT0xfSk7aC5hdHRhY2hMaXN0ZW5lcihlLmdldERvY3VtZW50RWxlbWVudCgpLFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7cSYmZi5jYWxsKGQpO3E9MH0pfWVsc2UgaC5hdHRhY2hMaXN0ZW5lcihDS0VESVRPUi5lbnYuaWU/aDplLmdldERvY3VtZW50RWxlbWVudCgpLFwibW91c2V1cFwiLGYsZCk7Q0tFRElUT1IuZW52LndlYmtpdCYmaC5hdHRhY2hMaXN0ZW5lcihlLFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe3N3aXRjaChhLmRhdGEuZ2V0S2V5KCkpe2Nhc2UgMTM6Y2FzZSAzMzpjYXNlIDM0OmNhc2UgMzU6Y2FzZSAzNjpjYXNlIDM3OmNhc2UgMzk6Y2FzZSA4OmNhc2UgNDU6Y2FzZSA0NjpsKGgpfX0sXG5udWxsLG51bGwsLTEpO2guYXR0YWNoTGlzdGVuZXIoaCxcImtleWRvd25cIixrKGQpLG51bGwsbnVsbCwtMSl9KTtkLm9uKFwic2V0RGF0YVwiLGZ1bmN0aW9uKCl7ZC51bmxvY2tTZWxlY3Rpb24oKTtDS0VESVRPUi5lbnYud2Via2l0JiZjKCl9KTtkLm9uKFwiY29udGVudERvbVVubG9hZFwiLGZ1bmN0aW9uKCl7ZC51bmxvY2tTZWxlY3Rpb24oKX0pO2lmKENLRURJVE9SLmVudi5pZTlDb21wYXQpZC5vbihcImJlZm9yZURlc3Ryb3lcIixjLG51bGwsbnVsbCw5KTtkLm9uKFwiZGF0YVJlYWR5XCIsZnVuY3Rpb24oKXtkZWxldGUgZC5fLmZha2VTZWxlY3Rpb247ZGVsZXRlIGQuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXI7ZC5zZWxlY3Rpb25DaGFuZ2UoMSl9KTtkLm9uKFwibG9hZFNuYXBzaG90XCIsZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfRUxFTUVOVCksYj1kLmVkaXRhYmxlKCkuZ2V0TGFzdChhKTtiJiZiLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLWhpZGRlbi1zZWxcIikmJlxuKGIucmVtb3ZlKCksQ0tFRElUT1IuZW52LmdlY2tvJiYoYT1kLmVkaXRhYmxlKCkuZ2V0Rmlyc3QoYSkpJiZhLmlzKFwiYnJcIikmJmEuZ2V0QXR0cmlidXRlKFwiX21vel9lZGl0b3JfYm9ndXNfbm9kZVwiKSYmYS5yZW1vdmUoKSl9LG51bGwsbnVsbCwxMDApO2Qub24oXCJrZXlcIixmdW5jdGlvbihhKXtpZihcInd5c2l3eWdcIj09ZC5tb2RlKXt2YXIgYj1kLmdldFNlbGVjdGlvbigpO2lmKGIuaXNGYWtlKXt2YXIgYz1CW2EuZGF0YS5rZXlDb2RlXTtpZihjKXJldHVybiBjKHtlZGl0b3I6ZCxzZWxlY3RlZDpiLmdldFNlbGVjdGVkRWxlbWVudCgpLHNlbGVjdGlvbjpiLGtleUV2ZW50OmF9KX19fSl9KTtpZihDS0VESVRPUi5lbnYud2Via2l0KUNLRURJVE9SLm9uKFwiaW5zdGFuY2VSZWFkeVwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZWRpdG9yO2Iub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBhPWIuZWRpdGFibGUoKSxjPWEuZ2V0Q3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiKTtcbmMmJihjLmdldEN1c3RvbURhdGEoXCJyZWFkeVwiKT9sKGEpOmMuc2V0Q3VzdG9tRGF0YShcInJlYWR5XCIsMSkpfSxudWxsLG51bGwsLTEpO2Iub24oXCJiZWZvcmVTZXRNb2RlXCIsZnVuY3Rpb24oKXtsKGIuZWRpdGFibGUoKSl9LG51bGwsbnVsbCwtMSk7Yi5vbihcImdldFNuYXBzaG90XCIsZnVuY3Rpb24oYSl7YS5kYXRhJiYoYS5kYXRhPWQoYS5kYXRhKSl9LGIsbnVsbCwyMCk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5kYXRhVmFsdWU9ZChhLmRhdGEuZGF0YVZhbHVlKX0sbnVsbCxudWxsLDApfSk7Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5zZWxlY3Rpb25DaGFuZ2U9ZnVuY3Rpb24oYil7KGI/YTpmKS5jYWxsKHRoaXMpfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5fLnNhdmVkU2VsZWN0aW9uJiYhdGhpcy5fLmZha2VTZWxlY3Rpb258fGE/KGE9dGhpcy5lZGl0YWJsZSgpKSYmXCJ3eXNpd3lnXCI9PVxudGhpcy5tb2RlP25ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKGEpOm51bGw6dGhpcy5fLnNhdmVkU2VsZWN0aW9ufHx0aGlzLl8uZmFrZVNlbGVjdGlvbn07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5sb2NrU2VsZWN0aW9uPWZ1bmN0aW9uKGEpe2E9YXx8dGhpcy5nZXRTZWxlY3Rpb24oMSk7cmV0dXJuIGEuZ2V0VHlwZSgpIT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORT8oIWEuaXNMb2NrZWQmJmEubG9jaygpLHRoaXMuXy5zYXZlZFNlbGVjdGlvbj1hLCEwKTohMX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS51bmxvY2tTZWxlY3Rpb249ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLnNhdmVkU2VsZWN0aW9uO3JldHVybiBiPyhiLnVubG9jayhhKSxkZWxldGUgdGhpcy5fLnNhdmVkU2VsZWN0aW9uLCEwKTohMX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaz1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl8uc2VsZWN0aW9uUHJldmlvdXNQYXRofTtcbkNLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKHRoaXMpfTtDS0VESVRPUi5kb20ucmFuZ2UucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMucm9vdCBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRhYmxlP3RoaXMucm9vdC5lZGl0b3IuZ2V0U2VsZWN0aW9uKCk6bmV3IENLRURJVE9SLmRvbS5zZWxlY3Rpb24odGhpcy5yb290KTthLnNlbGVjdFJhbmdlcyhbdGhpc10pO3JldHVybiBhfTtDS0VESVRPUi5TRUxFQ1RJT05fTk9ORT0xO0NLRURJVE9SLlNFTEVDVElPTl9URVhUPTI7Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQ9MztDS0VESVRPUi5kb20uc2VsZWN0aW9uPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uc2VsZWN0aW9uKXt2YXIgYj1hO2E9YS5yb290fXZhciBjPWEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudDtcbnRoaXMucmV2PWI/Yi5yZXY6cSsrO3RoaXMuZG9jdW1lbnQ9YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5kb2N1bWVudD9hOmEuZ2V0RG9jdW1lbnQoKTt0aGlzLnJvb3Q9Yz9hOnRoaXMuZG9jdW1lbnQuZ2V0Qm9keSgpO3RoaXMuaXNMb2NrZWQ9MDt0aGlzLl89e2NhY2hlOnt9fTtpZihiKXJldHVybiBDS0VESVRPUi50b29scy5leHRlbmQodGhpcy5fLmNhY2hlLGIuXy5jYWNoZSksdGhpcy5pc0Zha2U9Yi5pc0Zha2UsdGhpcy5pc0xvY2tlZD1iLmlzTG9ja2VkLHRoaXM7YT10aGlzLmdldE5hdGl2ZSgpO3ZhciBkLGU7aWYoYSlpZihhLmdldFJhbmdlQXQpZD0oZT1hLnJhbmdlQ291bnQmJmEuZ2V0UmFuZ2VBdCgwKSkmJm5ldyBDS0VESVRPUi5kb20ubm9kZShlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKTtlbHNle3RyeXtlPWEuY3JlYXRlUmFuZ2UoKX1jYXRjaChnKXt9ZD1lJiZDS0VESVRPUi5kb20uZWxlbWVudC5nZXQoZS5pdGVtJiZlLml0ZW0oMCl8fGUucGFyZW50RWxlbWVudCgpKX1pZighZHx8XG5kLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFR8fCF0aGlzLnJvb3QuZXF1YWxzKGQpJiYhdGhpcy5yb290LmNvbnRhaW5zKGQpKXRoaXMuXy5jYWNoZS50eXBlPUNLRURJVE9SLlNFTEVDVElPTl9OT05FLHRoaXMuXy5jYWNoZS5zdGFydEVsZW1lbnQ9bnVsbCx0aGlzLl8uY2FjaGUuc2VsZWN0ZWRFbGVtZW50PW51bGwsdGhpcy5fLmNhY2hlLnNlbGVjdGVkVGV4dD1cIlwiLHRoaXMuXy5jYWNoZS5yYW5nZXM9bmV3IENLRURJVE9SLmRvbS5yYW5nZUxpc3Q7cmV0dXJuIHRoaXN9O3ZhciB4PXtpbWc6MSxocjoxLGxpOjEsdGFibGU6MSx0cjoxLHRkOjEsdGg6MSxlbWJlZDoxLG9iamVjdDoxLG9sOjEsdWw6MSxhOjEsaW5wdXQ6MSxmb3JtOjEsc2VsZWN0OjEsdGV4dGFyZWE6MSxidXR0b246MSxmaWVsZHNldDoxLHRoZWFkOjEsdGZvb3Q6MX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5zZWxlY3Rpb24se19yZW1vdmVGaWxsaW5nQ2hhclNlcXVlbmNlU3RyaW5nOmQsXG5fY3JlYXRlRmlsbGluZ0NoYXJTZXF1ZW5jZU5vZGU6bSxGSUxMSU5HX0NIQVJfU0VRVUVOQ0U6cH0pO0NLRURJVE9SLmRvbS5zZWxlY3Rpb24ucHJvdG90eXBlPXtnZXROYXRpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fLmNhY2hlLm5hdGl2ZVNlbD90aGlzLl8uY2FjaGUubmF0aXZlU2VsOnRoaXMuXy5jYWNoZS5uYXRpdmVTZWw9bj90aGlzLmRvY3VtZW50LiQuc2VsZWN0aW9uOnRoaXMuZG9jdW1lbnQuZ2V0V2luZG93KCkuJC5nZXRTZWxlY3Rpb24oKX0sZ2V0VHlwZTpuP2Z1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKGEudHlwZSlyZXR1cm4gYS50eXBlO3ZhciBiPUNLRURJVE9SLlNFTEVDVElPTl9OT05FO3RyeXt2YXIgYz10aGlzLmdldE5hdGl2ZSgpLGQ9Yy50eXBlO1wiVGV4dFwiPT1kJiYoYj1DS0VESVRPUi5TRUxFQ1RJT05fVEVYVCk7XCJDb250cm9sXCI9PWQmJihiPUNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UKTtjLmNyZWF0ZVJhbmdlKCkucGFyZW50RWxlbWVudCgpJiZcbihiPUNLRURJVE9SLlNFTEVDVElPTl9URVhUKX1jYXRjaChlKXt9cmV0dXJuIGEudHlwZT1ifTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZihhLnR5cGUpcmV0dXJuIGEudHlwZTt2YXIgYj1DS0VESVRPUi5TRUxFQ1RJT05fVEVYVCxjPXRoaXMuZ2V0TmF0aXZlKCk7aWYoIWN8fCFjLnJhbmdlQ291bnQpYj1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORTtlbHNlIGlmKDE9PWMucmFuZ2VDb3VudCl7dmFyIGM9Yy5nZXRSYW5nZUF0KDApLGQ9Yy5zdGFydENvbnRhaW5lcjtkPT1jLmVuZENvbnRhaW5lciYmMT09ZC5ub2RlVHlwZSYmMT09Yy5lbmRPZmZzZXQtYy5zdGFydE9mZnNldCYmeFtkLmNoaWxkTm9kZXNbYy5zdGFydE9mZnNldF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0mJihiPUNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UKX1yZXR1cm4gYS50eXBlPWJ9LGdldFJhbmdlczpmdW5jdGlvbigpe3ZhciBhPW4/ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe3JldHVybihuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYikpLmdldEluZGV4KCl9XG52YXIgYj1mdW5jdGlvbihiLGMpe2I9Yi5kdXBsaWNhdGUoKTtiLmNvbGxhcHNlKGMpO3ZhciBkPWIucGFyZW50RWxlbWVudCgpO2lmKCFkLmhhc0NoaWxkTm9kZXMoKSlyZXR1cm57Y29udGFpbmVyOmQsb2Zmc2V0OjB9O2Zvcih2YXIgZT1kLmNoaWxkcmVuLGcsZixrPWIuZHVwbGljYXRlKCksaD0wLGw9ZS5sZW5ndGgtMSxtPS0xLG4sdTtoPD1sOylpZihtPU1hdGguZmxvb3IoKGgrbCkvMiksZz1lW21dLGsubW92ZVRvRWxlbWVudFRleHQoZyksbj1rLmNvbXBhcmVFbmRQb2ludHMoXCJTdGFydFRvU3RhcnRcIixiKSwwPG4pbD1tLTE7ZWxzZSBpZigwPm4paD1tKzE7ZWxzZSByZXR1cm57Y29udGFpbmVyOmQsb2Zmc2V0OmEoZyl9O2lmKC0xPT1tfHxtPT1lLmxlbmd0aC0xJiYwPm4pe2subW92ZVRvRWxlbWVudFRleHQoZCk7ay5zZXRFbmRQb2ludChcIlN0YXJ0VG9TdGFydFwiLGIpO2s9ay50ZXh0LnJlcGxhY2UoLyhcXHJcXG58XFxyKS9nLFwiXFxuXCIpLmxlbmd0aDtlPWQuY2hpbGROb2RlcztpZighaylyZXR1cm4gZz1cbmVbZS5sZW5ndGgtMV0sZy5ub2RlVHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUP3tjb250YWluZXI6ZCxvZmZzZXQ6ZS5sZW5ndGh9Ontjb250YWluZXI6ZyxvZmZzZXQ6Zy5ub2RlVmFsdWUubGVuZ3RofTtmb3IoZD1lLmxlbmd0aDswPGsmJjA8ZDspZj1lWy0tZF0sZi5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYodT1mLGstPWYubm9kZVZhbHVlLmxlbmd0aCk7cmV0dXJue2NvbnRhaW5lcjp1LG9mZnNldDota319ay5jb2xsYXBzZSgwPG4/ITA6ITEpO2suc2V0RW5kUG9pbnQoMDxuP1wiU3RhcnRUb1N0YXJ0XCI6XCJFbmRUb1N0YXJ0XCIsYik7az1rLnRleHQucmVwbGFjZSgvKFxcclxcbnxcXHIpL2csXCJcXG5cIikubGVuZ3RoO2lmKCFrKXJldHVybntjb250YWluZXI6ZCxvZmZzZXQ6YShnKSsoMDxuPzA6MSl9O2Zvcig7MDxrOyl0cnl7Zj1nWzA8bj9cInByZXZpb3VzU2libGluZ1wiOlwibmV4dFNpYmxpbmdcIl0sZi5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoay09Zi5ub2RlVmFsdWUubGVuZ3RoLFxudT1mKSxnPWZ9Y2F0Y2godCl7cmV0dXJue2NvbnRhaW5lcjpkLG9mZnNldDphKGcpfX1yZXR1cm57Y29udGFpbmVyOnUsb2Zmc2V0OjA8bj8tazp1Lm5vZGVWYWx1ZS5sZW5ndGgra319O3JldHVybiBmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0TmF0aXZlKCksYz1hJiZhLmNyZWF0ZVJhbmdlKCksZD10aGlzLmdldFR5cGUoKTtpZighYSlyZXR1cm5bXTtpZihkPT1DS0VESVRPUi5TRUxFQ1RJT05fVEVYVClyZXR1cm4gYT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCksZD1iKGMsITApLGEuc2V0U3RhcnQobmV3IENLRURJVE9SLmRvbS5ub2RlKGQuY29udGFpbmVyKSxkLm9mZnNldCksZD1iKGMpLGEuc2V0RW5kKG5ldyBDS0VESVRPUi5kb20ubm9kZShkLmNvbnRhaW5lciksZC5vZmZzZXQpLGEuZW5kQ29udGFpbmVyLmdldFBvc2l0aW9uKGEuc3RhcnRDb250YWluZXIpJkNLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORyYmYS5lbmRPZmZzZXQ8PWEuc3RhcnRDb250YWluZXIuZ2V0SW5kZXgoKSYmXG5hLmNvbGxhcHNlKCksW2FdO2lmKGQ9PUNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UKXtmb3IodmFyIGQ9W10sZT0wO2U8Yy5sZW5ndGg7ZSsrKXtmb3IodmFyIGc9Yy5pdGVtKGUpLGY9Zy5wYXJlbnROb2RlLGs9MCxhPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtrPGYuY2hpbGROb2Rlcy5sZW5ndGgmJmYuY2hpbGROb2Rlc1trXSE9ZztrKyspO2Euc2V0U3RhcnQobmV3IENLRURJVE9SLmRvbS5ub2RlKGYpLGspO2Euc2V0RW5kKG5ldyBDS0VESVRPUi5kb20ubm9kZShmKSxrKzEpO2QucHVzaChhKX1yZXR1cm4gZH1yZXR1cm5bXX19KCk6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiLGM9dGhpcy5nZXROYXRpdmUoKTtpZighYylyZXR1cm4gYTtmb3IodmFyIGQ9MDtkPGMucmFuZ2VDb3VudDtkKyspe3ZhciBlPWMuZ2V0UmFuZ2VBdChkKTtiPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtiLnNldFN0YXJ0KG5ldyBDS0VESVRPUi5kb20ubm9kZShlLnN0YXJ0Q29udGFpbmVyKSxcbmUuc3RhcnRPZmZzZXQpO2Iuc2V0RW5kKG5ldyBDS0VESVRPUi5kb20ubm9kZShlLmVuZENvbnRhaW5lciksZS5lbmRPZmZzZXQpO2EucHVzaChiKX1yZXR1cm4gYX07cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuXy5jYWNoZSxkPWMucmFuZ2VzO2R8fChjLnJhbmdlcz1kPW5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KGEuY2FsbCh0aGlzKSkpO3JldHVybiBiP2cobmV3IENLRURJVE9SLmRvbS5yYW5nZUxpc3QoZC5zbGljZSgpKSk6ZH19KCksZ2V0U3RhcnRFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKHZvaWQgMCE9PWEuc3RhcnRFbGVtZW50KXJldHVybiBhLnN0YXJ0RWxlbWVudDt2YXIgYjtzd2l0Y2godGhpcy5nZXRUeXBlKCkpe2Nhc2UgQ0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQ6cmV0dXJuIHRoaXMuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7Y2FzZSBDS0VESVRPUi5TRUxFQ1RJT05fVEVYVDp2YXIgYz10aGlzLmdldFJhbmdlcygpWzBdO1xuaWYoYyl7aWYoYy5jb2xsYXBzZWQpYj1jLnN0YXJ0Q29udGFpbmVyLGIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYj1iLmdldFBhcmVudCgpKTtlbHNle2ZvcihjLm9wdGltaXplKCk7Yj1jLnN0YXJ0Q29udGFpbmVyLGMuc3RhcnRPZmZzZXQ9PShiLmdldENoaWxkQ291bnQ/Yi5nZXRDaGlsZENvdW50KCk6Yi5nZXRMZW5ndGgoKSkmJiFiLmlzQmxvY2tCb3VuZGFyeSgpOyljLnNldFN0YXJ0QWZ0ZXIoYik7Yj1jLnN0YXJ0Q29udGFpbmVyO2lmKGIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXJldHVybiBiLmdldFBhcmVudCgpO2lmKChiPWIuZ2V0Q2hpbGQoYy5zdGFydE9mZnNldCkpJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClmb3IoYz1iLmdldEZpcnN0KCk7YyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ7KWI9YyxjPWMuZ2V0Rmlyc3QoKTtlbHNlIGI9Yy5zdGFydENvbnRhaW5lcn1iPWIuJH19cmV0dXJuIGEuc3RhcnRFbGVtZW50PWI/XG5uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYik6bnVsbH0sZ2V0U2VsZWN0ZWRFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKHZvaWQgMCE9PWEuc2VsZWN0ZWRFbGVtZW50KXJldHVybiBhLnNlbGVjdGVkRWxlbWVudDt2YXIgYj10aGlzLGM9Q0tFRElUT1IudG9vbHMudHJ5VGhlc2UoZnVuY3Rpb24oKXtyZXR1cm4gYi5nZXROYXRpdmUoKS5jcmVhdGVSYW5nZSgpLml0ZW0oMCl9LGZ1bmN0aW9uKCl7Zm9yKHZhciBhPWIuZ2V0UmFuZ2VzKClbMF0uY2xvbmUoKSxjLGQsZT0yO2UmJiEoKGM9YS5nZXRFbmNsb3NlZE5vZGUoKSkmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ4W2MuZ2V0TmFtZSgpXSYmKGQ9YykpO2UtLSlhLnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCk7cmV0dXJuIGQmJmQuJH0pO3JldHVybiBhLnNlbGVjdGVkRWxlbWVudD1jP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChjKTpudWxsfSxnZXRTZWxlY3RlZFRleHQ6ZnVuY3Rpb24oKXt2YXIgYT1cbnRoaXMuXy5jYWNoZTtpZih2b2lkIDAhPT1hLnNlbGVjdGVkVGV4dClyZXR1cm4gYS5zZWxlY3RlZFRleHQ7dmFyIGI9dGhpcy5nZXROYXRpdmUoKSxiPW4/XCJDb250cm9sXCI9PWIudHlwZT9cIlwiOmIuY3JlYXRlUmFuZ2UoKS50ZXh0OmIudG9TdHJpbmcoKTtyZXR1cm4gYS5zZWxlY3RlZFRleHQ9Yn0sbG9jazpmdW5jdGlvbigpe3RoaXMuZ2V0UmFuZ2VzKCk7dGhpcy5nZXRTdGFydEVsZW1lbnQoKTt0aGlzLmdldFNlbGVjdGVkRWxlbWVudCgpO3RoaXMuZ2V0U2VsZWN0ZWRUZXh0KCk7dGhpcy5fLmNhY2hlLm5hdGl2ZVNlbD1udWxsO3RoaXMuaXNMb2NrZWQ9MX0sdW5sb2NrOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNMb2NrZWQpe2lmKGEpdmFyIGI9dGhpcy5nZXRTZWxlY3RlZEVsZW1lbnQoKSxjPSFiJiZ0aGlzLmdldFJhbmdlcygpLGQ9dGhpcy5pc0Zha2U7dGhpcy5pc0xvY2tlZD0wO3RoaXMucmVzZXQoKTthJiYoYT1ifHxjWzBdJiZjWzBdLmdldENvbW1vbkFuY2VzdG9yKCkpJiZcbmEuZ2V0QXNjZW5kYW50KFwiYm9keVwiLDEpJiYoZD90aGlzLmZha2UoYik6Yj90aGlzLnNlbGVjdEVsZW1lbnQoYik6dGhpcy5zZWxlY3RSYW5nZXMoYykpfX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl8uY2FjaGU9e307dGhpcy5pc0Zha2U9MDt2YXIgYT10aGlzLnJvb3QuZWRpdG9yO2lmKGEmJmEuXy5mYWtlU2VsZWN0aW9uKWlmKHRoaXMucmV2PT1hLl8uZmFrZVNlbGVjdGlvbi5yZXYpe2RlbGV0ZSBhLl8uZmFrZVNlbGVjdGlvbjt2YXIgYj1hLl8uaGlkZGVuU2VsZWN0aW9uQ29udGFpbmVyO2lmKGIpe3ZhciBjPWEuY2hlY2tEaXJ0eSgpO2EuZmlyZShcImxvY2tTbmFwc2hvdFwiKTtiLnJlbW92ZSgpO2EuZmlyZShcInVubG9ja1NuYXBzaG90XCIpOyFjJiZhLnJlc2V0RGlydHkoKX1kZWxldGUgYS5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcn1lbHNlIENLRURJVE9SLndhcm4oXCJzZWxlY3Rpb24tZmFrZS1yZXNldFwiKTt0aGlzLnJldj1xKyt9LHNlbGVjdEVsZW1lbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9XG5uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7Yi5zZXRTdGFydEJlZm9yZShhKTtiLnNldEVuZEFmdGVyKGEpO3RoaXMuc2VsZWN0UmFuZ2VzKFtiXSl9LHNlbGVjdFJhbmdlczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnJvb3QuZWRpdG9yLGI9YiYmYi5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcjt0aGlzLnJlc2V0KCk7aWYoYilmb3IodmFyIGI9dGhpcy5yb290LGMsZD0wO2Q8YS5sZW5ndGg7KytkKWM9YVtkXSxjLmVuZENvbnRhaW5lci5lcXVhbHMoYikmJihjLmVuZE9mZnNldD1NYXRoLm1pbihjLmVuZE9mZnNldCxiLmdldENoaWxkQ291bnQoKSkpO2lmKGEubGVuZ3RoKWlmKHRoaXMuaXNMb2NrZWQpe3ZhciBnPUNLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpO3RoaXMudW5sb2NrKCk7dGhpcy5zZWxlY3RSYW5nZXMoYSk7dGhpcy5sb2NrKCk7ZyYmIWcuZXF1YWxzKHRoaXMucm9vdCkmJmcuZm9jdXMoKX1lbHNle3ZhciBmO2E6e3ZhciBrLGg7aWYoMT09YS5sZW5ndGgmJlxuIShoPWFbMF0pLmNvbGxhcHNlZCYmKGY9aC5nZXRFbmNsb3NlZE5vZGUoKSkmJmYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoaD1oLmNsb25lKCksaC5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQsITApLChrPWguZ2V0RW5jbG9zZWROb2RlKCkpJiZrLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGY9ayksXCJmYWxzZVwiPT1mLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSkpYnJlYWsgYTtmPXZvaWQgMH1pZihmKXRoaXMuZmFrZShmKTtlbHNle2lmKG4pe2g9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCk7az0vXFx1ZmVmZnxcXHUwMGEwLztiPXt0YWJsZToxLHRib2R5OjEsdHI6MX07MTxhLmxlbmd0aCYmKGY9YVthLmxlbmd0aC0xXSxhWzBdLnNldEVuZChmLmVuZENvbnRhaW5lcixmLmVuZE9mZnNldCkpO2Y9YVswXTthPWYuY29sbGFwc2VkO3ZhciB1LHQscjtpZigoYz1mLmdldEVuY2xvc2VkTm9kZSgpKSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxuYy5nZXROYW1lKClpbiB4JiYoIWMuaXMoXCJhXCIpfHwhYy5nZXRUZXh0KCkpKXRyeXtyPWMuJC5jcmVhdGVDb250cm9sUmFuZ2UoKTtyLmFkZEVsZW1lbnQoYy4kKTtyLnNlbGVjdCgpO3JldHVybn1jYXRjaChwKXt9aWYoZi5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmYuc3RhcnRDb250YWluZXIuZ2V0TmFtZSgpaW4gYnx8Zi5lbmRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZmLmVuZENvbnRhaW5lci5nZXROYW1lKClpbiBiKWYuc2hyaW5rKENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCksYT1mLmNvbGxhcHNlZDtyPWYuY3JlYXRlQm9va21hcmsoKTtiPXIuc3RhcnROb2RlO2F8fChnPXIuZW5kTm9kZSk7cj1mLmRvY3VtZW50LiQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtyLm1vdmVUb0VsZW1lbnRUZXh0KGIuJCk7ci5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwxKTtnPyhrPWYuZG9jdW1lbnQuJC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpLFxuay5tb3ZlVG9FbGVtZW50VGV4dChnLiQpLHIuc2V0RW5kUG9pbnQoXCJFbmRUb0VuZFwiLGspLHIubW92ZUVuZChcImNoYXJhY3RlclwiLC0xKSk6KHU9Yi5nZXROZXh0KGgpLHQ9Yi5oYXNBc2NlbmRhbnQoXCJwcmVcIiksdT0hKHUmJnUuZ2V0VGV4dCYmdS5nZXRUZXh0KCkubWF0Y2goaykpJiYodHx8IWIuaGFzUHJldmlvdXMoKXx8Yi5nZXRQcmV2aW91cygpLmlzJiZiLmdldFByZXZpb3VzKCkuaXMoXCJiclwiKSksdD1mLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHQuc2V0SHRtbChcIlxceDI2IzY1Mjc5O1wiKSx0Lmluc2VydEJlZm9yZShiKSx1JiZmLmRvY3VtZW50LmNyZWF0ZVRleHQoXCLvu79cIikuaW5zZXJ0QmVmb3JlKGIpKTtmLnNldFN0YXJ0QmVmb3JlKGIpO2IucmVtb3ZlKCk7YT8odT8oci5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwtMSksci5zZWxlY3QoKSxmLmRvY3VtZW50LiQuc2VsZWN0aW9uLmNsZWFyKCkpOnIuc2VsZWN0KCksZi5tb3ZlVG9Qb3NpdGlvbih0LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksXG50LnJlbW92ZSgpKTooZi5zZXRFbmRCZWZvcmUoZyksZy5yZW1vdmUoKSxyLnNlbGVjdCgpKX1lbHNle2c9dGhpcy5nZXROYXRpdmUoKTtpZighZylyZXR1cm47dGhpcy5yZW1vdmVBbGxSYW5nZXMoKTtmb3Iocj0wO3I8YS5sZW5ndGg7cisrKXtpZihyPGEubGVuZ3RoLTEmJih1PWFbcl0sdD1hW3IrMV0saz11LmNsb25lKCksay5zZXRTdGFydCh1LmVuZENvbnRhaW5lcix1LmVuZE9mZnNldCksay5zZXRFbmQodC5zdGFydENvbnRhaW5lcix0LnN0YXJ0T2Zmc2V0KSwhay5jb2xsYXBzZWQmJihrLnNocmluayhDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApLGY9ay5nZXRDb21tb25BbmNlc3RvcigpLGs9ay5nZXRFbmNsb3NlZE5vZGUoKSxmLmlzUmVhZE9ubHkoKXx8ayYmay5pc1JlYWRPbmx5KCkpKSl7dC5zZXRTdGFydCh1LnN0YXJ0Q29udGFpbmVyLHUuc3RhcnRPZmZzZXQpO2Euc3BsaWNlKHItLSwxKTtjb250aW51ZX1mPWFbcl07dD10aGlzLmRvY3VtZW50LiQuY3JlYXRlUmFuZ2UoKTtcbmYuY29sbGFwc2VkJiZDS0VESVRPUi5lbnYud2Via2l0JiZlKGYpJiYoaz1tKHRoaXMucm9vdCksZi5pbnNlcnROb2RlKGspLCh1PWsuZ2V0TmV4dCgpKSYmIWsuZ2V0UHJldmlvdXMoKSYmdS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiYnJcIj09dS5nZXROYW1lKCk/KGwodGhpcy5yb290KSxmLm1vdmVUb1Bvc2l0aW9uKHUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSk6Zi5tb3ZlVG9Qb3NpdGlvbihrLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpO3Quc2V0U3RhcnQoZi5zdGFydENvbnRhaW5lci4kLGYuc3RhcnRPZmZzZXQpO3RyeXt0LnNldEVuZChmLmVuZENvbnRhaW5lci4kLGYuZW5kT2Zmc2V0KX1jYXRjaCh2KXtpZigwPD12LnRvU3RyaW5nKCkuaW5kZXhPZihcIk5TX0VSUk9SX0lMTEVHQUxfVkFMVUVcIikpZi5jb2xsYXBzZSgxKSx0LnNldEVuZChmLmVuZENvbnRhaW5lci4kLGYuZW5kT2Zmc2V0KTtlbHNlIHRocm93IHY7fWcuYWRkUmFuZ2UodCl9fXRoaXMucmVzZXQoKTtcbnRoaXMucm9vdC5maXJlKFwic2VsZWN0aW9uY2hhbmdlXCIpfX19LGZha2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJvb3QuZWRpdG9yO3ZvaWQgMD09PWImJmEuaGFzQXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSYmKGI9YS5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpKTt0aGlzLnJlc2V0KCk7aChjLGIpO3ZhciBkPXRoaXMuXy5jYWNoZSxlPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtlLnNldFN0YXJ0QmVmb3JlKGEpO2Uuc2V0RW5kQWZ0ZXIoYSk7ZC5yYW5nZXM9bmV3IENLRURJVE9SLmRvbS5yYW5nZUxpc3QoZSk7ZC5zZWxlY3RlZEVsZW1lbnQ9ZC5zdGFydEVsZW1lbnQ9YTtkLnR5cGU9Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQ7ZC5zZWxlY3RlZFRleHQ9ZC5uYXRpdmVTZWw9bnVsbDt0aGlzLmlzRmFrZT0xO3RoaXMucmV2PXErKztjLl8uZmFrZVNlbGVjdGlvbj10aGlzO3RoaXMucm9vdC5maXJlKFwic2VsZWN0aW9uY2hhbmdlXCIpfSxpc0hpZGRlbjpmdW5jdGlvbigpe3ZhciBhPVxudGhpcy5nZXRDb21tb25BbmNlc3RvcigpO2EmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYT1hLmdldFBhcmVudCgpKTtyZXR1cm4hKCFhfHwhYS5kYXRhKFwiY2tlLWhpZGRlbi1zZWxcIikpfSxjcmVhdGVCb29rbWFya3M6ZnVuY3Rpb24oYSl7YT10aGlzLmdldFJhbmdlcygpLmNyZWF0ZUJvb2ttYXJrcyhhKTt0aGlzLmlzRmFrZSYmKGEuaXNGYWtlPTEpO3JldHVybiBhfSxjcmVhdGVCb29rbWFya3MyOmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRSYW5nZXMoKS5jcmVhdGVCb29rbWFya3MyKGEpO3RoaXMuaXNGYWtlJiYoYS5pc0Zha2U9MSk7cmV0dXJuIGF9LHNlbGVjdEJvb2ttYXJrczpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYyxkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtlLm1vdmVUb0Jvb2ttYXJrKGFbZF0pO2IucHVzaChlKX1hLmlzRmFrZSYmKGM9YlswXS5nZXRFbmNsb3NlZE5vZGUoKSxjJiZjLnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9FTEVNRU5UfHwoQ0tFRElUT1Iud2FybihcInNlbGVjdGlvbi1ub3QtZmFrZVwiKSxhLmlzRmFrZT0wKSk7YS5pc0Zha2U/dGhpcy5mYWtlKGMpOnRoaXMuc2VsZWN0UmFuZ2VzKGIpO3JldHVybiB0aGlzfSxnZXRDb21tb25BbmNlc3RvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0UmFuZ2VzKCk7cmV0dXJuIGEubGVuZ3RoP2FbMF0uc3RhcnRDb250YWluZXIuZ2V0Q29tbW9uQW5jZXN0b3IoYVthLmxlbmd0aC0xXS5lbmRDb250YWluZXIpOm51bGx9LHNjcm9sbEludG9WaWV3OmZ1bmN0aW9uKCl7dGhpcy50eXBlIT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORSYmdGhpcy5nZXRSYW5nZXMoKVswXS5zY3JvbGxJbnRvVmlldygpfSxyZW1vdmVBbGxSYW5nZXM6ZnVuY3Rpb24oKXtpZih0aGlzLmdldFR5cGUoKSE9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUpe3ZhciBhPXRoaXMuZ2V0TmF0aXZlKCk7dHJ5e2EmJmFbbj9cImVtcHR5XCI6XCJyZW1vdmVBbGxSYW5nZXNcIl0oKX1jYXRjaChiKXt9dGhpcy5yZXNldCgpfX19fSgpLFxuXCJ1c2Ugc3RyaWN0XCIsQ0tFRElUT1IuU1RZTEVfQkxPQ0s9MSxDS0VESVRPUi5TVFlMRV9JTkxJTkU9MixDS0VESVRPUi5TVFlMRV9PQkpFQ1Q9MyxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtmb3IodmFyIGMsZDsoYT1hLmdldFBhcmVudCgpKSYmIWEuZXF1YWxzKGIpOylpZihhLmdldEF0dHJpYnV0ZShcImRhdGEtbm9zdHlsZVwiKSljPWE7ZWxzZSBpZighZCl7dmFyIGU9YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIik7XCJmYWxzZVwiPT1lP2M9YTpcInRydWVcIj09ZSYmKGQ9MSl9cmV0dXJuIGN9ZnVuY3Rpb24gZihhLGIsYyxkKXtyZXR1cm4oYS5nZXRQb3NpdGlvbihiKXxkKT09ZCYmKCFjLmNoaWxkUnVsZXx8Yy5jaGlsZFJ1bGUoYSkpfWZ1bmN0aW9uIGIoYyl7dmFyIGQ9Yy5kb2N1bWVudDtpZihjLmNvbGxhcHNlZClkPXUodGhpcyxkKSxjLmluc2VydE5vZGUoZCksYy5tb3ZlVG9Qb3NpdGlvbihkLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2Vsc2V7dmFyIGc9XG50aGlzLmVsZW1lbnQsaz10aGlzLl8uZGVmaW5pdGlvbixoLGw9ay5pZ25vcmVSZWFkb25seSxtPWx8fGsuaW5jbHVkZVJlYWRvbmx5O251bGw9PW0mJihtPWMucm9vdC5nZXRDdXN0b21EYXRhKFwiY2tlX2luY2x1ZGVSZWFkb25seVwiKSk7dmFyIG49Q0tFRElUT1IuZHRkW2ddO258fChoPSEwLG49Q0tFRElUT1IuZHRkLnNwYW4pO2MuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0lOTElORSwxKTtjLnRyaW0oKTt2YXIgcj1jLmNyZWF0ZUJvb2ttYXJrKCkscD1yLnN0YXJ0Tm9kZSx2PXIuZW5kTm9kZSxxPXAsQjtpZighbCl7dmFyIHc9Yy5nZXRDb21tb25BbmNlc3RvcigpLGw9YShwLHcpLHc9YSh2LHcpO2wmJihxPWwuZ2V0TmV4dFNvdXJjZU5vZGUoITApKTt3JiYodj13KX1mb3IocS5nZXRQb3NpdGlvbih2KT09Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HJiYocT0wKTtxOyl7bD0hMTtpZihxLmVxdWFscyh2KSlxPW51bGwsbD0hMDtlbHNle3ZhciB4PXEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP1xucS5nZXROYW1lKCk6bnVsbCx3PXgmJlwiZmFsc2VcIj09cS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIiksej14JiZxLmdldEF0dHJpYnV0ZShcImRhdGEtbm9zdHlsZVwiKTtpZih4JiZxLmRhdGEoXCJja2UtYm9va21hcmtcIikpe3E9cS5nZXROZXh0U291cmNlTm9kZSghMCk7Y29udGludWV9aWYodyYmbSYmQ0tFRElUT1IuZHRkLiRibG9ja1t4XSlmb3IodmFyIEQ9cSx5PWUoRCksQT12b2lkIDAsQz15Lmxlbmd0aCxlYT0wLEQ9QyYmbmV3IENLRURJVE9SLmRvbS5yYW5nZShELmdldERvY3VtZW50KCkpO2VhPEM7KytlYSl7dmFyIEE9eVtlYV0sZ2E9Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1tBLmRhdGEoXCJja2UtZmlsdGVyXCIpXTtpZihnYT9nYS5jaGVjayh0aGlzKToxKUQuc2VsZWN0Tm9kZUNvbnRlbnRzKEEpLGIuY2FsbCh0aGlzLEQpfXk9eD8hblt4XXx8ej8wOncmJiFtPzA6ZihxLHYsayxNKToxO2lmKHkpaWYoQT1xLmdldFBhcmVudCgpLHk9ayxDPWcsZWE9aCwhQXx8IShBLmdldER0ZCgpfHxcbkNLRURJVE9SLmR0ZC5zcGFuKVtDXSYmIWVhfHx5LnBhcmVudFJ1bGUmJiF5LnBhcmVudFJ1bGUoQSkpbD0hMDtlbHNle2lmKEJ8fHgmJkNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbeF0mJihxLmdldFBvc2l0aW9uKHYpfE0pIT1NfHwoQj1jLmNsb25lKCksQi5zZXRTdGFydEJlZm9yZShxKSkseD1xLnR5cGUseD09Q0tFRElUT1IuTk9ERV9URVhUfHx3fHx4PT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFxLmdldENoaWxkQ291bnQoKSl7Zm9yKHZhciB4PXEsRTsobD0heC5nZXROZXh0KEopKSYmKEU9eC5nZXRQYXJlbnQoKSxuW0UuZ2V0TmFtZSgpXSkmJmYoRSxwLGssSSk7KXg9RTtCLnNldEVuZEFmdGVyKHgpfX1lbHNlIGw9ITA7cT1xLmdldE5leHRTb3VyY2VOb2RlKHp8fHcpfWlmKGwmJkImJiFCLmNvbGxhcHNlZCl7Zm9yKHZhciBsPXUodGhpcyxkKSx3PWwuaGFzQXR0cmlidXRlcygpLHo9Qi5nZXRDb21tb25BbmNlc3RvcigpLHg9e30seT17fSxBPXt9LEM9e30sYWEsRyxGO2wmJlxuejspe2lmKHouZ2V0TmFtZSgpPT1nKXtmb3IoYWEgaW4gay5hdHRyaWJ1dGVzKSFDW2FhXSYmKEY9ei5nZXRBdHRyaWJ1dGUoRykpJiYobC5nZXRBdHRyaWJ1dGUoYWEpPT1GP3lbYWFdPTE6Q1thYV09MSk7Zm9yKEcgaW4gay5zdHlsZXMpIUFbR10mJihGPXouZ2V0U3R5bGUoRykpJiYobC5nZXRTdHlsZShHKT09Rj94W0ddPTE6QVtHXT0xKX16PXouZ2V0UGFyZW50KCl9Zm9yKGFhIGluIHkpbC5yZW1vdmVBdHRyaWJ1dGUoYWEpO2ZvcihHIGluIHgpbC5yZW1vdmVTdHlsZShHKTt3JiYhbC5oYXNBdHRyaWJ1dGVzKCkmJihsPW51bGwpO2w/KEIuZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8obCksQi5pbnNlcnROb2RlKGwpLHQuY2FsbCh0aGlzLGwpLGwubWVyZ2VTaWJsaW5ncygpLENLRURJVE9SLmVudi5pZXx8bC4kLm5vcm1hbGl6ZSgpKToobD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzcGFuXCIpLEIuZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8obCksQi5pbnNlcnROb2RlKGwpLFxudC5jYWxsKHRoaXMsbCksbC5yZW1vdmUoITApKTtCPW51bGx9fWMubW92ZVRvQm9va21hcmsocik7Yy5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX1RFWFQpO2Muc2hyaW5rKENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCl9fWZ1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gYigpe2Zvcih2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQuZ2V0UGFyZW50KCkpLGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChsLmdldFBhcmVudCgpKSxlPW51bGwsZz1udWxsLGY9MDtmPGEuZWxlbWVudHMubGVuZ3RoO2YrKyl7dmFyIGs9YS5lbGVtZW50c1tmXTtpZihrPT1hLmJsb2NrfHxrPT1hLmJsb2NrTGltaXQpYnJlYWs7bS5jaGVja0VsZW1lbnRSZW1vdmFibGUoaywhMCkmJihlPWspfWZvcihmPTA7ZjxjLmVsZW1lbnRzLmxlbmd0aDtmKyspe2s9Yy5lbGVtZW50c1tmXTtpZihrPT1jLmJsb2NrfHxrPT1jLmJsb2NrTGltaXQpYnJlYWs7bS5jaGVja0VsZW1lbnRSZW1vdmFibGUoaywhMCkmJlxuKGc9ayl9ZyYmbC5icmVha1BhcmVudChnKTtlJiZkLmJyZWFrUGFyZW50KGUpfWEuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0lOTElORSwxKTt2YXIgYz1hLmNyZWF0ZUJvb2ttYXJrKCksZD1jLnN0YXJ0Tm9kZTtpZihhLmNvbGxhcHNlZCl7Zm9yKHZhciBlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZC5nZXRQYXJlbnQoKSxhLnJvb3QpLGcsZj0wLGs7ZjxlLmVsZW1lbnRzLmxlbmd0aCYmKGs9ZS5lbGVtZW50c1tmXSkmJmshPWUuYmxvY2smJmshPWUuYmxvY2tMaW1pdDtmKyspaWYodGhpcy5jaGVja0VsZW1lbnRSZW1vdmFibGUoaykpe3ZhciBoO2EuY29sbGFwc2VkJiYoYS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGssQ0tFRElUT1IuRU5EKXx8KGg9YS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGssQ0tFRElUT1IuU1RBUlQpKSk/KGc9ayxnLm1hdGNoPWg/XCJzdGFydFwiOlwiZW5kXCIpOihrLm1lcmdlU2libGluZ3MoKSxrLmlzKHRoaXMuZWxlbWVudCk/cC5jYWxsKHRoaXMsXG5rKTp2KGssdyh0aGlzKVtrLmdldE5hbWUoKV0pKX1pZihnKXtrPWQ7Zm9yKGY9MDs7ZisrKXtoPWUuZWxlbWVudHNbZl07aWYoaC5lcXVhbHMoZykpYnJlYWs7ZWxzZSBpZihoLm1hdGNoKWNvbnRpbnVlO2Vsc2UgaD1oLmNsb25lKCk7aC5hcHBlbmQoayk7az1ofWtbXCJzdGFydFwiPT1nLm1hdGNoP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShnKX19ZWxzZXt2YXIgbD1jLmVuZE5vZGUsbT10aGlzO2IoKTtmb3IoZT1kOyFlLmVxdWFscyhsKTspZz1lLmdldE5leHRTb3VyY2VOb2RlKCksZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGUpJiYoZS5nZXROYW1lKCk9PXRoaXMuZWxlbWVudD9wLmNhbGwodGhpcyxlKTp2KGUsdyh0aGlzKVtlLmdldE5hbWUoKV0pLGcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZnLmNvbnRhaW5zKGQpJiYoYigpLGc9ZC5nZXROZXh0KCkpKSxlPWd9YS5tb3ZlVG9Cb29rbWFyayhjKTtcbmEuc2hyaW5rKENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCl9ZnVuY3Rpb24gZShhKXt2YXIgYj1bXTthLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoXCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybiBiLnB1c2goYSksITF9LENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCk7cmV0dXJuIGJ9ZnVuY3Rpb24gbShhKXt2YXIgYj1hLmdldEVuY2xvc2VkTm9kZSgpfHxhLmdldENvbW1vbkFuY2VzdG9yKCExLCEwKTsoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChiLGEucm9vdCkpLmNvbnRhaW5zKHRoaXMuZWxlbWVudCwxKSkmJiFhLmlzUmVhZE9ubHkoKSYmQihhLHRoaXMpfWZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5nZXRDb21tb25BbmNlc3RvcighMCwhMCk7aWYoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChiLGEucm9vdCkpLmNvbnRhaW5zKHRoaXMuZWxlbWVudCwxKSl7dmFyIGI9dGhpcy5fLmRlZmluaXRpb24sYz1iLmF0dHJpYnV0ZXM7XG5pZihjKWZvcih2YXIgZCBpbiBjKWEucmVtb3ZlQXR0cmlidXRlKGQsY1tkXSk7aWYoYi5zdHlsZXMpZm9yKHZhciBlIGluIGIuc3R5bGVzKWIuc3R5bGVzLmhhc093blByb3BlcnR5KGUpJiZhLnJlbW92ZVN0eWxlKGUpfX1mdW5jdGlvbiBkKGEpe3ZhciBiPWEuY3JlYXRlQm9va21hcmsoITApLGM9YS5jcmVhdGVJdGVyYXRvcigpO2MuZW5mb3JjZVJlYWxCbG9ja3M9ITA7dGhpcy5fLmVudGVyTW9kZSYmKGMuZW5sYXJnZUJyPXRoaXMuXy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSKTtmb3IodmFyIGQsZT1hLmRvY3VtZW50LGc7ZD1jLmdldE5leHRQYXJhZ3JhcGgoKTspIWQuaXNSZWFkT25seSgpJiYoYy5hY3RpdmVGaWx0ZXI/Yy5hY3RpdmVGaWx0ZXIuY2hlY2sodGhpcyk6MSkmJihnPXUodGhpcyxlLGQpLGsoZCxnKSk7YS5tb3ZlVG9Cb29rbWFyayhiKX1mdW5jdGlvbiBoKGEpe3ZhciBiPWEuY3JlYXRlQm9va21hcmsoMSksYz1hLmNyZWF0ZUl0ZXJhdG9yKCk7Yy5lbmZvcmNlUmVhbEJsb2Nrcz1cbiEwO2MuZW5sYXJnZUJyPXRoaXMuXy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSO2Zvcih2YXIgZCxlO2Q9Yy5nZXROZXh0UGFyYWdyYXBoKCk7KXRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGQpJiYoZC5pcyhcInByZVwiKT8oKGU9dGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlI/bnVsbDphLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSkmJmQuY29weUF0dHJpYnV0ZXMoZSksayhkLGUpKTpwLmNhbGwodGhpcyxkKSk7YS5tb3ZlVG9Cb29rbWFyayhiKX1mdW5jdGlvbiBrKGEsYil7dmFyIGM9IWI7YyYmKGI9YS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYS5jb3B5QXR0cmlidXRlcyhiKSk7dmFyIGQ9YiYmYi5pcyhcInByZVwiKSxlPWEuaXMoXCJwcmVcIiksZj0hZCYmZTtpZihkJiYhZSl7ZT1iOyhmPWEuZ2V0Qm9ndXMoKSkmJmYucmVtb3ZlKCk7Zj1hLmdldEh0bWwoKTtcbmY9bihmLC8oPzpeWyBcXHRcXG5cXHJdKyl8KD86WyBcXHRcXG5cXHJdKyQpL2csXCJcIik7Zj1mLnJlcGxhY2UoL1sgXFx0XFxyXFxuXSooPGJyW14+XSo+KVsgXFx0XFxyXFxuXSovZ2ksXCIkMVwiKTtmPWYucmVwbGFjZSgvKFsgXFx0XFxuXFxyXSt8Jm5ic3A7KS9nLFwiIFwiKTtmPWYucmVwbGFjZSgvPGJyXFxiW14+XSo+L2dpLFwiXFxuXCIpO2lmKENLRURJVE9SLmVudi5pZSl7dmFyIGs9YS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ay5hcHBlbmQoZSk7ZS4kLm91dGVySFRNTD1cIlxceDNjcHJlXFx4M2VcIitmK1wiXFx4M2MvcHJlXFx4M2VcIjtlLmNvcHlBdHRyaWJ1dGVzKGsuZ2V0Rmlyc3QoKSk7ZT1rLmdldEZpcnN0KCkucmVtb3ZlKCl9ZWxzZSBlLnNldEh0bWwoZik7Yj1lfWVsc2UgZj9iPXEoYz9bYS5nZXRIdG1sKCldOmcoYSksYik6YS5tb3ZlQ2hpbGRyZW4oYik7Yi5yZXBsYWNlKGEpO2lmKGQpe3ZhciBjPWIsaDsoaD1jLmdldFByZXZpb3VzKEcpKSYmaC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxuaC5pcyhcInByZVwiKSYmKGQ9bihoLmdldEh0bWwoKSwvXFxuJC8sXCJcIikrXCJcXG5cXG5cIituKGMuZ2V0SHRtbCgpLC9eXFxuLyxcIlwiKSxDS0VESVRPUi5lbnYuaWU/Yy4kLm91dGVySFRNTD1cIlxceDNjcHJlXFx4M2VcIitkK1wiXFx4M2MvcHJlXFx4M2VcIjpjLnNldEh0bWwoZCksaC5yZW1vdmUoKSl9ZWxzZSBjJiZyKGIpfWZ1bmN0aW9uIGcoYSl7dmFyIGI9W107bihhLmdldE91dGVySHRtbCgpLC8oXFxTXFxzKilcXG4oPzpcXHN8KDxzcGFuW14+XStkYXRhLWNrZS1ib29rbWFyay4qP1xcL3NwYW4+KSkqXFxuKD8hJCkvZ2ksZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiK1wiXFx4M2MvcHJlXFx4M2VcIitjK1wiXFx4M2NwcmVcXHgzZVwifSkucmVwbGFjZSgvPHByZVxcYi4qPz4oW1xcc1xcU10qPyk8XFwvcHJlPi9naSxmdW5jdGlvbihhLGMpe2IucHVzaChjKX0pO3JldHVybiBifWZ1bmN0aW9uIG4oYSxiLGMpe3ZhciBkPVwiXCIsZT1cIlwiO2E9YS5yZXBsYWNlKC8oXjxzcGFuW14+XStkYXRhLWNrZS1ib29rbWFyay4qP1xcL3NwYW4+KXwoPHNwYW5bXj5dK2RhdGEtY2tlLWJvb2ttYXJrLio/XFwvc3Bhbj4kKS9naSxcbmZ1bmN0aW9uKGEsYixjKXtiJiYoZD1iKTtjJiYoZT1jKTtyZXR1cm5cIlwifSk7cmV0dXJuIGQrYS5yZXBsYWNlKGIsYykrZX1mdW5jdGlvbiBxKGEsYil7dmFyIGM7MTxhLmxlbmd0aCYmKGM9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGIuZ2V0RG9jdW1lbnQoKSkpO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1hW2RdLGU9ZS5yZXBsYWNlKC8oXFxyXFxufFxccikvZyxcIlxcblwiKSxlPW4oZSwvXlsgXFx0XSpcXG4vLFwiXCIpLGU9bihlLC9cXG4kLyxcIlwiKSxlPW4oZSwvXlsgXFx0XSt8WyBcXHRdKyQvZyxmdW5jdGlvbihhLGIpe3JldHVybiAxPT1hLmxlbmd0aD9cIlxceDI2bmJzcDtcIjpiP1wiIFwiK0NLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDI2bmJzcDtcIixhLmxlbmd0aC0xKTpDS0VESVRPUi50b29scy5yZXBlYXQoXCJcXHgyNm5ic3A7XCIsYS5sZW5ndGgtMSkrXCIgXCJ9KSxlPWUucmVwbGFjZSgvXFxuL2csXCJcXHgzY2JyXFx4M2VcIiksZT1lLnJlcGxhY2UoL1sgXFx0XXsyLH0vZyxmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMucmVwZWF0KFwiXFx4MjZuYnNwO1wiLFxuYS5sZW5ndGgtMSkrXCIgXCJ9KTtpZihjKXt2YXIgZz1iLmNsb25lKCk7Zy5zZXRIdG1sKGUpO2MuYXBwZW5kKGcpfWVsc2UgYi5zZXRIdG1sKGUpfXJldHVybiBjfHxifWZ1bmN0aW9uIHAoYSxiKXt2YXIgYz10aGlzLl8uZGVmaW5pdGlvbixkPWMuYXR0cmlidXRlcyxjPWMuc3R5bGVzLGU9dyh0aGlzKVthLmdldE5hbWUoKV0sZz1DS0VESVRPUi50b29scy5pc0VtcHR5KGQpJiZDS0VESVRPUi50b29scy5pc0VtcHR5KGMpLGY7Zm9yKGYgaW4gZClpZihcImNsYXNzXCIhPWYmJiF0aGlzLl8uZGVmaW5pdGlvbi5mdWxsTWF0Y2h8fGEuZ2V0QXR0cmlidXRlKGYpPT16KGYsZFtmXSkpYiYmXCJkYXRhLVwiPT1mLnNsaWNlKDAsNSl8fChnPWEuaGFzQXR0cmlidXRlKGYpLGEucmVtb3ZlQXR0cmlidXRlKGYpKTtmb3IodmFyIGsgaW4gYyl0aGlzLl8uZGVmaW5pdGlvbi5mdWxsTWF0Y2gmJmEuZ2V0U3R5bGUoaykhPXooayxjW2tdLCEwKXx8KGc9Z3x8ISFhLmdldFN0eWxlKGspLGEucmVtb3ZlU3R5bGUoaykpO1xudihhLGUsQVthLmdldE5hbWUoKV0pO2cmJih0aGlzLl8uZGVmaW5pdGlvbi5hbHdheXNSZW1vdmVFbGVtZW50P3IoYSwxKTohQ0tFRElUT1IuZHRkLiRibG9ja1thLmdldE5hbWUoKV18fHRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSJiYhYS5oYXNBdHRyaWJ1dGVzKCk/cihhKTphLnJlbmFtZU5vZGUodGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSl9ZnVuY3Rpb24gdChhKXtmb3IodmFyIGI9dyh0aGlzKSxjPWEuZ2V0RWxlbWVudHNCeVRhZyh0aGlzLmVsZW1lbnQpLGQsZT1jLmNvdW50KCk7MDw9LS1lOylkPWMuZ2V0SXRlbShlKSxkLmlzUmVhZE9ubHkoKXx8cC5jYWxsKHRoaXMsZCwhMCk7Zm9yKHZhciBnIGluIGIpaWYoZyE9dGhpcy5lbGVtZW50KWZvcihjPWEuZ2V0RWxlbWVudHNCeVRhZyhnKSxlPWMuY291bnQoKS0xOzA8PWU7ZS0tKWQ9Yy5nZXRJdGVtKGUpLGQuaXNSZWFkT25seSgpfHx2KGQsYltnXSl9ZnVuY3Rpb24gdihhLFxuYixjKXtpZihiPWImJmIuYXR0cmlidXRlcylmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXVswXSxnO2lmKGc9YS5nZXRBdHRyaWJ1dGUoZSkpe3ZhciBmPWJbZF1bMV07KG51bGw9PT1mfHxmLnRlc3QmJmYudGVzdChnKXx8XCJzdHJpbmdcIj09dHlwZW9mIGYmJmc9PWYpJiZhLnJlbW92ZUF0dHJpYnV0ZShlKX19Y3x8cihhKX1mdW5jdGlvbiByKGEsYil7aWYoIWEuaGFzQXR0cmlidXRlcygpfHxiKWlmKENLRURJVE9SLmR0ZC4kYmxvY2tbYS5nZXROYW1lKCldKXt2YXIgYz1hLmdldFByZXZpb3VzKEcpLGQ9YS5nZXROZXh0KEcpOyFjfHxjLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVCYmYy5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KXx8YS5hcHBlbmQoXCJiclwiLDEpOyFkfHxkLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVCYmZC5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KXx8YS5hcHBlbmQoXCJiclwiKTthLnJlbW92ZSghMCl9ZWxzZSBjPWEuZ2V0Rmlyc3QoKSxkPWEuZ2V0TGFzdCgpLFxuYS5yZW1vdmUoITApLGMmJihjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5tZXJnZVNpYmxpbmdzKCksZCYmIWMuZXF1YWxzKGQpJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5tZXJnZVNpYmxpbmdzKCkpfWZ1bmN0aW9uIHUoYSxiLGMpe3ZhciBkO2Q9YS5lbGVtZW50O1wiKlwiPT1kJiYoZD1cInNwYW5cIik7ZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZCxiKTtjJiZjLmNvcHlBdHRyaWJ1dGVzKGQpO2Q9QihkLGEpO2IuZ2V0Q3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIpJiZkLmhhc0F0dHJpYnV0ZShcImlkXCIpP2QucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik6Yi5zZXRDdXN0b21EYXRhKFwiZG9jX3Byb2Nlc3Npbmdfc3R5bGVcIiwxKTtyZXR1cm4gZH1mdW5jdGlvbiBCKGEsYil7dmFyIGM9Yi5fLmRlZmluaXRpb24sZD1jLmF0dHJpYnV0ZXMsYz1DS0VESVRPUi5zdHlsZS5nZXRTdHlsZVRleHQoYyk7aWYoZClmb3IodmFyIGUgaW4gZClhLnNldEF0dHJpYnV0ZShlLFxuZFtlXSk7YyYmYS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGMpO3JldHVybiBhfWZ1bmN0aW9uIHgoYSxiKXtmb3IodmFyIGMgaW4gYSlhW2NdPWFbY10ucmVwbGFjZShFLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGJbY119KX1mdW5jdGlvbiB3KGEpe2lmKGEuXy5vdmVycmlkZXMpcmV0dXJuIGEuXy5vdmVycmlkZXM7dmFyIGI9YS5fLm92ZXJyaWRlcz17fSxjPWEuXy5kZWZpbml0aW9uLm92ZXJyaWRlcztpZihjKXtDS0VESVRPUi50b29scy5pc0FycmF5KGMpfHwoYz1bY10pO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdLGcsZjtcInN0cmluZ1wiPT10eXBlb2YgZT9nPWUudG9Mb3dlckNhc2UoKTooZz1lLmVsZW1lbnQ/ZS5lbGVtZW50LnRvTG93ZXJDYXNlKCk6YS5lbGVtZW50LGY9ZS5hdHRyaWJ1dGVzKTtlPWJbZ118fChiW2ddPXt9KTtpZihmKXt2YXIgZT1lLmF0dHJpYnV0ZXM9ZS5hdHRyaWJ1dGVzfHxbXSxrO2ZvcihrIGluIGYpZS5wdXNoKFtrLnRvTG93ZXJDYXNlKCksXG5mW2tdXSl9fX1yZXR1cm4gYn1mdW5jdGlvbiB6KGEsYixjKXt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzcGFuXCIpO2RbYz9cInNldFN0eWxlXCI6XCJzZXRBdHRyaWJ1dGVcIl0oYSxiKTtyZXR1cm4gZFtjP1wiZ2V0U3R5bGVcIjpcImdldEF0dHJpYnV0ZVwiXShhKX1mdW5jdGlvbiBEKGEsYil7ZnVuY3Rpb24gYyhhLGIpe3JldHVyblwiZm9udC1mYW1pbHlcIj09Yi50b0xvd2VyQ2FzZSgpP2EucmVwbGFjZSgvW1wiJ10vZyxcIlwiKTphfVwic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYSkpO1wic3RyaW5nXCI9PXR5cGVvZiBiJiYoYj1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYiwhMCkpO2Zvcih2YXIgZCBpbiBhKWlmKCEoZCBpbiBiKXx8YyhiW2RdLGQpIT1jKGFbZF0sZCkmJlwiaW5oZXJpdFwiIT1hW2RdJiZcImluaGVyaXRcIiE9YltkXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB5KGEsYixjKXt2YXIgZD1hLmRvY3VtZW50LGU9YS5nZXRSYW5nZXMoKTtcbmI9Yj90aGlzLnJlbW92ZUZyb21SYW5nZTp0aGlzLmFwcGx5VG9SYW5nZTtmb3IodmFyIGcsZj1lLmNyZWF0ZUl0ZXJhdG9yKCk7Zz1mLmdldE5leHRSYW5nZSgpOyliLmNhbGwodGhpcyxnLGMpO2Euc2VsZWN0UmFuZ2VzKGUpO2QucmVtb3ZlQ3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIpfXZhciBBPXthZGRyZXNzOjEsZGl2OjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEscDoxLHByZToxLHNlY3Rpb246MSxoZWFkZXI6MSxmb290ZXI6MSxuYXY6MSxhcnRpY2xlOjEsYXNpZGU6MSxmaWd1cmU6MSxkaWFsb2c6MSxoZ3JvdXA6MSx0aW1lOjEsbWV0ZXI6MSxtZW51OjEsY29tbWFuZDoxLGtleWdlbjoxLG91dHB1dDoxLHByb2dyZXNzOjEsZGV0YWlsczoxLGRhdGFncmlkOjEsZGF0YWxpc3Q6MX0sQz17YToxLGJsb2NrcXVvdGU6MSxlbWJlZDoxLGhyOjEsaW1nOjEsbGk6MSxvYmplY3Q6MSxvbDoxLHRhYmxlOjEsdGQ6MSx0cjoxLHRoOjEsdWw6MSxkbDoxLGR0OjEsXG5kZDoxLGZvcm06MSxhdWRpbzoxLHZpZGVvOjF9LEY9L1xccyooPzo7XFxzKnwkKS8sRT0vI1xcKCguKz8pXFwpL2csSj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKDAsMSksRz1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKDEpO0NLRURJVE9SLnN0eWxlPWZ1bmN0aW9uKGEsYil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEudHlwZSlyZXR1cm4gbmV3IENLRURJVE9SLnN0eWxlLmN1c3RvbUhhbmRsZXJzW2EudHlwZV0oYSk7dmFyIGM9YS5hdHRyaWJ1dGVzO2MmJmMuc3R5bGUmJihhLnN0eWxlcz1DS0VESVRPUi50b29scy5leHRlbmQoe30sYS5zdHlsZXMsQ0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KGMuc3R5bGUpKSxkZWxldGUgYy5zdHlsZSk7YiYmKGE9Q0tFRElUT1IudG9vbHMuY2xvbmUoYSkseChhLmF0dHJpYnV0ZXMsYikseChhLnN0eWxlcyxiKSk7Yz10aGlzLmVsZW1lbnQ9YS5lbGVtZW50P1wic3RyaW5nXCI9PXR5cGVvZiBhLmVsZW1lbnQ/YS5lbGVtZW50LnRvTG93ZXJDYXNlKCk6XG5hLmVsZW1lbnQ6XCIqXCI7dGhpcy50eXBlPWEudHlwZXx8KEFbY10/Q0tFRElUT1IuU1RZTEVfQkxPQ0s6Q1tjXT9DS0VESVRPUi5TVFlMRV9PQkpFQ1Q6Q0tFRElUT1IuU1RZTEVfSU5MSU5FKTtcIm9iamVjdFwiPT10eXBlb2YgdGhpcy5lbGVtZW50JiYodGhpcy50eXBlPUNLRURJVE9SLlNUWUxFX09CSkVDVCk7dGhpcy5fPXtkZWZpbml0aW9uOmF9fTtDS0VESVRPUi5zdHlsZS5wcm90b3R5cGU9e2FwcGx5OmZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZG9jdW1lbnQpcmV0dXJuIHkuY2FsbCh0aGlzLGEuZ2V0U2VsZWN0aW9uKCkpO2lmKHRoaXMuY2hlY2tBcHBsaWNhYmxlKGEuZWxlbWVudFBhdGgoKSxhKSl7dmFyIGI9dGhpcy5fLmVudGVyTW9kZTtifHwodGhpcy5fLmVudGVyTW9kZT1hLmFjdGl2ZUVudGVyTW9kZSk7eS5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSwwLGEpO3RoaXMuXy5lbnRlck1vZGU9Yn19LHJlbW92ZTpmdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2ZcbkNLRURJVE9SLmRvbS5kb2N1bWVudClyZXR1cm4geS5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSwxKTtpZih0aGlzLmNoZWNrQXBwbGljYWJsZShhLmVsZW1lbnRQYXRoKCksYSkpe3ZhciBiPXRoaXMuXy5lbnRlck1vZGU7Ynx8KHRoaXMuXy5lbnRlck1vZGU9YS5hY3RpdmVFbnRlck1vZGUpO3kuY2FsbCh0aGlzLGEuZ2V0U2VsZWN0aW9uKCksMSxhKTt0aGlzLl8uZW50ZXJNb2RlPWJ9fSxhcHBseVRvUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5hcHBseVRvUmFuZ2U9dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9JTkxJTkU/Yjp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0JMT0NLP2Q6dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Q/bTpudWxsO3JldHVybiB0aGlzLmFwcGx5VG9SYW5nZShhKX0scmVtb3ZlRnJvbVJhbmdlOmZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlRnJvbVJhbmdlPXRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfSU5MSU5FP2M6dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9CTE9DSz9cbmg6dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Q/bDpudWxsO3JldHVybiB0aGlzLnJlbW92ZUZyb21SYW5nZShhKX0sYXBwbHlUb09iamVjdDpmdW5jdGlvbihhKXtCKGEsdGhpcyl9LGNoZWNrQWN0aXZlOmZ1bmN0aW9uKGEsYil7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSBDS0VESVRPUi5TVFlMRV9CTE9DSzpyZXR1cm4gdGhpcy5jaGVja0VsZW1lbnRSZW1vdmFibGUoYS5ibG9ja3x8YS5ibG9ja0xpbWl0LCEwLGIpO2Nhc2UgQ0tFRElUT1IuU1RZTEVfT0JKRUNUOmNhc2UgQ0tFRElUT1IuU1RZTEVfSU5MSU5FOmZvcih2YXIgYz1hLmVsZW1lbnRzLGQ9MCxlO2Q8Yy5sZW5ndGg7ZCsrKWlmKGU9Y1tkXSx0aGlzLnR5cGUhPUNLRURJVE9SLlNUWUxFX0lOTElORXx8ZSE9YS5ibG9jayYmZSE9YS5ibG9ja0xpbWl0KXtpZih0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVCl7dmFyIGc9ZS5nZXROYW1lKCk7aWYoIShcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5lbGVtZW50P1xuZz09dGhpcy5lbGVtZW50OmcgaW4gdGhpcy5lbGVtZW50KSljb250aW51ZX1pZih0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShlLCEwLGIpKXJldHVybiEwfX1yZXR1cm4hMX0sY2hlY2tBcHBsaWNhYmxlOmZ1bmN0aW9uKGEsYixjKXtiJiZiIGluc3RhbmNlb2YgQ0tFRElUT1IuZmlsdGVyJiYoYz1iKTtpZihjJiYhYy5jaGVjayh0aGlzKSlyZXR1cm4hMTtzd2l0Y2godGhpcy50eXBlKXtjYXNlIENLRURJVE9SLlNUWUxFX09CSkVDVDpyZXR1cm4hIWEuY29udGFpbnModGhpcy5lbGVtZW50KTtjYXNlIENLRURJVE9SLlNUWUxFX0JMT0NLOnJldHVybiEhYS5ibG9ja0xpbWl0LmdldER0ZCgpW3RoaXMuZWxlbWVudF19cmV0dXJuITB9LGNoZWNrRWxlbWVudE1hdGNoOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fLmRlZmluaXRpb247aWYoIWF8fCFjLmlnbm9yZVJlYWRvbmx5JiZhLmlzUmVhZE9ubHkoKSlyZXR1cm4hMTt2YXIgZD1hLmdldE5hbWUoKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5lbGVtZW50P1xuZD09dGhpcy5lbGVtZW50OmQgaW4gdGhpcy5lbGVtZW50KXtpZighYiYmIWEuaGFzQXR0cmlidXRlcygpKXJldHVybiEwO2lmKGQ9Yy5fQUMpYz1kO2Vsc2V7dmFyIGQ9e30sZT0wLGc9Yy5hdHRyaWJ1dGVzO2lmKGcpZm9yKHZhciBmIGluIGcpZSsrLGRbZl09Z1tmXTtpZihmPUNLRURJVE9SLnN0eWxlLmdldFN0eWxlVGV4dChjKSlkLnN0eWxlfHxlKyssZC5zdHlsZT1mO2QuX2xlbmd0aD1lO2M9Yy5fQUM9ZH1pZihjLl9sZW5ndGgpe2Zvcih2YXIgayBpbiBjKWlmKFwiX2xlbmd0aFwiIT1rKWlmKGQ9YS5nZXRBdHRyaWJ1dGUoayl8fFwiXCIsXCJzdHlsZVwiPT1rP0QoY1trXSxkKTpjW2tdPT1kKXtpZighYilyZXR1cm4hMH1lbHNlIGlmKGIpcmV0dXJuITE7aWYoYilyZXR1cm4hMH1lbHNlIHJldHVybiEwfXJldHVybiExfSxjaGVja0VsZW1lbnRSZW1vdmFibGU6ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMuY2hlY2tFbGVtZW50TWF0Y2goYSxiLGMpKXJldHVybiEwO2lmKGI9dyh0aGlzKVthLmdldE5hbWUoKV0pe3ZhciBkO1xuaWYoIShiPWIuYXR0cmlidXRlcykpcmV0dXJuITA7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKylpZihkPWJbY11bMF0sZD1hLmdldEF0dHJpYnV0ZShkKSl7dmFyIGU9YltjXVsxXTtpZihudWxsPT09ZSlyZXR1cm4hMDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7aWYoZD09ZSlyZXR1cm4hMH1lbHNlIGlmKGUudGVzdChkKSlyZXR1cm4hMH19cmV0dXJuITF9LGJ1aWxkUHJldmlldzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl8uZGVmaW5pdGlvbixjPVtdLGQ9Yi5lbGVtZW50O1wiYmRvXCI9PWQmJihkPVwic3BhblwiKTt2YXIgYz1bXCJcXHgzY1wiLGRdLGU9Yi5hdHRyaWJ1dGVzO2lmKGUpZm9yKHZhciBnIGluIGUpYy5wdXNoKFwiIFwiLGcsJ1xceDNkXCInLGVbZ10sJ1wiJyk7KGU9Q0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0KGIpKSYmYy5wdXNoKCcgc3R5bGVcXHgzZFwiJyxlLCdcIicpO2MucHVzaChcIlxceDNlXCIsYXx8Yi5uYW1lLFwiXFx4M2MvXCIsZCxcIlxceDNlXCIpO3JldHVybiBjLmpvaW4oXCJcIil9LGdldERlZmluaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmRlZmluaXRpb259fTtcbkNLRURJVE9SLnN0eWxlLmdldFN0eWxlVGV4dD1mdW5jdGlvbihhKXt2YXIgYj1hLl9TVDtpZihiKXJldHVybiBiO3ZhciBiPWEuc3R5bGVzLGM9YS5hdHRyaWJ1dGVzJiZhLmF0dHJpYnV0ZXMuc3R5bGV8fFwiXCIsZD1cIlwiO2MubGVuZ3RoJiYoYz1jLnJlcGxhY2UoRixcIjtcIikpO2Zvcih2YXIgZSBpbiBiKXt2YXIgZz1iW2VdLGY9KGUrXCI6XCIrZykucmVwbGFjZShGLFwiO1wiKTtcImluaGVyaXRcIj09Zz9kKz1mOmMrPWZ9Yy5sZW5ndGgmJihjPUNLRURJVE9SLnRvb2xzLm5vcm1hbGl6ZUNzc1RleHQoYywhMCkpO3JldHVybiBhLl9TVD1jK2R9O0NLRURJVE9SLnN0eWxlLmN1c3RvbUhhbmRsZXJzPXt9O0NLRURJVE9SLnN0eWxlLmFkZEN1c3RvbUhhbmRsZXI9ZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oYSl7dGhpcy5fPXtkZWZpbml0aW9uOmF9O3RoaXMuc2V0dXAmJnRoaXMuc2V0dXAoYSl9O2IucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShDS0VESVRPUi5zdHlsZS5wcm90b3R5cGUpLFxue2Fzc2lnbmVkVG86Q0tFRElUT1IuU1RZTEVfT0JKRUNUfSxhLCEwKTtyZXR1cm4gdGhpcy5jdXN0b21IYW5kbGVyc1thLnR5cGVdPWJ9O3ZhciBNPUNLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElOR3xDS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUx8Q0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVELEk9Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTHxDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUR9KCksQ0tFRElUT1Iuc3R5bGVDb21tYW5kPWZ1bmN0aW9uKGEsZil7dGhpcy5yZXF1aXJlZENvbnRlbnQ9dGhpcy5hbGxvd2VkQ29udGVudD10aGlzLnN0eWxlPWE7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsZiwhMCl9LENLRURJVE9SLnN0eWxlQ29tbWFuZC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbihhKXthLmZvY3VzKCk7dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGP2EuYXBwbHlTdHlsZSh0aGlzLnN0eWxlKTpcbnRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZhLnJlbW92ZVN0eWxlKHRoaXMuc3R5bGUpfSxDS0VESVRPUi5zdHlsZXNTZXQ9bmV3IENLRURJVE9SLnJlc291cmNlTWFuYWdlcihcIlwiLFwic3R5bGVzU2V0XCIpLENLRURJVE9SLmFkZFN0eWxlc1NldD1DS0VESVRPUi50b29scy5iaW5kKENLRURJVE9SLnN0eWxlc1NldC5hZGQsQ0tFRElUT1Iuc3R5bGVzU2V0KSxDS0VESVRPUi5sb2FkU3R5bGVzU2V0PWZ1bmN0aW9uKGEsZixiKXtDS0VESVRPUi5zdHlsZXNTZXQuYWRkRXh0ZXJuYWwoYSxmLFwiXCIpO0NLRURJVE9SLnN0eWxlc1NldC5sb2FkKGEsYil9LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHthdHRhY2hTdHlsZVN0YXRlQ2hhbmdlOmZ1bmN0aW9uKGEsZil7dmFyIGI9dGhpcy5fLnN0eWxlU3RhdGVDaGFuZ2VDYWxsYmFja3M7Ynx8KGI9dGhpcy5fLnN0eWxlU3RhdGVDaGFuZ2VDYWxsYmFja3M9W10sdGhpcy5vbihcInNlbGVjdGlvbkNoYW5nZVwiLFxuZnVuY3Rpb24oYSl7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKyspe3ZhciBmPWJbZV0sbD1mLnN0eWxlLmNoZWNrQWN0aXZlKGEuZGF0YS5wYXRoLHRoaXMpP0NLRURJVE9SLlRSSVNUQVRFX09OOkNLRURJVE9SLlRSSVNUQVRFX09GRjtmLmZuLmNhbGwodGhpcyxsKX19KSk7Yi5wdXNoKHtzdHlsZTphLGZuOmZ9KX0sYXBwbHlTdHlsZTpmdW5jdGlvbihhKXthLmFwcGx5KHRoaXMpfSxyZW1vdmVTdHlsZTpmdW5jdGlvbihhKXthLnJlbW92ZSh0aGlzKX0sZ2V0U3R5bGVzU2V0OmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5zdHlsZXNEZWZpbml0aW9ucylhKHRoaXMuXy5zdHlsZXNEZWZpbml0aW9ucyk7ZWxzZXt2YXIgZj10aGlzLGI9Zi5jb25maWcuc3R5bGVzQ29tYm9fc3R5bGVzU2V0fHxmLmNvbmZpZy5zdHlsZXNTZXQ7aWYoITE9PT1iKWEobnVsbCk7ZWxzZSBpZihiIGluc3RhbmNlb2YgQXJyYXkpZi5fLnN0eWxlc0RlZmluaXRpb25zPWIsYShiKTtlbHNle2J8fChiPVwiZGVmYXVsdFwiKTtcbnZhciBiPWIuc3BsaXQoXCI6XCIpLGM9YlswXTtDS0VESVRPUi5zdHlsZXNTZXQuYWRkRXh0ZXJuYWwoYyxiWzFdP2Iuc2xpY2UoMSkuam9pbihcIjpcIik6Q0tFRElUT1IuZ2V0VXJsKFwic3R5bGVzLmpzXCIpLFwiXCIpO0NLRURJVE9SLnN0eWxlc1NldC5sb2FkKGMsZnVuY3Rpb24oYil7Zi5fLnN0eWxlc0RlZmluaXRpb25zPWJbY107YShmLl8uc3R5bGVzRGVmaW5pdGlvbnMpfSl9fX19KSxDS0VESVRPUi5kb20uY29tbWVudD1mdW5jdGlvbihhLGYpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT0oZj9mLiQ6ZG9jdW1lbnQpLmNyZWF0ZUNvbW1lbnQoYSkpO0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLGEpfSxDS0VESVRPUi5kb20uY29tbWVudC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5ub2RlLENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uY29tbWVudC5wcm90b3R5cGUse3R5cGU6Q0tFRElUT1IuTk9ERV9DT01NRU5ULGdldE91dGVySHRtbDpmdW5jdGlvbigpe3JldHVyblwiXFx4M2MhLS1cIitcbnRoaXMuJC5ub2RlVmFsdWUrXCItLVxceDNlXCJ9fSksXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXt2YXIgYT17fSxmPXt9LGI7Zm9yKGIgaW4gQ0tFRElUT1IuZHRkLiRibG9ja0xpbWl0KWIgaW4gQ0tFRElUT1IuZHRkLiRsaXN0fHwoYVtiXT0xKTtmb3IoYiBpbiBDS0VESVRPUi5kdGQuJGJsb2NrKWIgaW4gQ0tFRElUT1IuZHRkLiRibG9ja0xpbWl0fHxiIGluIENLRURJVE9SLmR0ZC4kZW1wdHl8fChmW2JdPTEpO0NLRURJVE9SLmRvbS5lbGVtZW50UGF0aD1mdW5jdGlvbihiLGUpe3ZhciBtPW51bGwsbD1udWxsLGQ9W10saD1iLGs7ZT1lfHxiLmdldERvY3VtZW50KCkuZ2V0Qm9keSgpO2RvIGlmKGgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtkLnB1c2goaCk7aWYoIXRoaXMubGFzdEVsZW1lbnQmJih0aGlzLmxhc3RFbGVtZW50PWgsaC5pcyhDS0VESVRPUi5kdGQuJG9iamVjdCl8fFwiZmFsc2VcIj09aC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpKWNvbnRpbnVlO1xuaWYoaC5lcXVhbHMoZSkpYnJlYWs7aWYoIWwmJihrPWguZ2V0TmFtZSgpLFwidHJ1ZVwiPT1oLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9sPWg6IW0mJmZba10mJihtPWgpLGFba10pKXtpZihrPSFtJiZcImRpdlwiPT1rKXthOntrPWguZ2V0Q2hpbGRyZW4oKTtmb3IodmFyIGc9MCxuPWsuY291bnQoKTtnPG47ZysrKXt2YXIgcT1rLmdldEl0ZW0oZyk7aWYocS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkNLRURJVE9SLmR0ZC4kYmxvY2tbcS5nZXROYW1lKCldKXtrPSEwO2JyZWFrIGF9fWs9ITF9az0ha31rP209aDpsPWh9fXdoaWxlKGg9aC5nZXRQYXJlbnQoKSk7bHx8KGw9ZSk7dGhpcy5ibG9jaz1tO3RoaXMuYmxvY2tMaW1pdD1sO3RoaXMucm9vdD1lO3RoaXMuZWxlbWVudHM9ZH19KCksQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoLnByb3RvdHlwZT17Y29tcGFyZTpmdW5jdGlvbihhKXt2YXIgZj10aGlzLmVsZW1lbnRzO2E9YSYmYS5lbGVtZW50cztpZighYXx8XG5mLmxlbmd0aCE9YS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBiPTA7YjxmLmxlbmd0aDtiKyspaWYoIWZbYl0uZXF1YWxzKGFbYl0pKXJldHVybiExO3JldHVybiEwfSxjb250YWluczpmdW5jdGlvbihhLGYsYil7dmFyIGM7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihjPWZ1bmN0aW9uKGIpe3JldHVybiBiLmdldE5hbWUoKT09YX0pO2EgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudD9jPWZ1bmN0aW9uKGIpe3JldHVybiBiLmVxdWFscyhhKX06Q0tFRElUT1IudG9vbHMuaXNBcnJheShhKT9jPWZ1bmN0aW9uKGIpe3JldHVybi0xPENLRURJVE9SLnRvb2xzLmluZGV4T2YoYSxiLmdldE5hbWUoKSl9OlwiZnVuY3Rpb25cIj09dHlwZW9mIGE/Yz1hOlwib2JqZWN0XCI9PXR5cGVvZiBhJiYoYz1mdW5jdGlvbihiKXtyZXR1cm4gYi5nZXROYW1lKClpbiBhfSk7dmFyIGU9dGhpcy5lbGVtZW50cyxtPWUubGVuZ3RoO2YmJm0tLTtiJiYoZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLDApLFxuZS5yZXZlcnNlKCkpO2ZvcihmPTA7ZjxtO2YrKylpZihjKGVbZl0pKXJldHVybiBlW2ZdO3JldHVybiBudWxsfSxpc0NvbnRleHRGb3I6ZnVuY3Rpb24oYSl7dmFyIGY7cmV0dXJuIGEgaW4gQ0tFRElUT1IuZHRkLiRibG9jaz8oZj10aGlzLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kaW50ZXJtZWRpYXRlKXx8dGhpcy5yb290LmVxdWFscyh0aGlzLmJsb2NrKSYmdGhpcy5ibG9ja3x8dGhpcy5ibG9ja0xpbWl0LCEhZi5nZXREdGQoKVthXSk6ITB9LGRpcmVjdGlvbjpmdW5jdGlvbigpe3JldHVybih0aGlzLmJsb2NrfHx0aGlzLmJsb2NrTGltaXR8fHRoaXMucm9vdCkuZ2V0RGlyZWN0aW9uKDEpfX0sQ0tFRElUT1IuZG9tLnRleHQ9ZnVuY3Rpb24oYSxmKXtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9KGY/Zi4kOmRvY3VtZW50KS5jcmVhdGVUZXh0Tm9kZShhKSk7dGhpcy4kPWF9LENLRURJVE9SLmRvbS50ZXh0LnByb3RvdHlwZT1uZXcgQ0tFRElUT1IuZG9tLm5vZGUsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS50ZXh0LnByb3RvdHlwZSxcbnt0eXBlOkNLRURJVE9SLk5PREVfVEVYVCxnZXRMZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLm5vZGVWYWx1ZS5sZW5ndGh9LGdldFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLm5vZGVWYWx1ZX0sc2V0VGV4dDpmdW5jdGlvbihhKXt0aGlzLiQubm9kZVZhbHVlPWF9LHNwbGl0OmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuJC5wYXJlbnROb2RlLGI9Zi5jaGlsZE5vZGVzLmxlbmd0aCxjPXRoaXMuZ2V0TGVuZ3RoKCksZT10aGlzLmdldERvY3VtZW50KCksbT1uZXcgQ0tFRElUT1IuZG9tLnRleHQodGhpcy4kLnNwbGl0VGV4dChhKSxlKTtmLmNoaWxkTm9kZXMubGVuZ3RoPT1iJiYoYT49Yz8obT1lLmNyZWF0ZVRleHQoXCJcIiksbS5pbnNlcnRBZnRlcih0aGlzKSk6KGE9ZS5jcmVhdGVUZXh0KFwiXCIpLGEuaW5zZXJ0QWZ0ZXIobSksYS5yZW1vdmUoKSkpO3JldHVybiBtfSxzdWJzdHJpbmc6ZnVuY3Rpb24oYSxmKXtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgZj90aGlzLiQubm9kZVZhbHVlLnN1YnN0cihhKTpcbnRoaXMuJC5ub2RlVmFsdWUuc3Vic3RyaW5nKGEsZil9fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYyxlKXt2YXIgZj1hLnNlcmlhbGl6YWJsZSxsPWNbZT9cImVuZENvbnRhaW5lclwiOlwic3RhcnRDb250YWluZXJcIl0sZD1lP1wiZW5kT2Zmc2V0XCI6XCJzdGFydE9mZnNldFwiLGg9Zj9jLmRvY3VtZW50LmdldEJ5SWQoYS5zdGFydE5vZGUpOmEuc3RhcnROb2RlO2E9Zj9jLmRvY3VtZW50LmdldEJ5SWQoYS5lbmROb2RlKTphLmVuZE5vZGU7bC5lcXVhbHMoaC5nZXRQcmV2aW91cygpKT8oYy5zdGFydE9mZnNldD1jLnN0YXJ0T2Zmc2V0LWwuZ2V0TGVuZ3RoKCktYS5nZXRQcmV2aW91cygpLmdldExlbmd0aCgpLGw9YS5nZXROZXh0KCkpOmwuZXF1YWxzKGEuZ2V0UHJldmlvdXMoKSkmJihjLnN0YXJ0T2Zmc2V0LT1sLmdldExlbmd0aCgpLGw9YS5nZXROZXh0KCkpO2wuZXF1YWxzKGguZ2V0UGFyZW50KCkpJiZjW2RdKys7bC5lcXVhbHMoYS5nZXRQYXJlbnQoKSkmJmNbZF0rKztjW2U/XCJlbmRDb250YWluZXJcIjpcblwic3RhcnRDb250YWluZXJcIl09bDtyZXR1cm4gY31DS0VESVRPUi5kb20ucmFuZ2VMaXN0PWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KXJldHVybiBhO2E/YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5yYW5nZSYmKGE9W2FdKTphPVtdO3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoYSxmKX07dmFyIGY9e2NyZWF0ZUl0ZXJhdG9yOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxjPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxlPVtdLGY7cmV0dXJue2dldE5leHRSYW5nZTpmdW5jdGlvbihsKXtmPXZvaWQgMD09PWY/MDpmKzE7dmFyIGQ9YVtmXTtpZihkJiYxPGEubGVuZ3RoKXtpZighZilmb3IodmFyIGg9YS5sZW5ndGgtMTswPD1oO2gtLSllLnVuc2hpZnQoYVtoXS5jcmVhdGVCb29rbWFyayghMCkpO2lmKGwpZm9yKHZhciBrPTA7YVtmK2srMV07KXt2YXIgZz1kLmRvY3VtZW50O2w9MDtoPWcuZ2V0QnlJZChlW2tdLmVuZE5vZGUpO1xuZm9yKGc9Zy5nZXRCeUlkKGVbaysxXS5zdGFydE5vZGUpOzspe2g9aC5nZXROZXh0U291cmNlTm9kZSghMSk7aWYoZy5lcXVhbHMoaCkpbD0xO2Vsc2UgaWYoYyhoKXx8aC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmguaXNCbG9ja0JvdW5kYXJ5KCkpY29udGludWU7YnJlYWt9aWYoIWwpYnJlYWs7aysrfWZvcihkLm1vdmVUb0Jvb2ttYXJrKGUuc2hpZnQoKSk7ay0tOyloPWFbKytmXSxoLm1vdmVUb0Jvb2ttYXJrKGUuc2hpZnQoKSksZC5zZXRFbmQoaC5lbmRDb250YWluZXIsaC5lbmRPZmZzZXQpfXJldHVybiBkfX19LGNyZWF0ZUJvb2ttYXJrczpmdW5jdGlvbihiKXtmb3IodmFyIGM9W10sZSxmPTA7Zjx0aGlzLmxlbmd0aDtmKyspe2MucHVzaChlPXRoaXNbZl0uY3JlYXRlQm9va21hcmsoYiwhMCkpO2Zvcih2YXIgbD1mKzE7bDx0aGlzLmxlbmd0aDtsKyspdGhpc1tsXT1hKGUsdGhpc1tsXSksdGhpc1tsXT1hKGUsdGhpc1tsXSwhMCl9cmV0dXJuIGN9LGNyZWF0ZUJvb2ttYXJrczI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPVxuW10sZT0wO2U8dGhpcy5sZW5ndGg7ZSsrKWMucHVzaCh0aGlzW2VdLmNyZWF0ZUJvb2ttYXJrMihhKSk7cmV0dXJuIGN9LG1vdmVUb0Jvb2ttYXJrczpmdW5jdGlvbihhKXtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoO2MrKyl0aGlzW2NdLm1vdmVUb0Jvb2ttYXJrKGFbY10pfX19KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7cmV0dXJuIENLRURJVE9SLmdldFVybChDS0VESVRPUi5za2luTmFtZS5zcGxpdChcIixcIilbMV18fFwic2tpbnMvXCIrQ0tFRElUT1Iuc2tpbk5hbWUuc3BsaXQoXCIsXCIpWzBdK1wiL1wiKX1mdW5jdGlvbiBmKGIpe3ZhciBjPUNLRURJVE9SLnNraW5bXCJ1YV9cIitiXSxkPUNLRURJVE9SLmVudjtpZihjKWZvcih2YXIgYz1jLnNwbGl0KFwiLFwiKS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE+Yj8tMToxfSksZT0wLGY7ZTxjLmxlbmd0aDtlKyspaWYoZj1jW2VdLGQuaWUmJihmLnJlcGxhY2UoL15pZS8sXCJcIik9PWQudmVyc2lvbnx8ZC5xdWlya3MmJlwiaWVxdWlya3NcIj09XG5mKSYmKGY9XCJpZVwiKSxkW2ZdKXtiKz1cIl9cIitjW2VdO2JyZWFrfXJldHVybiBDS0VESVRPUi5nZXRVcmwoYSgpK2IrXCIuY3NzXCIpfWZ1bmN0aW9uIGIoYSxiKXttW2FdfHwoQ0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVTaGVldChmKGEpKSxtW2FdPTEpO2ImJmIoKX1mdW5jdGlvbiBjKGEpe3ZhciBiPWEuZ2V0QnlJZChsKTtifHwoYj1hLmdldEhlYWQoKS5hcHBlbmQoXCJzdHlsZVwiKSxiLnNldEF0dHJpYnV0ZShcImlkXCIsbCksYi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ0ZXh0L2Nzc1wiKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gZShhLGIsYyl7dmFyIGQsZSxmO2lmKENLRURJVE9SLmVudi53ZWJraXQpZm9yKGI9Yi5zcGxpdChcIn1cIikuc2xpY2UoMCwtMSksZT0wO2U8Yi5sZW5ndGg7ZSsrKWJbZV09YltlXS5zcGxpdChcIntcIik7Zm9yKHZhciBoPTA7aDxhLmxlbmd0aDtoKyspaWYoQ0tFRElUT1IuZW52LndlYmtpdClmb3IoZT0wO2U8Yi5sZW5ndGg7ZSsrKXtmPWJbZV1bMV07Zm9yKGQ9MDtkPFxuYy5sZW5ndGg7ZCsrKWY9Zi5yZXBsYWNlKGNbZF1bMF0sY1tkXVsxXSk7YVtoXS4kLnNoZWV0LmFkZFJ1bGUoYltlXVswXSxmKX1lbHNle2Y9Yjtmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKWY9Zi5yZXBsYWNlKGNbZF1bMF0sY1tkXVsxXSk7Q0tFRElUT1IuZW52LmllJiYxMT5DS0VESVRPUi5lbnYudmVyc2lvbj9hW2hdLiQuc3R5bGVTaGVldC5jc3NUZXh0Kz1mOmFbaF0uJC5pbm5lckhUTUwrPWZ9fXZhciBtPXt9O0NLRURJVE9SLnNraW49e3BhdGg6YSxsb2FkUGFydDpmdW5jdGlvbihjLGQpe0NLRURJVE9SLnNraW4ubmFtZSE9Q0tFRElUT1Iuc2tpbk5hbWUuc3BsaXQoXCIsXCIpWzBdP0NLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChhKCkrXCJza2luLmpzXCIpLGZ1bmN0aW9uKCl7YihjLGQpfSk6YihjLGQpfSxnZXRQYXRoOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi5nZXRVcmwoZihhKSl9LGljb25zOnt9LGFkZEljb246ZnVuY3Rpb24oYSxiLGMsZCl7YT1cbmEudG9Mb3dlckNhc2UoKTt0aGlzLmljb25zW2FdfHwodGhpcy5pY29uc1thXT17cGF0aDpiLG9mZnNldDpjfHwwLGJnc2l6ZTpkfHxcIjE2cHhcIn0pfSxnZXRJY29uU3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZjthJiYoYT1hLnRvTG93ZXJDYXNlKCksYiYmKGY9dGhpcy5pY29uc1thK1wiLXJ0bFwiXSksZnx8KGY9dGhpcy5pY29uc1thXSkpO2E9Y3x8ZiYmZi5wYXRofHxcIlwiO2Q9ZHx8ZiYmZi5vZmZzZXQ7ZT1lfHxmJiZmLmJnc2l6ZXx8XCIxNnB4XCI7YSYmKGE9YS5yZXBsYWNlKC8nL2csXCJcXFxcJ1wiKSk7cmV0dXJuIGEmJlwiYmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiK0NLRURJVE9SLmdldFVybChhKStcIicpO2JhY2tncm91bmQtcG9zaXRpb246MCBcIitkK1wicHg7YmFja2dyb3VuZC1zaXplOlwiK2UrXCI7XCJ9fTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7Z2V0VWlDb2xvcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVpQ29sb3J9LHNldFVpQ29sb3I6ZnVuY3Rpb24oYSl7dmFyIGI9XG5jKENLRURJVE9SLmRvY3VtZW50KTtyZXR1cm4odGhpcy5zZXRVaUNvbG9yPWZ1bmN0aW9uKGEpe3RoaXMudWlDb2xvcj1hO3ZhciBjPUNLRURJVE9SLnNraW4uY2hhbWVsZW9uLGY9XCJcIixrPVwiXCI7XCJmdW5jdGlvblwiPT10eXBlb2YgYyYmKGY9Yyh0aGlzLFwiZWRpdG9yXCIpLGs9Yyh0aGlzLFwicGFuZWxcIikpO2E9W1toLGFdXTtlKFtiXSxmLGEpO2UoZCxrLGEpfSkuY2FsbCh0aGlzLGEpfX0pO3ZhciBsPVwiY2tlX3VpX2NvbG9yXCIsZD1bXSxoPS9cXCRjb2xvci9nO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VMb2FkZWRcIixmdW5jdGlvbihhKXtpZighQ0tFRElUT1IuZW52LmllfHwhQ0tFRElUT1IuZW52LnF1aXJrcyl7dmFyIGI9YS5lZGl0b3I7YT1mdW5jdGlvbihhKXthPShhLmRhdGFbMF18fGEuZGF0YSkuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiaWZyYW1lXCIpLmdldEl0ZW0oMCkuZ2V0RnJhbWVEb2N1bWVudCgpO2lmKCFhLmdldEJ5SWQoXCJja2VfdWlfY29sb3JcIikpe2E9YyhhKTtkLnB1c2goYSk7XG52YXIgZj1iLmdldFVpQ29sb3IoKTtmJiZlKFthXSxDS0VESVRPUi5za2luLmNoYW1lbGVvbihiLFwicGFuZWxcIiksW1toLGZdXSl9fTtiLm9uKFwicGFuZWxTaG93XCIsYSk7Yi5vbihcIm1lbnVTaG93XCIsYSk7Yi5jb25maWcudWlDb2xvciYmYi5zZXRVaUNvbG9yKGIuY29uZmlnLnVpQ29sb3IpfX0pfSgpLGZ1bmN0aW9uKCl7aWYoQ0tFRElUT1IuZW52LndlYmtpdClDS0VESVRPUi5lbnYuaGM9ITE7ZWxzZXt2YXIgYT1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgc3R5bGVcXHgzZFwid2lkdGg6MDtoZWlnaHQ6MDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMDAwMHB4O2JvcmRlcjoxcHggc29saWQ7Ym9yZGVyLWNvbG9yOnJlZCBibHVlXCJcXHgzZVxceDNjL2RpdlxceDNlJyxDS0VESVRPUi5kb2N1bWVudCk7YS5hcHBlbmRUbyhDS0VESVRPUi5kb2N1bWVudC5nZXRIZWFkKCkpO3RyeXt2YXIgZj1hLmdldENvbXB1dGVkU3R5bGUoXCJib3JkZXItdG9wLWNvbG9yXCIpLFxuYj1hLmdldENvbXB1dGVkU3R5bGUoXCJib3JkZXItcmlnaHQtY29sb3JcIik7Q0tFRElUT1IuZW52LmhjPSEoIWZ8fGYhPWIpfWNhdGNoKGMpe0NLRURJVE9SLmVudi5oYz0hMX1hLnJlbW92ZSgpfUNLRURJVE9SLmVudi5oYyYmKENLRURJVE9SLmVudi5jc3NDbGFzcys9XCIgY2tlX2hjXCIpO0NLRURJVE9SLmRvY3VtZW50LmFwcGVuZFN0eWxlVGV4dChcIi5ja2V7dmlzaWJpbGl0eTpoaWRkZW47fVwiKTtDS0VESVRPUi5zdGF0dXM9XCJsb2FkZWRcIjtDS0VESVRPUi5maXJlT25jZShcImxvYWRlZFwiKTtpZihhPUNLRURJVE9SLl8ucGVuZGluZylmb3IoZGVsZXRlIENLRURJVE9SLl8ucGVuZGluZyxmPTA7ZjxhLmxlbmd0aDtmKyspQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5hcHBseShhW2ZdWzBdLGFbZl1bMV0pLENLRURJVE9SLmFkZChhW2ZdWzBdKX0oKSxDS0VESVRPUi5za2luLm5hbWU9XCJtb29uby1saXNhXCIsQ0tFRElUT1Iuc2tpbi51YV9lZGl0b3I9XCJpZSxpZXF1aXJrcyxpZTgsZ2Vja29cIixcbkNLRURJVE9SLnNraW4udWFfZGlhbG9nPVwiaWUsaWVxdWlya3MsaWU4XCIsQ0tFRElUT1Iuc2tpbi5jaGFtZWxlb249ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGMpe2Zvcih2YXIgZT1hLm1hdGNoKC9bXiNdLi9nKSxmPTA7Mz5mO2YrKyl7dmFyIGw9ZixkO2Q9cGFyc2VJbnQoZVtmXSwxNik7ZD0oXCIwXCIrKDA+Yz8wfGQqKDErYyk6MHxkKygyNTUtZCkqYykudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7ZVtsXT1kfXJldHVyblwiI1wiK2Uuam9pbihcIlwiKX19KCksZj17ZWRpdG9yOm5ldyBDS0VESVRPUi50ZW1wbGF0ZShcIntpZH0uY2tlX2Nocm9tZSBbYm9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV90b3AgWyBiYWNrZ3JvdW5kLWNvbG9yOntkZWZhdWx0QmFja2dyb3VuZH07Ym9yZGVyLWJvdHRvbS1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfYm90dG9tIFtiYWNrZ3JvdW5kLWNvbG9yOntkZWZhdWx0QmFja2dyb3VuZH07Ym9yZGVyLXRvcC1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfcmVzaXplciBbYm9yZGVyLXJpZ2h0LWNvbG9yOntja2VSZXNpemVyfV0ge2lkfSAuY2tlX2RpYWxvZ190aXRsZSBbYmFja2dyb3VuZC1jb2xvcjp7ZGVmYXVsdEJhY2tncm91bmR9O2JvcmRlci1ib3R0b20tY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ19mb290ZXIgW2JhY2tncm91bmQtY29sb3I6e2RlZmF1bHRCYWNrZ3JvdW5kfTtvdXRsaW5lLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfdGFiIFtiYWNrZ3JvdW5kLWNvbG9yOntkaWFsb2dUYWJ9O2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX3RhYjpob3ZlciBbYmFja2dyb3VuZC1jb2xvcjp7bGlnaHRCYWNrZ3JvdW5kfTtdIHtpZH0gLmNrZV9kaWFsb2dfY29udGVudHMgW2JvcmRlci10b3AtY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ190YWJfc2VsZWN0ZWQsIHtpZH0gLmNrZV9kaWFsb2dfdGFiX3NlbGVjdGVkOmhvdmVyIFtiYWNrZ3JvdW5kOntkaWFsb2dUYWJTZWxlY3RlZH07Ym9yZGVyLWJvdHRvbS1jb2xvcjp7ZGlhbG9nVGFiU2VsZWN0ZWRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ19ib2R5IFtiYWNrZ3JvdW5kOntkaWFsb2dCb2R5fTtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSBhLmNrZV9idXR0b25fb2ZmOmhvdmVyLHtpZH0gYS5ja2VfYnV0dG9uX29mZjpmb2N1cyx7aWR9IGEuY2tlX2J1dHRvbl9vZmY6YWN0aXZlIFtiYWNrZ3JvdW5kLWNvbG9yOntkYXJrQmFja2dyb3VuZH07Ym9yZGVyLWNvbG9yOnt0b29sYmFyRWxlbWVudHNCb3JkZXJ9O10ge2lkfSAuY2tlX2J1dHRvbl9vbiBbYmFja2dyb3VuZC1jb2xvcjp7Y2tlQnV0dG9uT259O2JvcmRlci1jb2xvcjp7dG9vbGJhckVsZW1lbnRzQm9yZGVyfTtdIHtpZH0gLmNrZV90b29sYmFyX3NlcGFyYXRvcix7aWR9IC5ja2VfdG9vbGdyb3VwIGEuY2tlX2J1dHRvbjpsYXN0LWNoaWxkOmFmdGVyLHtpZH0gLmNrZV90b29sZ3JvdXAgYS5ja2VfYnV0dG9uLmNrZV9idXR0b25fZGlzYWJsZWQ6aG92ZXI6bGFzdC1jaGlsZDphZnRlciBbYmFja2dyb3VuZC1jb2xvcjoge3Rvb2xiYXJFbGVtZW50c0JvcmRlcn07Ym9yZGVyLWNvbG9yOiB7dG9vbGJhckVsZW1lbnRzQm9yZGVyfTtdIHtpZH0gYS5ja2VfY29tYm9fYnV0dG9uOmhvdmVyLHtpZH0gYS5ja2VfY29tYm9fYnV0dG9uOmZvY3VzLHtpZH0gLmNrZV9jb21ib19vbiBhLmNrZV9jb21ib19idXR0b24gW2JvcmRlci1jb2xvcjp7dG9vbGJhckVsZW1lbnRzQm9yZGVyfTtiYWNrZ3JvdW5kLWNvbG9yOntkYXJrQmFja2dyb3VuZH07XSB7aWR9IC5ja2VfY29tYm86YWZ0ZXIgW2JvcmRlci1jb2xvcjp7dG9vbGJhckVsZW1lbnRzQm9yZGVyfTtdIHtpZH0gLmNrZV9wYXRoX2l0ZW0gW2NvbG9yOntlbGVtZW50c1BhdGhDb2xvcn07XSB7aWR9IGEuY2tlX3BhdGhfaXRlbTpob3Zlcix7aWR9IGEuY2tlX3BhdGhfaXRlbTpmb2N1cyx7aWR9IGEuY2tlX3BhdGhfaXRlbTphY3RpdmUgW2JhY2tncm91bmQtY29sb3I6e2RhcmtCYWNrZ3JvdW5kfTtdIHtpZH0uY2tlX3BhbmVsIFtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10gXCIpLFxucGFuZWw6bmV3IENLRURJVE9SLnRlbXBsYXRlKFwiLmNrZV9wYW5lbF9ncm91cHRpdGxlIFtiYWNrZ3JvdW5kLWNvbG9yOntsaWdodEJhY2tncm91bmR9O2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSAuY2tlX21lbnVidXR0b25faWNvbiBbYmFja2dyb3VuZC1jb2xvcjp7bWVudWJ1dHRvbkljb259O10gLmNrZV9tZW51YnV0dG9uOmhvdmVyLC5ja2VfbWVudWJ1dHRvbjpmb2N1cywuY2tlX21lbnVidXR0b246YWN0aXZlIFtiYWNrZ3JvdW5kLWNvbG9yOnttZW51YnV0dG9uSG92ZXJ9O10gLmNrZV9tZW51YnV0dG9uOmhvdmVyIC5ja2VfbWVudWJ1dHRvbl9pY29uLCAuY2tlX21lbnVidXR0b246Zm9jdXMgLmNrZV9tZW51YnV0dG9uX2ljb24sIC5ja2VfbWVudWJ1dHRvbjphY3RpdmUgLmNrZV9tZW51YnV0dG9uX2ljb24gW2JhY2tncm91bmQtY29sb3I6e21lbnVidXR0b25JY29uSG92ZXJ9O10gLmNrZV9tZW51YnV0dG9uX2Rpc2FibGVkOmhvdmVyIC5ja2VfbWVudWJ1dHRvbl9pY29uLC5ja2VfbWVudWJ1dHRvbl9kaXNhYmxlZDpmb2N1cyAuY2tlX21lbnVidXR0b25faWNvbiwuY2tlX21lbnVidXR0b25fZGlzYWJsZWQ6YWN0aXZlIC5ja2VfbWVudWJ1dHRvbl9pY29uIFtiYWNrZ3JvdW5kLWNvbG9yOnttZW51YnV0dG9uSWNvbn07XSAuY2tlX21lbnVzZXBhcmF0b3IgW2JhY2tncm91bmQtY29sb3I6e21lbnVidXR0b25JY29ufTtdIGE6aG92ZXIuY2tlX2NvbG9yYm94LCBhOmFjdGl2ZS5ja2VfY29sb3Jib3ggW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSBhOmhvdmVyLmNrZV9jb2xvcmF1dG8sIGE6aG92ZXIuY2tlX2NvbG9ybW9yZSwgYTphY3RpdmUuY2tlX2NvbG9yYXV0bywgYTphY3RpdmUuY2tlX2NvbG9ybW9yZSBbYmFja2dyb3VuZC1jb2xvcjp7Y2tlQ29sb3JhdXRvfTtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10gXCIpfTtcbnJldHVybiBmdW5jdGlvbihiLGMpe3ZhciBlPWEoYi51aUNvbG9yLC40KSxlPXtpZDpcIi5cIitiLmlkLGRlZmF1bHRCb3JkZXI6YShlLC0uMiksdG9vbGJhckVsZW1lbnRzQm9yZGVyOmEoZSwtLjI1KSxkZWZhdWx0QmFja2dyb3VuZDplLGxpZ2h0QmFja2dyb3VuZDphKGUsLjgpLGRhcmtCYWNrZ3JvdW5kOmEoZSwtLjE1KSxja2VCdXR0b25PbjphKGUsLjQpLGNrZVJlc2l6ZXI6YShlLC0uNCksY2tlQ29sb3JhdXRvOmEoZSwuOCksZGlhbG9nQm9keTphKGUsLjcpLGRpYWxvZ1RhYjphKGUsLjY1KSxkaWFsb2dUYWJTZWxlY3RlZDpcIiNGRkZcIixkaWFsb2dUYWJTZWxlY3RlZEJvcmRlcjpcIiNGRkZcIixlbGVtZW50c1BhdGhDb2xvcjphKGUsLS42KSxtZW51YnV0dG9uSG92ZXI6YShlLC4xKSxtZW51YnV0dG9uSWNvbjphKGUsLjUpLG1lbnVidXR0b25JY29uSG92ZXI6YShlLC4zKX07cmV0dXJuIGZbY10ub3V0cHV0KGUpLnJlcGxhY2UoL1xcWy9nLFwie1wiKS5yZXBsYWNlKC9cXF0vZyxcIn1cIil9fSgpLFxuQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJkaWFsb2d1aVwiLHtvbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXt0aGlzLl98fCh0aGlzLl89e30pO3RoaXMuX1tcImRlZmF1bHRcIl09dGhpcy5fLmluaXRWYWx1ZT1hW1wiZGVmYXVsdFwiXXx8XCJcIjt0aGlzLl8ucmVxdWlyZWQ9YS5yZXF1aXJlZHx8ITE7Zm9yKHZhciBiPVt0aGlzLl9dLGM9MTtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWIucHVzaChhcmd1bWVudHNbY10pO2IucHVzaCghMCk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kLmFwcGx5KENLRURJVE9SLnRvb2xzLGIpO3JldHVybiB0aGlzLl99LGY9e2J1aWxkOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLmRpYWxvZy50ZXh0SW5wdXQoYSxiLGMpfX0sYj17YnVpbGQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgQ0tFRElUT1IudWkuZGlhbG9nW2IudHlwZV0oYSxiLGMpfX0sYz17aXNDaGFuZ2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VmFsdWUoKSE9XG50aGlzLmdldEluaXRWYWx1ZSgpfSxyZXNldDpmdW5jdGlvbihhKXt0aGlzLnNldFZhbHVlKHRoaXMuZ2V0SW5pdFZhbHVlKCksYSl9LHNldEluaXRWYWx1ZTpmdW5jdGlvbigpe3RoaXMuXy5pbml0VmFsdWU9dGhpcy5nZXRWYWx1ZSgpfSxyZXNldEluaXRWYWx1ZTpmdW5jdGlvbigpe3RoaXMuXy5pbml0VmFsdWU9dGhpcy5fW1wiZGVmYXVsdFwiXX0sZ2V0SW5pdFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5pbml0VmFsdWV9fSxlPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZS5ldmVudFByb2Nlc3NvcnMse29uQ2hhbmdlOmZ1bmN0aW9uKGEsYil7dGhpcy5fLmRvbU9uQ2hhbmdlUmVnaXN0ZXJlZHx8KGEub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt0aGlzLmdldElucHV0RWxlbWVudCgpLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24oKXthLnBhcnRzLmRpYWxvZy5pc1Zpc2libGUoKSYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOnRoaXMuZ2V0VmFsdWUoKX0pfSxcbnRoaXMpfSx0aGlzKSx0aGlzLl8uZG9tT25DaGFuZ2VSZWdpc3RlcmVkPSEwKTt0aGlzLm9uKFwiY2hhbmdlXCIsYil9fSwhMCksbT0vXm9uKFtBLVpdXFx3KykvLGw9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpKG0udGVzdChiKXx8XCJ0aXRsZVwiPT1ifHxcInR5cGVcIj09YikmJmRlbGV0ZSBhW2JdO3JldHVybiBhfSxkPWZ1bmN0aW9uKGEpe2E9YS5kYXRhLmdldEtleXN0cm9rZSgpO2E9PUNLRURJVE9SLlNISUZUK0NLRURJVE9SLkFMVCszNj90aGlzLnNldERpcmVjdGlvbk1hcmtlcihcImx0clwiKTphPT1DS0VESVRPUi5TSElGVCtDS0VESVRPUi5BTFQrMzUmJnRoaXMuc2V0RGlyZWN0aW9uTWFya2VyKFwicnRsXCIpfTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IudWkuZGlhbG9nLHtsYWJlbGVkRWxlbWVudDpmdW5jdGlvbihiLGMsZCxlKXtpZighKDQ+YXJndW1lbnRzLmxlbmd0aCkpe3ZhciBmPWEuY2FsbCh0aGlzLGMpO2YubGFiZWxJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcblwiX2xhYmVsXCI7dGhpcy5fLmNoaWxkcmVuPVtdO3ZhciBsPXtyb2xlOmMucm9sZXx8XCJwcmVzZW50YXRpb25cIn07Yy5pbmNsdWRlTGFiZWwmJihsW1wiYXJpYS1sYWJlbGxlZGJ5XCJdPWYubGFiZWxJZCk7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYixjLGQsXCJkaXZcIixudWxsLGwsZnVuY3Rpb24oKXt2YXIgYT1bXSxkPWMucmVxdWlyZWQ/XCIgY2tlX3JlcXVpcmVkXCI6XCJcIjtcImhvcml6b250YWxcIiE9Yy5sYWJlbExheW91dD9hLnB1c2goJ1xceDNjbGFiZWwgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9sYWJlbGVkX2xhYmVsJytkKydcIiAnLCcgaWRcXHgzZFwiJytmLmxhYmVsSWQrJ1wiJyxmLmlucHV0SWQ/JyBmb3JcXHgzZFwiJytmLmlucHV0SWQrJ1wiJzpcIlwiLChjLmxhYmVsU3R5bGU/JyBzdHlsZVxceDNkXCInK2MubGFiZWxTdHlsZSsnXCInOlwiXCIpK1wiXFx4M2VcIixjLmxhYmVsLFwiXFx4M2MvbGFiZWxcXHgzZVwiLCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2xhYmVsZWRfY29udGVudFwiJyxcbmMuY29udHJvbFN0eWxlPycgc3R5bGVcXHgzZFwiJytjLmNvbnRyb2xTdHlsZSsnXCInOlwiXCIsJyByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2UnLGUuY2FsbCh0aGlzLGIsYyksXCJcXHgzYy9kaXZcXHgzZVwiKTooZD17dHlwZTpcImhib3hcIix3aWR0aHM6Yy53aWR0aHMscGFkZGluZzowLGNoaWxkcmVuOlt7dHlwZTpcImh0bWxcIixodG1sOidcXHgzY2xhYmVsIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9sYWJlbCcrZCsnXCIgaWRcXHgzZFwiJytmLmxhYmVsSWQrJ1wiIGZvclxceDNkXCInK2YuaW5wdXRJZCsnXCInKyhjLmxhYmVsU3R5bGU/JyBzdHlsZVxceDNkXCInK2MubGFiZWxTdHlsZSsnXCInOlwiXCIpK1wiXFx4M2VcIitDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGMubGFiZWwpK1wiXFx4M2MvbGFiZWxcXHgzZVwifSx7dHlwZTpcImh0bWxcIixodG1sOidcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9sYWJlbGVkX2NvbnRlbnRcIicrKGMuY29udHJvbFN0eWxlPycgc3R5bGVcXHgzZFwiJytjLmNvbnRyb2xTdHlsZStcbidcIic6XCJcIikrXCJcXHgzZVwiK2UuY2FsbCh0aGlzLGIsYykrXCJcXHgzYy9zcGFuXFx4M2VcIn1dfSxDS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVycy5oYm94LmJ1aWxkKGIsZCxhKSk7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sdGV4dElucHV0OmZ1bmN0aW9uKGIsYyxlKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe2EuY2FsbCh0aGlzLGMpO3ZhciBmPXRoaXMuXy5pbnB1dElkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3RleHRJbnB1dFwiLGw9e1wiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfaW5wdXRfXCIrYy50eXBlLGlkOmYsdHlwZTpjLnR5cGV9O2MudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWMudmFsaWRhdGUpO2MubWF4TGVuZ3RoJiYobC5tYXhsZW5ndGg9Yy5tYXhMZW5ndGgpO2Muc2l6ZSYmKGwuc2l6ZT1jLnNpemUpO2MuaW5wdXRTdHlsZSYmKGwuc3R5bGU9Yy5pbnB1dFN0eWxlKTt2YXIgbT10aGlzLHQ9ITE7Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe20uZ2V0SW5wdXRFbGVtZW50KCkub24oXCJrZXlkb3duXCIsXG5mdW5jdGlvbihhKXsxMz09YS5kYXRhLmdldEtleXN0cm9rZSgpJiYodD0hMCl9KTttLmdldElucHV0RWxlbWVudCgpLm9uKFwia2V5dXBcIixmdW5jdGlvbihhKXsxMz09YS5kYXRhLmdldEtleXN0cm9rZSgpJiZ0JiYoYi5nZXRCdXR0b24oXCJva1wiKSYmc2V0VGltZW91dChmdW5jdGlvbigpe2IuZ2V0QnV0dG9uKFwib2tcIikuY2xpY2soKX0sMCksdD0hMSk7bS5iaWRpJiZkLmNhbGwobSxhKX0sbnVsbCxudWxsLDFFMyl9KTtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQuY2FsbCh0aGlzLGIsYyxlLGZ1bmN0aW9uKCl7dmFyIGE9WydcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2lucHV0XycsYy50eXBlLCdcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiJ107Yy53aWR0aCYmYS5wdXNoKCdzdHlsZVxceDNkXCJ3aWR0aDonK2Mud2lkdGgrJ1wiICcpO2EucHVzaChcIlxceDNlXFx4M2NpbnB1dCBcIik7bFtcImFyaWEtbGFiZWxsZWRieVwiXT10aGlzLl8ubGFiZWxJZDt0aGlzLl8ucmVxdWlyZWQmJlxuKGxbXCJhcmlhLXJlcXVpcmVkXCJdPXRoaXMuXy5yZXF1aXJlZCk7Zm9yKHZhciBiIGluIGwpYS5wdXNoKGIrJ1xceDNkXCInK2xbYl0rJ1wiICcpO2EucHVzaChcIiAvXFx4M2VcXHgzYy9kaXZcXHgzZVwiKTtyZXR1cm4gYS5qb2luKFwiXCIpfSl9fSx0ZXh0YXJlYTpmdW5jdGlvbihiLGMsZSl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXthLmNhbGwodGhpcyxjKTt2YXIgZj10aGlzLGw9dGhpcy5fLmlucHV0SWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfdGV4dGFyZWFcIixtPXt9O2MudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWMudmFsaWRhdGUpO20ucm93cz1jLnJvd3N8fDU7bS5jb2xzPWMuY29sc3x8MjA7bVtcImNsYXNzXCJdPVwiY2tlX2RpYWxvZ191aV9pbnB1dF90ZXh0YXJlYSBcIisoY1tcImNsYXNzXCJdfHxcIlwiKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgYy5pbnB1dFN0eWxlJiYobS5zdHlsZT1jLmlucHV0U3R5bGUpO2MuZGlyJiYobS5kaXI9Yy5kaXIpO2lmKGYuYmlkaSliLm9uKFwibG9hZFwiLFxuZnVuY3Rpb24oKXtmLmdldElucHV0RWxlbWVudCgpLm9uKFwia2V5dXBcIixkKX0sZik7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxiLGMsZSxmdW5jdGlvbigpe21bXCJhcmlhLWxhYmVsbGVkYnlcIl09dGhpcy5fLmxhYmVsSWQ7dGhpcy5fLnJlcXVpcmVkJiYobVtcImFyaWEtcmVxdWlyZWRcIl09dGhpcy5fLnJlcXVpcmVkKTt2YXIgYT1bJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfaW5wdXRfdGV4dGFyZWFcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzY3RleHRhcmVhIGlkXFx4M2RcIicsbCwnXCIgJ10sYjtmb3IoYiBpbiBtKWEucHVzaChiKydcXHgzZFwiJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKG1bYl0pKydcIiAnKTthLnB1c2goXCJcXHgzZVwiLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZi5fW1wiZGVmYXVsdFwiXSksXCJcXHgzYy90ZXh0YXJlYVxceDNlXFx4M2MvZGl2XFx4M2VcIik7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sY2hlY2tib3g6ZnVuY3Rpb24oYixcbmMsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgZT1hLmNhbGwodGhpcyxjLHtcImRlZmF1bHRcIjohIWNbXCJkZWZhdWx0XCJdfSk7Yy52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Yy52YWxpZGF0ZSk7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYixjLGQsXCJzcGFuXCIsbnVsbCxudWxsLGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGMse2lkOmMuaWQ/Yy5pZCtcIl9jaGVja2JveFwiOkNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX2NoZWNrYm94XCJ9LCEwKSxkPVtdLGY9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfbGFiZWxcIixnPXtcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX2NoZWNrYm94X2lucHV0XCIsdHlwZTpcImNoZWNrYm94XCIsXCJhcmlhLWxhYmVsbGVkYnlcIjpmfTtsKGEpO2NbXCJkZWZhdWx0XCJdJiYoZy5jaGVja2VkPVwiY2hlY2tlZFwiKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5pbnB1dFN0eWxlJiYoYS5zdHlsZT1hLmlucHV0U3R5bGUpO1xuZS5jaGVja2JveD1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLGEsZCxcImlucHV0XCIsbnVsbCxnKTtkLnB1c2goJyBcXHgzY2xhYmVsIGlkXFx4M2RcIicsZiwnXCIgZm9yXFx4M2RcIicsZy5pZCwnXCInKyhjLmxhYmVsU3R5bGU/JyBzdHlsZVxceDNkXCInK2MubGFiZWxTdHlsZSsnXCInOlwiXCIpK1wiXFx4M2VcIixDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGMubGFiZWwpLFwiXFx4M2MvbGFiZWxcXHgzZVwiKTtyZXR1cm4gZC5qb2luKFwiXCIpfSl9fSxyYWRpbzpmdW5jdGlvbihiLGMsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXthLmNhbGwodGhpcyxjKTt0aGlzLl9bXCJkZWZhdWx0XCJdfHwodGhpcy5fW1wiZGVmYXVsdFwiXT10aGlzLl8uaW5pdFZhbHVlPWMuaXRlbXNbMF1bMV0pO2MudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWMudmFsaWRhdGUpO3ZhciBlPVtdLGY9dGhpcztjLnJvbGU9XCJyYWRpb2dyb3VwXCI7Yy5pbmNsdWRlTGFiZWw9ITA7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxcbmIsYyxkLGZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGQ9W10sZz0oYy5pZD9jLmlkOkNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpKStcIl9yYWRpb1wiLG09MDttPGMuaXRlbXMubGVuZ3RoO20rKyl7dmFyIHU9Yy5pdGVtc1ttXSxCPXZvaWQgMCE9PXVbMl0/dVsyXTp1WzBdLHg9dm9pZCAwIT09dVsxXT91WzFdOnVbMF0sdz1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9yYWRpb19pbnB1dFwiLHo9dytcIl9sYWJlbFwiLHc9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGMse2lkOncsdGl0bGU6bnVsbCx0eXBlOm51bGx9LCEwKSxCPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx3LHt0aXRsZTpCfSwhMCksRD17dHlwZTpcInJhZGlvXCIsXCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9yYWRpb19pbnB1dFwiLG5hbWU6Zyx2YWx1ZTp4LFwiYXJpYS1sYWJlbGxlZGJ5XCI6en0seT1bXTtmLl9bXCJkZWZhdWx0XCJdPT14JiYoRC5jaGVja2VkPVwiY2hlY2tlZFwiKTtsKHcpO2woQik7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHcuaW5wdXRTdHlsZSYmXG4ody5zdHlsZT13LmlucHV0U3R5bGUpO3cua2V5Ym9hcmRGb2N1c2FibGU9ITA7ZS5wdXNoKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50KGIsdyx5LFwiaW5wdXRcIixudWxsLEQpKTt5LnB1c2goXCIgXCIpO25ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50KGIsQix5LFwibGFiZWxcIixudWxsLHtpZDp6LFwiZm9yXCI6RC5pZH0sdVswXSk7YS5wdXNoKHkuam9pbihcIlwiKSl9bmV3IENLRURJVE9SLnVpLmRpYWxvZy5oYm94KGIsZSxhLGQpO3JldHVybiBkLmpvaW4oXCJcIil9KTt0aGlzLl8uY2hpbGRyZW49ZX19LGJ1dHRvbjpmdW5jdGlvbihiLGMsZCl7aWYoYXJndW1lbnRzLmxlbmd0aCl7XCJmdW5jdGlvblwiPT10eXBlb2YgYyYmKGM9YyhiLmdldFBhcmVudEVkaXRvcigpKSk7YS5jYWxsKHRoaXMsYyx7ZGlzYWJsZWQ6Yy5kaXNhYmxlZHx8ITF9KTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbih0aGlzKTt2YXIgZT10aGlzO2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTtcbihmdW5jdGlvbigpe2Eub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2UuY2xpY2soKTthLmRhdGEucHJldmVudERlZmF1bHQoKX0pO2Eub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmdldEtleXN0cm9rZSgpaW57MzI6MX0mJihlLmNsaWNrKCksYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSl9KSgpO2EudW5zZWxlY3RhYmxlKCl9LHRoaXMpO3ZhciBmPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxjKTtkZWxldGUgZi5zdHlsZTt2YXIgbD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9sYWJlbFwiO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGIsZixkLFwiYVwiLG51bGwse3N0eWxlOmMuc3R5bGUsaHJlZjpcImphdmFzY3JpcHQ6dm9pZCgwKVwiLHRpdGxlOmMubGFiZWwsaGlkZWZvY3VzOlwidHJ1ZVwiLFwiY2xhc3NcIjpjW1wiY2xhc3NcIl0scm9sZTpcImJ1dHRvblwiLFwiYXJpYS1sYWJlbGxlZGJ5XCI6bH0sJ1xceDNjc3BhbiBpZFxceDNkXCInK2wrJ1wiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfYnV0dG9uXCJcXHgzZScrXG5DS0VESVRPUi50b29scy5odG1sRW5jb2RlKGMubGFiZWwpK1wiXFx4M2Mvc3BhblxceDNlXCIpfX0sc2VsZWN0OmZ1bmN0aW9uKGIsYyxkKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe3ZhciBlPWEuY2FsbCh0aGlzLGMpO2MudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWMudmFsaWRhdGUpO2UuaW5wdXRJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9zZWxlY3RcIjtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQuY2FsbCh0aGlzLGIsYyxkLGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGMse2lkOmMuaWQ/Yy5pZCtcIl9zZWxlY3RcIjpDS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9zZWxlY3RcIn0sITApLGQ9W10sZj1bXSxnPXtpZDplLmlucHV0SWQsXCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9pbnB1dF9zZWxlY3RcIixcImFyaWEtbGFiZWxsZWRieVwiOnRoaXMuXy5sYWJlbElkfTtkLnB1c2goJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfaW5wdXRfJyxcbmMudHlwZSwnXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIicpO2Mud2lkdGgmJmQucHVzaCgnc3R5bGVcXHgzZFwid2lkdGg6JytjLndpZHRoKydcIiAnKTtkLnB1c2goXCJcXHgzZVwiKTt2b2lkIDAhPT1jLnNpemUmJihnLnNpemU9Yy5zaXplKTt2b2lkIDAhPT1jLm11bHRpcGxlJiYoZy5tdWx0aXBsZT1jLm11bHRpcGxlKTtsKGEpO2Zvcih2YXIgbT0wLHU7bTxjLml0ZW1zLmxlbmd0aCYmKHU9Yy5pdGVtc1ttXSk7bSsrKWYucHVzaCgnXFx4M2NvcHRpb24gdmFsdWVcXHgzZFwiJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKHZvaWQgMCE9PXVbMV0/dVsxXTp1WzBdKS5yZXBsYWNlKC9cIi9nLFwiXFx4MjZxdW90O1wiKSwnXCIgL1xceDNlICcsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZSh1WzBdKSk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuaW5wdXRTdHlsZSYmKGEuc3R5bGU9YS5pbnB1dFN0eWxlKTtlLnNlbGVjdD1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLGEsZCxcInNlbGVjdFwiLG51bGwsXG5nLGYuam9pbihcIlwiKSk7ZC5wdXNoKFwiXFx4M2MvZGl2XFx4M2VcIik7cmV0dXJuIGQuam9pbihcIlwiKX0pfX0sZmlsZTpmdW5jdGlvbihiLGMsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt2b2lkIDA9PT1jW1wiZGVmYXVsdFwiXSYmKGNbXCJkZWZhdWx0XCJdPVwiXCIpO3ZhciBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChhLmNhbGwodGhpcyxjKSx7ZGVmaW5pdGlvbjpjLGJ1dHRvbnM6W119KTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTtiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChlLmZyYW1lSWQpLmdldFBhcmVudCgpLmFkZENsYXNzKFwiY2tlX2RpYWxvZ191aV9pbnB1dF9maWxlXCIpfSk7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxiLGMsZCxmdW5jdGlvbigpe2UuZnJhbWVJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9maWxlSW5wdXRcIjt2YXIgYT1bJ1xceDNjaWZyYW1lIGZyYW1lYm9yZGVyXFx4M2RcIjBcIiBhbGxvd3RyYW5zcGFyZW5jeVxceDNkXCIwXCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9pbnB1dF9maWxlXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBpZFxceDNkXCInLFxuZS5mcmFtZUlkLCdcIiB0aXRsZVxceDNkXCInLGMubGFiZWwsJ1wiIHNyY1xceDNkXCJqYXZhc2NyaXB0OnZvaWQoJ107YS5wdXNoKENLRURJVE9SLmVudi5pZT9cIihmdW5jdGlvbigpe1wiK2VuY29kZVVSSUNvbXBvbmVudChcImRvY3VtZW50Lm9wZW4oKTsoXCIrQ0tFRElUT1IudG9vbHMuZml4RG9tYWluK1wiKSgpO2RvY3VtZW50LmNsb3NlKCk7XCIpK1wifSkoKVwiOlwiMFwiKTthLnB1c2goJylcIlxceDNlXFx4M2MvaWZyYW1lXFx4M2UnKTtyZXR1cm4gYS5qb2luKFwiXCIpfSl9fSxmaWxlQnV0dG9uOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzO2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7YS5jYWxsKHRoaXMsYyk7Yy52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Yy52YWxpZGF0ZSk7dmFyIGY9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGMpLGw9Zi5vbkNsaWNrO2YuY2xhc3NOYW1lPShmLmNsYXNzTmFtZT9mLmNsYXNzTmFtZStcIiBcIjpcIlwiKStcImNrZV9kaWFsb2dfdWlfYnV0dG9uXCI7Zi5vbkNsaWNrPWZ1bmN0aW9uKGEpe3ZhciBkPVxuY1tcImZvclwiXTtsJiYhMT09PWwuY2FsbCh0aGlzLGEpfHwoYi5nZXRDb250ZW50RWxlbWVudChkWzBdLGRbMV0pLnN1Ym1pdCgpLHRoaXMuZGlzYWJsZSgpKX07Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe2IuZ2V0Q29udGVudEVsZW1lbnQoY1tcImZvclwiXVswXSxjW1wiZm9yXCJdWzFdKS5fLmJ1dHRvbnMucHVzaChlKX0pO0NLRURJVE9SLnVpLmRpYWxvZy5idXR0b24uY2FsbCh0aGlzLGIsZixkKX19LGh0bWw6ZnVuY3Rpb24oKXt2YXIgYT0vXlxccyo8W1xcdzpdK1xccysoW14+XSopPz4vLGI9L14oXFxzKjxbXFx3Ol0rKD86XFxzK1tePl0qKT8pKCg/Oi58XFxyfFxcbikrKSQvLGM9L1xcLyQvO3JldHVybiBmdW5jdGlvbihkLGUsZil7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgbD1bXSxtPWUuaHRtbDtcIlxceDNjXCIhPW0uY2hhckF0KDApJiYobT1cIlxceDNjc3BhblxceDNlXCIrbStcIlxceDNjL3NwYW5cXHgzZVwiKTt2YXIgcj1lLmZvY3VzO2lmKHIpe3ZhciB1PXRoaXMuZm9jdXM7dGhpcy5mb2N1cz1mdW5jdGlvbigpeyhcImZ1bmN0aW9uXCI9PVxudHlwZW9mIHI/cjp1KS5jYWxsKHRoaXMpO3RoaXMuZmlyZShcImZvY3VzXCIpfTtlLmlzRm9jdXNhYmxlJiYodGhpcy5pc0ZvY3VzYWJsZT10aGlzLmlzRm9jdXNhYmxlKTt0aGlzLmtleWJvYXJkRm9jdXNhYmxlPSEwfUNLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGQsZSxsLFwic3BhblwiLG51bGwsbnVsbCxcIlwiKTtsPWwuam9pbihcIlwiKS5tYXRjaChhKTttPW0ubWF0Y2goYil8fFtcIlwiLFwiXCIsXCJcIl07Yy50ZXN0KG1bMV0pJiYobVsxXT1tWzFdLnNsaWNlKDAsLTEpLG1bMl09XCIvXCIrbVsyXSk7Zi5wdXNoKFttWzFdLFwiIFwiLGxbMV18fFwiXCIsbVsyXV0uam9pbihcIlwiKSl9fX0oKSxmaWVsZHNldDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWUubGFiZWw7dGhpcy5fPXtjaGlsZHJlbjpifTtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxhLGUsZCxcImZpZWxkc2V0XCIsbnVsbCxudWxsLGZ1bmN0aW9uKCl7dmFyIGE9W107ZiYmYS5wdXNoKFwiXFx4M2NsZWdlbmRcIitcbihlLmxhYmVsU3R5bGU/JyBzdHlsZVxceDNkXCInK2UubGFiZWxTdHlsZSsnXCInOlwiXCIpK1wiXFx4M2VcIitmK1wiXFx4M2MvbGVnZW5kXFx4M2VcIik7Zm9yKHZhciBiPTA7YjxjLmxlbmd0aDtiKyspYS5wdXNoKGNbYl0pO3JldHVybiBhLmpvaW4oXCJcIil9KX19LCEwKTtDS0VESVRPUi51aS5kaWFsb2cuaHRtbC5wcm90b3R5cGU9bmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQ7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse3NldExhYmVsOmZ1bmN0aW9uKGEpe3ZhciBiPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmxhYmVsSWQpOzE+Yi5nZXRDaGlsZENvdW50KCk/KG5ldyBDS0VESVRPUi5kb20udGV4dChhLENLRURJVE9SLmRvY3VtZW50KSkuYXBwZW5kVG8oYik6Yi5nZXRDaGlsZCgwKS4kLm5vZGVWYWx1ZT1hO3JldHVybiB0aGlzfSxnZXRMYWJlbDpmdW5jdGlvbigpe3ZhciBhPVxuQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8ubGFiZWxJZCk7cmV0dXJuIWF8fDE+YS5nZXRDaGlsZENvdW50KCk/XCJcIjphLmdldENoaWxkKDApLmdldFRleHQoKX0sZXZlbnRQcm9jZXNzb3JzOmV9LCEwKTtDS0VESVRPUi51aS5kaWFsb2cuYnV0dG9uLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse2NsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5kaXNhYmxlZD8hMTp0aGlzLmZpcmUoXCJjbGlja1wiLHtkaWFsb2c6dGhpcy5fLmRpYWxvZ30pfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl8uZGlzYWJsZWQ9ITE7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7YSYmYS5yZW1vdmVDbGFzcyhcImNrZV9kaXNhYmxlZFwiKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuXy5kaXNhYmxlZD0hMDt0aGlzLmdldEVsZW1lbnQoKS5hZGRDbGFzcyhcImNrZV9kaXNhYmxlZFwiKX0saXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RWxlbWVudCgpLmdldEZpcnN0KCkuaXNWaXNpYmxlKCl9LFxuaXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuXy5kaXNhYmxlZH0sZXZlbnRQcm9jZXNzb3JzOkNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZS5ldmVudFByb2Nlc3NvcnMse29uQ2xpY2s6ZnVuY3Rpb24oYSxiKXt0aGlzLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe2IuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9fSwhMCksYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt0aGlzLmNsaWNrKCl9LGFjY2Vzc0tleURvd246ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKCl9LGtleWJvYXJkRm9jdXNhYmxlOiEwfSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLnRleHRJbnB1dC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQse2dldElucHV0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pbnB1dElkKX0sXG5mb2N1czpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc2VsZWN0UGFyZW50VGFiKCk7c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPWEuZ2V0SW5wdXRFbGVtZW50KCk7YiYmYi4kLmZvY3VzKCl9LDApfSxzZWxlY3Q6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNlbGVjdFBhcmVudFRhYigpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj1hLmdldElucHV0RWxlbWVudCgpO2ImJihiLiQuZm9jdXMoKSxiLiQuc2VsZWN0KCkpfSwwKX0sYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdCgpfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXtpZih0aGlzLmJpZGkpe3ZhciBiPWEmJmEuY2hhckF0KDApOyhiPVwi4oCqXCI9PWI/XCJsdHJcIjpcIuKAq1wiPT1iP1wicnRsXCI6bnVsbCkmJihhPWEuc2xpY2UoMSkpO3RoaXMuc2V0RGlyZWN0aW9uTWFya2VyKGIpfWF8fChhPVwiXCIpO3JldHVybiBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZS5zZXRWYWx1ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LFxuZ2V0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZS5nZXRWYWx1ZS5jYWxsKHRoaXMpO2lmKHRoaXMuYmlkaSYmYSl7dmFyIGI9dGhpcy5nZXREaXJlY3Rpb25NYXJrZXIoKTtiJiYoYT0oXCJsdHJcIj09Yj9cIuKAqlwiOlwi4oCrXCIpK2EpfXJldHVybiBhfSxzZXREaXJlY3Rpb25NYXJrZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKTthP2Iuc2V0QXR0cmlidXRlcyh7ZGlyOmEsXCJkYXRhLWNrZS1kaXItbWFya2VyXCI6YX0pOnRoaXMuZ2V0RGlyZWN0aW9uTWFya2VyKCkmJmIucmVtb3ZlQXR0cmlidXRlcyhbXCJkaXJcIixcImRhdGEtY2tlLWRpci1tYXJrZXJcIl0pfSxnZXREaXJlY3Rpb25NYXJrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5kYXRhKFwiY2tlLWRpci1tYXJrZXJcIil9LGtleWJvYXJkRm9jdXNhYmxlOiEwfSxjLCEwKTtDS0VESVRPUi51aS5kaWFsb2cudGV4dGFyZWEucHJvdG90eXBlPVxubmV3IENLRURJVE9SLnVpLmRpYWxvZy50ZXh0SW5wdXQ7Q0tFRElUT1IudWkuZGlhbG9nLnNlbGVjdC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQse2dldElucHV0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uc2VsZWN0LmdldEVsZW1lbnQoKX0sYWRkOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJvcHRpb25cIix0aGlzLmdldERpYWxvZygpLmdldFBhcmVudEVkaXRvcigpLmRvY3VtZW50KSxlPXRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJDtkLiQudGV4dD1hO2QuJC52YWx1ZT12b2lkIDA9PT1ifHxudWxsPT09Yj9hOmI7dm9pZCAwPT09Y3x8bnVsbD09PWM/Q0tFRElUT1IuZW52LmllP2UuYWRkKGQuJCk6ZS5hZGQoZC4kLG51bGwpOmUuYWRkKGQuJCxjKTtyZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKGEpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC5yZW1vdmUoYSk7XG5yZXR1cm4gdGhpc30sY2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kOzA8YS5sZW5ndGg7KWEucmVtb3ZlKDApO3JldHVybiB0aGlzfSxrZXlib2FyZEZvY3VzYWJsZTohMH0sYywhMCk7Q0tFRElUT1IudWkuZGlhbG9nLmNoZWNrYm94LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse2dldElucHV0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uY2hlY2tib3guZ2V0RWxlbWVudCgpfSxzZXRWYWx1ZTpmdW5jdGlvbihhLGIpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC5jaGVja2VkPWE7IWImJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTphfSl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC5jaGVja2VkfSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3RoaXMuc2V0VmFsdWUoIXRoaXMuZ2V0VmFsdWUoKSl9LGV2ZW50UHJvY2Vzc29yczp7b25DaGFuZ2U6ZnVuY3Rpb24oYSxcbmIpe2lmKCFDS0VESVRPUi5lbnYuaWV8fDg8Q0tFRElUT1IuZW52LnZlcnNpb24pcmV0dXJuIGUub25DaGFuZ2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Eub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2hlY2tib3guZ2V0RWxlbWVudCgpO2Eub24oXCJwcm9wZXJ0eWNoYW5nZVwiLGZ1bmN0aW9uKGIpe2I9Yi5kYXRhLiQ7XCJjaGVja2VkXCI9PWIucHJvcGVydHlOYW1lJiZ0aGlzLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6YS4kLmNoZWNrZWR9KX0sdGhpcyl9LHRoaXMpO3RoaXMub24oXCJjaGFuZ2VcIixiKTtyZXR1cm4gbnVsbH19LGtleWJvYXJkRm9jdXNhYmxlOiEwfSxjLCEwKTtDS0VESVRPUi51aS5kaWFsb2cucmFkaW8ucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7c2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5fLmNoaWxkcmVuLGQsZT0wO2U8Yy5sZW5ndGgmJihkPWNbZV0pO2UrKylkLmdldEVsZW1lbnQoKS4kLmNoZWNrZWQ9XG5kLmdldFZhbHVlKCk9PWE7IWImJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTphfSl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuXy5jaGlsZHJlbixiPTA7YjxhLmxlbmd0aDtiKyspaWYoYVtiXS5nZXRFbGVtZW50KCkuJC5jaGVja2VkKXJldHVybiBhW2JdLmdldFZhbHVlKCk7cmV0dXJuIG51bGx9LGFjY2Vzc0tleVVwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNoaWxkcmVuLGI7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmdldEVsZW1lbnQoKS4kLmNoZWNrZWQpe2FbYl0uZ2V0RWxlbWVudCgpLmZvY3VzKCk7cmV0dXJufWFbMF0uZ2V0RWxlbWVudCgpLmZvY3VzKCl9LGV2ZW50UHJvY2Vzc29yczp7b25DaGFuZ2U6ZnVuY3Rpb24oYSxiKXtpZighQ0tFRElUT1IuZW52LmllfHw4PENLRURJVE9SLmVudi52ZXJzaW9uKXJldHVybiBlLm9uQ2hhbmdlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhPVxudGhpcy5fLmNoaWxkcmVuLGI9dGhpcyxjPTA7YzxhLmxlbmd0aDtjKyspYVtjXS5nZXRFbGVtZW50KCkub24oXCJwcm9wZXJ0eWNoYW5nZVwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhLiQ7XCJjaGVja2VkXCI9PWEucHJvcGVydHlOYW1lJiZ0aGlzLiQuY2hlY2tlZCYmYi5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOnRoaXMuZ2V0QXR0cmlidXRlKFwidmFsdWVcIil9KX0pfSx0aGlzKTt0aGlzLm9uKFwiY2hhbmdlXCIsYik7cmV0dXJuIG51bGx9fX0sYywhMCk7Q0tFRElUT1IudWkuZGlhbG9nLmZpbGUucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LGMse2dldElucHV0RWxlbWVudDpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmZyYW1lSWQpLmdldEZyYW1lRG9jdW1lbnQoKTtyZXR1cm4gMDxhLiQuZm9ybXMubGVuZ3RoP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChhLiQuZm9ybXNbMF0uZWxlbWVudHNbMF0pOlxudGhpcy5nZXRFbGVtZW50KCl9LHN1Ym1pdDpmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0UGFyZW50KCkuJC5zdWJtaXQoKTtyZXR1cm4gdGhpc30sZ2V0QWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0UGFyZW50KCkuJC5hY3Rpb259LHJlZ2lzdGVyRXZlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPS9eb24oW0EtWl1cXHcrKS8sYyxkPWZ1bmN0aW9uKGEsYixjLGQpe2Eub24oXCJmb3JtTG9hZGVkXCIsZnVuY3Rpb24oKXthLmdldElucHV0RWxlbWVudCgpLm9uKGMsZCxhKX0pfSxlO2ZvcihlIGluIGEpaWYoYz1lLm1hdGNoKGIpKXRoaXMuZXZlbnRQcm9jZXNzb3JzW2VdP3RoaXMuZXZlbnRQcm9jZXNzb3JzW2VdLmNhbGwodGhpcyx0aGlzLl8uZGlhbG9nLGFbZV0pOmQodGhpcyx0aGlzLl8uZGlhbG9nLGNbMV0udG9Mb3dlckNhc2UoKSxhW2VdKTtyZXR1cm4gdGhpc30scmVzZXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7Yy4kLm9wZW4oKTtcbnZhciBoPVwiXCI7ZC5zaXplJiYoaD1kLnNpemUtKENLRURJVE9SLmVudi5pZT83OjApKTt2YXIgQj1iLmZyYW1lSWQrXCJfaW5wdXRcIjtjLiQud3JpdGUoWydcXHgzY2h0bWwgZGlyXFx4M2RcIicrbSsnXCIgbGFuZ1xceDNkXCInK3IrJ1wiXFx4M2VcXHgzY2hlYWRcXHgzZVxceDNjdGl0bGVcXHgzZVxceDNjL3RpdGxlXFx4M2VcXHgzYy9oZWFkXFx4M2VcXHgzY2JvZHkgc3R5bGVcXHgzZFwibWFyZ2luOiAwOyBvdmVyZmxvdzogaGlkZGVuOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcIlxceDNlJywnXFx4M2Nmb3JtIGVuY3R5cGVcXHgzZFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiIG1ldGhvZFxceDNkXCJQT1NUXCIgZGlyXFx4M2RcIicrbSsnXCIgbGFuZ1xceDNkXCInK3IrJ1wiIGFjdGlvblxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZC5hY3Rpb24pLCdcIlxceDNlXFx4M2NsYWJlbCBpZFxceDNkXCInLGIubGFiZWxJZCwnXCIgZm9yXFx4M2RcIicsQiwnXCIgc3R5bGVcXHgzZFwiZGlzcGxheTpub25lXCJcXHgzZScsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShkLmxhYmVsKSxcbidcXHgzYy9sYWJlbFxceDNlXFx4M2NpbnB1dCBzdHlsZVxceDNkXCJ3aWR0aDoxMDAlXCIgaWRcXHgzZFwiJyxCLCdcIiBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiJyxiLmxhYmVsSWQsJ1wiIHR5cGVcXHgzZFwiZmlsZVwiIG5hbWVcXHgzZFwiJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGQuaWR8fFwiY2tlX3VwbG9hZFwiKSwnXCIgc2l6ZVxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoMDxoP2g6XCJcIiksJ1wiIC9cXHgzZVxceDNjL2Zvcm1cXHgzZVxceDNjL2JvZHlcXHgzZVxceDNjL2h0bWxcXHgzZVxceDNjc2NyaXB0XFx4M2UnLENLRURJVE9SLmVudi5pZT9cIihcIitDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7XCI6XCJcIixcIndpbmRvdy5wYXJlbnQuQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKFwiK2YrXCIpO1wiLFwid2luZG93Lm9uYmVmb3JldW5sb2FkIFxceDNkIGZ1bmN0aW9uKCkge3dpbmRvdy5wYXJlbnQuQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKFwiK2wrXCIpfVwiLFwiXFx4M2Mvc2NyaXB0XFx4M2VcIl0uam9pbihcIlwiKSk7XG5jLiQuY2xvc2UoKTtmb3IoaD0wO2g8ZS5sZW5ndGg7aCsrKWVbaF0uZW5hYmxlKCl9dmFyIGI9dGhpcy5fLGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChiLmZyYW1lSWQpLmdldEZyYW1lRG9jdW1lbnQoKSxkPWIuZGVmaW5pdGlvbixlPWIuYnV0dG9ucyxmPXRoaXMuZm9ybUxvYWRlZE51bWJlcixsPXRoaXMuZm9ybVVubG9hZE51bWJlcixtPWIuZGlhbG9nLl8uZWRpdG9yLmxhbmcuZGlyLHI9Yi5kaWFsb2cuXy5lZGl0b3IubGFuZ0NvZGU7Znx8KGY9dGhpcy5mb3JtTG9hZGVkTnVtYmVyPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7dGhpcy5maXJlKFwiZm9ybUxvYWRlZFwiKX0sdGhpcyksbD10aGlzLmZvcm1VbmxvYWROdW1iZXI9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXt0aGlzLmdldElucHV0RWxlbWVudCgpLmNsZWFyQ3VzdG9tRGF0YSgpfSx0aGlzKSx0aGlzLmdldERpYWxvZygpLl8uZWRpdG9yLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24oZik7XG5DS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihsKX0pKTtDS0VESVRPUi5lbnYuZ2Vja28/c2V0VGltZW91dChhLDUwMCk6YSgpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLiQudmFsdWV8fFwiXCJ9LHNldEluaXRWYWx1ZTpmdW5jdGlvbigpe3RoaXMuXy5pbml0VmFsdWU9XCJcIn0sZXZlbnRQcm9jZXNzb3JzOntvbkNoYW5nZTpmdW5jdGlvbihhLGIpe3RoaXMuXy5kb21PbkNoYW5nZVJlZ2lzdGVyZWR8fCh0aGlzLm9uKFwiZm9ybUxvYWRlZFwiLGZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImNoYW5nZVwiLGZ1bmN0aW9uKCl7dGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOnRoaXMuZ2V0VmFsdWUoKX0pfSx0aGlzKX0sdGhpcyksdGhpcy5fLmRvbU9uQ2hhbmdlUmVnaXN0ZXJlZD0hMCk7dGhpcy5vbihcImNoYW5nZVwiLGIpfX0sa2V5Ym9hcmRGb2N1c2FibGU6ITB9LCEwKTtDS0VESVRPUi51aS5kaWFsb2cuZmlsZUJ1dHRvbi5wcm90b3R5cGU9XG5uZXcgQ0tFRElUT1IudWkuZGlhbG9nLmJ1dHRvbjtDS0VESVRPUi51aS5kaWFsb2cuZmllbGRzZXQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmNsb25lKENLRURJVE9SLnVpLmRpYWxvZy5oYm94LnByb3RvdHlwZSk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcInRleHRcIixmKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwicGFzc3dvcmRcIixmKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwidGV4dGFyZWFcIixiKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiY2hlY2tib3hcIixiKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwicmFkaW9cIixiKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiYnV0dG9uXCIsYik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcInNlbGVjdFwiLGIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJmaWxlXCIsYik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImZpbGVCdXR0b25cIixiKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiaHRtbFwiLFxuYik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImZpZWxkc2V0XCIse2J1aWxkOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9Yi5jaGlsZHJlbixlLGY9W10sbD1bXSxtPTA7bTxkLmxlbmd0aCYmKGU9ZFttXSk7bSsrKXt2YXIgcj1bXTtmLnB1c2gocik7bC5wdXNoKENLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzW2UudHlwZV0uYnVpbGQoYSxlLHIpKX1yZXR1cm4gbmV3IENLRURJVE9SLnVpLmRpYWxvZ1tiLnR5cGVdKGEsbCxmLGMsYil9fSl9fSksQ0tFRElUT1IuRElBTE9HX1JFU0laRV9OT05FPTAsQ0tFRElUT1IuRElBTE9HX1JFU0laRV9XSURUSD0xLENLRURJVE9SLkRJQUxPR19SRVNJWkVfSEVJR0hUPTIsQ0tFRElUT1IuRElBTE9HX1JFU0laRV9CT1RIPTMsQ0tFRElUT1IuRElBTE9HX1NUQVRFX0lETEU9MSxDS0VESVRPUi5ESUFMT0dfU1RBVEVfQlVTWT0yLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe2Zvcih2YXIgYT10aGlzLl8udGFiSWRMaXN0Lmxlbmd0aCxcbmI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLl8udGFiSWRMaXN0LHRoaXMuXy5jdXJyZW50VGFiSWQpK2EsYz1iLTE7Yz5iLWE7Yy0tKWlmKHRoaXMuXy50YWJzW3RoaXMuXy50YWJJZExpc3RbYyVhXV1bMF0uJC5vZmZzZXRIZWlnaHQpcmV0dXJuIHRoaXMuXy50YWJJZExpc3RbYyVhXTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBmKCl7Zm9yKHZhciBhPXRoaXMuXy50YWJJZExpc3QubGVuZ3RoLGI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLl8udGFiSWRMaXN0LHRoaXMuXy5jdXJyZW50VGFiSWQpLGM9YisxO2M8YithO2MrKylpZih0aGlzLl8udGFic1t0aGlzLl8udGFiSWRMaXN0W2MlYV1dWzBdLiQub2Zmc2V0SGVpZ2h0KXJldHVybiB0aGlzLl8udGFiSWRMaXN0W2MlYV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gYihhLGIpe2Zvcih2YXIgYz1hLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKSxkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKXt2YXIgZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoY1tkXSk7XG5cInRleHRcIj09Zi5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLnRvTG93ZXJDYXNlKCkmJihiPyhmLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsZi5nZXRDdXN0b21EYXRhKFwiZmFrZV92YWx1ZVwiKXx8XCJcIiksZi5yZW1vdmVDdXN0b21EYXRhKFwiZmFrZV92YWx1ZVwiKSk6KGYuc2V0Q3VzdG9tRGF0YShcImZha2VfdmFsdWVcIixmLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpKSxmLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIikpKX19ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPXRoaXMuZ2V0SW5wdXRFbGVtZW50KCk7YyYmKGE/Yy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWludmFsaWRcIik6Yy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWludmFsaWRcIiwhMCkpO2F8fCh0aGlzLnNlbGVjdD90aGlzLnNlbGVjdCgpOnRoaXMuZm9jdXMoKSk7YiYmYWxlcnQoYik7dGhpcy5maXJlKFwidmFsaWRhdGVkXCIse3ZhbGlkOmEsbXNnOmJ9KX1mdW5jdGlvbiBlKCl7dmFyIGE9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKTthJiZhLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtaW52YWxpZFwiKX1cbmZ1bmN0aW9uIG0oYSl7dmFyIGI9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoQ0tFRElUT1IuYWRkVGVtcGxhdGUoXCJkaWFsb2dcIix2KS5vdXRwdXQoe2lkOkNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSxlZGl0b3JJZDphLmlkLGxhbmdEaXI6YS5sYW5nLmRpcixsYW5nQ29kZTphLmxhbmdDb2RlLGVkaXRvckRpYWxvZ0NsYXNzOlwiY2tlX2VkaXRvcl9cIithLm5hbWUucmVwbGFjZSgvXFwuL2csXCJcXFxcLlwiKStcIl9kaWFsb2dcIixjbG9zZVRpdGxlOmEubGFuZy5jb21tb24uY2xvc2UsaGlkcGk6Q0tFRElUT1IuZW52LmhpZHBpP1wiY2tlX2hpZHBpXCI6XCJcIn0pKSxjPWIuZ2V0Q2hpbGQoWzAsMCwwLDAsMF0pLGQ9Yy5nZXRDaGlsZCgwKSxlPWMuZ2V0Q2hpbGQoMSk7YS5wbHVnaW5zLmNsaXBib2FyZCYmQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQucHJldmVudERlZmF1bHREcm9wT25FbGVtZW50KGMpOyFDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5xdWlya3N8fFxuQ0tFRElUT1IuZW52LmVkZ2V8fChhPVwiamF2YXNjcmlwdDp2b2lkKGZ1bmN0aW9uKCl7XCIrZW5jb2RlVVJJQ29tcG9uZW50KFwiZG9jdW1lbnQub3BlbigpOyhcIitDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7ZG9jdW1lbnQuY2xvc2UoKTtcIikrXCJ9KCkpXCIsQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjaWZyYW1lIGZyYW1lQm9yZGVyXFx4M2RcIjBcIiBjbGFzc1xceDNkXCJja2VfaWZyYW1lX3NoaW1cIiBzcmNcXHgzZFwiJythKydcIiB0YWJJbmRleFxceDNkXCItMVwiXFx4M2VcXHgzYy9pZnJhbWVcXHgzZScpLmFwcGVuZFRvKGMuZ2V0UGFyZW50KCkpKTtkLnVuc2VsZWN0YWJsZSgpO2UudW5zZWxlY3RhYmxlKCk7cmV0dXJue2VsZW1lbnQ6YixwYXJ0czp7ZGlhbG9nOmIuZ2V0Q2hpbGQoMCksdGl0bGU6ZCxjbG9zZTplLHRhYnM6Yy5nZXRDaGlsZCgyKSxjb250ZW50czpjLmdldENoaWxkKFszLDAsMCwwXSksZm9vdGVyOmMuZ2V0Q2hpbGQoWzMsMCwxLDBdKX19fWZ1bmN0aW9uIGwoYSxcbmIsYyl7dGhpcy5lbGVtZW50PWI7dGhpcy5mb2N1c0luZGV4PWM7dGhpcy50YWJJbmRleD0wO3RoaXMuaXNGb2N1c2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4hYi5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSYmYi5pc1Zpc2libGUoKX07dGhpcy5mb2N1cz1mdW5jdGlvbigpe2EuXy5jdXJyZW50Rm9jdXNJbmRleD10aGlzLmZvY3VzSW5kZXg7dGhpcy5lbGVtZW50LmZvY3VzKCl9O2Iub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmdldEtleXN0cm9rZSgpaW57MzI6MSwxMzoxfSYmdGhpcy5maXJlKFwiY2xpY2tcIil9KTtiLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe3RoaXMuZmlyZShcIm1vdXNlb3ZlclwiKX0pO2Iub24oXCJibHVyXCIsZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJtb3VzZW91dFwiKX0pfWZ1bmN0aW9uIGQoYSl7ZnVuY3Rpb24gYigpe2EubGF5b3V0KCl9dmFyIGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCk7Yy5vbihcInJlc2l6ZVwiLGIpO2Eub24oXCJoaWRlXCIsZnVuY3Rpb24oKXtjLnJlbW92ZUxpc3RlbmVyKFwicmVzaXplXCIsXG5iKX0pfWZ1bmN0aW9uIGgoYSxiKXt0aGlzLl89e2RpYWxvZzphfTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKX1mdW5jdGlvbiBrKGEpe2Z1bmN0aW9uIGIoYyl7dmFyIGs9YS5nZXRTaXplKCksbD1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRWaWV3UGFuZVNpemUoKSxtPWMuZGF0YS4kLnNjcmVlblgsbj1jLmRhdGEuJC5zY3JlZW5ZLHU9bS1kLngscj1uLWQueTtkPXt4Om0seTpufTtlLngrPXU7ZS55Kz1yO2EubW92ZShlLngraFszXTxnPy1oWzNdOmUueC1oWzFdPmwud2lkdGgtay53aWR0aC1nP2wud2lkdGgtay53aWR0aCsoXCJydGxcIj09Zi5sYW5nLmRpcj8wOmhbMV0pOmUueCxlLnkraFswXTxnPy1oWzBdOmUueS1oWzJdPmwuaGVpZ2h0LWsuaGVpZ2h0LWc/bC5oZWlnaHQtay5oZWlnaHQraFsyXTplLnksMSk7Yy5kYXRhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gYygpe0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsXG5iKTtDS0VESVRPUi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixjKTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgYT15LmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKTthLnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsYik7YS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixjKX19dmFyIGQ9bnVsbCxlPW51bGwsZj1hLmdldFBhcmVudEVkaXRvcigpLGc9Zi5jb25maWcuZGlhbG9nX21hZ25ldERpc3RhbmNlLGg9Q0tFRElUT1Iuc2tpbi5tYXJnaW5zfHxbMCwwLDAsMF07XCJ1bmRlZmluZWRcIj09dHlwZW9mIGcmJihnPTIwKTthLnBhcnRzLnRpdGxlLm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oZil7ZD17eDpmLmRhdGEuJC5zY3JlZW5YLHk6Zi5kYXRhLiQuc2NyZWVuWX07Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZW1vdmVcIixiKTtDS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNldXBcIixjKTtlPWEuZ2V0UG9zaXRpb24oKTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgZz1cbnkuZ2V0Q2hpbGQoMCkuZ2V0RnJhbWVEb2N1bWVudCgpO2cub24oXCJtb3VzZW1vdmVcIixiKTtnLm9uKFwibW91c2V1cFwiLGMpfWYuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSxhKX1mdW5jdGlvbiBnKGEpe2Z1bmN0aW9uIGIoYyl7dmFyIG49XCJydGxcIj09Zi5sYW5nLmRpcix1PW0ud2lkdGgscj1tLmhlaWdodCx0PXUrKGMuZGF0YS4kLnNjcmVlblgtbC54KSoobj8tMToxKSooYS5fLm1vdmVkPzE6Miksdj1yKyhjLmRhdGEuJC5zY3JlZW5ZLWwueSkqKGEuXy5tb3ZlZD8xOjIpLEI9YS5fLmVsZW1lbnQuZ2V0Rmlyc3QoKSxCPW4mJkIuZ2V0Q29tcHV0ZWRTdHlsZShcInJpZ2h0XCIpLHg9YS5nZXRQb3NpdGlvbigpO3gueSt2PmsuaGVpZ2h0JiYodj1rLmhlaWdodC14LnkpOyhuP0I6eC54KSt0Pmsud2lkdGgmJih0PWsud2lkdGgtKG4/Qjp4LngpKTtpZihlPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX1dJRFRIfHxlPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX0JPVEgpdT1NYXRoLm1heChkLm1pbldpZHRofHxcbjAsdC1nKTtpZihlPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX0hFSUdIVHx8ZT09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9CT1RIKXI9TWF0aC5tYXgoZC5taW5IZWlnaHR8fDAsdi1oKTthLnJlc2l6ZSh1LHIpO2EuXy5tb3ZlZHx8YS5sYXlvdXQoKTtjLmRhdGEucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBjKCl7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYyk7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixiKTtuJiYobi5yZW1vdmUoKSxuPW51bGwpO2lmKENLRURJVE9SLmVudi5pZTZDb21wYXQpe3ZhciBhPXkuZ2V0Q2hpbGQoMCkuZ2V0RnJhbWVEb2N1bWVudCgpO2EucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYyk7YS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGIpfX12YXIgZD1hLmRlZmluaXRpb24sZT1kLnJlc2l6YWJsZTtpZihlIT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX05PTkUpe3ZhciBmPWEuZ2V0UGFyZW50RWRpdG9yKCksXG5nLGgsayxsLG0sbix1PUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGQpe209YS5nZXRTaXplKCk7dmFyIGU9YS5wYXJ0cy5jb250ZW50cztlLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpZnJhbWVcIikubGVuZ3RoJiYobj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19yZXNpemVfY292ZXJcIiBzdHlsZVxceDNkXCJoZWlnaHQ6IDEwMCU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDEwMCU7XCJcXHgzZVxceDNjL2RpdlxceDNlJyksZS5hcHBlbmQobikpO2g9bS5oZWlnaHQtYS5wYXJ0cy5jb250ZW50cy5nZXRTaXplKFwiaGVpZ2h0XCIsIShDS0VESVRPUi5lbnYuZ2Vja298fENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnF1aXJrcykpO2c9bS53aWR0aC1hLnBhcnRzLmNvbnRlbnRzLmdldFNpemUoXCJ3aWR0aFwiLDEpO2w9e3g6ZC5zY3JlZW5YLHk6ZC5zY3JlZW5ZfTtrPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFZpZXdQYW5lU2l6ZSgpO1xuQ0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZW1vdmVcIixiKTtDS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNldXBcIixjKTtDS0VESVRPUi5lbnYuaWU2Q29tcGF0JiYoZT15LmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKSxlLm9uKFwibW91c2Vtb3ZlXCIsYiksZS5vbihcIm1vdXNldXBcIixjKSk7ZC5wcmV2ZW50RGVmYXVsdCYmZC5wcmV2ZW50RGVmYXVsdCgpfSk7YS5vbihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBiPVwiXCI7ZT09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9XSURUSD9iPVwiIGNrZV9yZXNpemVyX2hvcml6b250YWxcIjplPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX0hFSUdIVCYmKGI9XCIgY2tlX3Jlc2l6ZXJfdmVydGljYWxcIik7Yj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX3Jlc2l6ZXInK2IrXCIgY2tlX3Jlc2l6ZXJfXCIrZi5sYW5nLmRpcisnXCIgdGl0bGVcXHgzZFwiJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGYubGFuZy5jb21tb24ucmVzaXplKStcbidcIiBvbm1vdXNlZG93blxceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oJyt1KycsIGV2ZW50IClcIlxceDNlJysoXCJsdHJcIj09Zi5sYW5nLmRpcj9cIuKXolwiOlwi4pejXCIpK1wiXFx4M2MvZGl2XFx4M2VcIik7YS5wYXJ0cy5mb290ZXIuYXBwZW5kKGIsMSl9KTtmLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24odSl9KX19ZnVuY3Rpb24gbihhKXthLmRhdGEucHJldmVudERlZmF1bHQoMSl9ZnVuY3Rpb24gcShhKXt2YXIgYj1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSxjPWEuY29uZmlnLGQ9Q0tFRElUT1Iuc2tpbk5hbWV8fGEuY29uZmlnLnNraW4sZT1jLmRpYWxvZ19iYWNrZ3JvdW5kQ292ZXJDb2xvcnx8KFwibW9vbm8tbGlzYVwiPT1kP1wiYmxhY2tcIjpcIndoaXRlXCIpLGQ9Yy5kaWFsb2dfYmFja2dyb3VuZENvdmVyT3BhY2l0eSxmPWMuYmFzZUZsb2F0WkluZGV4LGM9Q0tFRElUT1IudG9vbHMuZ2VuS2V5KGUsZCxmKSxnPURbY107Zz9nLnNob3coKTpcbihmPVsnXFx4M2NkaXYgdGFiSW5kZXhcXHgzZFwiLTFcIiBzdHlsZVxceDNkXCJwb3NpdGlvbjogJyxDS0VESVRPUi5lbnYuaWU2Q29tcGF0P1wiYWJzb2x1dGVcIjpcImZpeGVkXCIsXCI7IHotaW5kZXg6IFwiLGYsXCI7IHRvcDogMHB4OyBsZWZ0OiAwcHg7IFwiLENLRURJVE9SLmVudi5pZTZDb21wYXQ/XCJcIjpcImJhY2tncm91bmQtY29sb3I6IFwiK2UsJ1wiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfYmFja2dyb3VuZF9jb3ZlclwiXFx4M2UnXSxDS0VESVRPUi5lbnYuaWU2Q29tcGF0JiYoZT1cIlxceDNjaHRtbFxceDNlXFx4M2Nib2R5IHN0eWxlXFx4M2RcXFxcJ2JhY2tncm91bmQtY29sb3I6XCIrZStcIjtcXFxcJ1xceDNlXFx4M2MvYm9keVxceDNlXFx4M2MvaHRtbFxceDNlXCIsZi5wdXNoKCdcXHgzY2lmcmFtZSBoaWRlZm9jdXNcXHgzZFwidHJ1ZVwiIGZyYW1lYm9yZGVyXFx4M2RcIjBcIiBpZFxceDNkXCJja2VfZGlhbG9nX2JhY2tncm91bmRfaWZyYW1lXCIgc3JjXFx4M2RcImphdmFzY3JpcHQ6JyksZi5wdXNoKFwidm9pZCgoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoXCJkb2N1bWVudC5vcGVuKCk7KFwiK1xuQ0tFRElUT1IudG9vbHMuZml4RG9tYWluK1wiKSgpO2RvY3VtZW50LndyaXRlKCAnXCIrZStcIicgKTtkb2N1bWVudC5jbG9zZSgpO1wiKStcIn0pKCkpXCIpLGYucHVzaCgnXCIgc3R5bGVcXHgzZFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OiAxMDAlO2ZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhKG9wYWNpdHlcXHgzZDApXCJcXHgzZVxceDNjL2lmcmFtZVxceDNlJykpLGYucHVzaChcIlxceDNjL2RpdlxceDNlXCIpLGc9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoZi5qb2luKFwiXCIpKSxnLnNldE9wYWNpdHkodm9pZCAwIT09ZD9kOi41KSxnLm9uKFwia2V5ZG93blwiLG4pLGcub24oXCJrZXlwcmVzc1wiLG4pLGcub24oXCJrZXl1cFwiLG4pLGcuYXBwZW5kVG8oQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpKSxEW2NdPWcpO2EuZm9jdXNNYW5hZ2VyLmFkZChnKTt5PWc7YT1mdW5jdGlvbigpe3ZhciBhPWIuZ2V0Vmlld1BhbmVTaXplKCk7XG5nLnNldFN0eWxlcyh7d2lkdGg6YS53aWR0aCtcInB4XCIsaGVpZ2h0OmEuaGVpZ2h0K1wicHhcIn0pfTt2YXIgaD1mdW5jdGlvbigpe3ZhciBhPWIuZ2V0U2Nyb2xsUG9zaXRpb24oKSxjPUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A7Zy5zZXRTdHlsZXMoe2xlZnQ6YS54K1wicHhcIix0b3A6YS55K1wicHhcIn0pO2lmKGMpe2RvIGE9Yy5nZXRQb3NpdGlvbigpLGMubW92ZShhLngsYS55KTt3aGlsZShjPWMuXy5wYXJlbnREaWFsb2cpfX07ej1hO2Iub24oXCJyZXNpemVcIixhKTthKCk7Q0tFRElUT1IuZW52Lm1hYyYmQ0tFRElUT1IuZW52LndlYmtpdHx8Zy5mb2N1cygpO2lmKENLRURJVE9SLmVudi5pZTZDb21wYXQpe3ZhciBrPWZ1bmN0aW9uKCl7aCgpO2FyZ3VtZW50cy5jYWxsZWUucHJldlNjcm9sbEhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtiLiQuc2V0VGltZW91dChmdW5jdGlvbigpe2sucHJldlNjcm9sbEhhbmRsZXI9d2luZG93Lm9uc2Nyb2xsfHxmdW5jdGlvbigpe307XG53aW5kb3cub25zY3JvbGw9a30sMCk7aCgpfX1mdW5jdGlvbiBwKGEpe3kmJihhLmZvY3VzTWFuYWdlci5yZW1vdmUoeSksYT1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSx5LmhpZGUoKSxhLnJlbW92ZUxpc3RlbmVyKFwicmVzaXplXCIseiksQ0tFRElUT1IuZW52LmllNkNvbXBhdCYmYS4kLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt3aW5kb3cub25zY3JvbGw9d2luZG93Lm9uc2Nyb2xsJiZ3aW5kb3cub25zY3JvbGwucHJldlNjcm9sbEhhbmRsZXJ8fG51bGx9LDApLHo9bnVsbCl9dmFyIHQ9Q0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoLHY9J1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9yZXNldF9hbGwge2VkaXRvcklkfSB7ZWRpdG9yRGlhbG9nQ2xhc3N9IHtoaWRwaX1cIiBkaXJcXHgzZFwie2xhbmdEaXJ9XCIgbGFuZ1xceDNkXCJ7bGFuZ0NvZGV9XCIgcm9sZVxceDNkXCJkaWFsb2dcIiBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiY2tlX2RpYWxvZ190aXRsZV97aWR9XCJcXHgzZVxceDNjdGFibGUgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZyAnK1xuQ0tFRElUT1IuZW52LmNzc0NsYXNzKycgY2tlX3tsYW5nRGlyfVwiIHN0eWxlXFx4M2RcInBvc2l0aW9uOmFic29sdXRlXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2N0clxceDNlXFx4M2N0ZCByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2JvZHlcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzY2RpdiBpZFxceDNkXCJja2VfZGlhbG9nX3RpdGxlX3tpZH1cIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3RpdGxlXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2MvZGl2XFx4M2VcXHgzY2EgaWRcXHgzZFwiY2tlX2RpYWxvZ19jbG9zZV9idXR0b25fe2lkfVwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfY2xvc2VfYnV0dG9uXCIgaHJlZlxceDNkXCJqYXZhc2NyaXB0OnZvaWQoMClcIiB0aXRsZVxceDNkXCJ7Y2xvc2VUaXRsZX1cIiByb2xlXFx4M2RcImJ1dHRvblwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2xhYmVsXCJcXHgzZVhcXHgzYy9zcGFuXFx4M2VcXHgzYy9hXFx4M2VcXHgzY2RpdiBpZFxceDNkXCJja2VfZGlhbG9nX3RhYnNfe2lkfVwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdGFic1wiIHJvbGVcXHgzZFwidGFibGlzdFwiXFx4M2VcXHgzYy9kaXZcXHgzZVxceDNjdGFibGUgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19jb250ZW50c1wiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjdHJcXHgzZVxceDNjdGQgaWRcXHgzZFwiY2tlX2RpYWxvZ19jb250ZW50c197aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19jb250ZW50c19ib2R5XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2MvdGRcXHgzZVxceDNjL3RyXFx4M2VcXHgzY3RyXFx4M2VcXHgzY3RkIGlkXFx4M2RcImNrZV9kaWFsb2dfZm9vdGVyX3tpZH1cIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2Zvb3RlclwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjL3RkXFx4M2VcXHgzYy90clxceDNlXFx4M2MvdGFibGVcXHgzZVxceDNjL2RpdlxceDNlXFx4M2MvdGRcXHgzZVxceDNjL3RyXFx4M2VcXHgzYy90YWJsZVxceDNlXFx4M2MvZGl2XFx4M2UnO1xuQ0tFRElUT1IuZGlhbG9nPWZ1bmN0aW9uKGIsZCl7ZnVuY3Rpb24gaCgpe3ZhciBhPXkuXy5mb2N1c0xpc3Q7YS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudGFiSW5kZXghPWIudGFiSW5kZXg/Yi50YWJJbmRleC1hLnRhYkluZGV4OmEuZm9jdXNJbmRleC1iLmZvY3VzSW5kZXh9KTtmb3IodmFyIGI9YS5sZW5ndGgsYz0wO2M8YjtjKyspYVtjXS5mb2N1c0luZGV4PWN9ZnVuY3Rpb24gbChhKXt2YXIgYj15Ll8uZm9jdXNMaXN0O2E9YXx8MDtpZighKDE+Yi5sZW5ndGgpKXt2YXIgYz15Ll8uY3VycmVudEZvY3VzSW5kZXg7eS5fLnRhYkJhck1vZGUmJjA+YSYmKGM9MCk7dHJ5e2JbY10uZ2V0SW5wdXRFbGVtZW50KCkuJC5ibHVyKCl9Y2F0Y2goZCl7fXZhciBlPWMsZj0xPHkuXy5wYWdlQ291bnQ7ZG97ZSs9YTtpZihmJiYheS5fLnRhYkJhck1vZGUmJihlPT1iLmxlbmd0aHx8LTE9PWUpKXt5Ll8udGFiQmFyTW9kZT0hMDt5Ll8udGFic1t5Ll8uY3VycmVudFRhYklkXVswXS5mb2N1cygpO1xueS5fLmN1cnJlbnRGb2N1c0luZGV4PS0xO3JldHVybn1lPShlK2IubGVuZ3RoKSViLmxlbmd0aDtpZihlPT1jKWJyZWFrfXdoaWxlKGEmJiFiW2VdLmlzRm9jdXNhYmxlKCkpO2JbZV0uZm9jdXMoKTtcInRleHRcIj09YltlXS50eXBlJiZiW2VdLnNlbGVjdCgpfX1mdW5jdGlvbiBuKGMpe2lmKHk9PUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3Ape3ZhciBkPWMuZGF0YS5nZXRLZXlzdHJva2UoKSxlPVwicnRsXCI9PWIubGFuZy5kaXIsZz1bMzcsMzgsMzksNDBdO3E9ej0wO2lmKDk9PWR8fGQ9PUNLRURJVE9SLlNISUZUKzkpbChkPT1DS0VESVRPUi5TSElGVCs5Py0xOjEpLHE9MTtlbHNlIGlmKGQ9PUNLRURJVE9SLkFMVCsxMjEmJiF5Ll8udGFiQmFyTW9kZSYmMTx5LmdldFBhZ2VDb3VudCgpKXkuXy50YWJCYXJNb2RlPSEwLHkuXy50YWJzW3kuXy5jdXJyZW50VGFiSWRdWzBdLmZvY3VzKCkseS5fLmN1cnJlbnRGb2N1c0luZGV4PS0xLHE9MTtlbHNlIGlmKC0xIT1DS0VESVRPUi50b29scy5pbmRleE9mKGcsXG5kKSYmeS5fLnRhYkJhck1vZGUpZD0tMSE9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihbZT8zOTozNywzOF0sZCk/YS5jYWxsKHkpOmYuY2FsbCh5KSx5LnNlbGVjdFBhZ2UoZCkseS5fLnRhYnNbZF1bMF0uZm9jdXMoKSxxPTE7ZWxzZSBpZigxMyE9ZCYmMzIhPWR8fCF5Ll8udGFiQmFyTW9kZSlpZigxMz09ZClkPWMuZGF0YS5nZXRUYXJnZXQoKSxkLmlzKFwiYVwiLFwiYnV0dG9uXCIsXCJzZWxlY3RcIixcInRleHRhcmVhXCIpfHxkLmlzKFwiaW5wdXRcIikmJlwiYnV0dG9uXCI9PWQuJC50eXBlfHwoKGQ9dGhpcy5nZXRCdXR0b24oXCJva1wiKSkmJkNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZC5jbGljaywwLGQpLHE9MSksej0xO2Vsc2UgaWYoMjc9PWQpKGQ9dGhpcy5nZXRCdXR0b24oXCJjYW5jZWxcIikpP0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZC5jbGljaywwLGQpOiExIT09dGhpcy5maXJlKFwiY2FuY2VsXCIse2hpZGU6ITB9KS5oaWRlJiZ0aGlzLmhpZGUoKSx6PTE7ZWxzZSByZXR1cm47ZWxzZSB0aGlzLnNlbGVjdFBhZ2UodGhpcy5fLmN1cnJlbnRUYWJJZCksXG50aGlzLl8udGFiQmFyTW9kZT0hMSx0aGlzLl8uY3VycmVudEZvY3VzSW5kZXg9LTEsbCgxKSxxPTE7dShjKX19ZnVuY3Rpb24gdShhKXtxP2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgxKTp6JiZhLmRhdGEuc3RvcFByb3BhZ2F0aW9uKCl9dmFyIHQ9Q0tFRElUT1IuZGlhbG9nLl8uZGlhbG9nRGVmaW5pdGlvbnNbZF0sdj1DS0VESVRPUi50b29scy5jbG9uZShyKSxCPWIuY29uZmlnLmRpYWxvZ19idXR0b25zT3JkZXJ8fFwiT1NcIix4PWIubGFuZy5kaXIscD17fSxxLHo7KFwiT1NcIj09QiYmQ0tFRElUT1IuZW52Lm1hY3x8XCJydGxcIj09QiYmXCJsdHJcIj09eHx8XCJsdHJcIj09QiYmXCJydGxcIj09eCkmJnYuYnV0dG9ucy5yZXZlcnNlKCk7dD1DS0VESVRPUi50b29scy5leHRlbmQodChiKSx2KTt0PUNLRURJVE9SLnRvb2xzLmNsb25lKHQpO3Q9bmV3IHcodGhpcyx0KTt2PW0oYik7dGhpcy5fPXtlZGl0b3I6YixlbGVtZW50OnYuZWxlbWVudCxuYW1lOmQsY29udGVudFNpemU6e3dpZHRoOjAsaGVpZ2h0OjB9LFxuc2l6ZTp7d2lkdGg6MCxoZWlnaHQ6MH0sY29udGVudHM6e30sYnV0dG9uczp7fSxhY2Nlc3NLZXlNYXA6e30sdGFiczp7fSx0YWJJZExpc3Q6W10sY3VycmVudFRhYklkOm51bGwsY3VycmVudFRhYkluZGV4Om51bGwscGFnZUNvdW50OjAsbGFzdFRhYjpudWxsLHRhYkJhck1vZGU6ITEsZm9jdXNMaXN0OltdLGN1cnJlbnRGb2N1c0luZGV4OjAsaGFzRm9jdXM6ITF9O3RoaXMucGFydHM9di5wYXJ0cztDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5maXJlKFwiYXJpYVdpZGdldFwiLHRoaXMucGFydHMuY29udGVudHMpfSwwLHRoaXMpO3Y9e3Bvc2l0aW9uOkNLRURJVE9SLmVudi5pZTZDb21wYXQ/XCJhYnNvbHV0ZVwiOlwiZml4ZWRcIix0b3A6MCx2aXNpYmlsaXR5OlwiaGlkZGVuXCJ9O3ZbXCJydGxcIj09eD9cInJpZ2h0XCI6XCJsZWZ0XCJdPTA7dGhpcy5wYXJ0cy5kaWFsb2cuc2V0U3R5bGVzKHYpO0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyk7dGhpcy5kZWZpbml0aW9uPXQ9Q0tFRElUT1IuZmlyZShcImRpYWxvZ0RlZmluaXRpb25cIixcbntuYW1lOmQsZGVmaW5pdGlvbjp0fSxiKS5kZWZpbml0aW9uO2lmKCEoXCJyZW1vdmVEaWFsb2dUYWJzXCJpbiBiLl8pJiZiLmNvbmZpZy5yZW1vdmVEaWFsb2dUYWJzKXt2PWIuY29uZmlnLnJlbW92ZURpYWxvZ1RhYnMuc3BsaXQoXCI7XCIpO2Zvcih4PTA7eDx2Lmxlbmd0aDt4KyspaWYoQj12W3hdLnNwbGl0KFwiOlwiKSwyPT1CLmxlbmd0aCl7dmFyIEQ9QlswXTtwW0RdfHwocFtEXT1bXSk7cFtEXS5wdXNoKEJbMV0pfWIuXy5yZW1vdmVEaWFsb2dUYWJzPXB9aWYoYi5fLnJlbW92ZURpYWxvZ1RhYnMmJihwPWIuXy5yZW1vdmVEaWFsb2dUYWJzW2RdKSlmb3IoeD0wO3g8cC5sZW5ndGg7eCsrKXQucmVtb3ZlQ29udGVudHMocFt4XSk7aWYodC5vbkxvYWQpdGhpcy5vbihcImxvYWRcIix0Lm9uTG9hZCk7aWYodC5vblNob3cpdGhpcy5vbihcInNob3dcIix0Lm9uU2hvdyk7aWYodC5vbkhpZGUpdGhpcy5vbihcImhpZGVcIix0Lm9uSGlkZSk7aWYodC5vbk9rKXRoaXMub24oXCJva1wiLGZ1bmN0aW9uKGEpe2IuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtcbnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmZpcmUoXCJzYXZlU25hcHNob3RcIil9LDApOyExPT09dC5vbk9rLmNhbGwodGhpcyxhKSYmKGEuZGF0YS5oaWRlPSExKX0pO3RoaXMuc3RhdGU9Q0tFRElUT1IuRElBTE9HX1NUQVRFX0lETEU7aWYodC5vbkNhbmNlbCl0aGlzLm9uKFwiY2FuY2VsXCIsZnVuY3Rpb24oYSl7ITE9PT10Lm9uQ2FuY2VsLmNhbGwodGhpcyxhKSYmKGEuZGF0YS5oaWRlPSExKX0pO3ZhciB5PXRoaXMsQT1mdW5jdGlvbihhKXt2YXIgYj15Ll8uY29udGVudHMsYz0hMSxkO2ZvcihkIGluIGIpZm9yKHZhciBlIGluIGJbZF0paWYoYz1hLmNhbGwodGhpcyxiW2RdW2VdKSlyZXR1cm59O3RoaXMub24oXCJva1wiLGZ1bmN0aW9uKGEpe0EoZnVuY3Rpb24oYil7aWYoYi52YWxpZGF0ZSl7dmFyIGQ9Yi52YWxpZGF0ZSh0aGlzKSxlPVwic3RyaW5nXCI9PXR5cGVvZiBkfHwhMT09PWQ7ZSYmKGEuZGF0YS5oaWRlPSExLGEuc3RvcCgpKTtjLmNhbGwoYiwhZSxcInN0cmluZ1wiPT10eXBlb2YgZD9cbmQ6dm9pZCAwKTtyZXR1cm4gZX19KX0sdGhpcyxudWxsLDApO3RoaXMub24oXCJjYW5jZWxcIixmdW5jdGlvbihhKXtBKGZ1bmN0aW9uKGMpe2lmKGMuaXNDaGFuZ2VkKCkpcmV0dXJuIGIuY29uZmlnLmRpYWxvZ19ub0NvbmZpcm1DYW5jZWx8fGNvbmZpcm0oYi5sYW5nLmNvbW1vbi5jb25maXJtQ2FuY2VsKXx8KGEuZGF0YS5oaWRlPSExKSwhMH0pfSx0aGlzLG51bGwsMCk7dGhpcy5wYXJ0cy5jbG9zZS5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7ITEhPT10aGlzLmZpcmUoXCJjYW5jZWxcIix7aGlkZTohMH0pLmhpZGUmJnRoaXMuaGlkZSgpO2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSx0aGlzKTt0aGlzLmNoYW5nZUZvY3VzPWw7dmFyIEM9dGhpcy5fLmVsZW1lbnQ7Yi5mb2N1c01hbmFnZXIuYWRkKEMsMSk7dGhpcy5vbihcInNob3dcIixmdW5jdGlvbigpe0Mub24oXCJrZXlkb3duXCIsbix0aGlzKTtpZihDS0VESVRPUi5lbnYuZ2Vja28pQy5vbihcImtleXByZXNzXCIsdSx0aGlzKX0pO3RoaXMub24oXCJoaWRlXCIsXG5mdW5jdGlvbigpe0MucmVtb3ZlTGlzdGVuZXIoXCJrZXlkb3duXCIsbik7Q0tFRElUT1IuZW52LmdlY2tvJiZDLnJlbW92ZUxpc3RlbmVyKFwia2V5cHJlc3NcIix1KTtBKGZ1bmN0aW9uKGEpe2UuYXBwbHkoYSl9KX0pO3RoaXMub24oXCJpZnJhbWVBZGRlZFwiLGZ1bmN0aW9uKGEpeyhuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGEuZGF0YS5pZnJhbWUuJC5jb250ZW50V2luZG93LmRvY3VtZW50KSkub24oXCJrZXlkb3duXCIsbix0aGlzLG51bGwsMCl9KTt0aGlzLm9uKFwic2hvd1wiLGZ1bmN0aW9uKCl7aCgpO3ZhciBhPTE8eS5fLnBhZ2VDb3VudDtiLmNvbmZpZy5kaWFsb2dfc3RhcnR1cEZvY3VzVGFiJiZhPyh5Ll8udGFiQmFyTW9kZT0hMCx5Ll8udGFic1t5Ll8uY3VycmVudFRhYklkXVswXS5mb2N1cygpLHkuXy5jdXJyZW50Rm9jdXNJbmRleD0tMSk6dGhpcy5fLmhhc0ZvY3VzfHwodGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PWE/LTE6dGhpcy5fLmZvY3VzTGlzdC5sZW5ndGgtMSx0Lm9uRm9jdXM/XG4oYT10Lm9uRm9jdXMuY2FsbCh0aGlzKSkmJmEuZm9jdXMoKTpsKDEpKX0sdGhpcyxudWxsLDQyOTQ5NjcyOTUpO2lmKENLRURJVE9SLmVudi5pZTZDb21wYXQpdGhpcy5vbihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RWxlbWVudCgpLGI9YS5nZXRGaXJzdCgpO2IucmVtb3ZlKCk7Yi5hcHBlbmRUbyhhKX0sdGhpcyk7ayh0aGlzKTtnKHRoaXMpOyhuZXcgQ0tFRElUT1IuZG9tLnRleHQodC50aXRsZSxDS0VESVRPUi5kb2N1bWVudCkpLmFwcGVuZFRvKHRoaXMucGFydHMudGl0bGUpO2Zvcih4PTA7eDx0LmNvbnRlbnRzLmxlbmd0aDt4KyspKHA9dC5jb250ZW50c1t4XSkmJnRoaXMuYWRkUGFnZShwKTt0aGlzLnBhcnRzLnRhYnMub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5nZXRUYXJnZXQoKTtiLmhhc0NsYXNzKFwiY2tlX2RpYWxvZ190YWJcIikmJihiPWIuJC5pZCx0aGlzLnNlbGVjdFBhZ2UoYi5zdWJzdHJpbmcoNCxiLmxhc3RJbmRleE9mKFwiX1wiKSkpLFxudGhpcy5fLnRhYkJhck1vZGUmJih0aGlzLl8udGFiQmFyTW9kZT0hMSx0aGlzLl8uY3VycmVudEZvY3VzSW5kZXg9LTEsbCgxKSksYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSx0aGlzKTt4PVtdO3A9Q0tFRElUT1IuZGlhbG9nLl8udWlFbGVtZW50QnVpbGRlcnMuaGJveC5idWlsZCh0aGlzLHt0eXBlOlwiaGJveFwiLGNsYXNzTmFtZTpcImNrZV9kaWFsb2dfZm9vdGVyX2J1dHRvbnNcIix3aWR0aHM6W10sY2hpbGRyZW46dC5idXR0b25zfSx4KS5nZXRDaGlsZCgpO3RoaXMucGFydHMuZm9vdGVyLnNldEh0bWwoeC5qb2luKFwiXCIpKTtmb3IoeD0wO3g8cC5sZW5ndGg7eCsrKXRoaXMuXy5idXR0b25zW3BbeF0uaWRdPXBbeF19O0NLRURJVE9SLmRpYWxvZy5wcm90b3R5cGU9e2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmhpZGUoKTt0aGlzLl8uZWxlbWVudC5yZW1vdmUoKX0scmVzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7dGhpcy5fLmNvbnRlbnRTaXplJiZ0aGlzLl8uY29udGVudFNpemUud2lkdGg9PVxuYSYmdGhpcy5fLmNvbnRlbnRTaXplLmhlaWdodD09Ynx8KENLRURJVE9SLmRpYWxvZy5maXJlKFwicmVzaXplXCIse2RpYWxvZzp0aGlzLHdpZHRoOmEsaGVpZ2h0OmJ9LHRoaXMuXy5lZGl0b3IpLHRoaXMuZmlyZShcInJlc2l6ZVwiLHt3aWR0aDphLGhlaWdodDpifSx0aGlzLl8uZWRpdG9yKSx0aGlzLnBhcnRzLmNvbnRlbnRzLnNldFN0eWxlcyh7d2lkdGg6YStcInB4XCIsaGVpZ2h0OmIrXCJweFwifSksXCJydGxcIj09dGhpcy5fLmVkaXRvci5sYW5nLmRpciYmdGhpcy5fLnBvc2l0aW9uJiYodGhpcy5fLnBvc2l0aW9uLng9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCkud2lkdGgtdGhpcy5fLmNvbnRlbnRTaXplLndpZHRoLXBhcnNlSW50KHRoaXMuXy5lbGVtZW50LmdldEZpcnN0KCkuZ2V0U3R5bGUoXCJyaWdodFwiKSwxMCkpLHRoaXMuXy5jb250ZW50U2l6ZT17d2lkdGg6YSxoZWlnaHQ6Yn0pfX0oKSxnZXRTaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmVsZW1lbnQuZ2V0Rmlyc3QoKTtcbnJldHVybnt3aWR0aDphLiQub2Zmc2V0V2lkdGh8fDAsaGVpZ2h0OmEuJC5vZmZzZXRIZWlnaHR8fDB9fSxtb3ZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLl8uZWxlbWVudC5nZXRGaXJzdCgpLGU9XCJydGxcIj09dGhpcy5fLmVkaXRvci5sYW5nLmRpcixmPVwiZml4ZWRcIj09ZC5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIik7Q0tFRElUT1IuZW52LmllJiZkLnNldFN0eWxlKFwiem9vbVwiLFwiMTAwJVwiKTtmJiZ0aGlzLl8ucG9zaXRpb24mJnRoaXMuXy5wb3NpdGlvbi54PT1hJiZ0aGlzLl8ucG9zaXRpb24ueT09Ynx8KHRoaXMuXy5wb3NpdGlvbj17eDphLHk6Yn0sZnx8KGY9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0U2Nyb2xsUG9zaXRpb24oKSxhKz1mLngsYis9Zi55KSxlJiYoZj10aGlzLmdldFNpemUoKSxhPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFZpZXdQYW5lU2l6ZSgpLndpZHRoLWYud2lkdGgtYSksYj17dG9wOigwPGI/YjowKStcInB4XCJ9LFxuYltlP1wicmlnaHRcIjpcImxlZnRcIl09KDA8YT9hOjApK1wicHhcIixkLnNldFN0eWxlcyhiKSxjJiYodGhpcy5fLm1vdmVkPTEpKX0sZ2V0UG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHRoaXMuXy5wb3NpdGlvbil9LHNob3c6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uZWxlbWVudCxiPXRoaXMuZGVmaW5pdGlvbjthLmdldFBhcmVudCgpJiZhLmdldFBhcmVudCgpLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkpP2Euc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJibG9ja1wiKTphLmFwcGVuZFRvKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSk7dGhpcy5yZXNpemUodGhpcy5fLmNvbnRlbnRTaXplJiZ0aGlzLl8uY29udGVudFNpemUud2lkdGh8fGIud2lkdGh8fGIubWluV2lkdGgsdGhpcy5fLmNvbnRlbnRTaXplJiZ0aGlzLl8uY29udGVudFNpemUuaGVpZ2h0fHxiLmhlaWdodHx8Yi5taW5IZWlnaHQpO3RoaXMucmVzZXQoKTt0aGlzLnNlbGVjdFBhZ2UodGhpcy5kZWZpbml0aW9uLmNvbnRlbnRzWzBdLmlkKTtcbm51bGw9PT1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4JiYoQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleD10aGlzLl8uZWRpdG9yLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgpO3RoaXMuXy5lbGVtZW50LmdldEZpcnN0KCkuc2V0U3R5bGUoXCJ6LWluZGV4XCIsQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleCs9MTApO251bGw9PT1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPyhDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPXRoaXMsdGhpcy5fLnBhcmVudERpYWxvZz1udWxsLHEodGhpcy5fLmVkaXRvcikpOih0aGlzLl8ucGFyZW50RGlhbG9nPUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3AsdGhpcy5fLnBhcmVudERpYWxvZy5nZXRFbGVtZW50KCkuZ2V0Rmlyc3QoKS4kLnN0eWxlLnpJbmRleC09TWF0aC5mbG9vcih0aGlzLl8uZWRpdG9yLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgvMiksQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcD10aGlzKTtcbmEub24oXCJrZXlkb3duXCIsQyk7YS5vbihcImtleXVwXCIsRik7dGhpcy5fLmhhc0ZvY3VzPSExO2Zvcih2YXIgYyBpbiBiLmNvbnRlbnRzKWlmKGIuY29udGVudHNbY10pe3ZhciBhPWIuY29udGVudHNbY10sZT10aGlzLl8udGFic1thLmlkXSxmPWEucmVxdWlyZWRDb250ZW50LGc9MDtpZihlKXtmb3IodmFyIGggaW4gdGhpcy5fLmNvbnRlbnRzW2EuaWRdKXt2YXIgaz10aGlzLl8uY29udGVudHNbYS5pZF1baF07XCJoYm94XCIhPWsudHlwZSYmXCJ2Ym94XCIhPWsudHlwZSYmay5nZXRJbnB1dEVsZW1lbnQoKSYmKGsucmVxdWlyZWRDb250ZW50JiYhdGhpcy5fLmVkaXRvci5hY3RpdmVGaWx0ZXIuY2hlY2soay5yZXF1aXJlZENvbnRlbnQpP2suZGlzYWJsZSgpOihrLmVuYWJsZSgpLGcrKykpfSFnfHxmJiYhdGhpcy5fLmVkaXRvci5hY3RpdmVGaWx0ZXIuY2hlY2soZik/ZVswXS5hZGRDbGFzcyhcImNrZV9kaWFsb2dfdGFiX2Rpc2FibGVkXCIpOmVbMF0ucmVtb3ZlQ2xhc3MoXCJja2VfZGlhbG9nX3RhYl9kaXNhYmxlZFwiKX19Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMubGF5b3V0KCk7XG5kKHRoaXMpO3RoaXMucGFydHMuZGlhbG9nLnNldFN0eWxlKFwidmlzaWJpbGl0eVwiLFwiXCIpO3RoaXMuZmlyZU9uY2UoXCJsb2FkXCIse30pO0NLRURJVE9SLnVpLmZpcmUoXCJyZWFkeVwiLHRoaXMpO3RoaXMuZmlyZShcInNob3dcIix7fSk7dGhpcy5fLmVkaXRvci5maXJlKFwiZGlhbG9nU2hvd1wiLHRoaXMpO3RoaXMuXy5wYXJlbnREaWFsb2d8fHRoaXMuXy5lZGl0b3IuZm9jdXNNYW5hZ2VyLmxvY2soKTt0aGlzLmZvcmVhY2goZnVuY3Rpb24oYSl7YS5zZXRJbml0VmFsdWUmJmEuc2V0SW5pdFZhbHVlKCl9KX0sMTAwLHRoaXMpfSxsYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhcnRzLmRpYWxvZyxiPXRoaXMuZ2V0U2l6ZSgpLGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCksZD0oYy53aWR0aC1iLndpZHRoKS8yLGU9KGMuaGVpZ2h0LWIuaGVpZ2h0KS8yO0NLRURJVE9SLmVudi5pZTZDb21wYXR8fChiLmhlaWdodCsoMDxlP2U6MCk+Yy5oZWlnaHR8fFxuYi53aWR0aCsoMDxkP2Q6MCk+Yy53aWR0aD9hLnNldFN0eWxlKFwicG9zaXRpb25cIixcImFic29sdXRlXCIpOmEuc2V0U3R5bGUoXCJwb3NpdGlvblwiLFwiZml4ZWRcIikpO3RoaXMubW92ZSh0aGlzLl8ubW92ZWQ/dGhpcy5fLnBvc2l0aW9uLng6ZCx0aGlzLl8ubW92ZWQ/dGhpcy5fLnBvc2l0aW9uLnk6ZSl9LGZvcmVhY2g6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIHRoaXMuXy5jb250ZW50cylmb3IodmFyIGMgaW4gdGhpcy5fLmNvbnRlbnRzW2JdKWEuY2FsbCh0aGlzLHRoaXMuXy5jb250ZW50c1tiXVtjXSk7cmV0dXJuIHRoaXN9LHJlc2V0OmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7YS5yZXNldCYmYS5yZXNldCgxKX07cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5mb3JlYWNoKGEpO3JldHVybiB0aGlzfX0oKSxzZXR1cENvbnRlbnQ6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGIpe2Iuc2V0dXAmJmIuc2V0dXAuYXBwbHkoYixhKX0pfSxcbmNvbW1pdENvbnRlbnQ6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGIpe0NLRURJVE9SLmVudi5pZSYmdGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PT1iLmZvY3VzSW5kZXgmJmIuZ2V0SW5wdXRFbGVtZW50KCkuJC5ibHVyKCk7Yi5jb21taXQmJmIuY29tbWl0LmFwcGx5KGIsYSl9KX0saGlkZTpmdW5jdGlvbigpe2lmKHRoaXMucGFydHMuZGlhbG9nLmlzVmlzaWJsZSgpKXt0aGlzLmZpcmUoXCJoaWRlXCIse30pO3RoaXMuXy5lZGl0b3IuZmlyZShcImRpYWxvZ0hpZGVcIix0aGlzKTt0aGlzLnNlbGVjdFBhZ2UodGhpcy5fLnRhYklkTGlzdFswXSk7dmFyIGE9dGhpcy5fLmVsZW1lbnQ7YS5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7dGhpcy5wYXJ0cy5kaWFsb2cuc2V0U3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIik7Zm9yKEoodGhpcyk7Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCE9dGhpczspQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcC5oaWRlKCk7XG5pZih0aGlzLl8ucGFyZW50RGlhbG9nKXt2YXIgYj10aGlzLl8ucGFyZW50RGlhbG9nLmdldEVsZW1lbnQoKS5nZXRGaXJzdCgpO2Iuc2V0U3R5bGUoXCJ6LWluZGV4XCIscGFyc2VJbnQoYi4kLnN0eWxlLnpJbmRleCwxMCkrTWF0aC5mbG9vcih0aGlzLl8uZWRpdG9yLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgvMikpfWVsc2UgcCh0aGlzLl8uZWRpdG9yKTtpZihDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPXRoaXMuXy5wYXJlbnREaWFsb2cpQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleC09MTA7ZWxzZXtDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4PW51bGw7YS5yZW1vdmVMaXN0ZW5lcihcImtleWRvd25cIixDKTthLnJlbW92ZUxpc3RlbmVyKFwia2V5dXBcIixGKTt2YXIgYz10aGlzLl8uZWRpdG9yO2MuZm9jdXMoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5mb2N1c01hbmFnZXIudW5sb2NrKCk7Q0tFRElUT1IuZW52LmlPUyYmYy53aW5kb3cuZm9jdXMoKX0sMCl9ZGVsZXRlIHRoaXMuXy5wYXJlbnREaWFsb2c7XG50aGlzLmZvcmVhY2goZnVuY3Rpb24oYSl7YS5yZXNldEluaXRWYWx1ZSYmYS5yZXNldEluaXRWYWx1ZSgpfSk7dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5ESUFMT0dfU1RBVEVfSURMRSl9fSxhZGRQYWdlOmZ1bmN0aW9uKGEpe2lmKCFhLnJlcXVpcmVkQ29udGVudHx8dGhpcy5fLmVkaXRvci5maWx0ZXIuY2hlY2soYS5yZXF1aXJlZENvbnRlbnQpKXtmb3IodmFyIGI9W10sYz1hLmxhYmVsPycgdGl0bGVcXHgzZFwiJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGEubGFiZWwpKydcIic6XCJcIixkPUNLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzLnZib3guYnVpbGQodGhpcyx7dHlwZTpcInZib3hcIixjbGFzc05hbWU6XCJja2VfZGlhbG9nX3BhZ2VfY29udGVudHNcIixjaGlsZHJlbjphLmVsZW1lbnRzLGV4cGFuZDohIWEuZXhwYW5kLHBhZGRpbmc6YS5wYWRkaW5nLHN0eWxlOmEuc3R5bGV8fFwid2lkdGg6IDEwMCU7XCJ9LGIpLGU9dGhpcy5fLmNvbnRlbnRzW2EuaWRdPXt9LGY9ZC5nZXRDaGlsZCgpLFxuZz0wO2Q9Zi5zaGlmdCgpOylkLm5vdEFsbG93ZWR8fFwiaGJveFwiPT1kLnR5cGV8fFwidmJveFwiPT1kLnR5cGV8fGcrKyxlW2QuaWRdPWQsXCJmdW5jdGlvblwiPT10eXBlb2YgZC5nZXRDaGlsZCYmZi5wdXNoLmFwcGx5KGYsZC5nZXRDaGlsZCgpKTtnfHwoYS5oaWRkZW49ITApO2I9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoYi5qb2luKFwiXCIpKTtiLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInRhYnBhbmVsXCIpO2Q9Q0tFRElUT1IuZW52O2U9XCJja2VfXCIrYS5pZCtcIl9cIitDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCk7Yz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChbJ1xceDNjYSBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3RhYlwiJywwPHRoaXMuXy5wYWdlQ291bnQ/XCIgY2tlX2xhc3RcIjpcImNrZV9maXJzdFwiLGMsYS5oaWRkZW4/JyBzdHlsZVxceDNkXCJkaXNwbGF5Om5vbmVcIic6XCJcIiwnIGlkXFx4M2RcIicsZSwnXCInLGQuZ2Vja28mJiFkLmhjP1wiXCI6JyBocmVmXFx4M2RcImphdmFzY3JpcHQ6dm9pZCgwKVwiJyxcbicgdGFiSW5kZXhcXHgzZFwiLTFcIiBoaWRlZm9jdXNcXHgzZFwidHJ1ZVwiIHJvbGVcXHgzZFwidGFiXCJcXHgzZScsYS5sYWJlbCxcIlxceDNjL2FcXHgzZVwiXS5qb2luKFwiXCIpKTtiLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiLGUpO3RoaXMuXy50YWJzW2EuaWRdPVtjLGJdO3RoaXMuXy50YWJJZExpc3QucHVzaChhLmlkKTshYS5oaWRkZW4mJnRoaXMuXy5wYWdlQ291bnQrKzt0aGlzLl8ubGFzdFRhYj1jO3RoaXMudXBkYXRlU3R5bGUoKTtiLnNldEF0dHJpYnV0ZShcIm5hbWVcIixhLmlkKTtiLmFwcGVuZFRvKHRoaXMucGFydHMuY29udGVudHMpO2MudW5zZWxlY3RhYmxlKCk7dGhpcy5wYXJ0cy50YWJzLmFwcGVuZChjKTthLmFjY2Vzc0tleSYmKEUodGhpcyx0aGlzLFwiQ1RSTCtcIithLmFjY2Vzc0tleSxNLEcpLHRoaXMuXy5hY2Nlc3NLZXlNYXBbXCJDVFJMK1wiK2EuYWNjZXNzS2V5XT1hLmlkKX19LHNlbGVjdFBhZ2U6ZnVuY3Rpb24oYSl7aWYodGhpcy5fLmN1cnJlbnRUYWJJZCE9YSYmIXRoaXMuXy50YWJzW2FdWzBdLmhhc0NsYXNzKFwiY2tlX2RpYWxvZ190YWJfZGlzYWJsZWRcIikmJlxuITEhPT10aGlzLmZpcmUoXCJzZWxlY3RQYWdlXCIse3BhZ2U6YSxjdXJyZW50UGFnZTp0aGlzLl8uY3VycmVudFRhYklkfSkpe2Zvcih2YXIgYyBpbiB0aGlzLl8udGFicyl7dmFyIGQ9dGhpcy5fLnRhYnNbY11bMF0sZT10aGlzLl8udGFic1tjXVsxXTtjIT1hJiYoZC5yZW1vdmVDbGFzcyhcImNrZV9kaWFsb2dfdGFiX3NlbGVjdGVkXCIpLGUuaGlkZSgpKTtlLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsYyE9YSl9dmFyIGY9dGhpcy5fLnRhYnNbYV07ZlswXS5hZGRDbGFzcyhcImNrZV9kaWFsb2dfdGFiX3NlbGVjdGVkXCIpO0NLRURJVE9SLmVudi5pZTZDb21wYXR8fENLRURJVE9SLmVudi5pZTdDb21wYXQ/KGIoZlsxXSksZlsxXS5zaG93KCksc2V0VGltZW91dChmdW5jdGlvbigpe2IoZlsxXSwxKX0sMCkpOmZbMV0uc2hvdygpO3RoaXMuXy5jdXJyZW50VGFiSWQ9YTt0aGlzLl8uY3VycmVudFRhYkluZGV4PUNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5fLnRhYklkTGlzdCxhKX19LFxudXBkYXRlU3R5bGU6ZnVuY3Rpb24oKXt0aGlzLnBhcnRzLmRpYWxvZ1soMT09PXRoaXMuXy5wYWdlQ291bnQ/XCJhZGRcIjpcInJlbW92ZVwiKStcIkNsYXNzXCJdKFwiY2tlX3NpbmdsZV9wYWdlXCIpfSxoaWRlUGFnZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl8udGFic1tiXSYmdGhpcy5fLnRhYnNbYl1bMF07YyYmMSE9dGhpcy5fLnBhZ2VDb3VudCYmYy5pc1Zpc2libGUoKSYmKGI9PXRoaXMuXy5jdXJyZW50VGFiSWQmJnRoaXMuc2VsZWN0UGFnZShhLmNhbGwodGhpcykpLGMuaGlkZSgpLHRoaXMuXy5wYWdlQ291bnQtLSx0aGlzLnVwZGF0ZVN0eWxlKCkpfSxzaG93UGFnZTpmdW5jdGlvbihhKXtpZihhPXRoaXMuXy50YWJzW2FdJiZ0aGlzLl8udGFic1thXVswXSlhLnNob3coKSx0aGlzLl8ucGFnZUNvdW50KyssdGhpcy51cGRhdGVTdHlsZSgpfSxnZXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5lbGVtZW50fSxnZXROYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5uYW1lfSxcbmdldENvbnRlbnRFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fLmNvbnRlbnRzW2FdO3JldHVybiBjJiZjW2JdfSxnZXRWYWx1ZU9mOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0Q29udGVudEVsZW1lbnQoYSxiKS5nZXRWYWx1ZSgpfSxzZXRWYWx1ZU9mOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5nZXRDb250ZW50RWxlbWVudChhLGIpLnNldFZhbHVlKGMpfSxnZXRCdXR0b246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5idXR0b25zW2FdfSxjbGljazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV0uY2xpY2soKX0sZGlzYWJsZUJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV0uZGlzYWJsZSgpfSxlbmFibGVCdXR0b246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5idXR0b25zW2FdLmVuYWJsZSgpfSxnZXRQYWdlQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnBhZ2VDb3VudH0sZ2V0UGFyZW50RWRpdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5lZGl0b3J9LFxuZ2V0U2VsZWN0ZWRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGFyZW50RWRpdG9yKCkuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRFbGVtZW50KCl9LGFkZEZvY3VzYWJsZTpmdW5jdGlvbihhLGIpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBiKWI9dGhpcy5fLmZvY3VzTGlzdC5sZW5ndGgsdGhpcy5fLmZvY3VzTGlzdC5wdXNoKG5ldyBsKHRoaXMsYSxiKSk7ZWxzZXt0aGlzLl8uZm9jdXNMaXN0LnNwbGljZShiLDAsbmV3IGwodGhpcyxhLGIpKTtmb3IodmFyIGM9YisxO2M8dGhpcy5fLmZvY3VzTGlzdC5sZW5ndGg7YysrKXRoaXMuXy5mb2N1c0xpc3RbY10uZm9jdXNJbmRleCsrfX0sc2V0U3RhdGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5zdGF0ZSE9YSl7dGhpcy5zdGF0ZT1hO2lmKGE9PUNLRURJVE9SLkRJQUxPR19TVEFURV9CVVNZKXtpZighdGhpcy5wYXJ0cy5zcGlubmVyKXt2YXIgYj10aGlzLmdldFBhcmVudEVkaXRvcigpLmxhbmcuZGlyLGM9e2F0dHJpYnV0ZXM6e1wiY2xhc3NcIjpcImNrZV9kaWFsb2dfc3Bpbm5lclwifSxcbnN0eWxlczp7XCJmbG9hdFwiOlwicnRsXCI9PWI/XCJyaWdodFwiOlwibGVmdFwifX07Yy5zdHlsZXNbXCJtYXJnaW4tXCIrKFwicnRsXCI9PWI/XCJsZWZ0XCI6XCJyaWdodFwiKV09XCI4cHhcIjt0aGlzLnBhcnRzLnNwaW5uZXI9Q0tFRElUT1IuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiLGMpO3RoaXMucGFydHMuc3Bpbm5lci5zZXRIdG1sKFwiXFx4MjYjODk4NztcIik7dGhpcy5wYXJ0cy5zcGlubmVyLmFwcGVuZFRvKHRoaXMucGFydHMudGl0bGUsMSl9dGhpcy5wYXJ0cy5zcGlubmVyLnNob3coKTt0aGlzLmdldEJ1dHRvbihcIm9rXCIpLmRpc2FibGUoKX1lbHNlIGE9PUNLRURJVE9SLkRJQUxPR19TVEFURV9JRExFJiYodGhpcy5wYXJ0cy5zcGlubmVyJiZ0aGlzLnBhcnRzLnNwaW5uZXIuaGlkZSgpLHRoaXMuZ2V0QnV0dG9uKFwib2tcIikuZW5hYmxlKCkpO3RoaXMuZmlyZShcInN0YXRlXCIsYSl9fX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRpYWxvZyx7YWRkOmZ1bmN0aW9uKGEsYil7dGhpcy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdJiZcblwiZnVuY3Rpb25cIiE9dHlwZW9mIGJ8fCh0aGlzLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV09Yil9LGV4aXN0czpmdW5jdGlvbihhKXtyZXR1cm4hIXRoaXMuXy5kaWFsb2dEZWZpbml0aW9uc1thXX0sZ2V0Q3VycmVudDpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wfSxpc1RhYkVuYWJsZWQ6ZnVuY3Rpb24oYSxiLGMpe2E9YS5jb25maWcucmVtb3ZlRGlhbG9nVGFicztyZXR1cm4hKGEmJmEubWF0Y2gobmV3IFJlZ0V4cChcIig/Ol58OylcIitiK1wiOlwiK2MrXCIoPzokfDspXCIsXCJpXCIpKSl9LG9rQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoe2lkOlwib2tcIix0eXBlOlwiYnV0dG9uXCIsbGFiZWw6YS5sYW5nLmNvbW1vbi5vayxcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX2J1dHRvbl9va1wiLG9uQ2xpY2s6ZnVuY3Rpb24oYSl7YT1hLmRhdGEuZGlhbG9nOyExIT09YS5maXJlKFwib2tcIixcbntoaWRlOiEwfSkuaGlkZSYmYS5oaWRlKCl9fSxiLCEwKX07YS50eXBlPVwiYnV0dG9uXCI7YS5vdmVycmlkZT1mdW5jdGlvbihiKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGZ1bmN0aW9uKGMpe3JldHVybiBhKGMsYil9LHt0eXBlOlwiYnV0dG9uXCJ9LCEwKX07cmV0dXJuIGF9KCksY2FuY2VsQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoe2lkOlwiY2FuY2VsXCIsdHlwZTpcImJ1dHRvblwiLGxhYmVsOmEubGFuZy5jb21tb24uY2FuY2VsLFwiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfYnV0dG9uX2NhbmNlbFwiLG9uQ2xpY2s6ZnVuY3Rpb24oYSl7YT1hLmRhdGEuZGlhbG9nOyExIT09YS5maXJlKFwiY2FuY2VsXCIse2hpZGU6ITB9KS5oaWRlJiZhLmhpZGUoKX19LGIsITApfTthLnR5cGU9XCJidXR0b25cIjthLm92ZXJyaWRlPWZ1bmN0aW9uKGIpe3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoZnVuY3Rpb24oYyl7cmV0dXJuIGEoYyxcbmIpfSx7dHlwZTpcImJ1dHRvblwifSwhMCl9O3JldHVybiBhfSgpLGFkZFVJRWxlbWVudDpmdW5jdGlvbihhLGIpe3RoaXMuXy51aUVsZW1lbnRCdWlsZGVyc1thXT1ifX0pO0NLRURJVE9SLmRpYWxvZy5fPXt1aUVsZW1lbnRCdWlsZGVyczp7fSxkaWFsb2dEZWZpbml0aW9uczp7fSxjdXJyZW50VG9wOm51bGwsY3VycmVudFpJbmRleDpudWxsfTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5kaWFsb2cpO0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLmRpYWxvZy5wcm90b3R5cGUpO3ZhciByPXtyZXNpemFibGU6Q0tFRElUT1IuRElBTE9HX1JFU0laRV9CT1RILG1pbldpZHRoOjYwMCxtaW5IZWlnaHQ6NDAwLGJ1dHRvbnM6W0NLRURJVE9SLmRpYWxvZy5va0J1dHRvbixDS0VESVRPUi5kaWFsb2cuY2FuY2VsQnV0dG9uXX0sdT1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTAsZTtlPWFbZF07ZCsrKWlmKGUuaWQ9PWJ8fGMmJmVbY10mJihlPXUoZVtjXSxcbmIsYykpKXJldHVybiBlO3JldHVybiBudWxsfSxCPWZ1bmN0aW9uKGEsYixjLGQsZSl7aWYoYyl7Zm9yKHZhciBmPTAsZztnPWFbZl07ZisrKXtpZihnLmlkPT1jKXJldHVybiBhLnNwbGljZShmLDAsYiksYjtpZihkJiZnW2RdJiYoZz1CKGdbZF0sYixjLGQsITApKSlyZXR1cm4gZ31pZihlKXJldHVybiBudWxsfWEucHVzaChiKTtyZXR1cm4gYn0seD1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTAsZTtlPWFbZF07ZCsrKXtpZihlLmlkPT1iKXJldHVybiBhLnNwbGljZShkLDEpO2lmKGMmJmVbY10mJihlPXgoZVtjXSxiLGMpKSlyZXR1cm4gZX1yZXR1cm4gbnVsbH0sdz1mdW5jdGlvbihhLGIpe3RoaXMuZGlhbG9nPWE7Zm9yKHZhciBjPWIuY29udGVudHMsZD0wLGU7ZT1jW2RdO2QrKyljW2RdPWUmJm5ldyBoKGEsZSk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYil9O3cucHJvdG90eXBlPXtnZXRDb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gdSh0aGlzLmNvbnRlbnRzLFxuYSl9LGdldEJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdSh0aGlzLmJ1dHRvbnMsYSl9LGFkZENvbnRlbnRzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEIodGhpcy5jb250ZW50cyxhLGIpfSxhZGRCdXR0b246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQih0aGlzLmJ1dHRvbnMsYSxiKX0scmVtb3ZlQ29udGVudHM6ZnVuY3Rpb24oYSl7eCh0aGlzLmNvbnRlbnRzLGEpfSxyZW1vdmVCdXR0b246ZnVuY3Rpb24oYSl7eCh0aGlzLmJ1dHRvbnMsYSl9fTtoLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiB1KHRoaXMuZWxlbWVudHMsYSxcImNoaWxkcmVuXCIpfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQih0aGlzLmVsZW1lbnRzLGEsYixcImNoaWxkcmVuXCIpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7eCh0aGlzLmVsZW1lbnRzLGEsXCJjaGlsZHJlblwiKX19O3ZhciB6LEQ9e30seSxBPXt9LEM9ZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLiQuY3RybEtleXx8YS5kYXRhLiQubWV0YUtleSxjPVxuYS5kYXRhLiQuYWx0S2V5LGQ9YS5kYXRhLiQuc2hpZnRLZXksZT1TdHJpbmcuZnJvbUNoYXJDb2RlKGEuZGF0YS4kLmtleUNvZGUpOyhiPUFbKGI/XCJDVFJMK1wiOlwiXCIpKyhjP1wiQUxUK1wiOlwiXCIpKyhkP1wiU0hJRlQrXCI6XCJcIikrZV0pJiZiLmxlbmd0aCYmKGI9YltiLmxlbmd0aC0xXSxiLmtleWRvd24mJmIua2V5ZG93bi5jYWxsKGIudWlFbGVtZW50LGIuZGlhbG9nLGIua2V5KSxhLmRhdGEucHJldmVudERlZmF1bHQoKSl9LEY9ZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLiQuY3RybEtleXx8YS5kYXRhLiQubWV0YUtleSxjPWEuZGF0YS4kLmFsdEtleSxkPWEuZGF0YS4kLnNoaWZ0S2V5LGU9U3RyaW5nLmZyb21DaGFyQ29kZShhLmRhdGEuJC5rZXlDb2RlKTsoYj1BWyhiP1wiQ1RSTCtcIjpcIlwiKSsoYz9cIkFMVCtcIjpcIlwiKSsoZD9cIlNISUZUK1wiOlwiXCIpK2VdKSYmYi5sZW5ndGgmJihiPWJbYi5sZW5ndGgtMV0sYi5rZXl1cCYmKGIua2V5dXAuY2FsbChiLnVpRWxlbWVudCxiLmRpYWxvZyxiLmtleSksXG5hLmRhdGEucHJldmVudERlZmF1bHQoKSkpfSxFPWZ1bmN0aW9uKGEsYixjLGQsZSl7KEFbY118fChBW2NdPVtdKSkucHVzaCh7dWlFbGVtZW50OmEsZGlhbG9nOmIsa2V5OmMsa2V5dXA6ZXx8YS5hY2Nlc3NLZXlVcCxrZXlkb3duOmR8fGEuYWNjZXNzS2V5RG93bn0pfSxKPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBBKXtmb3IodmFyIGM9QVtiXSxkPWMubGVuZ3RoLTE7MDw9ZDtkLS0pY1tkXS5kaWFsb2chPWEmJmNbZF0udWlFbGVtZW50IT1hfHxjLnNwbGljZShkLDEpOzA9PT1jLmxlbmd0aCYmZGVsZXRlIEFbYl19fSxHPWZ1bmN0aW9uKGEsYil7YS5fLmFjY2Vzc0tleU1hcFtiXSYmYS5zZWxlY3RQYWdlKGEuXy5hY2Nlc3NLZXlNYXBbYl0pfSxNPWZ1bmN0aW9uKCl7fTsoZnVuY3Rpb24oKXtDS0VESVRPUi51aS5kaWFsb2c9e3VpRWxlbWVudDpmdW5jdGlvbihhLGIsYyxkLGUsZixnKXtpZighKDQ+YXJndW1lbnRzLmxlbmd0aCkpe3ZhciBoPShkLmNhbGw/ZChiKTpkKXx8XCJkaXZcIixcbms9W1wiXFx4M2NcIixoLFwiIFwiXSxsPShlJiZlLmNhbGw/ZShiKTplKXx8e30sbT0oZiYmZi5jYWxsP2YoYik6Zil8fHt9LG49KGcmJmcuY2FsbD9nLmNhbGwodGhpcyxhLGIpOmcpfHxcIlwiLHU9dGhpcy5kb21JZD1tLmlkfHxDS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl91aUVsZW1lbnRcIjtiLnJlcXVpcmVkQ29udGVudCYmIWEuZ2V0UGFyZW50RWRpdG9yKCkuZmlsdGVyLmNoZWNrKGIucmVxdWlyZWRDb250ZW50KSYmKGwuZGlzcGxheT1cIm5vbmVcIix0aGlzLm5vdEFsbG93ZWQ9ITApO20uaWQ9dTt2YXIgcj17fTtiLnR5cGUmJihyW1wiY2tlX2RpYWxvZ191aV9cIitiLnR5cGVdPTEpO2IuY2xhc3NOYW1lJiYocltiLmNsYXNzTmFtZV09MSk7Yi5kaXNhYmxlZCYmKHIuY2tlX2Rpc2FibGVkPTEpO2Zvcih2YXIgdD1tW1wiY2xhc3NcIl0mJm1bXCJjbGFzc1wiXS5zcGxpdD9tW1wiY2xhc3NcIl0uc3BsaXQoXCIgXCIpOltdLHU9MDt1PHQubGVuZ3RoO3UrKyl0W3VdJiYoclt0W3VdXT0xKTt0PVtdO2Zvcih1IGluIHIpdC5wdXNoKHUpO1xubVtcImNsYXNzXCJdPXQuam9pbihcIiBcIik7Yi50aXRsZSYmKG0udGl0bGU9Yi50aXRsZSk7cj0oYi5zdHlsZXx8XCJcIikuc3BsaXQoXCI7XCIpO2IuYWxpZ24mJih0PWIuYWxpZ24sbFtcIm1hcmdpbi1sZWZ0XCJdPVwibGVmdFwiPT10PzA6XCJhdXRvXCIsbFtcIm1hcmdpbi1yaWdodFwiXT1cInJpZ2h0XCI9PXQ/MDpcImF1dG9cIik7Zm9yKHUgaW4gbClyLnB1c2godStcIjpcIitsW3VdKTtiLmhpZGRlbiYmci5wdXNoKFwiZGlzcGxheTpub25lXCIpO2Zvcih1PXIubGVuZ3RoLTE7MDw9dTt1LS0pXCJcIj09PXJbdV0mJnIuc3BsaWNlKHUsMSk7MDxyLmxlbmd0aCYmKG0uc3R5bGU9KG0uc3R5bGU/bS5zdHlsZStcIjsgXCI6XCJcIikrci5qb2luKFwiOyBcIikpO2Zvcih1IGluIG0pay5wdXNoKHUrJ1xceDNkXCInK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUobVt1XSkrJ1wiICcpO2sucHVzaChcIlxceDNlXCIsbixcIlxceDNjL1wiLGgsXCJcXHgzZVwiKTtjLnB1c2goay5qb2luKFwiXCIpKTsodGhpcy5ffHwodGhpcy5fPXt9KSkuZGlhbG9nPWE7XCJib29sZWFuXCI9PVxudHlwZW9mIGIuaXNDaGFuZ2VkJiYodGhpcy5pc0NoYW5nZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYi5pc0NoYW5nZWR9KTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBiLmlzQ2hhbmdlZCYmKHRoaXMuaXNDaGFuZ2VkPWIuaXNDaGFuZ2VkKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBiLnNldFZhbHVlJiYodGhpcy5zZXRWYWx1ZT1DS0VESVRPUi50b29scy5vdmVycmlkZSh0aGlzLnNldFZhbHVlLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXthLmNhbGwodGhpcyxiLnNldFZhbHVlLmNhbGwodGhpcyxjKSl9fSkpO1wiZnVuY3Rpb25cIj09dHlwZW9mIGIuZ2V0VmFsdWUmJih0aGlzLmdldFZhbHVlPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKHRoaXMuZ2V0VmFsdWUsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGIuZ2V0VmFsdWUuY2FsbCh0aGlzLGEuY2FsbCh0aGlzKSl9fSkpO0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKHRoaXMpO3RoaXMucmVnaXN0ZXJFdmVudHMoYik7XG50aGlzLmFjY2Vzc0tleVVwJiZ0aGlzLmFjY2Vzc0tleURvd24mJmIuYWNjZXNzS2V5JiZFKHRoaXMsYSxcIkNUUkwrXCIrYi5hY2Nlc3NLZXkpO3ZhciB4PXRoaXM7YS5vbihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBiPXguZ2V0SW5wdXRFbGVtZW50KCk7aWYoYil7dmFyIGM9eC50eXBlIGlue2NoZWNrYm94OjEscmF0aW86MX0mJkNLRURJVE9SLmVudi5pZSYmOD5DS0VESVRPUi5lbnYudmVyc2lvbj9cImNrZV9kaWFsb2dfdWlfZm9jdXNlZFwiOlwiXCI7Yi5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXthLl8udGFiQmFyTW9kZT0hMTthLl8uaGFzRm9jdXM9ITA7eC5maXJlKFwiZm9jdXNcIik7YyYmdGhpcy5hZGRDbGFzcyhjKX0pO2Iub24oXCJibHVyXCIsZnVuY3Rpb24oKXt4LmZpcmUoXCJibHVyXCIpO2MmJnRoaXMucmVtb3ZlQ2xhc3MoYyl9KX19KTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKTt0aGlzLmtleWJvYXJkRm9jdXNhYmxlJiYodGhpcy50YWJJbmRleD1iLnRhYkluZGV4fHwwLHRoaXMuZm9jdXNJbmRleD1cbmEuXy5mb2N1c0xpc3QucHVzaCh0aGlzKS0xLHRoaXMub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7YS5fLmN1cnJlbnRGb2N1c0luZGV4PXguZm9jdXNJbmRleH0pKX19LGhib3g6ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZighKDQ+YXJndW1lbnRzLmxlbmd0aCkpe3RoaXMuX3x8KHRoaXMuXz17fSk7dmFyIGY9dGhpcy5fLmNoaWxkcmVuPWIsZz1lJiZlLndpZHRoc3x8bnVsbCxoPWUmJmUuaGVpZ2h0fHxudWxsLGssbD17cm9sZTpcInByZXNlbnRhdGlvblwifTtlJiZlLmFsaWduJiYobC5hbGlnbj1lLmFsaWduKTtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxhLGV8fHt0eXBlOlwiaGJveFwifSxkLFwidGFibGVcIix7fSxsLGZ1bmN0aW9uKCl7dmFyIGE9WydcXHgzY3Rib2R5XFx4M2VcXHgzY3RyIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfaGJveFwiXFx4M2UnXTtmb3Ioaz0wO2s8Yy5sZW5ndGg7aysrKXt2YXIgYj1cImNrZV9kaWFsb2dfdWlfaGJveF9jaGlsZFwiLGQ9W107MD09PWsmJlxuKGI9XCJja2VfZGlhbG9nX3VpX2hib3hfZmlyc3RcIik7az09Yy5sZW5ndGgtMSYmKGI9XCJja2VfZGlhbG9nX3VpX2hib3hfbGFzdFwiKTthLnB1c2goJ1xceDNjdGQgY2xhc3NcXHgzZFwiJyxiLCdcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiICcpO2c/Z1trXSYmZC5wdXNoKFwid2lkdGg6XCIrdChnW2tdKSk6ZC5wdXNoKFwid2lkdGg6XCIrTWF0aC5mbG9vcigxMDAvYy5sZW5ndGgpK1wiJVwiKTtoJiZkLnB1c2goXCJoZWlnaHQ6XCIrdChoKSk7ZSYmdm9pZCAwIT09ZS5wYWRkaW5nJiZkLnB1c2goXCJwYWRkaW5nOlwiK3QoZS5wYWRkaW5nKSk7Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzJiZmW2tdLmFsaWduJiZkLnB1c2goXCJ0ZXh0LWFsaWduOlwiK2Zba10uYWxpZ24pOzA8ZC5sZW5ndGgmJmEucHVzaCgnc3R5bGVcXHgzZFwiJytkLmpvaW4oXCI7IFwiKSsnXCIgJyk7YS5wdXNoKFwiXFx4M2VcIixjW2tdLFwiXFx4M2MvdGRcXHgzZVwiKX1hLnB1c2goXCJcXHgzYy90clxceDNlXFx4M2MvdGJvZHlcXHgzZVwiKTtyZXR1cm4gYS5qb2luKFwiXCIpfSl9fSxcbnZib3g6ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe3RoaXMuX3x8KHRoaXMuXz17fSk7dmFyIGY9dGhpcy5fLmNoaWxkcmVuPWIsZz1lJiZlLndpZHRofHxudWxsLGg9ZSYmZS5oZWlnaHRzfHxudWxsO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGEsZXx8e3R5cGU6XCJ2Ym94XCJ9LGQsXCJkaXZcIixudWxsLHtyb2xlOlwicHJlc2VudGF0aW9uXCJ9LGZ1bmN0aW9uKCl7dmFyIGI9WydcXHgzY3RhYmxlIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgY2VsbHNwYWNpbmdcXHgzZFwiMFwiIGJvcmRlclxceDNkXCIwXCIgJ107Yi5wdXNoKCdzdHlsZVxceDNkXCInKTtlJiZlLmV4cGFuZCYmYi5wdXNoKFwiaGVpZ2h0OjEwMCU7XCIpO2IucHVzaChcIndpZHRoOlwiK3QoZ3x8XCIxMDAlXCIpLFwiO1wiKTtDS0VESVRPUi5lbnYud2Via2l0JiZiLnB1c2goXCJmbG9hdDpub25lO1wiKTtiLnB1c2goJ1wiJyk7Yi5wdXNoKCdhbGlnblxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZSYmXG5lLmFsaWdufHwoXCJsdHJcIj09YS5nZXRQYXJlbnRFZGl0b3IoKS5sYW5nLmRpcj9cImxlZnRcIjpcInJpZ2h0XCIpKSwnXCIgJyk7Yi5wdXNoKFwiXFx4M2VcXHgzY3Rib2R5XFx4M2VcIik7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBrPVtdO2IucHVzaCgnXFx4M2N0clxceDNlXFx4M2N0ZCByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiICcpO2cmJmsucHVzaChcIndpZHRoOlwiK3QoZ3x8XCIxMDAlXCIpKTtoP2sucHVzaChcImhlaWdodDpcIit0KGhbZF0pKTplJiZlLmV4cGFuZCYmay5wdXNoKFwiaGVpZ2h0OlwiK01hdGguZmxvb3IoMTAwL2MubGVuZ3RoKStcIiVcIik7ZSYmdm9pZCAwIT09ZS5wYWRkaW5nJiZrLnB1c2goXCJwYWRkaW5nOlwiK3QoZS5wYWRkaW5nKSk7Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzJiZmW2RdLmFsaWduJiZrLnB1c2goXCJ0ZXh0LWFsaWduOlwiK2ZbZF0uYWxpZ24pOzA8ay5sZW5ndGgmJmIucHVzaCgnc3R5bGVcXHgzZFwiJyxrLmpvaW4oXCI7IFwiKSwnXCIgJyk7Yi5wdXNoKCcgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV92Ym94X2NoaWxkXCJcXHgzZScsXG5jW2RdLFwiXFx4M2MvdGRcXHgzZVxceDNjL3RyXFx4M2VcIil9Yi5wdXNoKFwiXFx4M2MvdGJvZHlcXHgzZVxceDNjL3RhYmxlXFx4M2VcIik7cmV0dXJuIGIuam9pbihcIlwiKX0pfX19fSkoKTtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZT17Z2V0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuZG9tSWQpfSxnZXRJbnB1dEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRFbGVtZW50KCl9LGdldERpYWxvZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZGlhbG9nfSxzZXRWYWx1ZTpmdW5jdGlvbihhLGIpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuc2V0VmFsdWUoYSk7IWImJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTphfSk7cmV0dXJuIHRoaXN9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0VmFsdWUoKX0saXNDaGFuZ2VkOmZ1bmN0aW9uKCl7cmV0dXJuITF9LHNlbGVjdFBhcmVudFRhYjpmdW5jdGlvbigpe2Zvcih2YXIgYT1cbnRoaXMuZ2V0SW5wdXRFbGVtZW50KCk7KGE9YS5nZXRQYXJlbnQoKSkmJi0xPT1hLiQuY2xhc3NOYW1lLnNlYXJjaChcImNrZV9kaWFsb2dfcGFnZV9jb250ZW50c1wiKTspO2lmKCFhKXJldHVybiB0aGlzO2E9YS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO3RoaXMuXy5kaWFsb2cuXy5jdXJyZW50VGFiSWQhPWEmJnRoaXMuXy5kaWFsb2cuc2VsZWN0UGFnZShhKTtyZXR1cm4gdGhpc30sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdFBhcmVudFRhYigpLmdldElucHV0RWxlbWVudCgpLmZvY3VzKCk7cmV0dXJuIHRoaXN9LHJlZ2lzdGVyRXZlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPS9eb24oW0EtWl1cXHcrKS8sYyxkPWZ1bmN0aW9uKGEsYixjLGQpe2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXthLmdldElucHV0RWxlbWVudCgpLm9uKGMsZCxhKX0pfSxlO2ZvcihlIGluIGEpaWYoYz1lLm1hdGNoKGIpKXRoaXMuZXZlbnRQcm9jZXNzb3JzW2VdP3RoaXMuZXZlbnRQcm9jZXNzb3JzW2VdLmNhbGwodGhpcyxcbnRoaXMuXy5kaWFsb2csYVtlXSk6ZCh0aGlzLHRoaXMuXy5kaWFsb2csY1sxXS50b0xvd2VyQ2FzZSgpLGFbZV0pO3JldHVybiB0aGlzfSxldmVudFByb2Nlc3NvcnM6e29uTG9hZDpmdW5jdGlvbihhLGIpe2Eub24oXCJsb2FkXCIsYix0aGlzKX0sb25TaG93OmZ1bmN0aW9uKGEsYil7YS5vbihcInNob3dcIixiLHRoaXMpfSxvbkhpZGU6ZnVuY3Rpb24oYSxiKXthLm9uKFwiaGlkZVwiLGIsdGhpcyl9fSxhY2Nlc3NLZXlEb3duOmZ1bmN0aW9uKCl7dGhpcy5mb2N1cygpfSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe30sZGlzYWJsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RWxlbWVudCgpO3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIixcInRydWVcIik7YS5hZGRDbGFzcyhcImNrZV9kaXNhYmxlZFwiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbmEucmVtb3ZlQ2xhc3MoXCJja2VfZGlzYWJsZWRcIil9LGlzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiF0aGlzLmdldEVsZW1lbnQoKS5oYXNDbGFzcyhcImNrZV9kaXNhYmxlZFwiKX0saXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuaXNWaXNpYmxlKCl9LGlzRm9jdXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkKCkmJnRoaXMuaXNWaXNpYmxlKCk/ITA6ITF9fTtDS0VESVRPUi51aS5kaWFsb2cuaGJveC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LHtnZXRDaGlsZDpmdW5jdGlvbihhKXtpZigxPmFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuXy5jaGlsZHJlbi5jb25jYXQoKTthLnNwbGljZXx8KGE9W2FdKTtyZXR1cm4gMj5hLmxlbmd0aD90aGlzLl8uY2hpbGRyZW5bYVswXV06dGhpcy5fLmNoaWxkcmVuW2FbMF1dJiZ0aGlzLl8uY2hpbGRyZW5bYVswXV0uZ2V0Q2hpbGQ/XG50aGlzLl8uY2hpbGRyZW5bYVswXV0uZ2V0Q2hpbGQoYS5zbGljZSgxLGEubGVuZ3RoKSk6bnVsbH19LCEwKTtDS0VESVRPUi51aS5kaWFsb2cudmJveC5wcm90b3R5cGU9bmV3IENLRURJVE9SLnVpLmRpYWxvZy5oYm94OyhmdW5jdGlvbigpe3ZhciBhPXtidWlsZDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWIuY2hpbGRyZW4sZSxmPVtdLGc9W10saD0wO2g8ZC5sZW5ndGgmJihlPWRbaF0pO2grKyl7dmFyIGs9W107Zi5wdXNoKGspO2cucHVzaChDS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVyc1tlLnR5cGVdLmJ1aWxkKGEsZSxrKSl9cmV0dXJuIG5ldyBDS0VESVRPUi51aS5kaWFsb2dbYi50eXBlXShhLGcsZixjLGIpfX07Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImhib3hcIixhKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwidmJveFwiLGEpfSkoKTtDS0VESVRPUi5kaWFsb2dDb21tYW5kPWZ1bmN0aW9uKGEsYil7dGhpcy5kaWFsb2dOYW1lPWE7XG5DS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiLCEwKX07Q0tFRElUT1IuZGlhbG9nQ29tbWFuZC5wcm90b3R5cGU9e2V4ZWM6ZnVuY3Rpb24oYSl7YS5vcGVuRGlhbG9nKHRoaXMuZGlhbG9nTmFtZSl9LGNhblVuZG86ITEsZWRpdG9yRm9jdXM6MX07KGZ1bmN0aW9uKCl7dmFyIGE9L14oW2FdfFteYV0pKyQvLGI9L15cXGQqJC8sYz0vXlxcZCooPzpcXC5cXGQrKT8kLyxkPS9eKCgoXFxkKihcXC5cXGQrKSl8KFxcZCopKShweHxcXCUpPyk/JC8sZT0vXigoKFxcZCooXFwuXFxkKykpfChcXGQqKSkocHh8ZW18ZXh8aW58Y218bW18cHR8cGN8XFwlKT8pPyQvaSxmPS9eKFxccypbXFx3LV0rXFxzKjpcXHMqW146O10rKD86O3wkKSkqJC87Q0tFRElUT1IuVkFMSURBVEVfT1I9MTtDS0VESVRPUi5WQUxJREFURV9BTkQ9MjtDS0VESVRPUi5kaWFsb2cudmFsaWRhdGU9e2Z1bmN0aW9uczpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj10aGlzJiZ0aGlzLmdldFZhbHVlP3RoaXMuZ2V0VmFsdWUoKTpcbmFbMF0sYyxkPUNLRURJVE9SLlZBTElEQVRFX0FORCxlPVtdLGY7Zm9yKGY9MDtmPGEubGVuZ3RoO2YrKylpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhW2ZdKWUucHVzaChhW2ZdKTtlbHNlIGJyZWFrO2Y8YS5sZW5ndGgmJlwic3RyaW5nXCI9PXR5cGVvZiBhW2ZdJiYoYz1hW2ZdLGYrKyk7ZjxhLmxlbmd0aCYmXCJudW1iZXJcIj09dHlwZW9mIGFbZl0mJihkPWFbZl0pO3ZhciBnPWQ9PUNLRURJVE9SLlZBTElEQVRFX0FORD8hMDohMTtmb3IoZj0wO2Y8ZS5sZW5ndGg7ZisrKWc9ZD09Q0tFRElUT1IuVkFMSURBVEVfQU5EP2cmJmVbZl0oYik6Z3x8ZVtmXShiKTtyZXR1cm4gZz8hMDpjfX0scmVnZXg6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7Yz10aGlzJiZ0aGlzLmdldFZhbHVlP3RoaXMuZ2V0VmFsdWUoKTpjO3JldHVybiBhLnRlc3QoYyk/ITA6Yn19LG5vdEVtcHR5OmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnJlZ2V4KGEsYil9LGludGVnZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVnZXgoYixcbmEpfSxudW1iZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVnZXgoYyxhKX0sY3NzTGVuZ3RoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihhKXtyZXR1cm4gZS50ZXN0KENLRURJVE9SLnRvb2xzLnRyaW0oYSkpfSxhKX0saHRtbExlbmd0aDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5mdW5jdGlvbnMoZnVuY3Rpb24oYSl7cmV0dXJuIGQudGVzdChDS0VESVRPUi50b29scy50cmltKGEpKX0sYSl9LGlubGluZVN0eWxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihhKXtyZXR1cm4gZi50ZXN0KENLRURJVE9SLnRvb2xzLnRyaW0oYSkpfSxhKX0sZXF1YWxzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGIpe3JldHVybiBiPT1hfSxiKX0sbm90RXF1YWw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5mdW5jdGlvbnMoZnVuY3Rpb24oYil7cmV0dXJuIGIhPWF9LGIpfX07Q0tFRElUT1Iub24oXCJpbnN0YW5jZURlc3Ryb3llZFwiLFxuZnVuY3Rpb24oYSl7aWYoQ0tFRElUT1IudG9vbHMuaXNFbXB0eShDS0VESVRPUi5pbnN0YW5jZXMpKXtmb3IodmFyIGI7Yj1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wOyliLmhpZGUoKTtmb3IodmFyIGMgaW4gRClEW2NdLnJlbW92ZSgpO0Q9e319YT1hLmVkaXRvci5fLnN0b3JlZERpYWxvZ3M7Zm9yKHZhciBkIGluIGEpYVtkXS5kZXN0cm95KCl9KX0pKCk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUse29wZW5EaWFsb2c6ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsLGQ9Q0tFRElUT1IuZGlhbG9nLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV07bnVsbD09PUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3AmJnEodGhpcyk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZCljPXRoaXMuXy5zdG9yZWREaWFsb2dzfHwodGhpcy5fLnN0b3JlZERpYWxvZ3M9e30pLGM9Y1thXXx8KGNbYV09bmV3IENLRURJVE9SLmRpYWxvZyh0aGlzLGEpKSxiJiZiLmNhbGwoYyxcbmMpLGMuc2hvdygpO2Vsc2V7aWYoXCJmYWlsZWRcIj09ZCl0aHJvdyBwKHRoaXMpLEVycm9yKCdbQ0tFRElUT1IuZGlhbG9nLm9wZW5EaWFsb2ddIERpYWxvZyBcIicrYSsnXCIgZmFpbGVkIHdoZW4gbG9hZGluZyBkZWZpbml0aW9uLicpO1wic3RyaW5nXCI9PXR5cGVvZiBkJiZDS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChDS0VESVRPUi5nZXRVcmwoZCksZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBDS0VESVRPUi5kaWFsb2cuXy5kaWFsb2dEZWZpbml0aW9uc1thXSYmKENLRURJVE9SLmRpYWxvZy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdPVwiZmFpbGVkXCIpO3RoaXMub3BlbkRpYWxvZyhhLGIpfSx0aGlzLDAsMSl9Q0tFRElUT1Iuc2tpbi5sb2FkUGFydChcImRpYWxvZ1wiKTtyZXR1cm4gY319KX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcImRpYWxvZ1wiLHtyZXF1aXJlczpcImRpYWxvZ3VpXCIsaW5pdDpmdW5jdGlvbihhKXthLm9uKFwiZG91YmxlY2xpY2tcIixmdW5jdGlvbihmKXtmLmRhdGEuZGlhbG9nJiZcbmEub3BlbkRpYWxvZyhmLmRhdGEuZGlhbG9nKX0sbnVsbCxudWxsLDk5OSl9fSksZnVuY3Rpb24oKXtDS0VESVRPUi5wbHVnaW5zLmFkZChcImExMXloZWxwXCIse3JlcXVpcmVzOlwiZGlhbG9nXCIsYXZhaWxhYmxlTGFuZ3M6e2FmOjEsYXI6MSxiZzoxLGNhOjEsY3M6MSxjeToxLGRhOjEsZGU6MSxcImRlLWNoXCI6MSxlbDoxLGVuOjEsXCJlbi1nYlwiOjEsZW86MSxlczoxLGV0OjEsZXU6MSxmYToxLGZpOjEsZm86MSxmcjoxLFwiZnItY2FcIjoxLGdsOjEsZ3U6MSxoZToxLGhpOjEsaHI6MSxodToxLGlkOjEsaXQ6MSxqYToxLGttOjEsa286MSxrdToxLGx0OjEsbHY6MSxtazoxLG1uOjEsbmI6MSxubDoxLG5vOjEscGw6MSxwdDoxLFwicHQtYnJcIjoxLHJvOjEscnU6MSxzaToxLHNrOjEsc2w6MSxzcToxLHNyOjEsXCJzci1sYXRuXCI6MSxzdjoxLHRoOjEsdHI6MSx0dDoxLHVnOjEsdWs6MSx2aToxLHpoOjEsXCJ6aC1jblwiOjF9LGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpczthLmFkZENvbW1hbmQoXCJhMTF5SGVscFwiLFxue2V4ZWM6ZnVuY3Rpb24oKXt2YXIgYj1hLmxhbmdDb2RlLGI9Zi5hdmFpbGFibGVMYW5nc1tiXT9iOmYuYXZhaWxhYmxlTGFuZ3NbYi5yZXBsYWNlKC8tLiovLFwiXCIpXT9iLnJlcGxhY2UoLy0uKi8sXCJcIik6XCJlblwiO0NLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChmLnBhdGgrXCJkaWFsb2dzL2xhbmcvXCIrYitcIi5qc1wiKSxmdW5jdGlvbigpe2EubGFuZy5hMTF5aGVscD1mLmxhbmdFbnRyaWVzW2JdO2Eub3BlbkRpYWxvZyhcImExMXlIZWxwXCIpfSl9LG1vZGVzOnt3eXNpd3lnOjEsc291cmNlOjF9LHJlYWRPbmx5OjEsY2FuVW5kbzohMX0pO2Euc2V0S2V5c3Ryb2tlKENLRURJVE9SLkFMVCs0OCxcImExMXlIZWxwXCIpO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJhMTF5SGVscFwiLHRoaXMucGF0aCtcImRpYWxvZ3MvYTExeWhlbHAuanNcIik7YS5vbihcImFyaWFFZGl0b3JIZWxwTGFiZWxcIixmdW5jdGlvbihiKXtiLmRhdGEubGFiZWw9YS5sYW5nLmNvbW1vbi5lZGl0b3JIZWxwfSl9fSl9KCksXG5DS0VESVRPUi5wbHVnaW5zLmFkZChcImFib3V0XCIse3JlcXVpcmVzOlwiZGlhbG9nXCIsaW5pdDpmdW5jdGlvbihhKXt2YXIgZj1hLmFkZENvbW1hbmQoXCJhYm91dFwiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKFwiYWJvdXRcIikpO2YubW9kZXM9e3d5c2l3eWc6MSxzb3VyY2U6MX07Zi5jYW5VbmRvPSExO2YucmVhZE9ubHk9MTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oXCJBYm91dFwiLHtsYWJlbDphLmxhbmcuYWJvdXQudGl0bGUsY29tbWFuZDpcImFib3V0XCIsdG9vbGJhcjpcImFib3V0XCJ9KTtDS0VESVRPUi5kaWFsb2cuYWRkKFwiYWJvdXRcIix0aGlzLnBhdGgrXCJkaWFsb2dzL2Fib3V0LmpzXCIpfX0pLENLRURJVE9SLnBsdWdpbnMuYWRkKFwiYmFzaWNzdHlsZXNcIix7aW5pdDpmdW5jdGlvbihhKXt2YXIgZj0wLGI9ZnVuY3Rpb24oYixkLGUsayl7aWYoayl7az1uZXcgQ0tFRElUT1Iuc3R5bGUoayk7dmFyIGc9Y1tlXTtnLnVuc2hpZnQoayk7YS5hdHRhY2hTdHlsZVN0YXRlQ2hhbmdlKGssXG5mdW5jdGlvbihiKXshYS5yZWFkT25seSYmYS5nZXRDb21tYW5kKGUpLnNldFN0YXRlKGIpfSk7YS5hZGRDb21tYW5kKGUsbmV3IENLRURJVE9SLnN0eWxlQ29tbWFuZChrLHtjb250ZW50Rm9ybXM6Z30pKTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oYix7bGFiZWw6ZCxjb21tYW5kOmUsdG9vbGJhcjpcImJhc2ljc3R5bGVzLFwiKyhmKz0xMCl9KX19LGM9e2JvbGQ6W1wic3Ryb25nXCIsXCJiXCIsW1wic3BhblwiLGZ1bmN0aW9uKGEpe2E9YS5zdHlsZXNbXCJmb250LXdlaWdodFwiXTtyZXR1cm5cImJvbGRcIj09YXx8NzAwPD0rYX1dXSxpdGFsaWM6W1wiZW1cIixcImlcIixbXCJzcGFuXCIsZnVuY3Rpb24oYSl7cmV0dXJuXCJpdGFsaWNcIj09YS5zdHlsZXNbXCJmb250LXN0eWxlXCJdfV1dLHVuZGVybGluZTpbXCJ1XCIsW1wic3BhblwiLGZ1bmN0aW9uKGEpe3JldHVyblwidW5kZXJsaW5lXCI9PWEuc3R5bGVzW1widGV4dC1kZWNvcmF0aW9uXCJdfV1dLHN0cmlrZTpbXCJzXCIsXCJzdHJpa2VcIixbXCJzcGFuXCIsZnVuY3Rpb24oYSl7cmV0dXJuXCJsaW5lLXRocm91Z2hcIj09XG5hLnN0eWxlc1tcInRleHQtZGVjb3JhdGlvblwiXX1dXSxzdWJzY3JpcHQ6W1wic3ViXCJdLHN1cGVyc2NyaXB0OltcInN1cFwiXX0sZT1hLmNvbmZpZyxtPWEubGFuZy5iYXNpY3N0eWxlcztiKFwiQm9sZFwiLG0uYm9sZCxcImJvbGRcIixlLmNvcmVTdHlsZXNfYm9sZCk7YihcIkl0YWxpY1wiLG0uaXRhbGljLFwiaXRhbGljXCIsZS5jb3JlU3R5bGVzX2l0YWxpYyk7YihcIlVuZGVybGluZVwiLG0udW5kZXJsaW5lLFwidW5kZXJsaW5lXCIsZS5jb3JlU3R5bGVzX3VuZGVybGluZSk7YihcIlN0cmlrZVwiLG0uc3RyaWtlLFwic3RyaWtlXCIsZS5jb3JlU3R5bGVzX3N0cmlrZSk7YihcIlN1YnNjcmlwdFwiLG0uc3Vic2NyaXB0LFwic3Vic2NyaXB0XCIsZS5jb3JlU3R5bGVzX3N1YnNjcmlwdCk7YihcIlN1cGVyc2NyaXB0XCIsbS5zdXBlcnNjcmlwdCxcInN1cGVyc2NyaXB0XCIsZS5jb3JlU3R5bGVzX3N1cGVyc2NyaXB0KTthLnNldEtleXN0cm9rZShbW0NLRURJVE9SLkNUUkwrNjYsXCJib2xkXCJdLFtDS0VESVRPUi5DVFJMKzczLFwiaXRhbGljXCJdLFxuW0NLRURJVE9SLkNUUkwrODUsXCJ1bmRlcmxpbmVcIl1dKX19KSxDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19ib2xkPXtlbGVtZW50Olwic3Ryb25nXCIsb3ZlcnJpZGVzOlwiYlwifSxDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19pdGFsaWM9e2VsZW1lbnQ6XCJlbVwiLG92ZXJyaWRlczpcImlcIn0sQ0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfdW5kZXJsaW5lPXtlbGVtZW50OlwidVwifSxDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19zdHJpa2U9e2VsZW1lbnQ6XCJzXCIsb3ZlcnJpZGVzOlwic3RyaWtlXCJ9LENLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX3N1YnNjcmlwdD17ZWxlbWVudDpcInN1YlwifSxDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19zdXBlcnNjcmlwdD17ZWxlbWVudDpcInN1cFwifSxmdW5jdGlvbigpe3ZhciBhPXtleGVjOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0Q29tbWFuZChcImJsb2NrcXVvdGVcIikuc3RhdGUsYz1hLmdldFNlbGVjdGlvbigpLGU9YyYmYy5nZXRSYW5nZXMoKVswXTtcbmlmKGUpe3ZhciBtPWMuY3JlYXRlQm9va21hcmtzKCk7aWYoQ0tFRElUT1IuZW52LmllKXt2YXIgbD1tWzBdLnN0YXJ0Tm9kZSxkPW1bMF0uZW5kTm9kZSxoO2lmKGwmJlwiYmxvY2txdW90ZVwiPT1sLmdldFBhcmVudCgpLmdldE5hbWUoKSlmb3IoaD1sO2g9aC5nZXROZXh0KCk7KWlmKGgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmlzQmxvY2tCb3VuZGFyeSgpKXtsLm1vdmUoaCwhMCk7YnJlYWt9aWYoZCYmXCJibG9ja3F1b3RlXCI9PWQuZ2V0UGFyZW50KCkuZ2V0TmFtZSgpKWZvcihoPWQ7aD1oLmdldFByZXZpb3VzKCk7KWlmKGgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmlzQmxvY2tCb3VuZGFyeSgpKXtkLm1vdmUoaCk7YnJlYWt9fXZhciBrPWUuY3JlYXRlSXRlcmF0b3IoKTtrLmVubGFyZ2VCcj1hLmNvbmZpZy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSO2lmKGI9PUNLRURJVE9SLlRSSVNUQVRFX09GRil7Zm9yKGw9W107Yj1rLmdldE5leHRQYXJhZ3JhcGgoKTspbC5wdXNoKGIpO1xuMT5sLmxlbmd0aCYmKGI9YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEuY29uZmlnLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSxkPW0uc2hpZnQoKSxlLmluc2VydE5vZGUoYiksYi5hcHBlbmQobmV3IENLRURJVE9SLmRvbS50ZXh0KFwi77u/XCIsYS5kb2N1bWVudCkpLGUubW92ZVRvQm9va21hcmsoZCksZS5zZWxlY3ROb2RlQ29udGVudHMoYiksZS5jb2xsYXBzZSghMCksZD1lLmNyZWF0ZUJvb2ttYXJrKCksbC5wdXNoKGIpLG0udW5zaGlmdChkKSk7aD1sWzBdLmdldFBhcmVudCgpO2U9W107Zm9yKGQ9MDtkPGwubGVuZ3RoO2QrKyliPWxbZF0saD1oLmdldENvbW1vbkFuY2VzdG9yKGIuZ2V0UGFyZW50KCkpO2ZvcihiPXt0YWJsZToxLHRib2R5OjEsdHI6MSxvbDoxLHVsOjF9O2JbaC5nZXROYW1lKCldOyloPWguZ2V0UGFyZW50KCk7Zm9yKGQ9bnVsbDswPGwubGVuZ3RoOyl7Zm9yKGI9bC5zaGlmdCgpOyFiLmdldFBhcmVudCgpLmVxdWFscyhoKTspYj1iLmdldFBhcmVudCgpO1xuYi5lcXVhbHMoZCl8fGUucHVzaChiKTtkPWJ9Zm9yKDswPGUubGVuZ3RoOylpZihiPWUuc2hpZnQoKSxcImJsb2NrcXVvdGVcIj09Yi5nZXROYW1lKCkpe2ZvcihkPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChhLmRvY3VtZW50KTtiLmdldEZpcnN0KCk7KWQuYXBwZW5kKGIuZ2V0Rmlyc3QoKS5yZW1vdmUoKSksbC5wdXNoKGQuZ2V0TGFzdCgpKTtkLnJlcGxhY2UoYil9ZWxzZSBsLnB1c2goYik7ZT1hLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJibG9ja3F1b3RlXCIpO2ZvcihlLmluc2VydEJlZm9yZShsWzBdKTswPGwubGVuZ3RoOyliPWwuc2hpZnQoKSxlLmFwcGVuZChiKX1lbHNlIGlmKGI9PUNLRURJVE9SLlRSSVNUQVRFX09OKXtkPVtdO2ZvcihoPXt9O2I9ay5nZXROZXh0UGFyYWdyYXBoKCk7KXtmb3IobD1lPW51bGw7Yi5nZXRQYXJlbnQoKTspe2lmKFwiYmxvY2txdW90ZVwiPT1iLmdldFBhcmVudCgpLmdldE5hbWUoKSl7ZT1iLmdldFBhcmVudCgpO2w9YjticmVha31iPVxuYi5nZXRQYXJlbnQoKX1lJiZsJiYhbC5nZXRDdXN0b21EYXRhKFwiYmxvY2txdW90ZV9tb3Zlb3V0XCIpJiYoZC5wdXNoKGwpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihoLGwsXCJibG9ja3F1b3RlX21vdmVvdXRcIiwhMCkpfUNLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhoKTtiPVtdO2w9W107Zm9yKGg9e307MDxkLmxlbmd0aDspaz1kLnNoaWZ0KCksZT1rLmdldFBhcmVudCgpLGsuZ2V0UHJldmlvdXMoKT9rLmdldE5leHQoKT8oay5icmVha1BhcmVudChrLmdldFBhcmVudCgpKSxsLnB1c2goay5nZXROZXh0KCkpKTprLnJlbW92ZSgpLmluc2VydEFmdGVyKGUpOmsucmVtb3ZlKCkuaW5zZXJ0QmVmb3JlKGUpLGUuZ2V0Q3VzdG9tRGF0YShcImJsb2NrcXVvdGVfcHJvY2Vzc2VkXCIpfHwobC5wdXNoKGUpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihoLGUsXCJibG9ja3F1b3RlX3Byb2Nlc3NlZFwiLCEwKSksYi5wdXNoKGspO0NLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhoKTtcbmZvcihkPWwubGVuZ3RoLTE7MDw9ZDtkLS0pe2U9bFtkXTthOntoPWU7Zm9yKHZhciBrPTAsZz1oLmdldENoaWxkQ291bnQoKSxuPXZvaWQgMDtrPGcmJihuPWguZ2V0Q2hpbGQoaykpO2srKylpZihuLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmbi5pc0Jsb2NrQm91bmRhcnkoKSl7aD0hMTticmVhayBhfWg9ITB9aCYmZS5yZW1vdmUoKX1pZihhLmNvbmZpZy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSKWZvcihlPSEwO2IubGVuZ3RoOylpZihrPWIuc2hpZnQoKSxcImRpdlwiPT1rLmdldE5hbWUoKSl7ZD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoYS5kb2N1bWVudCk7IWV8fCFrLmdldFByZXZpb3VzKCl8fGsuZ2V0UHJldmlvdXMoKS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmsuZ2V0UHJldmlvdXMoKS5pc0Jsb2NrQm91bmRhcnkoKXx8ZC5hcHBlbmQoYS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO2ZvcihlPWsuZ2V0TmV4dCgpJiZcbiEoay5nZXROZXh0KCkudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZrLmdldE5leHQoKS5pc0Jsb2NrQm91bmRhcnkoKSk7ay5nZXRGaXJzdCgpOylrLmdldEZpcnN0KCkucmVtb3ZlKCkuYXBwZW5kVG8oZCk7ZSYmZC5hcHBlbmQoYS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO2QucmVwbGFjZShrKTtlPSExfX1jLnNlbGVjdEJvb2ttYXJrcyhtKTthLmZvY3VzKCl9fSxyZWZyZXNoOmZ1bmN0aW9uKGEsYil7dGhpcy5zZXRTdGF0ZShhLmVsZW1lbnRQYXRoKGIuYmxvY2t8fGIuYmxvY2tMaW1pdCkuY29udGFpbnMoXCJibG9ja3F1b3RlXCIsMSk/Q0tFRElUT1IuVFJJU1RBVEVfT046Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKX0sY29udGV4dDpcImJsb2NrcXVvdGVcIixhbGxvd2VkQ29udGVudDpcImJsb2NrcXVvdGVcIixyZXF1aXJlZENvbnRlbnQ6XCJibG9ja3F1b3RlXCJ9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiYmxvY2txdW90ZVwiLHtpbml0OmZ1bmN0aW9uKGYpe2YuYmxvY2tsZXNzfHxcbihmLmFkZENvbW1hbmQoXCJibG9ja3F1b3RlXCIsYSksZi51aS5hZGRCdXR0b24mJmYudWkuYWRkQnV0dG9uKFwiQmxvY2txdW90ZVwiLHtsYWJlbDpmLmxhbmcuYmxvY2txdW90ZS50b29sYmFyLGNvbW1hbmQ6XCJibG9ja3F1b3RlXCIsdG9vbGJhcjpcImJsb2NrcywxMFwifSkpfX0pfSgpLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyl7Yi50eXBlfHwoYi50eXBlPVwiYXV0b1wiKTtpZihjJiYhMT09PWEuZmlyZShcImJlZm9yZVBhc3RlXCIsYil8fCFiLmRhdGFWYWx1ZSYmYi5kYXRhVHJhbnNmZXIuaXNFbXB0eSgpKXJldHVybiExO2IuZGF0YVZhbHVlfHwoYi5kYXRhVmFsdWU9XCJcIik7aWYoQ0tFRElUT1IuZW52LmdlY2tvJiZcImRyb3BcIj09Yi5tZXRob2QmJmEudG9vbGJveClhLm9uY2UoXCJhZnRlclBhc3RlXCIsZnVuY3Rpb24oKXthLnRvb2xib3guZm9jdXMoKX0pO3JldHVybiBhLmZpcmUoXCJwYXN0ZVwiLGIpfWZ1bmN0aW9uIGYoYil7ZnVuY3Rpb24gYygpe3ZhciBhPWIuZWRpdGFibGUoKTtcbmlmKENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tQ29weUN1dFN1cHBvcnRlZCl7dmFyIGQ9ZnVuY3Rpb24oYSl7Yi5yZWFkT25seSYmXCJjdXRcIj09YS5uYW1lfHxBLmluaXRQYXN0ZURhdGFUcmFuc2ZlcihhLGIpO2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfTthLm9uKFwiY29weVwiLGQpO2Eub24oXCJjdXRcIixkKTthLm9uKFwiY3V0XCIsZnVuY3Rpb24oKXtiLnJlYWRPbmx5fHxiLmV4dHJhY3RTZWxlY3RlZEh0bWwoKX0sbnVsbCxudWxsLDk5OSl9YS5vbihBLm1haW5QYXN0ZUV2ZW50LGZ1bmN0aW9uKGEpe1wiYmVmb3JlcGFzdGVcIj09QS5tYWluUGFzdGVFdmVudCYmQ3x8eihhKX0pO1wiYmVmb3JlcGFzdGVcIj09QS5tYWluUGFzdGVFdmVudCYmKGEub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGEpe0Z8fChmKCksYS5kYXRhLnByZXZlbnREZWZhdWx0KCkseihhKSxrKFwicGFzdGVcIil8fGIub3BlbkRpYWxvZyhcInBhc3RlXCIpKX0pLGEub24oXCJjb250ZXh0bWVudVwiLGgsbnVsbCxudWxsLDApLFxuYS5vbihcImJlZm9yZXBhc3RlXCIsZnVuY3Rpb24oYSl7IWEuZGF0YXx8YS5kYXRhLiQuY3RybEtleXx8YS5kYXRhLiQuc2hpZnRLZXl8fGgoKX0sbnVsbCxudWxsLDApKTthLm9uKFwiYmVmb3JlY3V0XCIsZnVuY3Rpb24oKXshQyYmbChiKX0pO3ZhciBlO2EuYXR0YWNoTGlzdGVuZXIoQ0tFRElUT1IuZW52LmllP2E6Yi5kb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKSxcIm1vdXNldXBcIixmdW5jdGlvbigpe2U9c2V0VGltZW91dChmdW5jdGlvbigpe0QoKX0sMCl9KTtiLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGUpfSk7YS5vbihcImtleXVwXCIsRCl9ZnVuY3Rpb24gZChhKXtyZXR1cm57dHlwZTphLGNhblVuZG86XCJjdXRcIj09YSxzdGFydERpc2FibGVkOiEwLGZha2VLZXlzdHJva2U6XCJjdXRcIj09YT9DS0VESVRPUi5DVFJMKzg4OkNLRURJVE9SLkNUUkwrNjcsZXhlYzpmdW5jdGlvbigpe1wiY3V0XCI9PXRoaXMudHlwZSYmbCgpO3ZhciBhO3ZhciBjPXRoaXMudHlwZTtcbmlmKENLRURJVE9SLmVudi5pZSlhPWsoYyk7ZWxzZSB0cnl7YT1iLmRvY3VtZW50LiQuZXhlY0NvbW1hbmQoYywhMSxudWxsKX1jYXRjaChkKXthPSExfWF8fGIuc2hvd05vdGlmaWNhdGlvbihiLmxhbmcuY2xpcGJvYXJkW3RoaXMudHlwZStcIkVycm9yXCJdKTtyZXR1cm4gYX19fWZ1bmN0aW9uIGUoKXtyZXR1cm57Y2FuVW5kbzohMSxhc3luYzohMCxmYWtlS2V5c3Ryb2tlOkNLRURJVE9SLkNUUkwrODYsZXhlYzpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMsZT1mdW5jdGlvbihjLGUpe2MmJmEoYixjLCEhZSk7Yi5maXJlKFwiYWZ0ZXJDb21tYW5kRXhlY1wiLHtuYW1lOlwicGFzdGVcIixjb21tYW5kOmQscmV0dXJuVmFsdWU6ISFjfSl9O1wic3RyaW5nXCI9PXR5cGVvZiBjP2Uoe2RhdGFWYWx1ZTpjLG1ldGhvZDpcInBhc3RlXCIsZGF0YVRyYW5zZmVyOkEuaW5pdFBhc3RlRGF0YVRyYW5zZmVyKCl9LDEpOmIuZ2V0Q2xpcGJvYXJkRGF0YShlKX19fWZ1bmN0aW9uIGYoKXtGPTE7c2V0VGltZW91dChmdW5jdGlvbigpe0Y9XG4wfSwxMDApfWZ1bmN0aW9uIGgoKXtDPTE7c2V0VGltZW91dChmdW5jdGlvbigpe0M9MH0sMTApfWZ1bmN0aW9uIGsoYSl7dmFyIGM9Yi5kb2N1bWVudCxkPWMuZ2V0Qm9keSgpLGU9ITEsZj1mdW5jdGlvbigpe2U9ITB9O2Qub24oYSxmKTs3PENLRURJVE9SLmVudi52ZXJzaW9uP2MuJC5leGVjQ29tbWFuZChhKTpjLiQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkuZXhlY0NvbW1hbmQoYSk7ZC5yZW1vdmVMaXN0ZW5lcihhLGYpO3JldHVybiBlfWZ1bmN0aW9uIGwoKXtpZihDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYucXVpcmtzKXt2YXIgYT1iLmdldFNlbGVjdGlvbigpLGMsZCxlO2EuZ2V0VHlwZSgpPT1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCYmKGM9YS5nZXRTZWxlY3RlZEVsZW1lbnQoKSkmJihkPWEuZ2V0UmFuZ2VzKClbMF0sZT1iLmRvY3VtZW50LmNyZWF0ZVRleHQoXCJcIiksZS5pbnNlcnRCZWZvcmUoYyksZC5zZXRTdGFydEJlZm9yZShlKSxkLnNldEVuZEFmdGVyKGMpLFxuYS5zZWxlY3RSYW5nZXMoW2RdKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5nZXRQYXJlbnQoKSYmKGUucmVtb3ZlKCksYS5zZWxlY3RFbGVtZW50KGMpKX0sMCkpfX1mdW5jdGlvbiBtKGEsYyl7dmFyIGQ9Yi5kb2N1bWVudCxlPWIuZWRpdGFibGUoKSxmPWZ1bmN0aW9uKGEpe2EuY2FuY2VsKCl9LGg7aWYoIWQuZ2V0QnlJZChcImNrZV9wYXN0ZWJpblwiKSl7dmFyIGs9Yi5nZXRTZWxlY3Rpb24oKSxsPWsuY3JlYXRlQm9va21hcmtzKCk7Q0tFRElUT1IuZW52LmllJiZrLnJvb3QuZmlyZShcInNlbGVjdGlvbmNoYW5nZVwiKTt2YXIgbj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoIUNLRURJVE9SLmVudi53ZWJraXQmJiFlLmlzKFwiYm9keVwiKXx8Q0tFRElUT1IuZW52LmllP1wiZGl2XCI6XCJib2R5XCIsZCk7bi5zZXRBdHRyaWJ1dGVzKHtpZDpcImNrZV9wYXN0ZWJpblwiLFwiZGF0YS1ja2UtdGVtcFwiOlwiMVwifSk7dmFyIHU9MCxkPWQuZ2V0V2luZG93KCk7Q0tFRElUT1IuZW52LndlYmtpdD8oZS5hcHBlbmQobiksXG5uLmFkZENsYXNzKFwiY2tlX2VkaXRhYmxlXCIpLGUuaXMoXCJib2R5XCIpfHwodT1cInN0YXRpY1wiIT1lLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKT9lOkNLRURJVE9SLmRvbS5lbGVtZW50LmdldChlLiQub2Zmc2V0UGFyZW50KSx1PXUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLnkpKTplLmdldEFzY2VuZGFudChDS0VESVRPUi5lbnYuaWU/XCJib2R5XCI6XCJodG1sXCIsMSkuYXBwZW5kKG4pO24uc2V0U3R5bGVzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOmQuZ2V0U2Nyb2xsUG9zaXRpb24oKS55LXUrMTArXCJweFwiLHdpZHRoOlwiMXB4XCIsaGVpZ2h0Ok1hdGgubWF4KDEsZC5nZXRWaWV3UGFuZVNpemUoKS5oZWlnaHQtMjApK1wicHhcIixvdmVyZmxvdzpcImhpZGRlblwiLG1hcmdpbjowLHBhZGRpbmc6MH0pO0NLRURJVE9SLmVudi5zYWZhcmkmJm4uc2V0U3R5bGVzKENLRURJVE9SLnRvb2xzLmNzc1ZlbmRvclByZWZpeChcInVzZXItc2VsZWN0XCIsXCJ0ZXh0XCIpKTsodT1uLmdldFBhcmVudCgpLmlzUmVhZE9ubHkoKSk/XG4obi5zZXRPcGFjaXR5KDApLG4uc2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIsITApKTpuLnNldFN0eWxlKFwibHRyXCI9PWIuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbj9cImxlZnRcIjpcInJpZ2h0XCIsXCItMTAwMDBweFwiKTtiLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZixudWxsLG51bGwsMCk7aWYoQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmdlY2tvKWg9ZS5vbmNlKFwiYmx1clwiLGYsbnVsbCxudWxsLC0xMDApO3UmJm4uZm9jdXMoKTt1PW5ldyBDS0VESVRPUi5kb20ucmFuZ2Uobik7dS5zZWxlY3ROb2RlQ29udGVudHMobik7dmFyIHI9dS5zZWxlY3QoKTtDS0VESVRPUi5lbnYuaWUmJihoPWUub25jZShcImJsdXJcIixmdW5jdGlvbigpe2IubG9ja1NlbGVjdGlvbihyKX0pKTt2YXIgdD1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpLnk7c2V0VGltZW91dChmdW5jdGlvbigpe0NLRURJVE9SLmVudi53ZWJraXQmJihDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuJC5zY3JvbGxUb3A9XG50KTtoJiZoLnJlbW92ZUxpc3RlbmVyKCk7Q0tFRElUT1IuZW52LmllJiZlLmZvY3VzKCk7ay5zZWxlY3RCb29rbWFya3MobCk7bi5yZW1vdmUoKTt2YXIgYTtDS0VESVRPUi5lbnYud2Via2l0JiYoYT1uLmdldEZpcnN0KCkpJiZhLmlzJiZhLmhhc0NsYXNzKFwiQXBwbGUtc3R5bGUtc3BhblwiKSYmKG49YSk7Yi5yZW1vdmVMaXN0ZW5lcihcInNlbGVjdGlvbkNoYW5nZVwiLGYpO2Mobi5nZXRIdG1sKCkpfSwwKX19ZnVuY3Rpb24geCgpe2lmKFwicGFzdGVcIj09QS5tYWluUGFzdGVFdmVudClyZXR1cm4gYi5maXJlKFwiYmVmb3JlUGFzdGVcIix7dHlwZTpcImF1dG9cIixtZXRob2Q6XCJwYXN0ZVwifSksITE7Yi5mb2N1cygpO2YoKTt2YXIgYT1iLmZvY3VzTWFuYWdlcjthLmxvY2soKTtpZihiLmVkaXRhYmxlKCkuZmlyZShBLm1haW5QYXN0ZUV2ZW50KSYmIWsoXCJwYXN0ZVwiKSlyZXR1cm4gYS51bmxvY2soKSwhMTthLnVubG9jaygpO3JldHVybiEwfWZ1bmN0aW9uIHcoYSl7aWYoXCJ3eXNpd3lnXCI9PWIubW9kZSlzd2l0Y2goYS5kYXRhLmtleUNvZGUpe2Nhc2UgQ0tFRElUT1IuQ1RSTCtcbjg2OmNhc2UgQ0tFRElUT1IuU0hJRlQrNDU6YT1iLmVkaXRhYmxlKCk7ZigpO1wicGFzdGVcIj09QS5tYWluUGFzdGVFdmVudCYmYS5maXJlKFwiYmVmb3JlcGFzdGVcIik7YnJlYWs7Y2FzZSBDS0VESVRPUi5DVFJMKzg4OmNhc2UgQ0tFRElUT1IuU0hJRlQrNDY6Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmZpcmUoXCJzYXZlU25hcHNob3RcIil9LDUwKX19ZnVuY3Rpb24geihjKXt2YXIgZD17dHlwZTpcImF1dG9cIixtZXRob2Q6XCJwYXN0ZVwiLGRhdGFUcmFuc2ZlcjpBLmluaXRQYXN0ZURhdGFUcmFuc2ZlcihjKX07ZC5kYXRhVHJhbnNmZXIuY2FjaGVEYXRhKCk7dmFyIGU9ITEhPT1iLmZpcmUoXCJiZWZvcmVQYXN0ZVwiLGQpO2UmJkEuY2FuQ2xpcGJvYXJkQXBpQmVUcnVzdGVkKGQuZGF0YVRyYW5zZmVyLGIpPyhjLmRhdGEucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShiLGQpfSwwKSk6bShjLGZ1bmN0aW9uKGMpe2QuZGF0YVZhbHVlPVxuYy5yZXBsYWNlKC88c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmtbXjxdKj88XFwvc3Bhbj4vaWcsXCJcIik7ZSYmYShiLGQpfSl9ZnVuY3Rpb24gRCgpe2lmKFwid3lzaXd5Z1wiPT1iLm1vZGUpe3ZhciBhPXkoXCJwYXN0ZVwiKTtiLmdldENvbW1hbmQoXCJjdXRcIikuc2V0U3RhdGUoeShcImN1dFwiKSk7Yi5nZXRDb21tYW5kKFwiY29weVwiKS5zZXRTdGF0ZSh5KFwiY29weVwiKSk7Yi5nZXRDb21tYW5kKFwicGFzdGVcIikuc2V0U3RhdGUoYSk7Yi5maXJlKFwicGFzdGVTdGF0ZVwiLGEpfX1mdW5jdGlvbiB5KGEpe2lmKEUmJmEgaW57cGFzdGU6MSxjdXQ6MX0pcmV0dXJuIENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEO2lmKFwicGFzdGVcIj09YSlyZXR1cm4gQ0tFRElUT1IuVFJJU1RBVEVfT0ZGO2E9Yi5nZXRTZWxlY3Rpb24oKTt2YXIgYz1hLmdldFJhbmdlcygpO3JldHVybiBhLmdldFR5cGUoKT09Q0tFRElUT1IuU0VMRUNUSU9OX05PTkV8fDE9PWMubGVuZ3RoJiZjWzBdLmNvbGxhcHNlZD9DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDpcbkNLRURJVE9SLlRSSVNUQVRFX09GRn12YXIgQT1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZCxDPTAsRj0wLEU9MDsoZnVuY3Rpb24oKXtiLm9uKFwia2V5XCIsdyk7Yi5vbihcImNvbnRlbnREb21cIixjKTtiLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oYSl7RT1hLmRhdGEuc2VsZWN0aW9uLmdldFJhbmdlcygpWzBdLmNoZWNrUmVhZE9ubHkoKTtEKCl9KTtiLmNvbnRleHRNZW51JiZiLmNvbnRleHRNZW51LmFkZExpc3RlbmVyKGZ1bmN0aW9uKGEsYil7RT1iLmdldFJhbmdlcygpWzBdLmNoZWNrUmVhZE9ubHkoKTtyZXR1cm57Y3V0OnkoXCJjdXRcIiksY29weTp5KFwiY29weVwiKSxwYXN0ZTp5KFwicGFzdGVcIil9fSl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYyxkLGUsZixoKXt2YXIgaz1iLmxhbmcuY2xpcGJvYXJkW2RdO2IuYWRkQ29tbWFuZChkLGUpO2IudWkuYWRkQnV0dG9uJiZiLnVpLmFkZEJ1dHRvbihjLHtsYWJlbDprLGNvbW1hbmQ6ZCx0b29sYmFyOlwiY2xpcGJvYXJkLFwiK1xuZn0pO2IuYWRkTWVudUl0ZW1zJiZiLmFkZE1lbnVJdGVtKGQse2xhYmVsOmssY29tbWFuZDpkLGdyb3VwOlwiY2xpcGJvYXJkXCIsb3JkZXI6aH0pfWEoXCJDdXRcIixcImN1dFwiLGQoXCJjdXRcIiksMTAsMSk7YShcIkNvcHlcIixcImNvcHlcIixkKFwiY29weVwiKSwyMCw0KTthKFwiUGFzdGVcIixcInBhc3RlXCIsZSgpLDMwLDgpfSkoKTtiLmdldENsaXBib2FyZERhdGE9ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTthLmNhbmNlbCgpO2MoYS5kYXRhKX1mdW5jdGlvbiBlKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTthLmNhbmNlbCgpO2w9ITA7Yyh7dHlwZTprLGRhdGFWYWx1ZTphLmRhdGEuZGF0YVZhbHVlLGRhdGFUcmFuc2ZlcjphLmRhdGEuZGF0YVRyYW5zZmVyLG1ldGhvZDpcInBhc3RlXCJ9KX1mdW5jdGlvbiBmKCl7dGhpcy5jdXN0b21UaXRsZT1hJiZhLnRpdGxlfXZhciBoPSExLGs9XCJhdXRvXCIsbD0hMTtjfHwoYz1hLGE9bnVsbCk7Yi5vbihcInBhc3RlXCIsZCxudWxsLG51bGwsXG4wKTtiLm9uKFwiYmVmb3JlUGFzdGVcIixmdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7aD0hMDtrPWEuZGF0YS50eXBlfSxudWxsLG51bGwsMUUzKTshMT09PXgoKSYmKGIucmVtb3ZlTGlzdGVuZXIoXCJwYXN0ZVwiLGQpLGgmJmIuZmlyZShcInBhc3RlRGlhbG9nXCIsZik/KGIub24oXCJwYXN0ZURpYWxvZ0NvbW1pdFwiLGUpLGIub24oXCJkaWFsb2dIaWRlXCIsZnVuY3Rpb24oYSl7YS5yZW1vdmVMaXN0ZW5lcigpO2EuZGF0YS5yZW1vdmVMaXN0ZW5lcihcInBhc3RlRGlhbG9nQ29tbWl0XCIsZSk7c2V0VGltZW91dChmdW5jdGlvbigpe2x8fGMobnVsbCl9LDEwKX0pKTpjKG51bGwpKX19ZnVuY3Rpb24gYihhKXtpZihDS0VESVRPUi5lbnYud2Via2l0KXtpZighYS5tYXRjaCgvXltePF0qJC9nKSYmIWEubWF0Y2goL14oPGRpdj48YnIoID9cXC8pPz48XFwvZGl2Pnw8ZGl2PltePF0qPFxcL2Rpdj4pKiQvZ2kpKXJldHVyblwiaHRtbFwifWVsc2UgaWYoQ0tFRElUT1IuZW52LmllKXtpZighYS5tYXRjaCgvXihbXjxdfDxiciggP1xcLyk/PikqJC9naSkmJlxuIWEubWF0Y2goL14oPHA+KFtePF18PGJyKCA/XFwvKT8+KSo8XFwvcD58KFxcclxcbikpKiQvZ2kpKXJldHVyblwiaHRtbFwifWVsc2UgaWYoQ0tFRElUT1IuZW52LmdlY2tvKXtpZighYS5tYXRjaCgvXihbXjxdfDxiciggP1xcLyk/PikqJC9naSkpcmV0dXJuXCJodG1sXCJ9ZWxzZSByZXR1cm5cImh0bWxcIjtyZXR1cm5cImh0bWxpZmllZHRleHRcIn1mdW5jdGlvbiBjKGEsYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMucmVwZWF0KFwiXFx4M2MvcFxceDNlXFx4M2NwXFx4M2VcIix+fihhLzIpKSsoMT09YSUyP1wiXFx4M2NiclxceDNlXCI6XCJcIil9Yj1iLnJlcGxhY2UoL1xccysvZyxcIiBcIikucmVwbGFjZSgvPiArPC9nLFwiXFx4M2VcXHgzY1wiKS5yZXBsYWNlKC88YnIgP1xcLz4vZ2ksXCJcXHgzY2JyXFx4M2VcIik7Yj1iLnJlcGxhY2UoLzxcXC8/W0EtWl0rPi9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvTG93ZXJDYXNlKCl9KTtpZihiLm1hdGNoKC9eW148XSQvKSlyZXR1cm4gYjtDS0VESVRPUi5lbnYud2Via2l0JiZcbi0xPGIuaW5kZXhPZihcIlxceDNjZGl2XFx4M2VcIikmJihiPWIucmVwbGFjZSgvXig8ZGl2Pig8YnI+fCk8XFwvZGl2PikoPyEkfCg8ZGl2Pig8YnI+fCk8XFwvZGl2PikpL2csXCJcXHgzY2JyXFx4M2VcIikucmVwbGFjZSgvXig8ZGl2Pig8YnI+fCk8XFwvZGl2Pil7Mn0oPyEkKS9nLFwiXFx4M2NkaXZcXHgzZVxceDNjL2RpdlxceDNlXCIpLGIubWF0Y2goLzxkaXY+KDxicj58KTxcXC9kaXY+LykmJihiPVwiXFx4M2NwXFx4M2VcIitiLnJlcGxhY2UoLyg8ZGl2Pig8YnI+fCk8XFwvZGl2PikrL2csZnVuY3Rpb24oYSl7cmV0dXJuIGMoYS5zcGxpdChcIlxceDNjL2RpdlxceDNlXFx4M2NkaXZcXHgzZVwiKS5sZW5ndGgrMSl9KStcIlxceDNjL3BcXHgzZVwiKSxiPWIucmVwbGFjZSgvPFxcL2Rpdj48ZGl2Pi9nLFwiXFx4M2NiclxceDNlXCIpLGI9Yi5yZXBsYWNlKC88XFwvP2Rpdj4vZyxcIlwiKSk7Q0tFRElUT1IuZW52LmdlY2tvJiZhLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJihDS0VESVRPUi5lbnYuZ2Vja28mJihiPWIucmVwbGFjZSgvXjxicj48YnI+JC8sXG5cIlxceDNjYnJcXHgzZVwiKSksLTE8Yi5pbmRleE9mKFwiXFx4M2NiclxceDNlXFx4M2NiclxceDNlXCIpJiYoYj1cIlxceDNjcFxceDNlXCIrYi5yZXBsYWNlKC8oPGJyPil7Mix9L2csZnVuY3Rpb24oYSl7cmV0dXJuIGMoYS5sZW5ndGgvNCl9KStcIlxceDNjL3BcXHgzZVwiKSk7cmV0dXJuIGwoYSxiKX1mdW5jdGlvbiBlKCl7ZnVuY3Rpb24gYSgpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gQ0tFRElUT1IuZHRkKVwiJFwiIT1jLmNoYXJBdCgwKSYmXCJkaXZcIiE9YyYmXCJzcGFuXCIhPWMmJihiW2NdPTEpO3JldHVybiBifXZhciBiPXt9O3JldHVybntnZXQ6ZnVuY3Rpb24oYyl7cmV0dXJuXCJwbGFpbi10ZXh0XCI9PWM/Yi5wbGFpblRleHR8fChiLnBsYWluVGV4dD1uZXcgQ0tFRElUT1IuZmlsdGVyKFwiYnJcIikpOlwic2VtYW50aWMtY29udGVudFwiPT1jPygoYz1iLnNlbWFudGljQ29udGVudCl8fChjPW5ldyBDS0VESVRPUi5maWx0ZXIsYy5hbGxvdyh7JDE6e2VsZW1lbnRzOmEoKSxhdHRyaWJ1dGVzOiEwLHN0eWxlczohMSxjbGFzc2VzOiExfX0pLFxuYz1iLnNlbWFudGljQ29udGVudD1jKSxjKTpjP25ldyBDS0VESVRPUi5maWx0ZXIoYyk6bnVsbH19fWZ1bmN0aW9uIG0oYSxiLGMpe2I9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChiKTt2YXIgZD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjtjLmFwcGx5VG8oYiwhMCwhMSxhLmFjdGl2ZUVudGVyTW9kZSk7Yi53cml0ZUh0bWwoZCk7cmV0dXJuIGQuZ2V0SHRtbCgpfWZ1bmN0aW9uIGwoYSxiKXthLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlI/Yj1iLnJlcGxhY2UoLyg8XFwvcD48cD4pKy9nLGZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5yZXBlYXQoXCJcXHgzY2JyXFx4M2VcIixhLmxlbmd0aC83KjIpfSkucmVwbGFjZSgvPFxcLz9wPi9nLFwiXCIpOmEuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9ESVYmJihiPWIucmVwbGFjZSgvPChcXC8pP3A+L2csXCJcXHgzYyQxZGl2XFx4M2VcIikpO3JldHVybiBifWZ1bmN0aW9uIGQoYSl7YS5kYXRhLnByZXZlbnREZWZhdWx0KCk7XG5hLmRhdGEuJC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1cIm5vbmVcIn1mdW5jdGlvbiBoKGIpe3ZhciBjPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkO2Iub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBkKGMsZSxmKXtlLnNlbGVjdCgpO2EoYix7ZGF0YVRyYW5zZmVyOmYsbWV0aG9kOlwiZHJvcFwifSwxKTtmLnNvdXJjZUVkaXRvci5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2Yuc291cmNlRWRpdG9yLmVkaXRhYmxlKCkuZXh0cmFjdEh0bWxGcm9tUmFuZ2UoYyk7Zi5zb3VyY2VFZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtjXSk7Zi5zb3VyY2VFZGl0b3IuZmlyZShcInNhdmVTbmFwc2hvdFwiKX1mdW5jdGlvbiBlKGQsZil7ZC5zZWxlY3QoKTthKGIse2RhdGFUcmFuc2ZlcjpmLG1ldGhvZDpcImRyb3BcIn0sMSk7Yy5yZXNldERyYWdEYXRhVHJhbnNmZXIoKX1mdW5jdGlvbiBmKGEsYyxkKXt2YXIgZT17JDphLmRhdGEuJCx0YXJnZXQ6YS5kYXRhLmdldFRhcmdldCgpfTtcbmMmJihlLmRyYWdSYW5nZT1jKTtkJiYoZS5kcm9wUmFuZ2U9ZCk7ITE9PT1iLmZpcmUoYS5uYW1lLGUpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBoKGEpe2EudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYT1hLmdldFBhcmVudCgpKTtyZXR1cm4gYS5nZXRDaGlsZENvdW50KCl9dmFyIGs9Yi5lZGl0YWJsZSgpLGw9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZ2V0RHJvcFRhcmdldChiKSxtPWIudWkuc3BhY2UoXCJ0b3BcIikseD1iLnVpLnNwYWNlKFwiYm90dG9tXCIpO2MucHJldmVudERlZmF1bHREcm9wT25FbGVtZW50KG0pO2MucHJldmVudERlZmF1bHREcm9wT25FbGVtZW50KHgpO2suYXR0YWNoTGlzdGVuZXIobCxcImRyYWdzdGFydFwiLGYpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyYWdzdGFydFwiLGMucmVzZXREcmFnRGF0YVRyYW5zZmVyLGMsbnVsbCwxKTtrLmF0dGFjaExpc3RlbmVyKGIsXCJkcmFnc3RhcnRcIixmdW5jdGlvbihhKXtjLmluaXREcmFnRGF0YVRyYW5zZmVyKGEsXG5iKX0sbnVsbCxudWxsLDIpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyYWdzdGFydFwiLGZ1bmN0aW9uKCl7dmFyIGE9Yy5kcmFnUmFuZ2U9Yi5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXTtDS0VESVRPUi5lbnYuaWUmJjEwPkNLRURJVE9SLmVudi52ZXJzaW9uJiYoYy5kcmFnU3RhcnRDb250YWluZXJDaGlsZENvdW50PWE/aChhLnN0YXJ0Q29udGFpbmVyKTpudWxsLGMuZHJhZ0VuZENvbnRhaW5lckNoaWxkQ291bnQ9YT9oKGEuZW5kQ29udGFpbmVyKTpudWxsKX0sbnVsbCxudWxsLDEwMCk7ay5hdHRhY2hMaXN0ZW5lcihsLFwiZHJhZ2VuZFwiLGYpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyYWdlbmRcIixjLmluaXREcmFnRGF0YVRyYW5zZmVyLGMsbnVsbCwxKTtrLmF0dGFjaExpc3RlbmVyKGIsXCJkcmFnZW5kXCIsYy5yZXNldERyYWdEYXRhVHJhbnNmZXIsYyxudWxsLDEwMCk7ay5hdHRhY2hMaXN0ZW5lcihsLFwiZHJhZ292ZXJcIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZ2V0VGFyZ2V0KCk7XG5iJiZiLmlzJiZiLmlzKFwiaHRtbFwiKT9hLmRhdGEucHJldmVudERlZmF1bHQoKTpDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzRmlsZUFwaVN1cHBvcnRlZCYmYS5kYXRhLiQuZGF0YVRyYW5zZmVyLnR5cGVzLmNvbnRhaW5zKFwiRmlsZXNcIikmJmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSk7ay5hdHRhY2hMaXN0ZW5lcihsLFwiZHJvcFwiLGZ1bmN0aW9uKGEpe2lmKCFhLmRhdGEuJC5kZWZhdWx0UHJldmVudGVkKXthLmRhdGEucHJldmVudERlZmF1bHQoKTt2YXIgZD1hLmRhdGEuZ2V0VGFyZ2V0KCk7aWYoIWQuaXNSZWFkT25seSgpfHxkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pcyhcImh0bWxcIikpe3ZhciBkPWMuZ2V0UmFuZ2VBdERyb3BQb3NpdGlvbihhLGIpLGU9Yy5kcmFnUmFuZ2U7ZCYmZihhLGUsZCl9fX0sbnVsbCxudWxsLDk5OTkpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyb3BcIixjLmluaXREcmFnRGF0YVRyYW5zZmVyLGMsbnVsbCxcbjEpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyb3BcIixmdW5jdGlvbihhKXtpZihhPWEuZGF0YSl7dmFyIGY9YS5kcm9wUmFuZ2UsaD1hLmRyYWdSYW5nZSxrPWEuZGF0YVRyYW5zZmVyO2suZ2V0VHJhbnNmZXJUeXBlKGIpPT1DS0VESVRPUi5EQVRBX1RSQU5TRkVSX0lOVEVSTkFMP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmludGVybmFsRHJvcChoLGYsayxiKX0sMCk6ay5nZXRUcmFuc2ZlclR5cGUoYik9PUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfQ1JPU1NfRURJVE9SUz9kKGgsZixrKTplKGYsayl9fSxudWxsLG51bGwsOTk5OSl9KX1DS0VESVRPUi5wbHVnaW5zLmFkZChcImNsaXBib2FyZFwiLHtyZXF1aXJlczpcImRpYWxvZ1wiLGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGQsaz1lKCk7YS5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0P2Q9XCJwbGFpbi10ZXh0XCI6YS5jb25maWcucGFzdGVGaWx0ZXI/ZD1hLmNvbmZpZy5wYXN0ZUZpbHRlcjohQ0tFRElUT1IuZW52LndlYmtpdHx8XCJwYXN0ZUZpbHRlclwiaW5cbmEuY29uZmlnfHwoZD1cInNlbWFudGljLWNvbnRlbnRcIik7YS5wYXN0ZUZpbHRlcj1rLmdldChkKTtmKGEpO2goYSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcInBhc3RlXCIsQ0tFRElUT1IuZ2V0VXJsKHRoaXMucGF0aCtcImRpYWxvZ3MvcGFzdGUuanNcIikpO2Eub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGIpe2IuZGF0YS5kYXRhVHJhbnNmZXJ8fChiLmRhdGEuZGF0YVRyYW5zZmVyPW5ldyBDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kYXRhVHJhbnNmZXIpO2lmKCFiLmRhdGEuZGF0YVZhbHVlKXt2YXIgYz1iLmRhdGEuZGF0YVRyYW5zZmVyLGQ9Yy5nZXREYXRhKFwidGV4dC9odG1sXCIpO2lmKGQpYi5kYXRhLmRhdGFWYWx1ZT1kLGIuZGF0YS50eXBlPVwiaHRtbFwiO2Vsc2UgaWYoZD1jLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKWIuZGF0YS5kYXRhVmFsdWU9YS5lZGl0YWJsZSgpLnRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbChkKSxiLmRhdGEudHlwZT1cInRleHRcIn19LG51bGwsbnVsbCwxKTthLm9uKFwicGFzdGVcIixcbmZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5kYXRhVmFsdWUsYz1DS0VESVRPUi5kdGQuJGJsb2NrOy0xPGIuaW5kZXhPZihcIkFwcGxlLVwiKSYmKGI9Yi5yZXBsYWNlKC88c3BhbiBjbGFzcz1cIkFwcGxlLWNvbnZlcnRlZC1zcGFjZVwiPiZuYnNwOzxcXC9zcGFuPi9naSxcIiBcIiksXCJodG1sXCIhPWEuZGF0YS50eXBlJiYoYj1iLnJlcGxhY2UoLzxzcGFuIGNsYXNzPVwiQXBwbGUtdGFiLXNwYW5cIltePl0qPihbXjxdKik8XFwvc3Bhbj4vZ2ksZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5yZXBsYWNlKC9cXHQvZyxcIlxceDI2bmJzcDtcXHgyNm5ic3A7IFxceDI2bmJzcDtcIil9KSksLTE8Yi5pbmRleE9mKCdcXHgzY2JyIGNsYXNzXFx4M2RcIkFwcGxlLWludGVyY2hhbmdlLW5ld2xpbmVcIlxceDNlJykmJihhLmRhdGEuc3RhcnRzV2l0aEVPTD0xLGEuZGF0YS5wcmVTbmlmZmluZz1cImh0bWxcIixiPWIucmVwbGFjZSgvPGJyIGNsYXNzPVwiQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZVwiPi8sXCJcIikpLGI9Yi5yZXBsYWNlKC8oPFtePl0rKSBjbGFzcz1cIkFwcGxlLVteXCJdKlwiL2dpLFxuXCIkMVwiKSk7aWYoYi5tYXRjaCgvXjxbXjxdK2NrZV8oZWRpdGFibGV8Y29udGVudHMpL2kpKXt2YXIgZCxlLGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIpO2ZvcihmLnNldEh0bWwoYik7MT09Zi5nZXRDaGlsZENvdW50KCkmJihkPWYuZ2V0Rmlyc3QoKSkmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZC5oYXNDbGFzcyhcImNrZV9lZGl0YWJsZVwiKXx8ZC5oYXNDbGFzcyhcImNrZV9jb250ZW50c1wiKSk7KWY9ZT1kO2UmJihiPWUuZ2V0SHRtbCgpLnJlcGxhY2UoLzxicj4kL2ksXCJcIikpfUNLRURJVE9SLmVudi5pZT9iPWIucmVwbGFjZSgvXiZuYnNwOyg/OiB8XFxyXFxuKT88KFxcdyspL2csZnVuY3Rpb24oYixkKXtyZXR1cm4gZC50b0xvd2VyQ2FzZSgpaW4gYz8oYS5kYXRhLnByZVNuaWZmaW5nPVwiaHRtbFwiLFwiXFx4M2NcIitkKTpifSk6Q0tFRElUT1IuZW52LndlYmtpdD9iPWIucmVwbGFjZSgvPFxcLyhcXHcrKT48ZGl2Pjxicj48XFwvZGl2PiQvLGZ1bmN0aW9uKGIsZCl7cmV0dXJuIGQgaW5cbmM/KGEuZGF0YS5lbmRzV2l0aEVPTD0xLFwiXFx4M2MvXCIrZCtcIlxceDNlXCIpOmJ9KTpDS0VESVRPUi5lbnYuZ2Vja28mJihiPWIucmVwbGFjZSgvKFxccyk8YnI+JC8sXCIkMVwiKSk7YS5kYXRhLmRhdGFWYWx1ZT1ifSxudWxsLG51bGwsMyk7YS5vbihcInBhc3RlXCIsZnVuY3Rpb24oZCl7ZD1kLmRhdGE7dmFyIGU9ZC50eXBlLGY9ZC5kYXRhVmFsdWUsaCxsPWEuY29uZmlnLmNsaXBib2FyZF9kZWZhdWx0Q29udGVudFR5cGV8fFwiaHRtbFwiLG49ZC5kYXRhVHJhbnNmZXIuZ2V0VHJhbnNmZXJUeXBlKGEpO2g9XCJodG1sXCI9PWV8fFwiaHRtbFwiPT1kLnByZVNuaWZmaW5nP1wiaHRtbFwiOmIoZik7XCJodG1saWZpZWR0ZXh0XCI9PWgmJihmPWMoYS5jb25maWcsZikpO1widGV4dFwiPT1lJiZcImh0bWxcIj09aD9mPW0oYSxmLGsuZ2V0KFwicGxhaW4tdGV4dFwiKSk6bj09Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9FWFRFUk5BTCYmYS5wYXN0ZUZpbHRlciYmIWQuZG9udEZpbHRlciYmKGY9bShhLGYsYS5wYXN0ZUZpbHRlcikpO1xuZC5zdGFydHNXaXRoRU9MJiYoZj0nXFx4M2NiciBkYXRhLWNrZS1lb2xcXHgzZFwiMVwiXFx4M2UnK2YpO2QuZW5kc1dpdGhFT0wmJihmKz0nXFx4M2NiciBkYXRhLWNrZS1lb2xcXHgzZFwiMVwiXFx4M2UnKTtcImF1dG9cIj09ZSYmKGU9XCJodG1sXCI9PWh8fFwiaHRtbFwiPT1sP1wiaHRtbFwiOlwidGV4dFwiKTtkLnR5cGU9ZTtkLmRhdGFWYWx1ZT1mO2RlbGV0ZSBkLnByZVNuaWZmaW5nO2RlbGV0ZSBkLnN0YXJ0c1dpdGhFT0w7ZGVsZXRlIGQuZW5kc1dpdGhFT0x9LG51bGwsbnVsbCw2KTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihiKXtiPWIuZGF0YTtiLmRhdGFWYWx1ZSYmKGEuaW5zZXJ0SHRtbChiLmRhdGFWYWx1ZSxiLnR5cGUsYi5yYW5nZSksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZmlyZShcImFmdGVyUGFzdGVcIil9LDApKX0sbnVsbCxudWxsLDFFMyk7YS5vbihcInBhc3RlRGlhbG9nXCIsZnVuY3Rpb24oYil7c2V0VGltZW91dChmdW5jdGlvbigpe2Eub3BlbkRpYWxvZyhcInBhc3RlXCIsYi5kYXRhKX0sMCl9KX19KTtcbkNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkPXtpc0N1c3RvbUNvcHlDdXRTdXBwb3J0ZWQ6IUNLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5pT1MsaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWQ6IUNLRURJVE9SLmVudi5pZSxpc0ZpbGVBcGlTdXBwb3J0ZWQ6IUNLRURJVE9SLmVudi5pZXx8OTxDS0VESVRPUi5lbnYudmVyc2lvbixtYWluUGFzdGVFdmVudDpDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZT9cImJlZm9yZXBhc3RlXCI6XCJwYXN0ZVwiLGNhbkNsaXBib2FyZEFwaUJlVHJ1c3RlZDpmdW5jdGlvbihhLGIpe3JldHVybiBhLmdldFRyYW5zZmVyVHlwZShiKSE9Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9FWFRFUk5BTHx8Q0tFRElUT1IuZW52LmNocm9tZSYmIWEuaXNFbXB0eSgpfHxDS0VESVRPUi5lbnYuZ2Vja28mJihhLmdldERhdGEoXCJ0ZXh0L2h0bWxcIil8fGEuZ2V0RmlsZXNDb3VudCgpKT8hMDohMX0sZ2V0RHJvcFRhcmdldDpmdW5jdGlvbihhKXt2YXIgYj1cbmEuZWRpdGFibGUoKTtyZXR1cm4gQ0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9ufHxiLmlzSW5saW5lKCk/YjphLmRvY3VtZW50fSxmaXhTcGxpdE5vZGVzQWZ0ZXJEcm9wOmZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIGUoYSxjLGQpe3ZhciBmPWE7Zi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihmPWEuZ2V0UGFyZW50KCkpO2lmKGYuZXF1YWxzKGMpJiZkIT1jLmdldENoaWxkQ291bnQoKSlyZXR1cm4gYT1iLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKGIuc3RhcnRPZmZzZXQtMSksYz1iLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKGIuc3RhcnRPZmZzZXQpLGEmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZjJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGQ9YS5nZXRMZW5ndGgoKSxhLnNldFRleHQoYS5nZXRUZXh0KCkrYy5nZXRUZXh0KCkpLGMucmVtb3ZlKCksYi5zZXRTdGFydChhLGQpLGIuY29sbGFwc2UoITApKSwhMH12YXIgZj1iLnN0YXJ0Q29udGFpbmVyO1xuXCJudW1iZXJcIj09dHlwZW9mIGQmJlwibnVtYmVyXCI9PXR5cGVvZiBjJiZmLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGUoYS5zdGFydENvbnRhaW5lcixmLGMpfHxlKGEuZW5kQ29udGFpbmVyLGYsZCkpfSxpc0Ryb3BSYW5nZUFmZmVjdGVkQnlEcmFnUmFuZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnN0YXJ0Q29udGFpbmVyLGQ9Yi5lbmRPZmZzZXQ7cmV0dXJuIGEuZW5kQ29udGFpbmVyLmVxdWFscyhjKSYmYS5lbmRPZmZzZXQ8PWR8fGEuc3RhcnRDb250YWluZXIuZ2V0UGFyZW50KCkuZXF1YWxzKGMpJiZhLnN0YXJ0Q29udGFpbmVyLmdldEluZGV4KCk8ZHx8YS5lbmRDb250YWluZXIuZ2V0UGFyZW50KCkuZXF1YWxzKGMpJiZhLmVuZENvbnRhaW5lci5nZXRJbmRleCgpPGQ/ITA6ITF9LGludGVybmFsRHJvcDpmdW5jdGlvbihiLGMsZCxlKXt2YXIgZj1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZCxoPWUuZWRpdGFibGUoKSxrLGw7ZS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO1xuZS5maXJlKFwibG9ja1NuYXBzaG90XCIse2RvbnRVcGRhdGU6MX0pO0NLRURJVE9SLmVudi5pZSYmMTA+Q0tFRElUT1IuZW52LnZlcnNpb24mJnRoaXMuZml4U3BsaXROb2Rlc0FmdGVyRHJvcChiLGMsZi5kcmFnU3RhcnRDb250YWluZXJDaGlsZENvdW50LGYuZHJhZ0VuZENvbnRhaW5lckNoaWxkQ291bnQpOyhsPXRoaXMuaXNEcm9wUmFuZ2VBZmZlY3RlZEJ5RHJhZ1JhbmdlKGIsYykpfHwoaz1iLmNyZWF0ZUJvb2ttYXJrKCExKSk7Zj1jLmNsb25lKCkuY3JlYXRlQm9va21hcmsoITEpO2wmJihrPWIuY3JlYXRlQm9va21hcmsoITEpKTtiPWsuc3RhcnROb2RlO2M9ay5lbmROb2RlO2w9Zi5zdGFydE5vZGU7YyYmYi5nZXRQb3NpdGlvbihsKSZDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkcmJmMuZ2V0UG9zaXRpb24obCkmQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HJiZsLmluc2VydEJlZm9yZShiKTtiPWUuY3JlYXRlUmFuZ2UoKTtiLm1vdmVUb0Jvb2ttYXJrKGspO2guZXh0cmFjdEh0bWxGcm9tUmFuZ2UoYixcbjEpO2M9ZS5jcmVhdGVSYW5nZSgpO2MubW92ZVRvQm9va21hcmsoZik7YShlLHtkYXRhVHJhbnNmZXI6ZCxtZXRob2Q6XCJkcm9wXCIscmFuZ2U6Y30sMSk7ZS5maXJlKFwidW5sb2NrU25hcHNob3RcIil9LGdldFJhbmdlQXREcm9wUG9zaXRpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmRhdGEuJCxkPWMuY2xpZW50WCxlPWMuY2xpZW50WSxmPWIuZ2V0U2VsZWN0aW9uKCEwKS5nZXRSYW5nZXMoKVswXSxoPWIuY3JlYXRlUmFuZ2UoKTtpZihhLmRhdGEudGVzdFJhbmdlKXJldHVybiBhLmRhdGEudGVzdFJhbmdlO2lmKGRvY3VtZW50LmNhcmV0UmFuZ2VGcm9tUG9pbnQpYz1iLmRvY3VtZW50LiQuY2FyZXRSYW5nZUZyb21Qb2ludChkLGUpLGguc2V0U3RhcnQoQ0tFRElUT1IuZG9tLm5vZGUoYy5zdGFydENvbnRhaW5lciksYy5zdGFydE9mZnNldCksaC5jb2xsYXBzZSghMCk7ZWxzZSBpZihjLnJhbmdlUGFyZW50KWguc2V0U3RhcnQoQ0tFRElUT1IuZG9tLm5vZGUoYy5yYW5nZVBhcmVudCksXG5jLnJhbmdlT2Zmc2V0KSxoLmNvbGxhcHNlKCEwKTtlbHNle2lmKENLRURJVE9SLmVudi5pZSYmODxDS0VESVRPUi5lbnYudmVyc2lvbiYmZiYmYi5lZGl0YWJsZSgpLmhhc0ZvY3VzKXJldHVybiBmO2lmKGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKXtiLmZvY3VzKCk7Yz1iLmRvY3VtZW50LmdldEJvZHkoKS4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXtmb3IodmFyIGs9ITEsbD0wOzIwPmwmJiFrO2wrKyl7aWYoIWspdHJ5e2MubW92ZVRvUG9pbnQoZCxlLWwpLGs9ITB9Y2F0Y2gobSl7fWlmKCFrKXRyeXtjLm1vdmVUb1BvaW50KGQsZStsKSxrPSEwfWNhdGNoKHcpe319aWYoayl7dmFyIHo9XCJja2UtdGVtcC1cIisobmV3IERhdGUpLmdldFRpbWUoKTtjLnBhc3RlSFRNTCgnXFx4M2NzcGFuIGlkXFx4M2RcIicreisnXCJcXHgzZeKAi1xceDNjL3NwYW5cXHgzZScpO3ZhciBEPWIuZG9jdW1lbnQuZ2V0QnlJZCh6KTtoLm1vdmVUb1Bvc2l0aW9uKEQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtcbkQucmVtb3ZlKCl9ZWxzZXt2YXIgeT1iLmRvY3VtZW50LiQuZWxlbWVudEZyb21Qb2ludChkLGUpLEE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHkpLEM7aWYoQS5lcXVhbHMoYi5lZGl0YWJsZSgpKXx8XCJodG1sXCI9PUEuZ2V0TmFtZSgpKXJldHVybiBmJiZmLnN0YXJ0Q29udGFpbmVyJiYhZi5zdGFydENvbnRhaW5lci5lcXVhbHMoYi5lZGl0YWJsZSgpKT9mOm51bGw7Qz1BLmdldENsaWVudFJlY3QoKTtkPEMubGVmdD9oLnNldFN0YXJ0QXQoQSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk6aC5zZXRTdGFydEF0KEEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7aC5jb2xsYXBzZSghMCl9fWNhdGNoKEYpe3JldHVybiBudWxsfX1lbHNlIHJldHVybiBudWxsfXJldHVybiBofSxpbml0RHJhZ0RhdGFUcmFuc2ZlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEuZGF0YS4kP2EuZGF0YS4kLmRhdGFUcmFuc2ZlcjpudWxsLGQ9bmV3IHRoaXMuZGF0YVRyYW5zZmVyKGMsYik7XG5jP3RoaXMuZHJhZ0RhdGEmJmQuaWQ9PXRoaXMuZHJhZ0RhdGEuaWQ/ZD10aGlzLmRyYWdEYXRhOnRoaXMuZHJhZ0RhdGE9ZDp0aGlzLmRyYWdEYXRhP2Q9dGhpcy5kcmFnRGF0YTp0aGlzLmRyYWdEYXRhPWQ7YS5kYXRhLmRhdGFUcmFuc2Zlcj1kfSxyZXNldERyYWdEYXRhVHJhbnNmZXI6ZnVuY3Rpb24oKXt0aGlzLmRyYWdEYXRhPW51bGx9LGluaXRQYXN0ZURhdGFUcmFuc2ZlcjpmdW5jdGlvbihhLGIpe2lmKHRoaXMuaXNDdXN0b21Db3B5Q3V0U3VwcG9ydGVkKXtpZihhJiZhLmRhdGEmJmEuZGF0YS4kKXt2YXIgYz1uZXcgdGhpcy5kYXRhVHJhbnNmZXIoYS5kYXRhLiQuY2xpcGJvYXJkRGF0YSxiKTt0aGlzLmNvcHlDdXREYXRhJiZjLmlkPT10aGlzLmNvcHlDdXREYXRhLmlkPyhjPXRoaXMuY29weUN1dERhdGEsYy4kPWEuZGF0YS4kLmNsaXBib2FyZERhdGEpOnRoaXMuY29weUN1dERhdGE9YztyZXR1cm4gY31yZXR1cm4gbmV3IHRoaXMuZGF0YVRyYW5zZmVyKG51bGwsYil9cmV0dXJuIG5ldyB0aGlzLmRhdGFUcmFuc2ZlcihDS0VESVRPUi5lbnYuZWRnZSYmXG5hJiZhLmRhdGEuJCYmYS5kYXRhLiQuY2xpcGJvYXJkRGF0YXx8bnVsbCxiKX0scHJldmVudERlZmF1bHREcm9wT25FbGVtZW50OmZ1bmN0aW9uKGEpe2EmJmEub24oXCJkcmFnb3ZlclwiLGQpfX07dmFyIGs9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWQ/XCJja2UvaWRcIjpcIlRleHRcIjtDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kYXRhVHJhbnNmZXI9ZnVuY3Rpb24oYSxiKXthJiYodGhpcy4kPWEpO3RoaXMuXz17bWV0YVJlZ0V4cDovXjxtZXRhLio/Pi9pLGJvZHlSZWdFeHA6Lzxib2R5KD86W1xcc1xcU10qPyk+KFtcXHNcXFNdKik8XFwvYm9keT4vaSxmcmFnbWVudFJlZ0V4cDovXFx4M2MhLS0oPzpTdGFydHxFbmQpRnJhZ21lbnQtLVxceDNlL2csZGF0YTp7fSxmaWxlczpbXSxub3JtYWxpemVUeXBlOmZ1bmN0aW9uKGEpe2E9YS50b0xvd2VyQ2FzZSgpO3JldHVyblwidGV4dFwiPT1hfHxcInRleHQvcGxhaW5cIj09YT9cIlRleHRcIjpcInVybFwiPT1hP1wiVVJMXCI6XG5hfX07dGhpcy5pZD10aGlzLmdldERhdGEoayk7dGhpcy5pZHx8KHRoaXMuaWQ9XCJUZXh0XCI9PWs/XCJcIjpcImNrZS1cIitDS0VESVRPUi50b29scy5nZXRVbmlxdWVJZCgpKTtpZihcIlRleHRcIiE9ayl0cnl7dGhpcy4kLnNldERhdGEoayx0aGlzLmlkKX1jYXRjaChjKXt9YiYmKHRoaXMuc291cmNlRWRpdG9yPWIsdGhpcy5zZXREYXRhKFwidGV4dC9odG1sXCIsYi5nZXRTZWxlY3RlZEh0bWwoMSkpLFwiVGV4dFwiPT1rfHx0aGlzLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpfHx0aGlzLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsYi5nZXRTZWxlY3Rpb24oKS5nZXRTZWxlY3RlZFRleHQoKSkpfTtDS0VESVRPUi5EQVRBX1RSQU5TRkVSX0lOVEVSTkFMPTE7Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9DUk9TU19FRElUT1JTPTI7Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9FWFRFUk5BTD0zO0NLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmRhdGFUcmFuc2Zlci5wcm90b3R5cGU9e2dldERhdGE6ZnVuY3Rpb24oYSl7YT1cbnRoaXMuXy5ub3JtYWxpemVUeXBlKGEpO3ZhciBiPXRoaXMuXy5kYXRhW2FdO2lmKHZvaWQgMD09PWJ8fG51bGw9PT1ifHxcIlwiPT09Yil0cnl7Yj10aGlzLiQuZ2V0RGF0YShhKX1jYXRjaChjKXt9aWYodm9pZCAwPT09Ynx8bnVsbD09PWJ8fFwiXCI9PT1iKWI9XCJcIjtcInRleHQvaHRtbFwiPT1hPyhiPWIucmVwbGFjZSh0aGlzLl8ubWV0YVJlZ0V4cCxcIlwiKSwoYT10aGlzLl8uYm9keVJlZ0V4cC5leGVjKGIpKSYmYS5sZW5ndGgmJihiPWFbMV0sYj1iLnJlcGxhY2UodGhpcy5fLmZyYWdtZW50UmVnRXhwLFwiXCIpKSk6XCJUZXh0XCI9PWEmJkNLRURJVE9SLmVudi5nZWNrbyYmdGhpcy5nZXRGaWxlc0NvdW50KCkmJlwiZmlsZTovL1wiPT1iLnN1YnN0cmluZygwLDcpJiYoYj1cIlwiKTtyZXR1cm4gYn0sc2V0RGF0YTpmdW5jdGlvbihhLGIpe2E9dGhpcy5fLm5vcm1hbGl6ZVR5cGUoYSk7dGhpcy5fLmRhdGFbYV09YjtpZihDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZHx8XG5cIlVSTFwiPT1hfHxcIlRleHRcIj09YSl7XCJUZXh0XCI9PWsmJlwiVGV4dFwiPT1hJiYodGhpcy5pZD1iKTt0cnl7dGhpcy4kLnNldERhdGEoYSxiKX1jYXRjaChjKXt9fX0sZ2V0VHJhbnNmZXJUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNvdXJjZUVkaXRvcj90aGlzLnNvdXJjZUVkaXRvcj09YT9DS0VESVRPUi5EQVRBX1RSQU5TRkVSX0lOVEVSTkFMOkNLRURJVE9SLkRBVEFfVFJBTlNGRVJfQ1JPU1NfRURJVE9SUzpDS0VESVRPUi5EQVRBX1RSQU5TRkVSX0VYVEVSTkFMfSxjYWNoZURhdGE6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGMpe2M9Yi5fLm5vcm1hbGl6ZVR5cGUoYyk7dmFyIGQ9Yi5nZXREYXRhKGMpO2QmJihiLl8uZGF0YVtjXT1kKX1pZih0aGlzLiQpe3ZhciBiPXRoaXMsYyxkO2lmKENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkKXtpZih0aGlzLiQudHlwZXMpZm9yKGM9MDtjPHRoaXMuJC50eXBlcy5sZW5ndGg7YysrKWEodGhpcy4kLnR5cGVzW2NdKX1lbHNlIGEoXCJUZXh0XCIpLFxuYShcIlVSTFwiKTtkPXRoaXMuX2dldEltYWdlRnJvbUNsaXBib2FyZCgpO2lmKHRoaXMuJCYmdGhpcy4kLmZpbGVzfHxkKXt0aGlzLl8uZmlsZXM9W107aWYodGhpcy4kLmZpbGVzJiZ0aGlzLiQuZmlsZXMubGVuZ3RoKWZvcihjPTA7Yzx0aGlzLiQuZmlsZXMubGVuZ3RoO2MrKyl0aGlzLl8uZmlsZXMucHVzaCh0aGlzLiQuZmlsZXNbY10pOzA9PT10aGlzLl8uZmlsZXMubGVuZ3RoJiZkJiZ0aGlzLl8uZmlsZXMucHVzaChkKX19fSxnZXRGaWxlc0NvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5maWxlcy5sZW5ndGg/dGhpcy5fLmZpbGVzLmxlbmd0aDp0aGlzLiQmJnRoaXMuJC5maWxlcyYmdGhpcy4kLmZpbGVzLmxlbmd0aD90aGlzLiQuZmlsZXMubGVuZ3RoOnRoaXMuX2dldEltYWdlRnJvbUNsaXBib2FyZCgpPzE6MH0sZ2V0RmlsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmZpbGVzLmxlbmd0aD90aGlzLl8uZmlsZXNbYV06dGhpcy4kJiZ0aGlzLiQuZmlsZXMmJnRoaXMuJC5maWxlcy5sZW5ndGg/XG50aGlzLiQuZmlsZXNbYV06MD09PWE/dGhpcy5fZ2V0SW1hZ2VGcm9tQ2xpcGJvYXJkKCk6dm9pZCAwfSxpc0VtcHR5OmZ1bmN0aW9uKCl7dmFyIGE9e30sYjtpZih0aGlzLmdldEZpbGVzQ291bnQoKSlyZXR1cm4hMTtmb3IoYiBpbiB0aGlzLl8uZGF0YSlhW2JdPTE7aWYodGhpcy4kKWlmKENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkKXtpZih0aGlzLiQudHlwZXMpZm9yKHZhciBjPTA7Yzx0aGlzLiQudHlwZXMubGVuZ3RoO2MrKylhW3RoaXMuJC50eXBlc1tjXV09MX1lbHNlIGEuVGV4dD0xLGEuVVJMPTE7XCJUZXh0XCIhPWsmJihhW2tdPTApO2ZvcihiIGluIGEpaWYoYVtiXSYmXCJcIiE9PXRoaXMuZ2V0RGF0YShiKSlyZXR1cm4hMTtyZXR1cm4hMH0sX2dldEltYWdlRnJvbUNsaXBib2FyZDpmdW5jdGlvbigpe3ZhciBhO2lmKHRoaXMuJCYmdGhpcy4kLml0ZW1zJiZ0aGlzLiQuaXRlbXNbMF0pdHJ5e2lmKChhPXRoaXMuJC5pdGVtc1swXS5nZXRBc0ZpbGUoKSkmJlxuYS50eXBlKXJldHVybiBhfWNhdGNoKGIpe319fX0oKSxmdW5jdGlvbigpe0NLRURJVE9SLnBsdWdpbnMuYWRkKFwicGFuZWxcIix7YmVmb3JlSW5pdDpmdW5jdGlvbihhKXthLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfUEFORUwsQ0tFRElUT1IudWkucGFuZWwuaGFuZGxlcil9fSk7Q0tFRElUT1IuVUlfUEFORUw9XCJwYW5lbFwiO0NLRURJVE9SLnVpLnBhbmVsPWZ1bmN0aW9uKGEsYil7YiYmQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYik7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMse2NsYXNzTmFtZTpcIlwiLGNzczpbXX0pO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5kb2N1bWVudD1hO3RoaXMuaXNGcmFtZWQ9dGhpcy5mb3JjZUlGcmFtZXx8dGhpcy5jc3MubGVuZ3RoO3RoaXMuXz17YmxvY2tzOnt9fX07Q0tFRElUT1IudWkucGFuZWwuaGFuZGxlcj17Y3JlYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IudWkucGFuZWwoYSl9fTt2YXIgYT1cbkNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWxcIiwnXFx4M2NkaXYgbGFuZ1xceDNkXCJ7bGFuZ0NvZGV9XCIgaWRcXHgzZFwie2lkfVwiIGRpclxceDNke2Rpcn0gY2xhc3NcXHgzZFwiY2tlIGNrZV9yZXNldF9hbGwge2VkaXRvcklkfSBja2VfcGFuZWwgY2tlX3BhbmVsIHtjbHN9IGNrZV97ZGlyfVwiIHN0eWxlXFx4M2RcInotaW5kZXg6e3otaW5kZXh9XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNle2ZyYW1lfVxceDNjL2RpdlxceDNlJyksZj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWZyYW1lXCIsJ1xceDNjaWZyYW1lIGlkXFx4M2RcIntpZH1cIiBjbGFzc1xceDNkXCJja2VfcGFuZWxfZnJhbWVcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiIGZyYW1lYm9yZGVyXFx4M2RcIjBcIiBzcmNcXHgzZFwie3NyY31cIlxceDNlXFx4M2MvaWZyYW1lXFx4M2UnKSxiPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWwtZnJhbWUtaW5uZXJcIiwnXFx4M2MhRE9DVFlQRSBodG1sXFx4M2VcXHgzY2h0bWwgY2xhc3NcXHgzZFwiY2tlX3BhbmVsX2NvbnRhaW5lciB7ZW52fVwiIGRpclxceDNkXCJ7ZGlyfVwiIGxhbmdcXHgzZFwie2xhbmdDb2RlfVwiXFx4M2VcXHgzY2hlYWRcXHgzZXtjc3N9XFx4M2MvaGVhZFxceDNlXFx4M2Nib2R5IGNsYXNzXFx4M2RcImNrZV97ZGlyfVwiIHN0eWxlXFx4M2RcIm1hcmdpbjowO3BhZGRpbmc6MFwiIG9ubG9hZFxceDNkXCJ7b25sb2FkfVwiXFx4M2VcXHgzYy9ib2R5XFx4M2VcXHgzYy9odG1sXFx4M2UnKTtcbkNLRURJVE9SLnVpLnBhbmVsLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKGMsZSl7dGhpcy5nZXRIb2xkZXJFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmhvbGRlcjtpZighYSl7aWYodGhpcy5pc0ZyYW1lZCl7dmFyIGE9dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQrXCJfZnJhbWVcIiksYz1hLmdldFBhcmVudCgpLGE9YS5nZXRGcmFtZURvY3VtZW50KCk7Q0tFRElUT1IuZW52LmlPUyYmYy5zZXRTdHlsZXMoe292ZXJmbG93Olwic2Nyb2xsXCIsXCItd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZ1wiOlwidG91Y2hcIn0pO2M9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oQ0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe3RoaXMuaXNMb2FkZWQ9ITA7aWYodGhpcy5vbkxvYWQpdGhpcy5vbkxvYWQoKX0sdGhpcykpO2Eud3JpdGUoYi5vdXRwdXQoQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHtjc3M6Q0tFRElUT1IudG9vbHMuYnVpbGRTdHlsZUh0bWwodGhpcy5jc3MpLG9ubG9hZDpcIndpbmRvdy5wYXJlbnQuQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKFwiK1xuYytcIik7XCJ9LG0pKSk7YS5nZXRXaW5kb3coKS4kLkNLRURJVE9SPUNLRURJVE9SO2Eub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLmdldEtleXN0cm9rZSgpLGM9dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQpLmdldEF0dHJpYnV0ZShcImRpclwiKTt0aGlzLl8ub25LZXlEb3duJiYhMT09PXRoaXMuXy5vbktleURvd24oYik/YS5kYXRhLnByZXZlbnREZWZhdWx0KCk6KDI3PT1ifHxiPT0oXCJydGxcIj09Yz8zOTozNykpJiZ0aGlzLm9uRXNjYXBlJiYhMT09PXRoaXMub25Fc2NhcGUoYikmJmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSx0aGlzKTthPWEuZ2V0Qm9keSgpO2EudW5zZWxlY3RhYmxlKCk7Q0tFRElUT1IuZW52LmFpciYmQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKGMpfWVsc2UgYT10aGlzLmRvY3VtZW50LmdldEJ5SWQodGhpcy5pZCk7dGhpcy5fLmhvbGRlcj1hfXJldHVybiBhfTt2YXIgbT17ZWRpdG9ySWQ6Yy5pZCxpZDp0aGlzLmlkLGxhbmdDb2RlOmMubGFuZ0NvZGUsXG5kaXI6Yy5sYW5nLmRpcixjbHM6dGhpcy5jbGFzc05hbWUsZnJhbWU6XCJcIixlbnY6Q0tFRElUT1IuZW52LmNzc0NsYXNzLFwiei1pbmRleFwiOmMuY29uZmlnLmJhc2VGbG9hdFpJbmRleCsxfTtpZih0aGlzLmlzRnJhbWVkKXt2YXIgbD1DS0VESVRPUi5lbnYuYWlyP1wiamF2YXNjcmlwdDp2b2lkKDApXCI6Q0tFRElUT1IuZW52LmllP1wiamF2YXNjcmlwdDp2b2lkKGZ1bmN0aW9uKCl7XCIrZW5jb2RlVVJJQ29tcG9uZW50KFwiZG9jdW1lbnQub3BlbigpOyhcIitDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7ZG9jdW1lbnQuY2xvc2UoKTtcIikrXCJ9KCkpXCI6XCJcIjttLmZyYW1lPWYub3V0cHV0KHtpZDp0aGlzLmlkK1wiX2ZyYW1lXCIsc3JjOmx9KX1sPWEub3V0cHV0KG0pO2UmJmUucHVzaChsKTtyZXR1cm4gbH0sYWRkQmxvY2s6ZnVuY3Rpb24oYSxiKXtiPXRoaXMuXy5ibG9ja3NbYV09YiBpbnN0YW5jZW9mIENLRURJVE9SLnVpLnBhbmVsLmJsb2NrP2I6bmV3IENLRURJVE9SLnVpLnBhbmVsLmJsb2NrKHRoaXMuZ2V0SG9sZGVyRWxlbWVudCgpLFxuYik7dGhpcy5fLmN1cnJlbnRCbG9ja3x8dGhpcy5zaG93QmxvY2soYSk7cmV0dXJuIGJ9LGdldEJsb2NrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYmxvY2tzW2FdfSxzaG93QmxvY2s6ZnVuY3Rpb24oYSl7YT10aGlzLl8uYmxvY2tzW2FdO3ZhciBiPXRoaXMuXy5jdXJyZW50QmxvY2ssZj0hdGhpcy5mb3JjZUlGcmFtZXx8Q0tFRElUT1IuZW52LmllP3RoaXMuXy5ob2xkZXI6dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQrXCJfZnJhbWVcIik7YiYmYi5oaWRlKCk7dGhpcy5fLmN1cnJlbnRCbG9jaz1hO0NLRURJVE9SLmZpcmUoXCJhcmlhV2lkZ2V0XCIsZik7YS5fLmZvY3VzSW5kZXg9LTE7dGhpcy5fLm9uS2V5RG93bj1hLm9uS2V5RG93biYmQ0tFRElUT1IudG9vbHMuYmluZChhLm9uS2V5RG93bixhKTthLnNob3coKTtyZXR1cm4gYX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudCYmdGhpcy5lbGVtZW50LnJlbW92ZSgpfX07Q0tFRElUT1IudWkucGFuZWwuYmxvY2s9XG5DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhLGIpe3RoaXMuZWxlbWVudD1hLmFwcGVuZChhLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChcImRpdlwiLHthdHRyaWJ1dGVzOnt0YWJpbmRleDotMSxcImNsYXNzXCI6XCJja2VfcGFuZWxfYmxvY2tcIn0sc3R5bGVzOntkaXNwbGF5Olwibm9uZVwifX0pKTtiJiZDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKTt0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlcyh7cm9sZTp0aGlzLmF0dHJpYnV0ZXMucm9sZXx8XCJwcmVzZW50YXRpb25cIixcImFyaWEtbGFiZWxcIjp0aGlzLmF0dHJpYnV0ZXNbXCJhcmlhLWxhYmVsXCJdLHRpdGxlOnRoaXMuYXR0cmlidXRlcy50aXRsZXx8dGhpcy5hdHRyaWJ1dGVzW1wiYXJpYS1sYWJlbFwiXX0pO3RoaXMua2V5cz17fTt0aGlzLl8uZm9jdXNJbmRleD0tMTt0aGlzLmVsZW1lbnQuZGlzYWJsZUNvbnRleHRNZW51KCl9LF86e21hcmtJdGVtOmZ1bmN0aW9uKGEpey0xIT1hJiYoYT10aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhcImFcIikuZ2V0SXRlbSh0aGlzLl8uZm9jdXNJbmRleD1cbmEpLENLRURJVE9SLmVudi53ZWJraXQmJmEuZ2V0RG9jdW1lbnQoKS5nZXRXaW5kb3coKS5mb2N1cygpLGEuZm9jdXMoKSx0aGlzLm9uTWFyayYmdGhpcy5vbk1hcmsoYSkpfX0scHJvdG86e3Nob3c6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJcIil9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLm9uSGlkZSYmITA9PT10aGlzLm9uSGlkZS5jYWxsKHRoaXMpfHx0aGlzLmVsZW1lbnQuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpfSxvbktleURvd246ZnVuY3Rpb24oYSxiKXt2YXIgZj10aGlzLmtleXNbYV07c3dpdGNoKGYpe2Nhc2UgXCJuZXh0XCI6Zm9yKHZhciBsPXRoaXMuXy5mb2N1c0luZGV4LGY9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLGQ7ZD1mLmdldEl0ZW0oKytsKTspaWYoZC5nZXRBdHRyaWJ1dGUoXCJfY2tlX2ZvY3VzXCIpJiZkLiQub2Zmc2V0V2lkdGgpe3RoaXMuXy5mb2N1c0luZGV4PWw7ZC5mb2N1cygpO2JyZWFrfXJldHVybiBkfHxcbmI/ITE6KHRoaXMuXy5mb2N1c0luZGV4PS0xLHRoaXMub25LZXlEb3duKGEsMSkpO2Nhc2UgXCJwcmV2XCI6bD10aGlzLl8uZm9jdXNJbmRleDtmb3IoZj10aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhcImFcIik7MDxsJiYoZD1mLmdldEl0ZW0oLS1sKSk7KXtpZihkLmdldEF0dHJpYnV0ZShcIl9ja2VfZm9jdXNcIikmJmQuJC5vZmZzZXRXaWR0aCl7dGhpcy5fLmZvY3VzSW5kZXg9bDtkLmZvY3VzKCk7YnJlYWt9ZD1udWxsfXJldHVybiBkfHxiPyExOih0aGlzLl8uZm9jdXNJbmRleD1mLmNvdW50KCksdGhpcy5vbktleURvd24oYSwxKSk7Y2FzZSBcImNsaWNrXCI6Y2FzZSBcIm1vdXNldXBcIjpyZXR1cm4gbD10aGlzLl8uZm9jdXNJbmRleCwoZD0wPD1sJiZ0aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhcImFcIikuZ2V0SXRlbShsKSkmJihkLiRbZl0/ZC4kW2ZdKCk6ZC4kW1wib25cIitmXSgpKSwhMX1yZXR1cm4hMH19fSl9KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJmbG9hdHBhbmVsXCIsXG57cmVxdWlyZXM6XCJwYW5lbFwifSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYyxlLG0sbCl7bD1DS0VESVRPUi50b29scy5nZW5LZXkoYy5nZXRVbmlxdWVJZCgpLGUuZ2V0VW5pcXVlSWQoKSxhLmxhbmcuZGlyLGEudWlDb2xvcnx8XCJcIixtLmNzc3x8XCJcIixsfHxcIlwiKTt2YXIgZD1mW2xdO2R8fChkPWZbbF09bmV3IENLRURJVE9SLnVpLnBhbmVsKGMsbSksZC5lbGVtZW50PWUuYXBwZW5kKENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGQucmVuZGVyKGEpLGMpKSxkLmVsZW1lbnQuc2V0U3R5bGVzKHtkaXNwbGF5Olwibm9uZVwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIn0pKTtyZXR1cm4gZH12YXIgZj17fTtDS0VESVRPUi51aS5mbG9hdFBhbmVsPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGIsYyxlLGYpe2Z1bmN0aW9uIGwoKXtnLmhpZGUoKX1lLmZvcmNlSUZyYW1lPTE7ZS50b29sYmFyUmVsYXRlZCYmYi5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSYmXG4oYz1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKFwiY2tlX1wiK2IubmFtZSkpO3ZhciBkPWMuZ2V0RG9jdW1lbnQoKTtmPWEoYixkLGMsZSxmfHwwKTt2YXIgaD1mLmVsZW1lbnQsaz1oLmdldEZpcnN0KCksZz10aGlzO2guZGlzYWJsZUNvbnRleHRNZW51KCk7dGhpcy5lbGVtZW50PWg7dGhpcy5fPXtlZGl0b3I6YixwYW5lbDpmLHBhcmVudEVsZW1lbnQ6YyxkZWZpbml0aW9uOmUsZG9jdW1lbnQ6ZCxpZnJhbWU6ayxjaGlsZHJlbjpbXSxkaXI6Yi5sYW5nLmRpcixzaG93QmxvY2tQYXJhbXM6bnVsbH07Yi5vbihcIm1vZGVcIixsKTtiLm9uKFwicmVzaXplXCIsbCk7ZC5nZXRXaW5kb3coKS5vbihcInJlc2l6ZVwiLGZ1bmN0aW9uKCl7dGhpcy5yZXBvc2l0aW9uKCl9LHRoaXMpfSxwcm90bzp7YWRkQmxvY2s6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5fLnBhbmVsLmFkZEJsb2NrKGEsYyl9LGFkZExpc3RCbG9jazpmdW5jdGlvbihhLGMpe3JldHVybiB0aGlzLl8ucGFuZWwuYWRkTGlzdEJsb2NrKGEsXG5jKX0sZ2V0QmxvY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5wYW5lbC5nZXRCbG9jayhhKX0sc2hvd0Jsb2NrOmZ1bmN0aW9uKGEsYyxlLGYsbCxkKXt2YXIgaD10aGlzLl8ucGFuZWwsaz1oLnNob3dCbG9jayhhKTt0aGlzLl8uc2hvd0Jsb2NrUGFyYW1zPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTt0aGlzLmFsbG93Qmx1cighMSk7dmFyIGc9dGhpcy5fLmVkaXRvci5lZGl0YWJsZSgpO3RoaXMuXy5yZXR1cm5Gb2N1cz1nLmhhc0ZvY3VzP2c6bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KENLRURJVE9SLmRvY3VtZW50LiQuYWN0aXZlRWxlbWVudCk7dGhpcy5fLmhpZGVUaW1lb3V0PTA7dmFyIG49dGhpcy5lbGVtZW50LGc9dGhpcy5fLmlmcmFtZSxnPUNLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlP2c6bmV3IENLRURJVE9SLmRvbS53aW5kb3coZy4kLmNvbnRlbnRXaW5kb3cpLHE9bi5nZXREb2N1bWVudCgpLHA9dGhpcy5fLnBhcmVudEVsZW1lbnQuZ2V0UG9zaXRpb25lZEFuY2VzdG9yKCksXG50PWMuZ2V0RG9jdW1lbnRQb3NpdGlvbihxKSxxPXA/cC5nZXREb2N1bWVudFBvc2l0aW9uKHEpOnt4OjAseTowfSx2PVwicnRsXCI9PXRoaXMuXy5kaXIscj10LngrKGZ8fDApLXEueCx1PXQueSsobHx8MCktcS55OyF2fHwxIT1lJiY0IT1lP3Z8fDIhPWUmJjMhPWV8fChyKz1jLiQub2Zmc2V0V2lkdGgtMSk6cis9Yy4kLm9mZnNldFdpZHRoO2lmKDM9PWV8fDQ9PWUpdSs9Yy4kLm9mZnNldEhlaWdodC0xO3RoaXMuXy5wYW5lbC5fLm9mZnNldFBhcmVudElkPWMuZ2V0SWQoKTtuLnNldFN0eWxlcyh7dG9wOnUrXCJweFwiLGxlZnQ6MCxkaXNwbGF5OlwiXCJ9KTtuLnNldE9wYWNpdHkoMCk7bi5nZXRGaXJzdCgpLnJlbW92ZVN0eWxlKFwid2lkdGhcIik7dGhpcy5fLmVkaXRvci5mb2N1c01hbmFnZXIuYWRkKGcpO3RoaXMuXy5ibHVyU2V0fHwoQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0hMCxnLm9uKFwiYmx1clwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtkZWxldGUgdGhpcy5fLnJldHVybkZvY3VzO1xudGhpcy5oaWRlKCl9dGhpcy5hbGxvd0JsdXIoKSYmYS5kYXRhLmdldFBoYXNlKCk9PUNLRURJVE9SLkVWRU5UX1BIQVNFX0FUX1RBUkdFVCYmdGhpcy52aXNpYmxlJiYhdGhpcy5fLmFjdGl2ZUNoaWxkJiYoQ0tFRElUT1IuZW52LmlPUz90aGlzLl8uaGlkZVRpbWVvdXR8fCh0aGlzLl8uaGlkZVRpbWVvdXQ9Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChiLDAsdGhpcykpOmIuY2FsbCh0aGlzKSl9LHRoaXMpLGcub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7dGhpcy5fLmZvY3VzZWQ9ITA7dGhpcy5oaWRlQ2hpbGQoKTt0aGlzLmFsbG93Qmx1cighMCl9LHRoaXMpLENLRURJVE9SLmVudi5pT1MmJihnLm9uKFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuXy5oaWRlVGltZW91dCl9LHRoaXMpLGcub24oXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKCl7dGhpcy5fLmhpZGVUaW1lb3V0PTA7dGhpcy5mb2N1cygpfSx0aGlzKSksQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0hMSxcbnRoaXMuXy5ibHVyU2V0PTEpO2gub25Fc2NhcGU9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbihhKXtpZih0aGlzLm9uRXNjYXBlJiYhMT09PXRoaXMub25Fc2NhcGUoYSkpcmV0dXJuITF9LHRoaXMpO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKCl7dmFyIGE9bjthLnJlbW92ZVN0eWxlKFwid2lkdGhcIik7aWYoay5hdXRvU2l6ZSl7dmFyIGI9ay5lbGVtZW50LmdldERvY3VtZW50KCksYj0oQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmVkZ2U/ay5lbGVtZW50OmIuZ2V0Qm9keSgpKS4kLnNjcm9sbFdpZHRoO0NLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnF1aXJrcyYmMDxiJiYoYis9KGEuJC5vZmZzZXRXaWR0aHx8MCktKGEuJC5jbGllbnRXaWR0aHx8MCkrMyk7YS5zZXRTdHlsZShcIndpZHRoXCIsYisxMCtcInB4XCIpO2I9ay5lbGVtZW50LiQuc2Nyb2xsSGVpZ2h0O0NLRURJVE9SLmVudi5pZSYmXG5DS0VESVRPUi5lbnYucXVpcmtzJiYwPGImJihiKz0oYS4kLm9mZnNldEhlaWdodHx8MCktKGEuJC5jbGllbnRIZWlnaHR8fDApKzMpO2Euc2V0U3R5bGUoXCJoZWlnaHRcIixiK1wicHhcIik7aC5fLmN1cnJlbnRCbG9jay5lbGVtZW50LnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKS5yZW1vdmVTdHlsZShcImRpc3BsYXlcIil9ZWxzZSBhLnJlbW92ZVN0eWxlKFwiaGVpZ2h0XCIpO3YmJihyLT1uLiQub2Zmc2V0V2lkdGgpO24uc2V0U3R5bGUoXCJsZWZ0XCIscitcInB4XCIpO3ZhciBiPWguZWxlbWVudC5nZXRXaW5kb3coKSxhPW4uJC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxiPWIuZ2V0Vmlld1BhbmVTaXplKCksYz1hLndpZHRofHxhLnJpZ2h0LWEubGVmdCxlPWEuaGVpZ2h0fHxhLmJvdHRvbS1hLnRvcCxmPXY/YS5yaWdodDpiLndpZHRoLWEubGVmdCxnPXY/Yi53aWR0aC1hLnJpZ2h0OmEubGVmdDt2P2Y8YyYmKHI9Zz5jP3IrYzpiLndpZHRoPmM/ci1hLmxlZnQ6ci1hLnJpZ2h0K2Iud2lkdGgpOlxuZjxjJiYocj1nPmM/ci1jOmIud2lkdGg+Yz9yLWEucmlnaHQrYi53aWR0aDpyLWEubGVmdCk7Yz1hLnRvcDtiLmhlaWdodC1hLnRvcDxlJiYodT1jPmU/dS1lOmIuaGVpZ2h0PmU/dS1hLmJvdHRvbStiLmhlaWdodDp1LWEudG9wKTtDS0VESVRPUi5lbnYuaWUmJihiPWE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KG4uJC5vZmZzZXRQYXJlbnQpLFwiaHRtbFwiPT1iLmdldE5hbWUoKSYmKGI9Yi5nZXREb2N1bWVudCgpLmdldEJvZHkoKSksXCJydGxcIj09Yi5nZXRDb21wdXRlZFN0eWxlKFwiZGlyZWN0aW9uXCIpJiYocj1DS0VESVRPUi5lbnYuaWU4Q29tcGF0P3ItMipuLmdldERvY3VtZW50KCkuZ2V0RG9jdW1lbnRFbGVtZW50KCkuJC5zY3JvbGxMZWZ0OnItKGEuJC5zY3JvbGxXaWR0aC1hLiQuY2xpZW50V2lkdGgpKSk7dmFyIGE9bi5nZXRGaXJzdCgpLGw7KGw9YS5nZXRDdXN0b21EYXRhKFwiYWN0aXZlUGFuZWxcIikpJiZsLm9uSGlkZSYmbC5vbkhpZGUuY2FsbCh0aGlzLDEpO2Euc2V0Q3VzdG9tRGF0YShcImFjdGl2ZVBhbmVsXCIsXG50aGlzKTtuLnNldFN0eWxlcyh7dG9wOnUrXCJweFwiLGxlZnQ6citcInB4XCJ9KTtuLnNldE9wYWNpdHkoMSk7ZCYmZCgpfSx0aGlzKTtoLmlzTG9hZGVkP2EoKTpoLm9uTG9hZD1hO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5lbnYud2Via2l0JiZDS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpLnk7dGhpcy5mb2N1cygpO2suZWxlbWVudC5mb2N1cygpO0NLRURJVE9SLmVudi53ZWJraXQmJihDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuJC5zY3JvbGxUb3A9YSk7dGhpcy5hbGxvd0JsdXIoITApO3RoaXMuXy5lZGl0b3IuZmlyZShcInBhbmVsU2hvd1wiLHRoaXMpfSwwLHRoaXMpfSxDS0VESVRPUi5lbnYuYWlyPzIwMDowLHRoaXMpO3RoaXMudmlzaWJsZT0xO3RoaXMub25TaG93JiZ0aGlzLm9uU2hvdy5jYWxsKHRoaXMpfSxyZXBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLnNob3dCbG9ja1BhcmFtcztcbnRoaXMudmlzaWJsZSYmdGhpcy5fLnNob3dCbG9ja1BhcmFtcyYmKHRoaXMuaGlkZSgpLHRoaXMuc2hvd0Jsb2NrLmFwcGx5KHRoaXMsYSkpfSxmb2N1czpmdW5jdGlvbigpe2lmKENLRURJVE9SLmVudi53ZWJraXQpe3ZhciBhPUNLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpO2EmJiFhLmVxdWFscyh0aGlzLl8uaWZyYW1lKSYmYS4kLmJsdXIoKX0odGhpcy5fLmxhc3RGb2N1c2VkfHx0aGlzLl8uaWZyYW1lLmdldEZyYW1lRG9jdW1lbnQoKS5nZXRXaW5kb3coKSkuZm9jdXMoKX0sYmx1cjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5pZnJhbWUuZ2V0RnJhbWVEb2N1bWVudCgpLmdldEFjdGl2ZSgpO2EmJmEuaXMoXCJhXCIpJiYodGhpcy5fLmxhc3RGb2N1c2VkPWEpfSxoaWRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMudmlzaWJsZSYmKCF0aGlzLm9uSGlkZXx8ITAhPT10aGlzLm9uSGlkZS5jYWxsKHRoaXMpKSl7dGhpcy5oaWRlQ2hpbGQoKTtDS0VESVRPUi5lbnYuZ2Vja28mJnRoaXMuXy5pZnJhbWUuZ2V0RnJhbWVEb2N1bWVudCgpLiQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG50aGlzLmVsZW1lbnQuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpO3RoaXMudmlzaWJsZT0wO3RoaXMuZWxlbWVudC5nZXRGaXJzdCgpLnJlbW92ZUN1c3RvbURhdGEoXCJhY3RpdmVQYW5lbFwiKTtpZihhPWEmJnRoaXMuXy5yZXR1cm5Gb2N1cylDS0VESVRPUi5lbnYud2Via2l0JiZhLnR5cGUmJmEuZ2V0V2luZG93KCkuJC5mb2N1cygpLGEuZm9jdXMoKTtkZWxldGUgdGhpcy5fLmxhc3RGb2N1c2VkO3RoaXMuXy5zaG93QmxvY2tQYXJhbXM9bnVsbDt0aGlzLl8uZWRpdG9yLmZpcmUoXCJwYW5lbEhpZGVcIix0aGlzKX19LGFsbG93Qmx1cjpmdW5jdGlvbihhKXt2YXIgYz10aGlzLl8ucGFuZWw7dm9pZCAwIT09YSYmKGMuYWxsb3dCbHVyPWEpO3JldHVybiBjLmFsbG93Qmx1cn0sc2hvd0FzQ2hpbGQ6ZnVuY3Rpb24oYSxjLGUsZixsLGQpe2lmKHRoaXMuXy5hY3RpdmVDaGlsZCE9YXx8YS5fLnBhbmVsLl8ub2Zmc2V0UGFyZW50SWQhPWUuZ2V0SWQoKSl0aGlzLmhpZGVDaGlsZCgpLGEub25IaWRlPVxuQ0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLl8uZm9jdXNlZHx8dGhpcy5oaWRlKCl9LDAsdGhpcyl9LHRoaXMpLHRoaXMuXy5hY3RpdmVDaGlsZD1hLHRoaXMuXy5mb2N1c2VkPSExLGEuc2hvd0Jsb2NrKGMsZSxmLGwsZCksdGhpcy5ibHVyKCksKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5pZTZDb21wYXQpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5lbGVtZW50LmdldENoaWxkKDApLiQuc3R5bGUuY3NzVGV4dCs9XCJcIn0sMTAwKX0saGlkZUNoaWxkOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuXy5hY3RpdmVDaGlsZDtjJiYoZGVsZXRlIGMub25IaWRlLGRlbGV0ZSB0aGlzLl8uYWN0aXZlQ2hpbGQsYy5oaWRlKCksYSYmdGhpcy5mb2N1cygpKX19fSk7Q0tFRElUT1Iub24oXCJpbnN0YW5jZURlc3Ryb3llZFwiLGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuaXNFbXB0eShDS0VESVRPUi5pbnN0YW5jZXMpLFxuYztmb3IoYyBpbiBmKXt2YXIgZT1mW2NdO2E/ZS5kZXN0cm95KCk6ZS5lbGVtZW50LmhpZGUoKX1hJiYoZj17fSl9KX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcIm1lbnVcIix7cmVxdWlyZXM6XCJmbG9hdHBhbmVsXCIsYmVmb3JlSW5pdDpmdW5jdGlvbihhKXtmb3IodmFyIGY9YS5jb25maWcubWVudV9ncm91cHMuc3BsaXQoXCIsXCIpLGI9YS5fLm1lbnVHcm91cHM9e30sYz1hLl8ubWVudUl0ZW1zPXt9LGU9MDtlPGYubGVuZ3RoO2UrKyliW2ZbZV1dPWUrMTthLmFkZE1lbnVHcm91cD1mdW5jdGlvbihhLGMpe2JbYV09Y3x8MTAwfTthLmFkZE1lbnVJdGVtPWZ1bmN0aW9uKGEsZSl7YltlLmdyb3VwXSYmKGNbYV09bmV3IENLRURJVE9SLm1lbnVJdGVtKHRoaXMsYSxlKSl9O2EuYWRkTWVudUl0ZW1zPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKXRoaXMuYWRkTWVudUl0ZW0oYixhW2JdKX07YS5nZXRNZW51SXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gY1thXX07YS5yZW1vdmVNZW51SXRlbT1cbmZ1bmN0aW9uKGEpe2RlbGV0ZSBjW2FdfX19KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7YS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuZ3JvdXA8Yi5ncm91cD8tMTphLmdyb3VwPmIuZ3JvdXA/MTphLm9yZGVyPGIub3JkZXI/LTE6YS5vcmRlcj5iLm9yZGVyPzE6MH0pfXZhciBmPSdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX21lbnVpdGVtXCJcXHgzZVxceDNjYSBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX21lbnVidXR0b24gY2tlX21lbnVidXR0b25fX3tuYW1lfSBja2VfbWVudWJ1dHRvbl97c3RhdGV9IHtjbHN9XCIgaHJlZlxceDNkXCJ7aHJlZn1cIiB0aXRsZVxceDNkXCJ7dGl0bGV9XCIgdGFiaW5kZXhcXHgzZFwiLTFcIiBfY2tlX2ZvY3VzXFx4M2QxIGhpZGVmb2N1c1xceDNkXCJ0cnVlXCIgcm9sZVxceDNkXCJ7cm9sZX1cIiBhcmlhLWxhYmVsXFx4M2RcIntsYWJlbH1cIiBhcmlhLWRlc2NyaWJlZGJ5XFx4M2RcIntpZH1fZGVzY3JpcHRpb25cIiBhcmlhLWhhc3BvcHVwXFx4M2RcIntoYXNQb3B1cH1cIiBhcmlhLWRpc2FibGVkXFx4M2RcIntkaXNhYmxlZH1cIiB7YXJpYUNoZWNrZWR9JztcbkNLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52Lm1hYyYmKGYrPScgb25rZXlwcmVzc1xceDNkXCJyZXR1cm4gZmFsc2U7XCInKTtDS0VESVRPUi5lbnYuZ2Vja28mJihmKz0nIG9uYmx1clxceDNkXCJ0aGlzLnN0eWxlLmNzc1RleHQgXFx4M2QgdGhpcy5zdHlsZS5jc3NUZXh0O1wiJyk7dmFyIGY9ZisoJyBvbm1vdXNlb3ZlclxceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2hvdmVyRm59LHtpbmRleH0pO1wiIG9ubW91c2VvdXRcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHttb3ZlT3V0Rm59LHtpbmRleH0pO1wiICcrKENLRURJVE9SLmVudi5pZT8nb25jbGlja1xceDNkXCJyZXR1cm4gZmFsc2U7XCIgb25tb3VzZXVwJzpcIm9uY2xpY2tcIikrJ1xceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHtpbmRleH0pOyByZXR1cm4gZmFsc2U7XCJcXHgzZScpLGI9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJtZW51SXRlbVwiLGYrJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfbWVudWJ1dHRvbl9pbm5lclwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX21lbnVidXR0b25faWNvblwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2J1dHRvbl9pY29uIGNrZV9idXR0b25fX3tpY29uTmFtZX1faWNvblwiIHN0eWxlXFx4M2RcIntpY29uU3R5bGV9XCJcXHgzZVxceDNjL3NwYW5cXHgzZVxceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfbWVudWJ1dHRvbl9sYWJlbFwiXFx4M2V7bGFiZWx9XFx4M2Mvc3BhblxceDNle3Nob3J0Y3V0SHRtbH17YXJyb3dIdG1sfVxceDNjL3NwYW5cXHgzZVxceDNjL2FcXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X2Rlc2NyaXB0aW9uXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCIgYXJpYS1oaWRkZW5cXHgzZFwiZmFsc2VcIlxceDNle2FyaWFTaG9ydGN1dH1cXHgzYy9zcGFuXFx4M2VcXHgzYy9zcGFuXFx4M2UnKSxcbmM9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJtZW51QXJyb3dcIiwnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9tZW51YXJyb3dcIlxceDNlXFx4M2NzcGFuXFx4M2V7bGFiZWx9XFx4M2Mvc3BhblxceDNlXFx4M2Mvc3BhblxceDNlJyksZT1DS0VESVRPUi5hZGRUZW1wbGF0ZShcIm1lbnVTaG9ydGN1dFwiLCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX21lbnVidXR0b25fbGFiZWwgY2tlX21lbnVidXR0b25fc2hvcnRjdXRcIlxceDNle3Nob3J0Y3V0fVxceDNjL3NwYW5cXHgzZScpO0NLRURJVE9SLm1lbnU9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSxiKXtiPXRoaXMuXy5kZWZpbml0aW9uPWJ8fHt9O3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5lZGl0b3I9YTt0aGlzLml0ZW1zPVtdO3RoaXMuXy5saXN0ZW5lcnM9W107dGhpcy5fLmxldmVsPWIubGV2ZWx8fDE7dmFyIGM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGIucGFuZWwse2NzczpbQ0tFRElUT1Iuc2tpbi5nZXRQYXRoKFwiZWRpdG9yXCIpXSxcbmxldmVsOnRoaXMuXy5sZXZlbC0xLGJsb2NrOnt9fSksZT1jLmJsb2NrLmF0dHJpYnV0ZXM9Yy5hdHRyaWJ1dGVzfHx7fTshZS5yb2xlJiYoZS5yb2xlPVwibWVudVwiKTt0aGlzLl8ucGFuZWxEZWZpbml0aW9uPWN9LF86e29uU2hvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpLGI9YSYmYS5nZXRTdGFydEVsZW1lbnQoKSxjPXRoaXMuZWRpdG9yLmVsZW1lbnRQYXRoKCksZT10aGlzLl8ubGlzdGVuZXJzO3RoaXMucmVtb3ZlQWxsKCk7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl0oYixhLGMpO2lmKGcpZm9yKHZhciBuIGluIGcpe3ZhciBxPXRoaXMuZWRpdG9yLmdldE1lbnVJdGVtKG4pOyFxfHxxLmNvbW1hbmQmJiF0aGlzLmVkaXRvci5nZXRDb21tYW5kKHEuY29tbWFuZCkuc3RhdGV8fChxLnN0YXRlPWdbbl0sdGhpcy5hZGQocSkpfX19LG9uQ2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5oaWRlKCk7aWYoYS5vbkNsaWNrKWEub25DbGljaygpO1xuZWxzZSBhLmNvbW1hbmQmJnRoaXMuZWRpdG9yLmV4ZWNDb21tYW5kKGEuY29tbWFuZCl9LG9uRXNjYXBlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucGFyZW50O2I/Yi5fLnBhbmVsLmhpZGVDaGlsZCgxKToyNz09YSYmdGhpcy5oaWRlKDEpO3JldHVybiExfSxvbkhpZGU6ZnVuY3Rpb24oKXt0aGlzLm9uSGlkZSYmdGhpcy5vbkhpZGUoKX0sc2hvd1N1Yk1lbnU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLnN1Yk1lbnUsYz10aGlzLml0ZW1zW2FdO2lmKGM9Yy5nZXRJdGVtcyYmYy5nZXRJdGVtcygpKXtiP2IucmVtb3ZlQWxsKCk6KGI9dGhpcy5fLnN1Yk1lbnU9bmV3IENLRURJVE9SLm1lbnUodGhpcy5lZGl0b3IsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHRoaXMuXy5kZWZpbml0aW9uLHtsZXZlbDp0aGlzLl8ubGV2ZWwrMX0sITApKSxiLnBhcmVudD10aGlzLGIuXy5vbkNsaWNrPUNLRURJVE9SLnRvb2xzLmJpbmQodGhpcy5fLm9uQ2xpY2ssdGhpcykpO2Zvcih2YXIgZSBpbiBjKXt2YXIgZj1cbnRoaXMuZWRpdG9yLmdldE1lbnVJdGVtKGUpO2YmJihmLnN0YXRlPWNbZV0sYi5hZGQoZikpfXZhciBnPXRoaXMuXy5wYW5lbC5nZXRCbG9jayh0aGlzLmlkKS5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLmlkK1N0cmluZyhhKSk7c2V0VGltZW91dChmdW5jdGlvbigpe2Iuc2hvdyhnLDIpfSwwKX1lbHNlIHRoaXMuXy5wYW5lbC5oaWRlQ2hpbGQoMSl9fSxwcm90bzp7YWRkOmZ1bmN0aW9uKGEpe2Eub3JkZXJ8fChhLm9yZGVyPXRoaXMuaXRlbXMubGVuZ3RoKTt0aGlzLml0ZW1zLnB1c2goYSl9LHJlbW92ZUFsbDpmdW5jdGlvbigpe3RoaXMuaXRlbXM9W119LHNob3c6ZnVuY3Rpb24oYixjLGQsZSl7aWYoIXRoaXMucGFyZW50JiYodGhpcy5fLm9uU2hvdygpLCF0aGlzLml0ZW1zLmxlbmd0aCkpcmV0dXJuO2M9Y3x8KFwicnRsXCI9PXRoaXMuZWRpdG9yLmxhbmcuZGlyPzI6MSk7dmFyIGY9dGhpcy5pdGVtcyxnPXRoaXMuZWRpdG9yLG49dGhpcy5fLnBhbmVsLHE9dGhpcy5fLmVsZW1lbnQ7XG5pZighbil7bj10aGlzLl8ucGFuZWw9bmV3IENLRURJVE9SLnVpLmZsb2F0UGFuZWwodGhpcy5lZGl0b3IsQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLHRoaXMuXy5wYW5lbERlZmluaXRpb24sdGhpcy5fLmxldmVsKTtuLm9uRXNjYXBlPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oYSl7aWYoITE9PT10aGlzLl8ub25Fc2NhcGUoYSkpcmV0dXJuITF9LHRoaXMpO24ub25TaG93PWZ1bmN0aW9uKCl7bi5fLnBhbmVsLmdldEhvbGRlckVsZW1lbnQoKS5nZXRQYXJlbnQoKS5hZGRDbGFzcyhcImNrZVwiKS5hZGRDbGFzcyhcImNrZV9yZXNldF9hbGxcIil9O24ub25IaWRlPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oKXt0aGlzLl8ub25IaWRlJiZ0aGlzLl8ub25IaWRlKCl9LHRoaXMpO3E9bi5hZGRCbG9jayh0aGlzLmlkLHRoaXMuXy5wYW5lbERlZmluaXRpb24uYmxvY2spO3EuYXV0b1NpemU9ITA7dmFyIHA9cS5rZXlzO3BbNDBdPVwibmV4dFwiO3BbOV09XCJuZXh0XCI7cFszOF09XG5cInByZXZcIjtwW0NLRURJVE9SLlNISUZUKzldPVwicHJldlwiO3BbXCJydGxcIj09Zy5sYW5nLmRpcj8zNzozOV09Q0tFRElUT1IuZW52LmllP1wibW91c2V1cFwiOlwiY2xpY2tcIjtwWzMyXT1DS0VESVRPUi5lbnYuaWU/XCJtb3VzZXVwXCI6XCJjbGlja1wiO0NLRURJVE9SLmVudi5pZSYmKHBbMTNdPVwibW91c2V1cFwiKTtxPXRoaXMuXy5lbGVtZW50PXEuZWxlbWVudDtwPXEuZ2V0RG9jdW1lbnQoKTtwLmdldEJvZHkoKS5zZXRTdHlsZShcIm92ZXJmbG93XCIsXCJoaWRkZW5cIik7cC5nZXRFbGVtZW50c0J5VGFnKFwiaHRtbFwiKS5nZXRJdGVtKDApLnNldFN0eWxlKFwib3ZlcmZsb3dcIixcImhpZGRlblwiKTt0aGlzLl8uaXRlbU92ZXJGbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXtjbGVhclRpbWVvdXQodGhpcy5fLnNob3dTdWJUaW1lb3V0KTt0aGlzLl8uc2hvd1N1YlRpbWVvdXQ9Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dCh0aGlzLl8uc2hvd1N1Yk1lbnUsZy5jb25maWcubWVudV9zdWJNZW51RGVsYXl8fFxuNDAwLHRoaXMsW2FdKX0sdGhpcyk7dGhpcy5fLml0ZW1PdXRGbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl8uc2hvd1N1YlRpbWVvdXQpfSx0aGlzKTt0aGlzLl8uaXRlbUNsaWNrRm49Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pdGVtc1thXTtpZihiLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl0aGlzLmhpZGUoMSk7ZWxzZSBpZihiLmdldEl0ZW1zKXRoaXMuXy5zaG93U3ViTWVudShhKTtlbHNlIHRoaXMuXy5vbkNsaWNrKGIpfSx0aGlzKX1hKGYpO2Zvcih2YXIgcD1nLmVsZW1lbnRQYXRoKCkscD1bJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9tZW51JysocCYmcC5kaXJlY3Rpb24oKSE9Zy5sYW5nLmRpcj9cIiBja2VfbWl4ZWRfZGlyX2NvbnRlbnRcIjpcIlwiKSsnXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlJ10sdD1mLmxlbmd0aCx2PXQmJmZbMF0uZ3JvdXAsXG5yPTA7cjx0O3IrKyl7dmFyIHU9ZltyXTt2IT11Lmdyb3VwJiYocC5wdXNoKCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfbWVudXNlcGFyYXRvclwiIHJvbGVcXHgzZFwic2VwYXJhdG9yXCJcXHgzZVxceDNjL2RpdlxceDNlJyksdj11Lmdyb3VwKTt1LnJlbmRlcih0aGlzLHIscCl9cC5wdXNoKFwiXFx4M2MvZGl2XFx4M2VcIik7cS5zZXRIdG1sKHAuam9pbihcIlwiKSk7Q0tFRElUT1IudWkuZmlyZShcInJlYWR5XCIsdGhpcyk7dGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQuXy5wYW5lbC5zaG93QXNDaGlsZChuLHRoaXMuaWQsYixjLGQsZSk6bi5zaG93QmxvY2sodGhpcy5pZCxiLGMsZCxlKTtnLmZpcmUoXCJtZW51U2hvd1wiLFtuXSl9LGFkZExpc3RlbmVyOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0ZW5lcnMucHVzaChhKX0saGlkZTpmdW5jdGlvbihhKXt0aGlzLl8ub25IaWRlJiZ0aGlzLl8ub25IaWRlKCk7dGhpcy5fLnBhbmVsJiZ0aGlzLl8ucGFuZWwuaGlkZShhKX19fSk7Q0tFRElUT1IubWVudUl0ZW09Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSxcbmIsYyl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYyx7b3JkZXI6MCxjbGFzc05hbWU6XCJja2VfbWVudWJ1dHRvbl9fXCIrYn0pO3RoaXMuZ3JvdXA9YS5fLm1lbnVHcm91cHNbdGhpcy5ncm91cF07dGhpcy5lZGl0b3I9YTt0aGlzLm5hbWU9Yn0scHJvdG86e3JlbmRlcjpmdW5jdGlvbihhLGYsZCl7dmFyIGg9YS5pZCtTdHJpbmcoZiksaz1cInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpcy5zdGF0ZT9DS0VESVRPUi5UUklTVEFURV9PRkY6dGhpcy5zdGF0ZSxnPVwiXCIsbj10aGlzLmVkaXRvcixxLHAsdD1rPT1DS0VESVRPUi5UUklTVEFURV9PTj9cIm9uXCI6az09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ/XCJkaXNhYmxlZFwiOlwib2ZmXCI7dGhpcy5yb2xlIGlue21lbnVpdGVtY2hlY2tib3g6MSxtZW51aXRlbXJhZGlvOjF9JiYoZz0nIGFyaWEtY2hlY2tlZFxceDNkXCInKyhrPT1DS0VESVRPUi5UUklTVEFURV9PTj9cInRydWVcIjpcImZhbHNlXCIpKydcIicpO3ZhciB2PXRoaXMuZ2V0SXRlbXMscj1cblwiXFx4MjYjXCIrKFwicnRsXCI9PXRoaXMuZWRpdG9yLmxhbmcuZGlyP1wiOTY2OFwiOlwiOTY1OFwiKStcIjtcIix1PXRoaXMubmFtZTt0aGlzLmljb24mJiEvXFwuLy50ZXN0KHRoaXMuaWNvbikmJih1PXRoaXMuaWNvbik7dGhpcy5jb21tYW5kJiYocT1uLmdldENvbW1hbmQodGhpcy5jb21tYW5kKSwocT1uLmdldENvbW1hbmRLZXlzdHJva2UocSkpJiYocD1DS0VESVRPUi50b29scy5rZXlzdHJva2VUb1N0cmluZyhuLmxhbmcuY29tbW9uLmtleWJvYXJkLHEpKSk7YT17aWQ6aCxuYW1lOnRoaXMubmFtZSxpY29uTmFtZTp1LGxhYmVsOnRoaXMubGFiZWwsY2xzOnRoaXMuY2xhc3NOYW1lfHxcIlwiLHN0YXRlOnQsaGFzUG9wdXA6dj9cInRydWVcIjpcImZhbHNlXCIsZGlzYWJsZWQ6az09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsdGl0bGU6dGhpcy5sYWJlbCsocD9cIiAoXCIrcC5kaXNwbGF5K1wiKVwiOlwiXCIpLGFyaWFTaG9ydGN1dDpwP24ubGFuZy5jb21tb24ua2V5Ym9hcmRTaG9ydGN1dCtcIiBcIitwLmFyaWE6XG5cIlwiLGhyZWY6XCJqYXZhc2NyaXB0OnZvaWQoJ1wiKyh0aGlzLmxhYmVsfHxcIlwiKS5yZXBsYWNlKFwiJ1wiKStcIicpXCIsaG92ZXJGbjphLl8uaXRlbU92ZXJGbixtb3ZlT3V0Rm46YS5fLml0ZW1PdXRGbixjbGlja0ZuOmEuXy5pdGVtQ2xpY2tGbixpbmRleDpmLGljb25TdHlsZTpDS0VESVRPUi5za2luLmdldEljb25TdHlsZSh1LFwicnRsXCI9PXRoaXMuZWRpdG9yLmxhbmcuZGlyLHU9PXRoaXMuaWNvbj9udWxsOnRoaXMuaWNvbix0aGlzLmljb25PZmZzZXQpLHNob3J0Y3V0SHRtbDpwP2Uub3V0cHV0KHtzaG9ydGN1dDpwLmRpc3BsYXl9KTpcIlwiLGFycm93SHRtbDp2P2Mub3V0cHV0KHtsYWJlbDpyfSk6XCJcIixyb2xlOnRoaXMucm9sZT90aGlzLnJvbGU6XCJtZW51aXRlbVwiLGFyaWFDaGVja2VkOmd9O2Iub3V0cHV0KGEsZCl9fX0pfSgpLENLRURJVE9SLmNvbmZpZy5tZW51X2dyb3Vwcz1cImNsaXBib2FyZCxmb3JtLHRhYmxlY2VsbCx0YWJsZWNlbGxwcm9wZXJ0aWVzLHRhYmxlcm93LHRhYmxlY29sdW1uLHRhYmxlLGFuY2hvcixsaW5rLGltYWdlLGZsYXNoLGNoZWNrYm94LHJhZGlvLHRleHRmaWVsZCxoaWRkZW5maWVsZCxpbWFnZWJ1dHRvbixidXR0b24sc2VsZWN0LHRleHRhcmVhLGRpdlwiLFxuQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJjb250ZXh0bWVudVwiLHtyZXF1aXJlczpcIm1lbnVcIixvbkxvYWQ6ZnVuY3Rpb24oKXtDS0VESVRPUi5wbHVnaW5zLmNvbnRleHRNZW51PUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLm1lbnUsJDpmdW5jdGlvbihhKXt0aGlzLmJhc2UuY2FsbCh0aGlzLGEse3BhbmVsOntjbGFzc05hbWU6XCJja2VfbWVudV9wYW5lbFwiLGF0dHJpYnV0ZXM6e1wiYXJpYS1sYWJlbFwiOmEubGFuZy5jb250ZXh0bWVudS5vcHRpb25zfX19KX0scHJvdG86e2FkZFRhcmdldDpmdW5jdGlvbihhLGYpe2Eub24oXCJjb250ZXh0bWVudVwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO3ZhciBjPUNLRURJVE9SLmVudi53ZWJraXQ/YjpDS0VESVRPUi5lbnYubWFjP2EuJC5tZXRhS2V5OmEuJC5jdHJsS2V5O2lmKCFmfHwhYyl7YS5wcmV2ZW50RGVmYXVsdCgpO2lmKENLRURJVE9SLmVudi5tYWMmJkNLRURJVE9SLmVudi53ZWJraXQpe3ZhciBjPXRoaXMuZWRpdG9yLFxubD0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChhLmdldFRhcmdldCgpLGMuZWRpdGFibGUoKSkpLmNvbnRhaW5zKGZ1bmN0aW9uKGEpe3JldHVybiBhLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKX0sITApO2wmJlwiZmFsc2VcIj09bC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJmMuZ2V0U2VsZWN0aW9uKCkuZmFrZShsKX12YXIgbD1hLmdldFRhcmdldCgpLmdldERvY3VtZW50KCksZD1hLmdldFRhcmdldCgpLmdldERvY3VtZW50KCkuZ2V0RG9jdW1lbnRFbGVtZW50KCksYz0hbC5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpLGw9bC5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpLGg9Yz9hLiQuY2xpZW50WDphLiQucGFnZVh8fGwueCthLiQuY2xpZW50WCxrPWM/YS4kLmNsaWVudFk6YS4kLnBhZ2VZfHxsLnkrYS4kLmNsaWVudFk7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMub3BlbihkLG51bGwsaCxrKX0sQ0tFRElUT1IuZW52LmllP1xuMjAwOjAsdGhpcyl9fSx0aGlzKTtpZihDS0VESVRPUi5lbnYud2Via2l0KXt2YXIgYixjPWZ1bmN0aW9uKCl7Yj0wfTthLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2I9Q0tFRElUT1IuZW52Lm1hYz9hLmRhdGEuJC5tZXRhS2V5OmEuZGF0YS4kLmN0cmxLZXl9KTthLm9uKFwia2V5dXBcIixjKTthLm9uKFwiY29udGV4dG1lbnVcIixjKX19LG9wZW46ZnVuY3Rpb24oYSxmLGIsYyl7dGhpcy5lZGl0b3IuZm9jdXMoKTthPWF8fENLRURJVE9SLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpO3RoaXMuZWRpdG9yLnNlbGVjdGlvbkNoYW5nZSgxKTt0aGlzLnNob3coYSxmLGIsYyl9fX0pfSxiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe3ZhciBmPWEuY29udGV4dE1lbnU9bmV3IENLRURJVE9SLnBsdWdpbnMuY29udGV4dE1lbnUoYSk7YS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe2YuYWRkVGFyZ2V0KGEuZWRpdGFibGUoKSwhMSE9PWEuY29uZmlnLmJyb3dzZXJDb250ZXh0TWVudU9uQ3RybCl9KTtcbmEuYWRkQ29tbWFuZChcImNvbnRleHRNZW51XCIse2V4ZWM6ZnVuY3Rpb24oKXthLmNvbnRleHRNZW51Lm9wZW4oYS5kb2N1bWVudC5nZXRCb2R5KCkpfX0pO2Euc2V0S2V5c3Ryb2tlKENLRURJVE9SLlNISUZUKzEyMSxcImNvbnRleHRNZW51XCIpO2Euc2V0S2V5c3Ryb2tlKENLRURJVE9SLkNUUkwrQ0tFRElUT1IuU0hJRlQrMTIxLFwiY29udGV4dE1lbnVcIil9fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7ZnVuY3Rpb24gbChiKXtiPWcubGlzdFtiXTt2YXIgYztiLmVxdWFscyhhLmVkaXRhYmxlKCkpfHxcInRydWVcIj09Yi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/KGM9YS5jcmVhdGVSYW5nZSgpLGMuc2VsZWN0Tm9kZUNvbnRlbnRzKGIpLGM9Yy5zZWxlY3QoKSk6KGM9YS5nZXRTZWxlY3Rpb24oKSxjLnNlbGVjdEVsZW1lbnQoYikpO0NLRURJVE9SLmVudi5pZSYmYS5maXJlKFwic2VsZWN0aW9uQ2hhbmdlXCIse3NlbGVjdGlvbjpjLHBhdGg6bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChiKX0pO1xuYS5mb2N1cygpfWZ1bmN0aW9uIGQoKXtrJiZrLnNldEh0bWwoJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfcGF0aF9lbXB0eVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlJyk7ZGVsZXRlIGcubGlzdH12YXIgaD1hLnVpLnNwYWNlSWQoXCJwYXRoXCIpLGssZz1hLl8uZWxlbWVudHNQYXRoLG49Zy5pZEJhc2U7Yi5odG1sKz0nXFx4M2NzcGFuIGlkXFx4M2RcIicraCsnX2xhYmVsXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZScrYS5sYW5nLmVsZW1lbnRzcGF0aC5lbGVMYWJlbCsnXFx4M2Mvc3BhblxceDNlXFx4M2NzcGFuIGlkXFx4M2RcIicraCsnXCIgY2xhc3NcXHgzZFwiY2tlX3BhdGhcIiByb2xlXFx4M2RcImdyb3VwXCIgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcIicraCsnX2xhYmVsXCJcXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfcGF0aF9lbXB0eVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlXFx4M2Mvc3BhblxceDNlJzthLm9uKFwidWlSZWFkeVwiLGZ1bmN0aW9uKCl7dmFyIGI9YS51aS5zcGFjZShcInBhdGhcIik7XG5iJiZhLmZvY3VzTWFuYWdlci5hZGQoYiwxKX0pO2cub25DbGljaz1sO3ZhciBxPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGwpLHA9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYixjKXt2YXIgZD1nLmlkQmFzZSxmO2M9bmV3IENLRURJVE9SLmRvbS5ldmVudChjKTtmPVwicnRsXCI9PWEubGFuZy5kaXI7c3dpdGNoKGMuZ2V0S2V5c3Ryb2tlKCkpe2Nhc2UgZj8zOTozNzpjYXNlIDk6cmV0dXJuKGY9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChkKyhiKzEpKSl8fChmPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZCtcIjBcIikpLGYuZm9jdXMoKSwhMTtjYXNlIGY/Mzc6Mzk6Y2FzZSBDS0VESVRPUi5TSElGVCs5OnJldHVybihmPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZCsoYi0xKSkpfHwoZj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGQrKGcubGlzdC5sZW5ndGgtMSkpKSxmLmZvY3VzKCksITE7Y2FzZSAyNzpyZXR1cm4gYS5mb2N1cygpLCExO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gbChiKSxcbiExfXJldHVybiEwfSk7YS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKCl7Zm9yKHZhciBiPVtdLGQ9Zy5saXN0PVtdLGY9W10sbD1nLmZpbHRlcnMsbT0hMCx4PWEuZWxlbWVudFBhdGgoKS5lbGVtZW50cyx3LHo9eC5sZW5ndGg7ei0tOyl7dmFyIEQ9eFt6XSx5PTA7dz1ELmRhdGEoXCJja2UtZGlzcGxheS1uYW1lXCIpP0QuZGF0YShcImNrZS1kaXNwbGF5LW5hbWVcIik6RC5kYXRhKFwiY2tlLXJlYWwtZWxlbWVudC10eXBlXCIpP0QuZGF0YShcImNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiKTpELmdldE5hbWUoKTsobT1ELmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9cInRydWVcIj09RC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik6bSl8fEQuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfHwoeT0xKTtmb3IodmFyIEE9MDtBPGwubGVuZ3RoO0ErKyl7dmFyIEM9bFtBXShELHcpO2lmKCExPT09Qyl7eT0xO2JyZWFrfXc9Q3x8d315fHwoZC51bnNoaWZ0KEQpLFxuZi51bnNoaWZ0KHcpKX1kPWQubGVuZ3RoO2ZvcihsPTA7bDxkO2wrKyl3PWZbbF0sbT1hLmxhbmcuZWxlbWVudHNwYXRoLmVsZVRpdGxlLnJlcGxhY2UoLyUxLyx3KSx3PWMub3V0cHV0KHtpZDpuK2wsbGFiZWw6bSx0ZXh0OncsanNUaXRsZTpcImphdmFzY3JpcHQ6dm9pZCgnXCIrdytcIicpXCIsaW5kZXg6bCxrZXlEb3duRm46cCxjbGlja0ZuOnF9KSxiLnVuc2hpZnQodyk7a3x8KGs9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChoKSk7Zj1rO2Yuc2V0SHRtbChiLmpvaW4oXCJcIikrJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfcGF0aF9lbXB0eVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlJyk7YS5maXJlKFwiZWxlbWVudHNQYXRoVXBkYXRlXCIse3NwYWNlOmZ9KX0pO2Eub24oXCJyZWFkT25seVwiLGQpO2Eub24oXCJjb250ZW50RG9tVW5sb2FkXCIsZCk7YS5hZGRDb21tYW5kKFwiZWxlbWVudHNQYXRoRm9jdXNcIixmLnRvb2xiYXJGb2N1cyk7YS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuQUxUKzEyMixcblwiZWxlbWVudHNQYXRoRm9jdXNcIil9dmFyIGY9e3Rvb2xiYXJGb2N1czp7ZWRpdG9yRm9jdXM6ITEscmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGEpeyhhPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoYS5fLmVsZW1lbnRzUGF0aC5pZEJhc2UrXCIwXCIpKSYmYS5mb2N1cyhDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5haXIpfX19LGI9XCJcIjtDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMmJihiKz0nIG9ua2V5cHJlc3NcXHgzZFwicmV0dXJuIGZhbHNlO1wiJyk7Q0tFRElUT1IuZW52LmdlY2tvJiYoYis9JyBvbmJsdXJcXHgzZFwidGhpcy5zdHlsZS5jc3NUZXh0IFxceDNkIHRoaXMuc3R5bGUuY3NzVGV4dDtcIicpO3ZhciBjPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGF0aEl0ZW1cIiwnXFx4M2NhIGlkXFx4M2RcIntpZH1cIiBocmVmXFx4M2RcIntqc1RpdGxlfVwiIHRhYmluZGV4XFx4M2RcIi0xXCIgY2xhc3NcXHgzZFwiY2tlX3BhdGhfaXRlbVwiIHRpdGxlXFx4M2RcIntsYWJlbH1cIicrYisnIGhpZGVmb2N1c1xceDNkXCJ0cnVlXCIgIG9ua2V5ZG93blxceDNkXCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtrZXlEb3duRm59LHtpbmRleH0sIGV2ZW50ICk7XCIgb25jbGlja1xceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHtpbmRleH0pOyByZXR1cm4gZmFsc2U7XCIgcm9sZVxceDNkXCJidXR0b25cIiBhcmlhLWxhYmVsXFx4M2RcIntsYWJlbH1cIlxceDNle3RleHR9XFx4M2MvYVxceDNlJyk7XG5DS0VESVRPUi5wbHVnaW5zLmFkZChcImVsZW1lbnRzcGF0aFwiLHtpbml0OmZ1bmN0aW9uKGIpe2IuXy5lbGVtZW50c1BhdGg9e2lkQmFzZTpcImNrZV9lbGVtZW50c3BhdGhfXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpK1wiX1wiLGZpbHRlcnM6W119O2Iub24oXCJ1aVNwYWNlXCIsZnVuY3Rpb24oYyl7XCJib3R0b21cIj09Yy5kYXRhLnNwYWNlJiZhKGIsYy5kYXRhKX0pfX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGUpe3ZhciBtLGw7ZS5vbihcInJlZnJlc2hcIixmdW5jdGlvbihhKXt2YXIgYz1bZl0sZTtmb3IoZSBpbiBhLmRhdGEuc3RhdGVzKWMucHVzaChhLmRhdGEuc3RhdGVzW2VdKTt0aGlzLnNldFN0YXRlKENLRURJVE9SLnRvb2xzLnNlYXJjaChjLGIpP2I6Zil9LGUsbnVsbCwxMDApO2Uub24oXCJleGVjXCIsZnVuY3Rpb24oYil7bT1hLmdldFNlbGVjdGlvbigpO2w9bS5jcmVhdGVCb29rbWFya3MoMSk7Yi5kYXRhfHwoYi5kYXRhPXt9KTtiLmRhdGEuZG9uZT0hMX0sZSxcbm51bGwsMCk7ZS5vbihcImV4ZWNcIixmdW5jdGlvbigpe2EuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2soKTttLnNlbGVjdEJvb2ttYXJrcyhsKX0sZSxudWxsLDEwMCl9dmFyIGY9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsYj1DS0VESVRPUi5UUklTVEFURV9PRkY7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJpbmRlbnRcIix7aW5pdDpmdW5jdGlvbihiKXt2YXIgZT1DS0VESVRPUi5wbHVnaW5zLmluZGVudC5nZW5lcmljRGVmaW5pdGlvbjthKGIsYi5hZGRDb21tYW5kKFwiaW5kZW50XCIsbmV3IGUoITApKSk7YShiLGIuYWRkQ29tbWFuZChcIm91dGRlbnRcIixuZXcgZSkpO2IudWkuYWRkQnV0dG9uJiYoYi51aS5hZGRCdXR0b24oXCJJbmRlbnRcIix7bGFiZWw6Yi5sYW5nLmluZGVudC5pbmRlbnQsY29tbWFuZDpcImluZGVudFwiLGRpcmVjdGlvbmFsOiEwLHRvb2xiYXI6XCJpbmRlbnQsMjBcIn0pLGIudWkuYWRkQnV0dG9uKFwiT3V0ZGVudFwiLHtsYWJlbDpiLmxhbmcuaW5kZW50Lm91dGRlbnQsY29tbWFuZDpcIm91dGRlbnRcIixcbmRpcmVjdGlvbmFsOiEwLHRvb2xiYXI6XCJpbmRlbnQsMTBcIn0pKTtiLm9uKFwiZGlyQ2hhbmdlZFwiLGZ1bmN0aW9uKGEpe3ZhciBlPWIuY3JlYXRlUmFuZ2UoKSxkPWEuZGF0YS5ub2RlO2Uuc2V0U3RhcnRCZWZvcmUoZCk7ZS5zZXRFbmRBZnRlcihkKTtmb3IodmFyIGY9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSksaztrPWYubmV4dCgpOylpZihrLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClpZighay5lcXVhbHMoZCkmJmsuZ2V0RGlyZWN0aW9uKCkpZS5zZXRTdGFydEFmdGVyKGspLGY9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSk7ZWxzZXt2YXIgZz1iLmNvbmZpZy5pbmRlbnRDbGFzc2VzO2lmKGcpZm9yKHZhciBuPVwibHRyXCI9PWEuZGF0YS5kaXI/W1wiX3J0bFwiLFwiXCJdOltcIlwiLFwiX3J0bFwiXSxxPTA7cTxnLmxlbmd0aDtxKyspay5oYXNDbGFzcyhnW3FdK25bMF0pJiYoay5yZW1vdmVDbGFzcyhnW3FdK25bMF0pLGsuYWRkQ2xhc3MoZ1txXStuWzFdKSk7Zz1rLmdldFN0eWxlKFwibWFyZ2luLXJpZ2h0XCIpO1xubj1rLmdldFN0eWxlKFwibWFyZ2luLWxlZnRcIik7Zz9rLnNldFN0eWxlKFwibWFyZ2luLWxlZnRcIixnKTprLnJlbW92ZVN0eWxlKFwibWFyZ2luLWxlZnRcIik7bj9rLnNldFN0eWxlKFwibWFyZ2luLXJpZ2h0XCIsbik6ay5yZW1vdmVTdHlsZShcIm1hcmdpbi1yaWdodFwiKX19KX19KTtDS0VESVRPUi5wbHVnaW5zLmluZGVudD17Z2VuZXJpY0RlZmluaXRpb246ZnVuY3Rpb24oYSl7dGhpcy5pc0luZGVudD0hIWE7dGhpcy5zdGFydERpc2FibGVkPSF0aGlzLmlzSW5kZW50fSxzcGVjaWZpY0RlZmluaXRpb246ZnVuY3Rpb24oYSxiLGYpe3RoaXMubmFtZT1iO3RoaXMuZWRpdG9yPWE7dGhpcy5qb2JzPXt9O3RoaXMuZW50ZXJCcj1hLmNvbmZpZy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSO3RoaXMuaXNJbmRlbnQ9ISFmO3RoaXMucmVsYXRlZEdsb2JhbD1mP1wiaW5kZW50XCI6XCJvdXRkZW50XCI7dGhpcy5pbmRlbnRLZXk9Zj85OkNLRURJVE9SLlNISUZUKzk7dGhpcy5kYXRhYmFzZT17fX0scmVnaXN0ZXJDb21tYW5kczpmdW5jdGlvbihhLFxuYil7YS5vbihcInBsdWdpbnNMb2FkZWRcIixmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiBiKShmdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0Q29tbWFuZChiLnJlbGF0ZWRHbG9iYWwpLGU7Zm9yKGUgaW4gYi5qb2JzKWMub24oXCJleGVjXCIsZnVuY3Rpb24oYyl7Yy5kYXRhLmRvbmV8fChhLmZpcmUoXCJsb2NrU25hcHNob3RcIiksYi5leGVjSm9iKGEsZSkmJihjLmRhdGEuZG9uZT0hMCksYS5maXJlKFwidW5sb2NrU25hcHNob3RcIiksQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGIuZGF0YWJhc2UpKX0sdGhpcyxudWxsLGUpLGMub24oXCJyZWZyZXNoXCIsZnVuY3Rpb24oYyl7Yy5kYXRhLnN0YXRlc3x8KGMuZGF0YS5zdGF0ZXM9e30pO2MuZGF0YS5zdGF0ZXNbYi5uYW1lK1wiQFwiK2VdPWIucmVmcmVzaEpvYihhLGUsYy5kYXRhLnBhdGgpfSx0aGlzLG51bGwsZSk7YS5hZGRGZWF0dXJlKGIpfSkodGhpcyxiW2FdKX0pfX07Q0tFRElUT1IucGx1Z2lucy5pbmRlbnQuZ2VuZXJpY0RlZmluaXRpb24ucHJvdG90eXBlPVxue2NvbnRleHQ6XCJwXCIsZXhlYzpmdW5jdGlvbigpe319O0NLRURJVE9SLnBsdWdpbnMuaW5kZW50LnNwZWNpZmljRGVmaW5pdGlvbi5wcm90b3R5cGU9e2V4ZWNKb2I6ZnVuY3Rpb24oYSxiKXt2YXIgbT10aGlzLmpvYnNbYl07aWYobS5zdGF0ZSE9ZilyZXR1cm4gbS5leGVjLmNhbGwodGhpcyxhKX0scmVmcmVzaEpvYjpmdW5jdGlvbihhLGIsbSl7Yj10aGlzLmpvYnNbYl07YS5hY3RpdmVGaWx0ZXIuY2hlY2tGZWF0dXJlKHRoaXMpP2Iuc3RhdGU9Yi5yZWZyZXNoLmNhbGwodGhpcyxhLG0pOmIuc3RhdGU9ZjtyZXR1cm4gYi5zdGF0ZX0sZ2V0Q29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250YWlucyh0aGlzLmNvbnRleHQpfX19KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2Z1bmN0aW9uIGMoZil7Zm9yKHZhciBoPXAuc3RhcnRDb250YWluZXIsbT1wLmVuZENvbnRhaW5lcjtoJiYhaC5nZXRQYXJlbnQoKS5lcXVhbHMoZik7KWg9aC5nZXRQYXJlbnQoKTtmb3IoO20mJiFtLmdldFBhcmVudCgpLmVxdWFscyhmKTspbT1cbm0uZ2V0UGFyZW50KCk7aWYoIWh8fCFtKXJldHVybiExO2Zvcih2YXIgdD1oLGg9W10sdj0hMTshdjspdC5lcXVhbHMobSkmJih2PSEwKSxoLnB1c2godCksdD10LmdldE5leHQoKTtpZigxPmgubGVuZ3RoKXJldHVybiExO3Q9Zi5nZXRQYXJlbnRzKCEwKTtmb3IobT0wO208dC5sZW5ndGg7bSsrKWlmKHRbbV0uZ2V0TmFtZSYmbFt0W21dLmdldE5hbWUoKV0pe2Y9dFttXTticmVha31mb3IodmFyIHQ9ZS5pc0luZGVudD8xOi0xLG09aFswXSxoPWhbaC5sZW5ndGgtMV0sdj1DS0VESVRPUi5wbHVnaW5zLmxpc3QubGlzdFRvQXJyYXkoZixnKSx6PXZbaC5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpXS5pbmRlbnQsbT1tLmdldEN1c3RvbURhdGEoXCJsaXN0YXJyYXlfaW5kZXhcIik7bTw9aC5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpO20rKylpZih2W21dLmluZGVudCs9dCwwPHQpe3ZhciBxPXZbbV0ucGFyZW50O3ZbbV0ucGFyZW50PW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChxLmdldE5hbWUoKSxcbnEuZ2V0RG9jdW1lbnQoKSl9Zm9yKG09aC5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpKzE7bTx2Lmxlbmd0aCYmdlttXS5pbmRlbnQ+ejttKyspdlttXS5pbmRlbnQrPXQ7aD1DS0VESVRPUi5wbHVnaW5zLmxpc3QuYXJyYXlUb0xpc3QodixnLG51bGwsYS5jb25maWcuZW50ZXJNb2RlLGYuZ2V0RGlyZWN0aW9uKCkpO2lmKCFlLmlzSW5kZW50KXt2YXIgeTtpZigoeT1mLmdldFBhcmVudCgpKSYmeS5pcyhcImxpXCIpKWZvcih2YXIgdD1oLmxpc3ROb2RlLmdldENoaWxkcmVuKCksQT1bXSxDLG09dC5jb3VudCgpLTE7MDw9bTttLS0pKEM9dC5nZXRJdGVtKG0pKSYmQy5pcyYmQy5pcyhcImxpXCIpJiZBLnB1c2goQyl9aCYmaC5saXN0Tm9kZS5yZXBsYWNlKGYpO2lmKEEmJkEubGVuZ3RoKWZvcihtPTA7bTxBLmxlbmd0aDttKyspe2ZvcihDPWY9QVttXTsoQz1DLmdldE5leHQoKSkmJkMuaXMmJkMuZ2V0TmFtZSgpaW4gbDspQ0tFRElUT1IuZW52Lm5lZWRzTmJzcEZpbGxlciYmIWYuZ2V0Rmlyc3QoYikmJlxuZi5hcHBlbmQocC5kb2N1bWVudC5jcmVhdGVUZXh0KFwiwqBcIikpLGYuYXBwZW5kKEMpO2YuaW5zZXJ0QWZ0ZXIoeSl9aCYmYS5maXJlKFwiY29udGVudERvbUludmFsaWRhdGVkXCIpO3JldHVybiEwfWZvcih2YXIgZT10aGlzLGc9dGhpcy5kYXRhYmFzZSxsPXRoaXMuY29udGV4dCxtPWEuZ2V0U2VsZWN0aW9uKCksbT0obSYmbS5nZXRSYW5nZXMoKSkuY3JlYXRlSXRlcmF0b3IoKSxwO3A9bS5nZXROZXh0UmFuZ2UoKTspe2Zvcih2YXIgdD1wLmdldENvbW1vbkFuY2VzdG9yKCk7dCYmKHQudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhbFt0LmdldE5hbWUoKV0pOyl7aWYoYS5lZGl0YWJsZSgpLmVxdWFscyh0KSl7dD0hMTticmVha310PXQuZ2V0UGFyZW50KCl9dHx8KHQ9cC5zdGFydFBhdGgoKS5jb250YWlucyhsKSkmJnAuc2V0RW5kQXQodCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtpZighdCl7dmFyIHY9cC5nZXRFbmNsb3NlZE5vZGUoKTt2JiZ2LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXG52LmdldE5hbWUoKWluIGwmJihwLnNldFN0YXJ0QXQodixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkscC5zZXRFbmRBdCh2LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLHQ9dil9dCYmcC5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnAuc3RhcnRDb250YWluZXIuZ2V0TmFtZSgpaW4gbCYmKHY9bmV3IENLRURJVE9SLmRvbS53YWxrZXIocCksdi5ldmFsdWF0b3I9ZixwLnN0YXJ0Q29udGFpbmVyPXYubmV4dCgpKTt0JiZwLmVuZENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnAuZW5kQ29udGFpbmVyLmdldE5hbWUoKWluIGwmJih2PW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHApLHYuZXZhbHVhdG9yPWYscC5lbmRDb250YWluZXI9di5wcmV2aW91cygpKTtpZih0KXJldHVybiBjKHQpfXJldHVybiAwfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKFwibGlcIil9XG5mdW5jdGlvbiBiKGEpe3JldHVybiBjKGEpJiZlKGEpfXZhciBjPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApLGU9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMSwhMCksbT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxsPUNLRURJVE9SLlRSSVNUQVRFX09GRjtDS0VESVRPUi5wbHVnaW5zLmFkZChcImluZGVudGxpc3RcIix7cmVxdWlyZXM6XCJpbmRlbnRcIixpbml0OmZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoYil7ZS5zcGVjaWZpY0RlZmluaXRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMucmVxdWlyZWRDb250ZW50PVtcInVsXCIsXCJvbFwiXTtiLm9uKFwia2V5XCIsZnVuY3Rpb24oYSl7aWYoXCJ3eXNpd3lnXCI9PWIubW9kZSYmYS5kYXRhLmtleUNvZGU9PXRoaXMuaW5kZW50S2V5KXt2YXIgYz10aGlzLmdldENvbnRleHQoYi5lbGVtZW50UGF0aCgpKTshY3x8dGhpcy5pc0luZGVudCYmQ0tFRElUT1IucGx1Z2lucy5pbmRlbnRMaXN0LmZpcnN0SXRlbUluUGF0aCh0aGlzLmNvbnRleHQsXG5iLmVsZW1lbnRQYXRoKCksYyl8fChiLmV4ZWNDb21tYW5kKHRoaXMucmVsYXRlZEdsb2JhbCksYS5jYW5jZWwoKSl9fSx0aGlzKTt0aGlzLmpvYnNbdGhpcy5pc0luZGVudD8xMDozMF09e3JlZnJlc2g6dGhpcy5pc0luZGVudD9mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q29udGV4dChiKSxkPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdC5maXJzdEl0ZW1JblBhdGgodGhpcy5jb250ZXh0LGIsYyk7cmV0dXJuIGMmJnRoaXMuaXNJbmRlbnQmJiFkP2w6bX06ZnVuY3Rpb24oYSxiKXtyZXR1cm4hdGhpcy5nZXRDb250ZXh0KGIpfHx0aGlzLmlzSW5kZW50P206bH0sZXhlYzpDS0VESVRPUi50b29scy5iaW5kKGEsdGhpcyl9fXZhciBlPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50O2UucmVnaXN0ZXJDb21tYW5kcyhiLHtpbmRlbnRsaXN0Om5ldyBjKGIsXCJpbmRlbnRsaXN0XCIsITApLG91dGRlbnRsaXN0Om5ldyBjKGIsXCJvdXRkZW50bGlzdFwiKX0pO0NLRURJVE9SLnRvb2xzLmV4dGVuZChjLnByb3RvdHlwZSxcbmUuc3BlY2lmaWNEZWZpbml0aW9uLnByb3RvdHlwZSx7Y29udGV4dDp7b2w6MSx1bDoxfX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdD17fTtDS0VESVRPUi5wbHVnaW5zLmluZGVudExpc3QuZmlyc3RJdGVtSW5QYXRoPWZ1bmN0aW9uKGEsYixjKXt2YXIgZT1iLmNvbnRhaW5zKGYpO2N8fChjPWIuY29udGFpbnMoYSkpO3JldHVybiBjJiZlJiZlLmVxdWFscyhjLmdldEZpcnN0KGYpKX19KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXtmdW5jdGlvbiBkKGMpe2lmKCEoIShsPWtbYz9cImdldEZpcnN0XCI6XCJnZXRMYXN0XCJdKCkpfHxsLmlzJiZsLmlzQmxvY2tCb3VuZGFyeSgpfHwhKG09Yi5yb290W2M/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShDS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZSghMCkpKXx8bS5pcyYmbS5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KSkpYS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIilbYz9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0obCl9XG5mb3IodmFyIGU9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGIucm9vdCxjKSxmPVtdLGc9MDtnPGIuY29udGVudHMubGVuZ3RoO2crKyl7dmFyIGg9Yi5jb250ZW50c1tnXTsoaD1oLmdldEFzY2VuZGFudChcImxpXCIsITApKSYmIWguZ2V0Q3VzdG9tRGF0YShcImxpc3RfaXRlbV9wcm9jZXNzZWRcIikmJihmLnB1c2goaCksQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGMsaCxcImxpc3RfaXRlbV9wcm9jZXNzZWRcIiwhMCkpfWg9bnVsbDtmb3IoZz0wO2c8Zi5sZW5ndGg7ZysrKWg9ZltnXS5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpLGVbaF0uaW5kZW50PS0xO2ZvcihnPWgrMTtnPGUubGVuZ3RoO2crKylpZihlW2ddLmluZGVudD5lW2ctMV0uaW5kZW50KzEpe2Y9ZVtnLTFdLmluZGVudCsxLWVbZ10uaW5kZW50O2ZvcihoPWVbZ10uaW5kZW50O2VbZ10mJmVbZ10uaW5kZW50Pj1oOyllW2ddLmluZGVudCs9ZixnKys7Zy0tfXZhciBrPUNLRURJVE9SLnBsdWdpbnMubGlzdC5hcnJheVRvTGlzdChlLFxuYyxudWxsLGEuY29uZmlnLmVudGVyTW9kZSxiLnJvb3QuZ2V0QXR0cmlidXRlKFwiZGlyXCIpKS5saXN0Tm9kZSxsLG07ZCghMCk7ZCgpO2sucmVwbGFjZShiLnJvb3QpO2EuZmlyZShcImNvbnRlbnREb21JbnZhbGlkYXRlZFwiKX1mdW5jdGlvbiBmKGEsYil7dGhpcy5uYW1lPWE7dGhpcy5jb250ZXh0PXRoaXMudHlwZT1iO3RoaXMuYWxsb3dlZENvbnRlbnQ9YitcIiBsaVwiO3RoaXMucmVxdWlyZWRDb250ZW50PWJ9ZnVuY3Rpb24gYihhLGIsYyxkKXtmb3IodmFyIGUsZjtlPWFbZD9cImdldExhc3RcIjpcImdldEZpcnN0XCJdKHApOykoZj1lLmdldERpcmVjdGlvbigxKSkhPT1iLmdldERpcmVjdGlvbigxKSYmZS5zZXRBdHRyaWJ1dGUoXCJkaXJcIixmKSxlLnJlbW92ZSgpLGM/ZVtkP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShjKTpiLmFwcGVuZChlLGQpfWZ1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gYyhkKXt2YXIgZT1hW2Q/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShnKTtlJiZlLnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLmlzKGEuZ2V0TmFtZSgpKSYmKGIoYSxlLG51bGwsIWQpLGEucmVtb3ZlKCksYT1lKX1jKCk7YygxKX1mdW5jdGlvbiBlKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGEuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRibG9ja3x8YS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmQ0tFRElUT1IuZHRkW2EuZ2V0TmFtZSgpXVtcIiNcIl19ZnVuY3Rpb24gbShhLGQsZSl7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2UuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUyk7dmFyIGY9ZS5leHRyYWN0Q29udGVudHMoKTtkLnRyaW0oITEsITApO3ZhciBoPWQuY3JlYXRlQm9va21hcmsoKSxrPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZC5zdGFydENvbnRhaW5lciksbT1rLmJsb2NrLGs9ay5sYXN0RWxlbWVudC5nZXRBc2NlbmRhbnQoXCJsaVwiLDEpfHxtLHA9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChlLnN0YXJ0Q29udGFpbmVyKSxcbnE9cC5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSxwPXAuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KTttPyhtPW0uZ2V0Qm9ndXMoKSkmJm0ucmVtb3ZlKCk6cCYmKG09cC5nZXRQcmV2aW91cyhnKSkmJm4obSkmJm0ucmVtb3ZlKCk7KG09Zi5nZXRMYXN0KCkpJiZtLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmbS5pcyhcImJyXCIpJiZtLnJlbW92ZSgpOyhtPWQuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoZC5zdGFydE9mZnNldCkpP2YuaW5zZXJ0QmVmb3JlKG0pOmQuc3RhcnRDb250YWluZXIuYXBwZW5kKGYpO3EmJihmPWwocSkpJiYoay5jb250YWlucyhxKT8oYihmLHEuZ2V0UGFyZW50KCkscSksZi5yZW1vdmUoKSk6ay5hcHBlbmQoZikpO2Zvcig7ZS5jaGVja1N0YXJ0T2ZCbG9jaygpJiZlLmNoZWNrRW5kT2ZCbG9jaygpOyl7cD1lLnN0YXJ0UGF0aCgpO2Y9cC5ibG9jaztpZighZilicmVhaztmLmlzKFwibGlcIikmJihrPWYuZ2V0UGFyZW50KCksZi5lcXVhbHMoay5nZXRMYXN0KGcpKSYmXG5mLmVxdWFscyhrLmdldEZpcnN0KGcpKSYmKGY9aykpO2UubW92ZVRvUG9zaXRpb24oZixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2YucmVtb3ZlKCl9ZT1lLmNsb25lKCk7Zj1hLmVkaXRhYmxlKCk7ZS5zZXRFbmRBdChmLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2U9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSk7ZS5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGcoYSkmJiFuKGEpfTsoZT1lLm5leHQoKSkmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kbGlzdCYmYyhlKTtkLm1vdmVUb0Jvb2ttYXJrKGgpO2Quc2VsZWN0KCk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfWZ1bmN0aW9uIGwoYSl7cmV0dXJuKGE9YS5nZXRMYXN0KGcpKSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuZ2V0TmFtZSgpaW4gZD9hOm51bGx9dmFyIGQ9e29sOjEsdWw6MX0saD1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksXG5rPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxnPWZ1bmN0aW9uKGEpe3JldHVybiEoaChhKXx8ayhhKSl9LG49Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO0NLRURJVE9SLnBsdWdpbnMubGlzdD17bGlzdFRvQXJyYXk6ZnVuY3Rpb24oYSxiLGMsZSxmKXtpZighZFthLmdldE5hbWUoKV0pcmV0dXJuW107ZXx8KGU9MCk7Y3x8KGM9W10pO2Zvcih2YXIgZz0wLGg9YS5nZXRDaGlsZENvdW50KCk7ZzxoO2crKyl7dmFyIGs9YS5nZXRDaGlsZChnKTtrLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmay5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3QmJkNLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShrLGIsYyxlKzEpO2lmKFwibGlcIj09ay4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBsPXtwYXJlbnQ6YSxpbmRlbnQ6ZSxlbGVtZW50OmssY29udGVudHM6W119O2Y/bC5ncmFuZHBhcmVudD1mOihsLmdyYW5kcGFyZW50PWEuZ2V0UGFyZW50KCksXG5sLmdyYW5kcGFyZW50JiZcImxpXCI9PWwuZ3JhbmRwYXJlbnQuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYobC5ncmFuZHBhcmVudD1sLmdyYW5kcGFyZW50LmdldFBhcmVudCgpKSk7YiYmQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGIsayxcImxpc3RhcnJheV9pbmRleFwiLGMubGVuZ3RoKTtjLnB1c2gobCk7Zm9yKHZhciBtPTAsbj1rLmdldENoaWxkQ291bnQoKSxwO208bjttKyspcD1rLmdldENoaWxkKG0pLHAudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkW3AuZ2V0TmFtZSgpXT9DS0VESVRPUi5wbHVnaW5zLmxpc3QubGlzdFRvQXJyYXkocCxiLGMsZSsxLGwuZ3JhbmRwYXJlbnQpOmwuY29udGVudHMucHVzaChwKX19cmV0dXJuIGN9LGFycmF5VG9MaXN0OmZ1bmN0aW9uKGEsYixjLGUsZil7Y3x8KGM9MCk7aWYoIWF8fGEubGVuZ3RoPGMrMSlyZXR1cm4gbnVsbDtmb3IodmFyIGgsbD1hW2NdLnBhcmVudC5nZXREb2N1bWVudCgpLG09bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGwpLFxubj1udWxsLHA9YyxxPU1hdGgubWF4KGFbY10uaW5kZW50LDApLEM9bnVsbCxGLEUsSj1lPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCI7Oyl7dmFyIEc9YVtwXTtoPUcuZ3JhbmRwYXJlbnQ7Rj1HLmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpO2lmKEcuaW5kZW50PT1xKXtuJiZhW3BdLnBhcmVudC5nZXROYW1lKCk9PW4uZ2V0TmFtZSgpfHwobj1hW3BdLnBhcmVudC5jbG9uZSghMSwxKSxmJiZuLnNldEF0dHJpYnV0ZShcImRpclwiLGYpLG0uYXBwZW5kKG4pKTtDPW4uYXBwZW5kKEcuZWxlbWVudC5jbG9uZSgwLDEpKTtGIT1uLmdldERpcmVjdGlvbigxKSYmQy5zZXRBdHRyaWJ1dGUoXCJkaXJcIixGKTtmb3IoaD0wO2g8Ry5jb250ZW50cy5sZW5ndGg7aCsrKUMuYXBwZW5kKEcuY29udGVudHNbaF0uY2xvbmUoMSwxKSk7cCsrfWVsc2UgaWYoRy5pbmRlbnQ9PU1hdGgubWF4KHEsMCkrMSlHPWFbcC0xXS5lbGVtZW50LmdldERpcmVjdGlvbigxKSxwPUNLRURJVE9SLnBsdWdpbnMubGlzdC5hcnJheVRvTGlzdChhLFxubnVsbCxwLGUsRyE9Rj9GOm51bGwpLCFDLmdldENoaWxkQ291bnQoKSYmQ0tFRElUT1IuZW52Lm5lZWRzTmJzcEZpbGxlciYmNz49bC4kLmRvY3VtZW50TW9kZSYmQy5hcHBlbmQobC5jcmVhdGVUZXh0KFwiwqBcIikpLEMuYXBwZW5kKHAubGlzdE5vZGUpLHA9cC5uZXh0SW5kZXg7ZWxzZSBpZigtMT09Ry5pbmRlbnQmJiFjJiZoKXtkW2guZ2V0TmFtZSgpXT8oQz1HLmVsZW1lbnQuY2xvbmUoITEsITApLEYhPWguZ2V0RGlyZWN0aW9uKDEpJiZDLnNldEF0dHJpYnV0ZShcImRpclwiLEYpKTpDPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChsKTt2YXIgbj1oLmdldERpcmVjdGlvbigxKSE9RixNPUcuZWxlbWVudCxJPU0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIiksSD1NLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpLFI9Qy50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UJiYoZSE9Q0tFRElUT1IuRU5URVJfQlJ8fG58fEh8fEkpLFAsVD1HLmNvbnRlbnRzLmxlbmd0aCxPO1xuZm9yKGg9MDtoPFQ7aCsrKWlmKFA9Ry5jb250ZW50c1toXSxrKFApJiYxPFQpUj9PPVAuY2xvbmUoMSwxKTpDLmFwcGVuZChQLmNsb25lKDEsMSkpO2Vsc2UgaWYoUC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlAuaXNCbG9ja0JvdW5kYXJ5KCkpe24mJiFQLmdldERpcmVjdGlvbigpJiZQLnNldEF0dHJpYnV0ZShcImRpclwiLEYpO0U9UDt2YXIgSz1NLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO0smJkUuc2V0QXR0cmlidXRlKFwic3R5bGVcIixLLnJlcGxhY2UoLyhbXjtdKSQvLFwiJDE7XCIpKyhFLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpfHxcIlwiKSk7SSYmUC5hZGRDbGFzcyhJKTtFPW51bGw7TyYmKEMuYXBwZW5kKE8pLE89bnVsbCk7Qy5hcHBlbmQoUC5jbG9uZSgxLDEpKX1lbHNlIFI/KEV8fChFPWwuY3JlYXRlRWxlbWVudChKKSxDLmFwcGVuZChFKSxuJiZFLnNldEF0dHJpYnV0ZShcImRpclwiLEYpKSxIJiZFLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsSCksSSYmRS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFxuSSksTyYmKEUuYXBwZW5kKE8pLE89bnVsbCksRS5hcHBlbmQoUC5jbG9uZSgxLDEpKSk6Qy5hcHBlbmQoUC5jbG9uZSgxLDEpKTtPJiYoKEV8fEMpLmFwcGVuZChPKSxPPW51bGwpO0MudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCYmcCE9YS5sZW5ndGgtMSYmKENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiYoRj1DLmdldExhc3QoKSkmJkYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZGLmlzKFwiYnJcIikmJkYucmVtb3ZlKCksKEY9Qy5nZXRMYXN0KGcpKSYmRi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkYuaXMoQ0tFRElUT1IuZHRkLiRibG9jayl8fEMuYXBwZW5kKGwuY3JlYXRlRWxlbWVudChcImJyXCIpKSk7Rj1DLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcImRpdlwiIT1GJiZcInBcIiE9Rnx8Qy5hcHBlbmRCb2d1cygpO20uYXBwZW5kKEMpO249bnVsbDtwKyt9ZWxzZSByZXR1cm4gbnVsbDtFPW51bGw7aWYoYS5sZW5ndGg8PXB8fE1hdGgubWF4KGFbcF0uaW5kZW50LFxuMCk8cSlicmVha31pZihiKWZvcihhPW0uZ2V0Rmlyc3QoKTthOyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhck1hcmtlcnMoYixhKSxhLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0mJihjPWEsbD1mPWU9dm9pZCAwLGU9Yy5nZXREaXJlY3Rpb24oKSkpKXtmb3IoZj1jLmdldFBhcmVudCgpO2YmJiEobD1mLmdldERpcmVjdGlvbigpKTspZj1mLmdldFBhcmVudCgpO2U9PWwmJmMucmVtb3ZlQXR0cmlidXRlKFwiZGlyXCIpfWE9YS5nZXROZXh0U291cmNlTm9kZSgpfXJldHVybntsaXN0Tm9kZTptLG5leHRJbmRleDpwfX19O3ZhciBxPS9eaFsxLTZdJC8scD1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfRUxFTUVOVCk7Zi5wcm90b3R5cGU9e2V4ZWM6ZnVuY3Rpb24oYil7dGhpcy5yZWZyZXNoKGIsYi5lbGVtZW50UGF0aCgpKTt2YXIgZT1iLmNvbmZpZyxmPWIuZ2V0U2VsZWN0aW9uKCksXG5oPWYmJmYuZ2V0UmFuZ2VzKCk7aWYodGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKXt2YXIgaz1iLmVkaXRhYmxlKCk7aWYoay5nZXRGaXJzdChnKSl7dmFyIGw9MT09aC5sZW5ndGgmJmhbMF07KGU9bCYmbC5nZXRFbmNsb3NlZE5vZGUoKSkmJmUuaXMmJnRoaXMudHlwZT09ZS5nZXROYW1lKCkmJnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pfWVsc2UgZS5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSP2suYXBwZW5kQm9ndXMoKTpoWzBdLmZpeEJsb2NrKDEsZS5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIiksZi5zZWxlY3RSYW5nZXMoaCl9Zm9yKHZhciBlPWYuY3JlYXRlQm9va21hcmtzKCEwKSxrPVtdLG09e30saD1oLmNyZWF0ZUl0ZXJhdG9yKCksbj0wOyhsPWguZ2V0TmV4dFJhbmdlKCkpJiYrK247KXt2YXIgcD1sLmdldEJvdW5kYXJ5Tm9kZXMoKSx5PXAuc3RhcnROb2RlLEE9cC5lbmROb2RlO3kudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcblwidGRcIj09eS5nZXROYW1lKCkmJmwuc2V0U3RhcnRBdChwLnN0YXJ0Tm9kZSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7QS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwidGRcIj09QS5nZXROYW1lKCkmJmwuc2V0RW5kQXQocC5lbmROb2RlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2w9bC5jcmVhdGVJdGVyYXRvcigpO2ZvcihsLmZvcmNlQnJCcmVhaz10aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkY7cD1sLmdldE5leHRQYXJhZ3JhcGgoKTspaWYoIXAuZ2V0Q3VzdG9tRGF0YShcImxpc3RfYmxvY2tcIikpe0NLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihtLHAsXCJsaXN0X2Jsb2NrXCIsMSk7Zm9yKHZhciBDPWIuZWxlbWVudFBhdGgocCkseT1DLmVsZW1lbnRzLEE9MCxDPUMuYmxvY2tMaW1pdCxGLEU9eS5sZW5ndGgtMTswPD1FJiYoRj15W0VdKTtFLS0paWYoZFtGLmdldE5hbWUoKV0mJkMuY29udGFpbnMoRikpe0MucmVtb3ZlQ3VzdG9tRGF0YShcImxpc3RfZ3JvdXBfb2JqZWN0X1wiK1xubik7KHk9Ri5nZXRDdXN0b21EYXRhKFwibGlzdF9ncm91cF9vYmplY3RcIikpP3kuY29udGVudHMucHVzaChwKTooeT17cm9vdDpGLGNvbnRlbnRzOltwXX0say5wdXNoKHkpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihtLEYsXCJsaXN0X2dyb3VwX29iamVjdFwiLHkpKTtBPTE7YnJlYWt9QXx8KEE9QyxBLmdldEN1c3RvbURhdGEoXCJsaXN0X2dyb3VwX29iamVjdF9cIituKT9BLmdldEN1c3RvbURhdGEoXCJsaXN0X2dyb3VwX29iamVjdF9cIituKS5jb250ZW50cy5wdXNoKHApOih5PXtyb290OkEsY29udGVudHM6W3BdfSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIobSxBLFwibGlzdF9ncm91cF9vYmplY3RfXCIrbix5KSxrLnB1c2goeSkpKX19Zm9yKEY9W107MDxrLmxlbmd0aDspaWYoeT1rLnNoaWZ0KCksdGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKWlmKGRbeS5yb290LmdldE5hbWUoKV0pe2g9YjtuPXk7eT1tO2w9RjtBPUNLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShuLnJvb3QsXG55KTtDPVtdO2ZvcihwPTA7cDxuLmNvbnRlbnRzLmxlbmd0aDtwKyspRT1uLmNvbnRlbnRzW3BdLChFPUUuZ2V0QXNjZW5kYW50KFwibGlcIiwhMCkpJiYhRS5nZXRDdXN0b21EYXRhKFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiKSYmKEMucHVzaChFKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoeSxFLFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiLCEwKSk7Zm9yKHZhciBFPW4ucm9vdC5nZXREb2N1bWVudCgpLEo9dm9pZCAwLEc9dm9pZCAwLHA9MDtwPEMubGVuZ3RoO3ArKyl7dmFyIE09Q1twXS5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpLEo9QVtNXS5wYXJlbnQ7Si5pcyh0aGlzLnR5cGUpfHwoRz1FLmNyZWF0ZUVsZW1lbnQodGhpcy50eXBlKSxKLmNvcHlBdHRyaWJ1dGVzKEcse3N0YXJ0OjEsdHlwZToxfSksRy5yZW1vdmVTdHlsZShcImxpc3Qtc3R5bGUtdHlwZVwiKSxBW01dLnBhcmVudD1HKX15PUNLRURJVE9SLnBsdWdpbnMubGlzdC5hcnJheVRvTGlzdChBLHksbnVsbCxcbmguY29uZmlnLmVudGVyTW9kZSk7QT12b2lkIDA7Qz15Lmxpc3ROb2RlLmdldENoaWxkQ291bnQoKTtmb3IocD0wO3A8QyYmKEE9eS5saXN0Tm9kZS5nZXRDaGlsZChwKSk7cCsrKUEuZ2V0TmFtZSgpPT10aGlzLnR5cGUmJmwucHVzaChBKTt5Lmxpc3ROb2RlLnJlcGxhY2Uobi5yb290KTtoLmZpcmUoXCJjb250ZW50RG9tSW52YWxpZGF0ZWRcIil9ZWxzZXtBPWI7bD15O3A9RjtDPWwuY29udGVudHM7aD1sLnJvb3QuZ2V0RG9jdW1lbnQoKTtuPVtdOzE9PUMubGVuZ3RoJiZDWzBdLmVxdWFscyhsLnJvb3QpJiYoeT1oLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksQ1swXS5tb3ZlQ2hpbGRyZW4mJkNbMF0ubW92ZUNoaWxkcmVuKHkpLENbMF0uYXBwZW5kKHkpLENbMF09eSk7bD1sLmNvbnRlbnRzWzBdLmdldFBhcmVudCgpO2ZvcihFPTA7RTxDLmxlbmd0aDtFKyspbD1sLmdldENvbW1vbkFuY2VzdG9yKENbRV0uZ2V0UGFyZW50KCkpO0o9QS5jb25maWcudXNlQ29tcHV0ZWRTdGF0ZTtBPXk9dm9pZCAwO1xuSj12b2lkIDA9PT1KfHxKO2ZvcihFPTA7RTxDLmxlbmd0aDtFKyspZm9yKEc9Q1tFXTtNPUcuZ2V0UGFyZW50KCk7KXtpZihNLmVxdWFscyhsKSl7bi5wdXNoKEcpOyFBJiZHLmdldERpcmVjdGlvbigpJiYoQT0xKTtHPUcuZ2V0RGlyZWN0aW9uKEopO251bGwhPT15JiYoeT15JiZ5IT1HP251bGw6Ryk7YnJlYWt9Rz1NfWlmKCEoMT5uLmxlbmd0aCkpe0M9bltuLmxlbmd0aC0xXS5nZXROZXh0KCk7RT1oLmNyZWF0ZUVsZW1lbnQodGhpcy50eXBlKTtwLnB1c2goRSk7Zm9yKEo9cD12b2lkIDA7bi5sZW5ndGg7KXA9bi5zaGlmdCgpLEo9aC5jcmVhdGVFbGVtZW50KFwibGlcIiksRz1wLEcuaXMoXCJwcmVcIil8fHEudGVzdChHLmdldE5hbWUoKSl8fFwiZmFsc2VcIj09Ry5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/cC5hcHBlbmRUbyhKKToocC5jb3B5QXR0cmlidXRlcyhKKSx5JiZwLmdldERpcmVjdGlvbigpJiYoSi5yZW1vdmVTdHlsZShcImRpcmVjdGlvblwiKSxKLnJlbW92ZUF0dHJpYnV0ZShcImRpclwiKSksXG5wLm1vdmVDaGlsZHJlbihKKSxwLnJlbW92ZSgpKSxKLmFwcGVuZFRvKEUpO3kmJkEmJkUuc2V0QXR0cmlidXRlKFwiZGlyXCIseSk7Qz9FLmluc2VydEJlZm9yZShDKTpFLmFwcGVuZFRvKGwpfX1lbHNlIHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZkW3kucm9vdC5nZXROYW1lKCldJiZhLmNhbGwodGhpcyxiLHksbSk7Zm9yKEU9MDtFPEYubGVuZ3RoO0UrKyljKEZbRV0pO0NLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhtKTtmLnNlbGVjdEJvb2ttYXJrcyhlKTtiLmZvY3VzKCl9LHJlZnJlc2g6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmNvbnRhaW5zKGQsMSksZT1iLmJsb2NrTGltaXR8fGIucm9vdDtjJiZlLmNvbnRhaW5zKGMpP3RoaXMuc2V0U3RhdGUoYy5pcyh0aGlzLnR5cGUpP0NLRURJVE9SLlRSSVNUQVRFX09OOkNLRURJVE9SLlRSSVNUQVRFX09GRik6dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PRkYpfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJsaXN0XCIsXG57cmVxdWlyZXM6XCJpbmRlbnRsaXN0XCIsaW5pdDpmdW5jdGlvbihhKXthLmJsb2NrbGVzc3x8KGEuYWRkQ29tbWFuZChcIm51bWJlcmVkbGlzdFwiLG5ldyBmKFwibnVtYmVyZWRsaXN0XCIsXCJvbFwiKSksYS5hZGRDb21tYW5kKFwiYnVsbGV0ZWRsaXN0XCIsbmV3IGYoXCJidWxsZXRlZGxpc3RcIixcInVsXCIpKSxhLnVpLmFkZEJ1dHRvbiYmKGEudWkuYWRkQnV0dG9uKFwiTnVtYmVyZWRMaXN0XCIse2xhYmVsOmEubGFuZy5saXN0Lm51bWJlcmVkbGlzdCxjb21tYW5kOlwibnVtYmVyZWRsaXN0XCIsZGlyZWN0aW9uYWw6ITAsdG9vbGJhcjpcImxpc3QsMTBcIn0pLGEudWkuYWRkQnV0dG9uKFwiQnVsbGV0ZWRMaXN0XCIse2xhYmVsOmEubGFuZy5saXN0LmJ1bGxldGVkbGlzdCxjb21tYW5kOlwiYnVsbGV0ZWRsaXN0XCIsZGlyZWN0aW9uYWw6ITAsdG9vbGJhcjpcImxpc3QsMjBcIn0pKSxhLm9uKFwia2V5XCIsZnVuY3Rpb24oYil7dmFyIGM9Yi5kYXRhLmRvbUV2ZW50LmdldEtleSgpLGY7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSYmXG5jIGluezg6MSw0NjoxfSl7dmFyIGg9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXSxrPWgmJmguc3RhcnRQYXRoKCk7aWYoaCYmaC5jb2xsYXBzZWQpe3ZhciBwPTg9PWMscT1hLmVkaXRhYmxlKCksRD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihoLmNsb25lKCkpO0QuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBnKGEpJiYhbihhKX07RC5ndWFyZD1mdW5jdGlvbihhLGIpe3JldHVybiEoYiYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMoXCJ0YWJsZVwiKSl9O2M9aC5jbG9uZSgpO2lmKHApe3ZhciB5Oyh5PWsuY29udGFpbnMoZCkpJiZoLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoeSxDS0VESVRPUi5TVEFSVCkmJih5PXkuZ2V0UGFyZW50KCkpJiZ5LmlzKFwibGlcIikmJih5PWwoeSkpPyhmPXkseT15LmdldFByZXZpb3VzKGcpLGMubW92ZVRvUG9zaXRpb24oeSYmbih5KT95OmYsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSk6KEQucmFuZ2Uuc2V0U3RhcnRBdChxLFxuQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLEQucmFuZ2Uuc2V0RW5kKGguc3RhcnRDb250YWluZXIsaC5zdGFydE9mZnNldCksKHk9RC5wcmV2aW91cygpKSYmeS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJih5LmdldE5hbWUoKWluIGR8fHkuaXMoXCJsaVwiKSkmJih5LmlzKFwibGlcIil8fChELnJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyh5KSxELnJlc2V0KCksRC5ldmFsdWF0b3I9ZSx5PUQucHJldmlvdXMoKSksZj15LGMubW92ZVRvRWxlbWVudEVkaXRFbmQoZiksYy5tb3ZlVG9Qb3NpdGlvbihjLmVuZFBhdGgoKS5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSkpO2lmKGYpbShhLGMsaCksYi5jYW5jZWwoKTtlbHNle3ZhciBBPWsuY29udGFpbnMoZCk7QSYmaC5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KEEsQ0tFRElUT1IuU1RBUlQpJiYoZj1BLmdldEZpcnN0KGcpLGguY2hlY2tCb3VuZGFyeU9mRWxlbWVudChmLENLRURJVE9SLlNUQVJUKSYmKHk9QS5nZXRQcmV2aW91cyhnKSxcbmwoZik/eSYmKGgubW92ZVRvRWxlbWVudEVkaXRFbmQoeSksaC5zZWxlY3QoKSk6YS5leGVjQ29tbWFuZChcIm91dGRlbnRcIiksYi5jYW5jZWwoKSkpfX1lbHNlIGlmKGY9ay5jb250YWlucyhcImxpXCIpKXtpZihELnJhbmdlLnNldEVuZEF0KHEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCkscD0ocT1mLmdldExhc3QoZykpJiZlKHEpP3E6ZixrPTAsKHk9RC5uZXh0KCkpJiZ5LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmeS5nZXROYW1lKClpbiBkJiZ5LmVxdWFscyhxKT8oaz0xLHk9RC5uZXh0KCkpOmguY2hlY2tCb3VuZGFyeU9mRWxlbWVudChwLENLRURJVE9SLkVORCkmJihrPTIpLGsmJnkpe2g9aC5jbG9uZSgpO2gubW92ZVRvRWxlbWVudEVkaXRTdGFydCh5KTtpZigxPT1rJiYoYy5vcHRpbWl6ZSgpLCFjLnN0YXJ0Q29udGFpbmVyLmVxdWFscyhmKSkpe2ZvcihmPWMuc3RhcnRDb250YWluZXI7Zi5pcyhDS0VESVRPUi5kdGQuJGlubGluZSk7KUE9ZixmPWYuZ2V0UGFyZW50KCk7XG5BJiZjLm1vdmVUb1Bvc2l0aW9uKEEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKX0yPT1rJiYoYy5tb3ZlVG9Qb3NpdGlvbihjLmVuZFBhdGgoKS5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxoLmVuZFBhdGgoKS5ibG9jayYmaC5tb3ZlVG9Qb3NpdGlvbihoLmVuZFBhdGgoKS5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkpO20oYSxjLGgpO2IuY2FuY2VsKCl9fWVsc2UgRC5yYW5nZS5zZXRFbmRBdChxLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLCh5PUQubmV4dCgpKSYmeS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnkuaXMoZCkmJih5PXkuZ2V0Rmlyc3QoZyksay5ibG9jayYmaC5jaGVja1N0YXJ0T2ZCbG9jaygpJiZoLmNoZWNrRW5kT2ZCbG9jaygpPyhrLmJsb2NrLnJlbW92ZSgpLGgubW92ZVRvRWxlbWVudEVkaXRTdGFydCh5KSxoLnNlbGVjdCgpKTpsKHkpPyhoLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoeSksaC5zZWxlY3QoKSk6XG4oaD1oLmNsb25lKCksaC5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHkpLG0oYSxjLGgpKSxiLmNhbmNlbCgpKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5zZWxlY3Rpb25DaGFuZ2UoMSl9KX19fSkpfX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyl7Yz1hLmNvbmZpZy5mb3JjZUVudGVyTW9kZXx8YztcInd5c2l3eWdcIj09YS5tb2RlJiYoYnx8KGI9YS5hY3RpdmVFbnRlck1vZGUpLGEuZWxlbWVudFBhdGgoKS5pc0NvbnRleHRGb3IoXCJwXCIpfHwoYj1DS0VESVRPUi5FTlRFUl9CUixjPTEpLGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxiPT1DS0VESVRPUi5FTlRFUl9CUj9sKGEsYixudWxsLGMpOmQoYSxiLG51bGwsYyksYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpKX1mdW5jdGlvbiBmKGEpe2E9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoITApO2Zvcih2YXIgYj1hLmxlbmd0aC0xOzA8YjtiLS0pYVtiXS5kZWxldGVDb250ZW50cygpO3JldHVybiBhWzBdfWZ1bmN0aW9uIGIoYSl7dmFyIGI9XG5hLnN0YXJ0Q29udGFpbmVyLmdldEFzY2VuZGFudChmdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKX0sITApO2lmKGEucm9vdC5lcXVhbHMoYikpcmV0dXJuIGE7Yj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGIpO2IubW92ZVRvUmFuZ2UoYSk7cmV0dXJuIGJ9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJlbnRlcmtleVwiLHtpbml0OmZ1bmN0aW9uKGIpe2IuYWRkQ29tbWFuZChcImVudGVyXCIse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOiExLGV4ZWM6ZnVuY3Rpb24oYil7YShiKX19KTtiLmFkZENvbW1hbmQoXCJzaGlmdEVudGVyXCIse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOiExLGV4ZWM6ZnVuY3Rpb24oYil7YShiLGIuYWN0aXZlU2hpZnRFbnRlck1vZGUsMSl9fSk7Yi5zZXRLZXlzdHJva2UoW1sxMyxcImVudGVyXCJdLFtDS0VESVRPUi5TSElGVCsxMyxcInNoaWZ0RW50ZXJcIl1dKX19KTtcbnZhciBjPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxlPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKTtDS0VESVRPUi5wbHVnaW5zLmVudGVya2V5PXtlbnRlckJsb2NrOmZ1bmN0aW9uKGEsZCxtLHEpe2lmKG09bXx8ZihhKSl7bT1iKG0pO3ZhciBwPW0uZG9jdW1lbnQsdD1tLmNoZWNrU3RhcnRPZkJsb2NrKCksdj1tLmNoZWNrRW5kT2ZCbG9jaygpLHI9YS5lbGVtZW50UGF0aChtLnN0YXJ0Q29udGFpbmVyKSx1PXIuYmxvY2ssQj1kPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIix4O2lmKHQmJnYpe2lmKHUmJih1LmlzKFwibGlcIil8fHUuZ2V0UGFyZW50KCkuaXMoXCJsaVwiKSkpe3UuaXMoXCJsaVwiKXx8KHU9dS5nZXRQYXJlbnQoKSk7bT11LmdldFBhcmVudCgpO3g9bS5nZXRQYXJlbnQoKTtxPSF1Lmhhc1ByZXZpb3VzKCk7dmFyIHc9IXUuaGFzTmV4dCgpLEI9YS5nZXRTZWxlY3Rpb24oKSx6PUIuY3JlYXRlQm9va21hcmtzKCksdD11LmdldERpcmVjdGlvbigxKSxcbnY9dS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSxEPXUuZ2V0QXR0cmlidXRlKFwic3R5bGVcIikseT14LmdldERpcmVjdGlvbigxKSE9dDthPWEuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUnx8eXx8RHx8djtpZih4LmlzKFwibGlcIikpcXx8dz8ocSYmdyYmbS5yZW1vdmUoKSx1W3c/XCJpbnNlcnRBZnRlclwiOlwiaW5zZXJ0QmVmb3JlXCJdKHgpKTp1LmJyZWFrUGFyZW50KHgpO2Vsc2V7aWYoYSlpZihyLmJsb2NrLmlzKFwibGlcIik/KHg9cC5jcmVhdGVFbGVtZW50KGQ9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIikseSYmeC5zZXRBdHRyaWJ1dGUoXCJkaXJcIix0KSxEJiZ4LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsRCksdiYmeC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHYpLHUubW92ZUNoaWxkcmVuKHgpKTp4PXIuYmxvY2sscXx8dyl4W3E/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKG0pO2Vsc2UgdS5icmVha1BhcmVudChtKSx4Lmluc2VydEFmdGVyKG0pO2Vsc2UgaWYodS5hcHBlbmRCb2d1cyghMCksXG5xfHx3KWZvcig7cD11W3E/XCJnZXRGaXJzdFwiOlwiZ2V0TGFzdFwiXSgpOylwW3E/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKG0pO2Vsc2UgZm9yKHUuYnJlYWtQYXJlbnQobSk7cD11LmdldExhc3QoKTspcC5pbnNlcnRBZnRlcihtKTt1LnJlbW92ZSgpfUIuc2VsZWN0Qm9va21hcmtzKHopO3JldHVybn1pZih1JiZ1LmdldFBhcmVudCgpLmlzKFwiYmxvY2txdW90ZVwiKSl7dS5icmVha1BhcmVudCh1LmdldFBhcmVudCgpKTt1LmdldFByZXZpb3VzKCkuZ2V0Rmlyc3QoQ0tFRElUT1IuZG9tLndhbGtlci5pbnZpc2libGUoMSkpfHx1LmdldFByZXZpb3VzKCkucmVtb3ZlKCk7dS5nZXROZXh0KCkuZ2V0Rmlyc3QoQ0tFRElUT1IuZG9tLndhbGtlci5pbnZpc2libGUoMSkpfHx1LmdldE5leHQoKS5yZW1vdmUoKTttLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQodSk7bS5zZWxlY3QoKTtyZXR1cm59fWVsc2UgaWYodSYmdS5pcyhcInByZVwiKSYmIXYpe2woYSxkLG0scSk7cmV0dXJufWlmKHQ9XG5tLnNwbGl0QmxvY2soQikpe2Q9dC5wcmV2aW91c0Jsb2NrO3U9dC5uZXh0QmxvY2s7cj10Lndhc1N0YXJ0T2ZCbG9jazthPXQud2FzRW5kT2ZCbG9jazt1Pyh6PXUuZ2V0UGFyZW50KCksei5pcyhcImxpXCIpJiYodS5icmVha1BhcmVudCh6KSx1Lm1vdmUodS5nZXROZXh0KCksMSkpKTpkJiYoej1kLmdldFBhcmVudCgpKSYmei5pcyhcImxpXCIpJiYoZC5icmVha1BhcmVudCh6KSx6PWQuZ2V0TmV4dCgpLG0ubW92ZVRvRWxlbWVudEVkaXRTdGFydCh6KSxkLm1vdmUoZC5nZXRQcmV2aW91cygpKSk7aWYocnx8YSl7aWYoZCl7aWYoZC5pcyhcImxpXCIpfHwhaC50ZXN0KGQuZ2V0TmFtZSgpKSYmIWQuaXMoXCJwcmVcIikpeD1kLmNsb25lKCl9ZWxzZSB1JiYoeD11LmNsb25lKCkpO3g/cSYmIXguaXMoXCJsaVwiKSYmeC5yZW5hbWVOb2RlKEIpOnomJnouaXMoXCJsaVwiKT94PXo6KHg9cC5jcmVhdGVFbGVtZW50KEIpLGQmJih3PWQuZ2V0RGlyZWN0aW9uKCkpJiZ4LnNldEF0dHJpYnV0ZShcImRpclwiLHcpKTtcbmlmKHA9dC5lbGVtZW50UGF0aClmb3IocT0wLEI9cC5lbGVtZW50cy5sZW5ndGg7cTxCO3ErKyl7ej1wLmVsZW1lbnRzW3FdO2lmKHouZXF1YWxzKHAuYmxvY2spfHx6LmVxdWFscyhwLmJsb2NrTGltaXQpKWJyZWFrO0NLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbei5nZXROYW1lKCldJiYoej16LmNsb25lKCkseC5tb3ZlQ2hpbGRyZW4oeikseC5hcHBlbmQoeikpfXguYXBwZW5kQm9ndXMoKTt4LmdldFBhcmVudCgpfHxtLmluc2VydE5vZGUoeCk7eC5pcyhcImxpXCIpJiZ4LnJlbW92ZUF0dHJpYnV0ZShcInZhbHVlXCIpOyFDS0VESVRPUi5lbnYuaWV8fCFyfHxhJiZkLmdldENoaWxkQ291bnQoKXx8KG0ubW92ZVRvRWxlbWVudEVkaXRTdGFydChhP2Q6eCksbS5zZWxlY3QoKSk7bS5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHImJiFhP3U6eCl9ZWxzZSB1LmlzKFwibGlcIikmJih4PW0uY2xvbmUoKSx4LnNlbGVjdE5vZGVDb250ZW50cyh1KSx4PW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHgpLFxueC5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIShlKGEpfHxjKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGlubGluZSYmIShhLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kZW1wdHkpKX0sKHo9eC5uZXh0KCkpJiZ6LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmei5pcyhcInVsXCIsXCJvbFwiKSYmKENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyP3AuY3JlYXRlRWxlbWVudChcImJyXCIpOnAuY3JlYXRlVGV4dChcIsKgXCIpKS5pbnNlcnRCZWZvcmUoeikpLHUmJm0ubW92ZVRvRWxlbWVudEVkaXRTdGFydCh1KTttLnNlbGVjdCgpO20uc2Nyb2xsSW50b1ZpZXcoKX19fSxlbnRlckJyOmZ1bmN0aW9uKGEsYixjLGUpe2lmKGM9Y3x8ZihhKSl7dmFyIGw9Yy5kb2N1bWVudCxtPWMuY2hlY2tFbmRPZkJsb2NrKCksdj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGEuZ2V0U2VsZWN0aW9uKCkuZ2V0U3RhcnRFbGVtZW50KCkpLFxucj12LmJsb2NrLHU9ciYmdi5ibG9jay5nZXROYW1lKCk7ZXx8XCJsaVwiIT11PyghZSYmbSYmaC50ZXN0KHUpPyhtPXIuZ2V0RGlyZWN0aW9uKCkpPyhsPWwuY3JlYXRlRWxlbWVudChcImRpdlwiKSxsLnNldEF0dHJpYnV0ZShcImRpclwiLG0pLGwuaW5zZXJ0QWZ0ZXIociksYy5zZXRTdGFydChsLDApKToobC5jcmVhdGVFbGVtZW50KFwiYnJcIikuaW5zZXJ0QWZ0ZXIociksQ0tFRElUT1IuZW52LmdlY2tvJiZsLmNyZWF0ZVRleHQoXCJcIikuaW5zZXJ0QWZ0ZXIociksYy5zZXRTdGFydEF0KHIuZ2V0TmV4dCgpLENLRURJVE9SLmVudi5pZT9DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKTooYT1cInByZVwiPT11JiZDS0VESVRPUi5lbnYuaWUmJjg+Q0tFRElUT1IuZW52LnZlcnNpb24/bC5jcmVhdGVUZXh0KFwiXFxyXCIpOmwuY3JlYXRlRWxlbWVudChcImJyXCIpLGMuZGVsZXRlQ29udGVudHMoKSxjLmluc2VydE5vZGUoYSksQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI/XG4obC5jcmVhdGVUZXh0KFwi77u/XCIpLmluc2VydEFmdGVyKGEpLG0mJihyfHx2LmJsb2NrTGltaXQpLmFwcGVuZEJvZ3VzKCksYS5nZXROZXh0KCkuJC5ub2RlVmFsdWU9XCJcIixjLnNldFN0YXJ0QXQoYS5nZXROZXh0KCksQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKTpjLnNldFN0YXJ0QXQoYSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKSxjLmNvbGxhcHNlKCEwKSxjLnNlbGVjdCgpLGMuc2Nyb2xsSW50b1ZpZXcoKSk6ZChhLGIsYyxlKX19fTt2YXIgbT1DS0VESVRPUi5wbHVnaW5zLmVudGVya2V5LGw9bS5lbnRlckJyLGQ9bS5lbnRlckJsb2NrLGg9L15oWzEtNl0kL30oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt2YXIgYz17fSxlPVtdLG09e25ic3A6XCLCoFwiLHNoeTpcIsKtXCIsZ3Q6XCJcXHgzZVwiLGx0OlwiXFx4M2NcIixhbXA6XCJcXHgyNlwiLGFwb3M6XCInXCIscXVvdDonXCInfTthPWEucmVwbGFjZSgvXFxiKG5ic3B8c2h5fGd0fGx0fGFtcHxhcG9zfHF1b3QpKD86LHwkKS9nLGZ1bmN0aW9uKGEsXG5kKXt2YXIgZj1iP1wiXFx4MjZcIitkK1wiO1wiOm1bZF07Y1tmXT1iP21bZF06XCJcXHgyNlwiK2QrXCI7XCI7ZS5wdXNoKGYpO3JldHVyblwiXCJ9KTtpZighYiYmYSl7YT1hLnNwbGl0KFwiLFwiKTt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGQ7bC5pbm5lckhUTUw9XCJcXHgyNlwiK2Euam9pbihcIjtcXHgyNlwiKStcIjtcIjtkPWwuaW5uZXJIVE1MO2w9bnVsbDtmb3IobD0wO2w8ZC5sZW5ndGg7bCsrKXt2YXIgaD1kLmNoYXJBdChsKTtjW2hdPVwiXFx4MjZcIithW2xdK1wiO1wiO2UucHVzaChoKX19Yy5yZWdleD1lLmpvaW4oYj9cInxcIjpcIlwiKTtyZXR1cm4gY31DS0VESVRPUi5wbHVnaW5zLmFkZChcImVudGl0aWVzXCIse2FmdGVySW5pdDpmdW5jdGlvbihmKXtmdW5jdGlvbiBiKGEpe3JldHVybiBoW2FdfWZ1bmN0aW9uIGMoYSl7cmV0dXJuXCJmb3JjZVwiIT1lLmVudGl0aWVzX3Byb2Nlc3NOdW1lcmljYWwmJmxbYV0/bFthXTpcIlxceDI2I1wiK2EuY2hhckNvZGVBdCgwKStcIjtcIn12YXIgZT1mLmNvbmZpZztpZihmPVxuKGY9Zi5kYXRhUHJvY2Vzc29yKSYmZi5odG1sRmlsdGVyKXt2YXIgbT1bXTshMSE9PWUuYmFzaWNFbnRpdGllcyYmbS5wdXNoKFwibmJzcCxndCxsdCxhbXBcIik7ZS5lbnRpdGllcyYmKG0ubGVuZ3RoJiZtLnB1c2goXCJxdW90LGlleGNsLGNlbnQscG91bmQsY3VycmVuLHllbixicnZiYXIsc2VjdCx1bWwsY29weSxvcmRmLGxhcXVvLG5vdCxzaHkscmVnLG1hY3IsZGVnLHBsdXNtbixzdXAyLHN1cDMsYWN1dGUsbWljcm8scGFyYSxtaWRkb3QsY2VkaWwsc3VwMSxvcmRtLHJhcXVvLGZyYWMxNCxmcmFjMTIsZnJhYzM0LGlxdWVzdCx0aW1lcyxkaXZpZGUsZm5vZixidWxsLGhlbGxpcCxwcmltZSxQcmltZSxvbGluZSxmcmFzbCx3ZWllcnAsaW1hZ2UscmVhbCx0cmFkZSxhbGVmc3ltLGxhcnIsdWFycixyYXJyLGRhcnIsaGFycixjcmFycixsQXJyLHVBcnIsckFycixkQXJyLGhBcnIsZm9yYWxsLHBhcnQsZXhpc3QsZW1wdHksbmFibGEsaXNpbixub3RpbixuaSxwcm9kLHN1bSxtaW51cyxsb3dhc3QscmFkaWMscHJvcCxpbmZpbixhbmcsYW5kLG9yLGNhcCxjdXAsaW50LHRoZXJlNCxzaW0sY29uZyxhc3ltcCxuZSxlcXVpdixsZSxnZSxzdWIsc3VwLG5zdWIsc3ViZSxzdXBlLG9wbHVzLG90aW1lcyxwZXJwLHNkb3QsbGNlaWwscmNlaWwsbGZsb29yLHJmbG9vcixsYW5nLHJhbmcsbG96LHNwYWRlcyxjbHVicyxoZWFydHMsZGlhbXMsY2lyYyx0aWxkZSxlbnNwLGVtc3AsdGhpbnNwLHp3bmosendqLGxybSxybG0sbmRhc2gsbWRhc2gsbHNxdW8scnNxdW8sc2JxdW8sbGRxdW8scmRxdW8sYmRxdW8sZGFnZ2VyLERhZ2dlcixwZXJtaWwsbHNhcXVvLHJzYXF1byxldXJvXCIpLFxuZS5lbnRpdGllc19sYXRpbiYmbS5wdXNoKFwiQWdyYXZlLEFhY3V0ZSxBY2lyYyxBdGlsZGUsQXVtbCxBcmluZyxBRWxpZyxDY2VkaWwsRWdyYXZlLEVhY3V0ZSxFY2lyYyxFdW1sLElncmF2ZSxJYWN1dGUsSWNpcmMsSXVtbCxFVEgsTnRpbGRlLE9ncmF2ZSxPYWN1dGUsT2NpcmMsT3RpbGRlLE91bWwsT3NsYXNoLFVncmF2ZSxVYWN1dGUsVWNpcmMsVXVtbCxZYWN1dGUsVEhPUk4sc3psaWcsYWdyYXZlLGFhY3V0ZSxhY2lyYyxhdGlsZGUsYXVtbCxhcmluZyxhZWxpZyxjY2VkaWwsZWdyYXZlLGVhY3V0ZSxlY2lyYyxldW1sLGlncmF2ZSxpYWN1dGUsaWNpcmMsaXVtbCxldGgsbnRpbGRlLG9ncmF2ZSxvYWN1dGUsb2NpcmMsb3RpbGRlLG91bWwsb3NsYXNoLHVncmF2ZSx1YWN1dGUsdWNpcmMsdXVtbCx5YWN1dGUsdGhvcm4seXVtbCxPRWxpZyxvZWxpZyxTY2Fyb24sc2Nhcm9uLFl1bWxcIiksZS5lbnRpdGllc19ncmVlayYmbS5wdXNoKFwiQWxwaGEsQmV0YSxHYW1tYSxEZWx0YSxFcHNpbG9uLFpldGEsRXRhLFRoZXRhLElvdGEsS2FwcGEsTGFtYmRhLE11LE51LFhpLE9taWNyb24sUGksUmhvLFNpZ21hLFRhdSxVcHNpbG9uLFBoaSxDaGksUHNpLE9tZWdhLGFscGhhLGJldGEsZ2FtbWEsZGVsdGEsZXBzaWxvbix6ZXRhLGV0YSx0aGV0YSxpb3RhLGthcHBhLGxhbWJkYSxtdSxudSx4aSxvbWljcm9uLHBpLHJobyxzaWdtYWYsc2lnbWEsdGF1LHVwc2lsb24scGhpLGNoaSxwc2ksb21lZ2EsdGhldGFzeW0sdXBzaWgscGl2XCIpLFxuZS5lbnRpdGllc19hZGRpdGlvbmFsJiZtLnB1c2goZS5lbnRpdGllc19hZGRpdGlvbmFsKSk7dmFyIGw9YShtLmpvaW4oXCIsXCIpKSxkPWwucmVnZXg/XCJbXCIrbC5yZWdleCtcIl1cIjpcImFeXCI7ZGVsZXRlIGwucmVnZXg7ZS5lbnRpdGllcyYmZS5lbnRpdGllc19wcm9jZXNzTnVtZXJpY2FsJiYoZD1cIlteIC1+XXxcIitkKTt2YXIgZD1uZXcgUmVnRXhwKGQsXCJnXCIpLGg9YShcIm5ic3AsZ3QsbHQsYW1wLHNoeVwiLCEwKSxrPW5ldyBSZWdFeHAoaC5yZWdleCxcImdcIik7Zi5hZGRSdWxlcyh7dGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGssYikucmVwbGFjZShkLGMpfX0se2FwcGx5VG9BbGw6ITAsZXhjbHVkZU5lc3RlZEVkaXRhYmxlOiEwfSl9fX0pfSgpLENLRURJVE9SLmNvbmZpZy5iYXNpY0VudGl0aWVzPSEwLENLRURJVE9SLmNvbmZpZy5lbnRpdGllcz0hMCxDS0VESVRPUi5jb25maWcuZW50aXRpZXNfbGF0aW49ITAsQ0tFRElUT1IuY29uZmlnLmVudGl0aWVzX2dyZWVrPSEwLFxuQ0tFRElUT1IuY29uZmlnLmVudGl0aWVzX2FkZGl0aW9uYWw9XCIjMzlcIixDS0VESVRPUi5wbHVnaW5zLmFkZChcInBvcHVwXCIpLENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHtwb3B1cDpmdW5jdGlvbihhLGYsYixjKXtmPWZ8fFwiODAlXCI7Yj1ifHxcIjcwJVwiO1wic3RyaW5nXCI9PXR5cGVvZiBmJiYxPGYubGVuZ3RoJiZcIiVcIj09Zi5zdWJzdHIoZi5sZW5ndGgtMSwxKSYmKGY9cGFyc2VJbnQod2luZG93LnNjcmVlbi53aWR0aCpwYXJzZUludChmLDEwKS8xMDAsMTApKTtcInN0cmluZ1wiPT10eXBlb2YgYiYmMTxiLmxlbmd0aCYmXCIlXCI9PWIuc3Vic3RyKGIubGVuZ3RoLTEsMSkmJihiPXBhcnNlSW50KHdpbmRvdy5zY3JlZW4uaGVpZ2h0KnBhcnNlSW50KGIsMTApLzEwMCwxMCkpOzY0MD5mJiYoZj02NDApOzQyMD5iJiYoYj00MjApO3ZhciBlPXBhcnNlSW50KCh3aW5kb3cuc2NyZWVuLmhlaWdodC1iKS8yLDEwKSxtPXBhcnNlSW50KCh3aW5kb3cuc2NyZWVuLndpZHRoLVxuZikvMiwxMCk7Yz0oY3x8XCJsb2NhdGlvblxceDNkbm8sbWVudWJhclxceDNkbm8sdG9vbGJhclxceDNkbm8sZGVwZW5kZW50XFx4M2R5ZXMsbWluaW1pemFibGVcXHgzZG5vLG1vZGFsXFx4M2R5ZXMsYWx3YXlzUmFpc2VkXFx4M2R5ZXMscmVzaXphYmxlXFx4M2R5ZXMsc2Nyb2xsYmFyc1xceDNkeWVzXCIpK1wiLHdpZHRoXFx4M2RcIitmK1wiLGhlaWdodFxceDNkXCIrYitcIix0b3BcXHgzZFwiK2UrXCIsbGVmdFxceDNkXCIrbTt2YXIgbD13aW5kb3cub3BlbihcIlwiLG51bGwsYywhMCk7aWYoIWwpcmV0dXJuITE7dHJ5ey0xPT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIiBjaHJvbWUvXCIpJiYobC5tb3ZlVG8obSxlKSxsLnJlc2l6ZVRvKGYsYikpLGwuZm9jdXMoKSxsLmxvY2F0aW9uLmhyZWY9YX1jYXRjaChkKXt3aW5kb3cub3BlbihhLG51bGwsYywhMCl9cmV0dXJuITB9fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dmFyIGM9W107aWYoYilmb3IodmFyIGQgaW4gYiljLnB1c2goZCtcblwiXFx4M2RcIitlbmNvZGVVUklDb21wb25lbnQoYltkXSkpO2Vsc2UgcmV0dXJuIGE7cmV0dXJuIGErKC0xIT1hLmluZGV4T2YoXCI/XCIpP1wiXFx4MjZcIjpcIj9cIikrYy5qb2luKFwiXFx4MjZcIil9ZnVuY3Rpb24gZihhKXthKz1cIlwiO3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpfWZ1bmN0aW9uIGIoKXt2YXIgYj10aGlzLmdldERpYWxvZygpLGM9Yi5nZXRQYXJlbnRFZGl0b3IoKTtjLl8uZmlsZWJyb3dzZXJTZT10aGlzO3ZhciBkPWMuY29uZmlnW1wiZmlsZWJyb3dzZXJcIitmKGIuZ2V0TmFtZSgpKStcIldpbmRvd1dpZHRoXCJdfHxjLmNvbmZpZy5maWxlYnJvd3NlcldpbmRvd1dpZHRofHxcIjgwJVwiLGI9Yy5jb25maWdbXCJmaWxlYnJvd3NlclwiK2YoYi5nZXROYW1lKCkpK1wiV2luZG93SGVpZ2h0XCJdfHxjLmNvbmZpZy5maWxlYnJvd3NlcldpbmRvd0hlaWdodHx8XCI3MCVcIixlPXRoaXMuZmlsZWJyb3dzZXIucGFyYW1zfHx7fTtlLkNLRWRpdG9yPWMubmFtZTtlLkNLRWRpdG9yRnVuY051bT1cbmMuXy5maWxlYnJvd3NlckZuO2UubGFuZ0NvZGV8fChlLmxhbmdDb2RlPWMubGFuZ0NvZGUpO2U9YSh0aGlzLmZpbGVicm93c2VyLnVybCxlKTtjLnBvcHVwKGUsZCxiLGMuY29uZmlnLmZpbGVicm93c2VyV2luZG93RmVhdHVyZXN8fGMuY29uZmlnLmZpbGVCcm93c2VyV2luZG93RmVhdHVyZXMpfWZ1bmN0aW9uIGMoKXt2YXIgYT10aGlzLmdldERpYWxvZygpO2EuZ2V0UGFyZW50RWRpdG9yKCkuXy5maWxlYnJvd3NlclNlPXRoaXM7cmV0dXJuIGEuZ2V0Q29udGVudEVsZW1lbnQodGhpc1tcImZvclwiXVswXSx0aGlzW1wiZm9yXCJdWzFdKS5nZXRJbnB1dEVsZW1lbnQoKS4kLnZhbHVlJiZhLmdldENvbnRlbnRFbGVtZW50KHRoaXNbXCJmb3JcIl1bMF0sdGhpc1tcImZvclwiXVsxXSkuZ2V0QWN0aW9uKCk/ITA6ITF9ZnVuY3Rpb24gZShiLGMsZCl7dmFyIGU9ZC5wYXJhbXN8fHt9O2UuQ0tFZGl0b3I9Yi5uYW1lO2UuQ0tFZGl0b3JGdW5jTnVtPWIuXy5maWxlYnJvd3NlckZuO2UubGFuZ0NvZGV8fFxuKGUubGFuZ0NvZGU9Yi5sYW5nQ29kZSk7Yy5hY3Rpb249YShkLnVybCxlKTtjLmZpbGVicm93c2VyPWR9ZnVuY3Rpb24gbShhLGQsZyxsKXtpZihsJiZsLmxlbmd0aClmb3IodmFyIHEscD1sLmxlbmd0aDtwLS07KWlmKHE9bFtwXSxcImhib3hcIiE9cS50eXBlJiZcInZib3hcIiE9cS50eXBlJiZcImZpZWxkc2V0XCIhPXEudHlwZXx8bShhLGQsZyxxLmNoaWxkcmVuKSxxLmZpbGVicm93c2VyKWlmKFwic3RyaW5nXCI9PXR5cGVvZiBxLmZpbGVicm93c2VyJiYocS5maWxlYnJvd3Nlcj17YWN0aW9uOlwiZmlsZUJ1dHRvblwiPT1xLnR5cGU/XCJRdWlja1VwbG9hZFwiOlwiQnJvd3NlXCIsdGFyZ2V0OnEuZmlsZWJyb3dzZXJ9KSxcIkJyb3dzZVwiPT1xLmZpbGVicm93c2VyLmFjdGlvbil7dmFyIHQ9cS5maWxlYnJvd3Nlci51cmw7dm9pZCAwPT09dCYmKHQ9YS5jb25maWdbXCJmaWxlYnJvd3NlclwiK2YoZCkrXCJCcm93c2VVcmxcIl0sdm9pZCAwPT09dCYmKHQ9YS5jb25maWcuZmlsZWJyb3dzZXJCcm93c2VVcmwpKTtcbnQmJihxLm9uQ2xpY2s9YixxLmZpbGVicm93c2VyLnVybD10LHEuaGlkZGVuPSExKX1lbHNlIGlmKFwiUXVpY2tVcGxvYWRcIj09cS5maWxlYnJvd3Nlci5hY3Rpb24mJnFbXCJmb3JcIl0mJih0PXEuZmlsZWJyb3dzZXIudXJsLHZvaWQgMD09PXQmJih0PWEuY29uZmlnW1wiZmlsZWJyb3dzZXJcIitmKGQpK1wiVXBsb2FkVXJsXCJdLHZvaWQgMD09PXQmJih0PWEuY29uZmlnLmZpbGVicm93c2VyVXBsb2FkVXJsKSksdCkpe3ZhciB2PXEub25DbGljaztxLm9uQ2xpY2s9ZnVuY3Rpb24oYSl7dmFyIGI9YS5zZW5kZXI7aWYodiYmITE9PT12LmNhbGwoYixhKSlyZXR1cm4hMTtpZihjLmNhbGwoYixhKSl7YT1iLmdldERpYWxvZygpLmdldENvbnRlbnRFbGVtZW50KHRoaXNbXCJmb3JcIl1bMF0sdGhpc1tcImZvclwiXVsxXSkuZ2V0SW5wdXRFbGVtZW50KCk7aWYoYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYS4kLmZvcm0pKShhPWIuJC5lbGVtZW50cy5ja0NzcmZUb2tlbik/YT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSk6XG4oYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJpbnB1dFwiKSxhLnNldEF0dHJpYnV0ZXMoe25hbWU6XCJja0NzcmZUb2tlblwiLHR5cGU6XCJoaWRkZW5cIn0pLGIuYXBwZW5kKGEpKSxhLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsQ0tFRElUT1IudG9vbHMuZ2V0Q3NyZlRva2VuKCkpO3JldHVybiEwfXJldHVybiExfTtxLmZpbGVicm93c2VyLnVybD10O3EuaGlkZGVuPSExO2UoYSxnLmdldENvbnRlbnRzKHFbXCJmb3JcIl1bMF0pLmdldChxW1wiZm9yXCJdWzFdKSxxLmZpbGVicm93c2VyKX19ZnVuY3Rpb24gbChhLGIsYyl7aWYoLTEhPT1jLmluZGV4T2YoXCI7XCIpKXtjPWMuc3BsaXQoXCI7XCIpO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKGwoYSxiLGNbZF0pKXJldHVybiEwO3JldHVybiExfXJldHVybihhPWEuZ2V0Q29udGVudHMoYikuZ2V0KGMpLmZpbGVicm93c2VyKSYmYS51cmx9ZnVuY3Rpb24gZChhLGIpe3ZhciBjPXRoaXMuXy5maWxlYnJvd3NlclNlLmdldERpYWxvZygpLGQ9dGhpcy5fLmZpbGVicm93c2VyU2VbXCJmb3JcIl0sXG5lPXRoaXMuXy5maWxlYnJvd3NlclNlLmZpbGVicm93c2VyLm9uU2VsZWN0O2QmJmMuZ2V0Q29udGVudEVsZW1lbnQoZFswXSxkWzFdKS5yZXNldCgpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGJ8fCExIT09Yi5jYWxsKHRoaXMuXy5maWxlYnJvd3NlclNlKSlpZighZXx8ITEhPT1lLmNhbGwodGhpcy5fLmZpbGVicm93c2VyU2UsYSxiKSlpZihcInN0cmluZ1wiPT10eXBlb2YgYiYmYiYmYWxlcnQoYiksYSYmKGQ9dGhpcy5fLmZpbGVicm93c2VyU2UsYz1kLmdldERpYWxvZygpLGQ9ZC5maWxlYnJvd3Nlci50YXJnZXR8fG51bGwpKWlmKGQ9ZC5zcGxpdChcIjpcIiksZT1jLmdldENvbnRlbnRFbGVtZW50KGRbMF0sZFsxXSkpZS5zZXRWYWx1ZShhKSxjLnNlbGVjdFBhZ2UoZFswXSl9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJmaWxlYnJvd3NlclwiLHtyZXF1aXJlczpcInBvcHVwXCIsaW5pdDpmdW5jdGlvbihhKXthLl8uZmlsZWJyb3dzZXJGbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihkLGEpO1xuYS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKHRoaXMuXy5maWxlYnJvd3NlckZuKX0pfX0pO0NLRURJVE9SLm9uKFwiZGlhbG9nRGVmaW5pdGlvblwiLGZ1bmN0aW9uKGEpe2lmKGEuZWRpdG9yLnBsdWdpbnMuZmlsZWJyb3dzZXIpZm9yKHZhciBiPWEuZGF0YS5kZWZpbml0aW9uLGMsZD0wO2Q8Yi5jb250ZW50cy5sZW5ndGg7KytkKWlmKGM9Yi5jb250ZW50c1tkXSltKGEuZWRpdG9yLGEuZGF0YS5uYW1lLGIsYy5lbGVtZW50cyksYy5oaWRkZW4mJmMuZmlsZWJyb3dzZXImJihjLmhpZGRlbj0hbChiLGMuaWQsYy5maWxlYnJvd3NlcikpfSl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3ZhciBlPWEuY29uZmlnLG09YS5maXJlKFwidWlTcGFjZVwiLHtzcGFjZTpcInRvcFwiLGh0bWw6XCJcIn0pLmh0bWwsbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGQoYSxjLGUpe2guc2V0U3R5bGUoYyxiKGUpKTtoLnNldFN0eWxlKFwicG9zaXRpb25cIixhKX1mdW5jdGlvbiBnKGEpe3ZhciBiPVxubS5nZXREb2N1bWVudFBvc2l0aW9uKCk7c3dpdGNoKGEpe2Nhc2UgXCJ0b3BcIjpkKFwiYWJzb2x1dGVcIixcInRvcFwiLGIueS1CLXopO2JyZWFrO2Nhc2UgXCJwaW5cIjpkKFwiZml4ZWRcIixcInRvcFwiLHkpO2JyZWFrO2Nhc2UgXCJib3R0b21cIjpkKFwiYWJzb2x1dGVcIixcInRvcFwiLGIueSsoci5oZWlnaHR8fHIuYm90dG9tLXIudG9wKSt6KX1rPWF9dmFyIGssbSx2LHIsdSxCLHgsdz1lLmZsb2F0U3BhY2VEb2NrZWRPZmZzZXRYfHwwLHo9ZS5mbG9hdFNwYWNlRG9ja2VkT2Zmc2V0WXx8MCxEPWUuZmxvYXRTcGFjZVBpbm5lZE9mZnNldFh8fDAseT1lLmZsb2F0U3BhY2VQaW5uZWRPZmZzZXRZfHwwO3JldHVybiBmdW5jdGlvbihkKXtpZihtPWEuZWRpdGFibGUoKSl7dmFyIG49ZCYmXCJmb2N1c1wiPT1kLm5hbWU7biYmaC5zaG93KCk7YS5maXJlKFwiZmxvYXRpbmdTcGFjZUxheW91dFwiLHtzaG93Om59KTtoLnJlbW92ZVN0eWxlKFwibGVmdFwiKTtoLnJlbW92ZVN0eWxlKFwicmlnaHRcIik7dj1oLmdldENsaWVudFJlY3QoKTtcbnI9bS5nZXRDbGllbnRSZWN0KCk7dT1mLmdldFZpZXdQYW5lU2l6ZSgpO0I9di5oZWlnaHQ7eD1cInBhZ2VYT2Zmc2V0XCJpbiBmLiQ/Zi4kLnBhZ2VYT2Zmc2V0OkNLRURJVE9SLmRvY3VtZW50LiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7az8oQit6PD1yLnRvcD9nKFwidG9wXCIpOkIrej51LmhlaWdodC1yLmJvdHRvbT9nKFwicGluXCIpOmcoXCJib3R0b21cIiksZD11LndpZHRoLzIsZD1lLmZsb2F0U3BhY2VQcmVmZXJSaWdodD9cInJpZ2h0XCI6MDxyLmxlZnQmJnIucmlnaHQ8dS53aWR0aCYmci53aWR0aD52LndpZHRoP1wicnRsXCI9PWUuY29udGVudHNMYW5nRGlyZWN0aW9uP1wicmlnaHRcIjpcImxlZnRcIjpkLXIubGVmdD5yLnJpZ2h0LWQ/XCJsZWZ0XCI6XCJyaWdodFwiLHYud2lkdGg+dS53aWR0aD8oZD1cImxlZnRcIixuPTApOihuPVwibGVmdFwiPT1kPzA8ci5sZWZ0P3IubGVmdDowOnIucmlnaHQ8dS53aWR0aD91LndpZHRoLXIucmlnaHQ6MCxuK3Yud2lkdGg+dS53aWR0aCYmKGQ9XCJsZWZ0XCI9PWQ/XG5cInJpZ2h0XCI6XCJsZWZ0XCIsbj0wKSksaC5zZXRTdHlsZShkLGIoKFwicGluXCI9PWs/RDp3KStuKyhcInBpblwiPT1rPzA6XCJsZWZ0XCI9PWQ/eDoteCkpKSk6KGs9XCJwaW5cIixnKFwicGluXCIpLGwoZCkpfX19KCk7aWYobSl7dmFyIGQ9bmV3IENLRURJVE9SLnRlbXBsYXRlKCdcXHgzY2RpdiBpZFxceDNkXCJja2Vfe25hbWV9XCIgY2xhc3NcXHgzZFwiY2tlIHtpZH0gY2tlX3Jlc2V0X2FsbCBja2VfY2hyb21lIGNrZV9lZGl0b3Jfe25hbWV9IGNrZV9mbG9hdCBja2Vfe2xhbmdEaXJ9ICcrQ0tFRElUT1IuZW52LmNzc0NsYXNzKydcIiBkaXJcXHgzZFwie2xhbmdEaXJ9XCIgdGl0bGVcXHgzZFwiJysoQ0tFRElUT1IuZW52LmdlY2tvP1wiIFwiOlwiXCIpKydcIiBsYW5nXFx4M2RcIntsYW5nQ29kZX1cIiByb2xlXFx4M2RcImFwcGxpY2F0aW9uXCIgc3R5bGVcXHgzZFwie3N0eWxlfVwiJysoYS50aXRsZT8nIGFyaWEtbGFiZWxsZWRieVxceDNkXCJja2Vfe25hbWV9X2FyaWFsYmxcIic6XCIgXCIpK1wiXFx4M2VcIisoYS50aXRsZT8nXFx4M2NzcGFuIGlkXFx4M2RcImNrZV97bmFtZX1fYXJpYWxibFwiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2V7dm9pY2VMYWJlbH1cXHgzYy9zcGFuXFx4M2UnOlxuXCIgXCIpKydcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfaW5uZXJcIlxceDNlXFx4M2NkaXYgaWRcXHgzZFwie3RvcElkfVwiIGNsYXNzXFx4M2RcImNrZV90b3BcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2V7Y29udGVudH1cXHgzYy9kaXZcXHgzZVxceDNjL2RpdlxceDNlXFx4M2MvZGl2XFx4M2UnKSxoPUNLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKS5hcHBlbmQoQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoZC5vdXRwdXQoe2NvbnRlbnQ6bSxpZDphLmlkLGxhbmdEaXI6YS5sYW5nLmRpcixsYW5nQ29kZTphLmxhbmdDb2RlLG5hbWU6YS5uYW1lLHN0eWxlOlwiZGlzcGxheTpub25lO3otaW5kZXg6XCIrKGUuYmFzZUZsb2F0WkluZGV4LTEpLHRvcElkOmEudWkuc3BhY2VJZChcInRvcFwiKSx2b2ljZUxhYmVsOmEudGl0bGV9KSkpLGs9Q0tFRElUT1IudG9vbHMuZXZlbnRzQnVmZmVyKDUwMCxsKSxnPUNLRURJVE9SLnRvb2xzLmV2ZW50c0J1ZmZlcigxMDAsbCk7aC51bnNlbGVjdGFibGUoKTtoLm9uKFwibW91c2Vkb3duXCIsXG5mdW5jdGlvbihhKXthPWEuZGF0YTthLmdldFRhcmdldCgpLmhhc0FzY2VuZGFudChcImFcIiwxKXx8YS5wcmV2ZW50RGVmYXVsdCgpfSk7YS5vbihcImZvY3VzXCIsZnVuY3Rpb24oYil7bChiKTthLm9uKFwiY2hhbmdlXCIsay5pbnB1dCk7Zi5vbihcInNjcm9sbFwiLGcuaW5wdXQpO2Yub24oXCJyZXNpemVcIixnLmlucHV0KX0pO2Eub24oXCJibHVyXCIsZnVuY3Rpb24oKXtoLmhpZGUoKTthLnJlbW92ZUxpc3RlbmVyKFwiY2hhbmdlXCIsay5pbnB1dCk7Zi5yZW1vdmVMaXN0ZW5lcihcInNjcm9sbFwiLGcuaW5wdXQpO2YucmVtb3ZlTGlzdGVuZXIoXCJyZXNpemVcIixnLmlucHV0KX0pO2Eub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtmLnJlbW92ZUxpc3RlbmVyKFwic2Nyb2xsXCIsZy5pbnB1dCk7Zi5yZW1vdmVMaXN0ZW5lcihcInJlc2l6ZVwiLGcuaW5wdXQpO2guY2xlYXJDdXN0b21EYXRhKCk7aC5yZW1vdmUoKX0pO2EuZm9jdXNNYW5hZ2VyLmhhc0ZvY3VzJiZoLnNob3coKTthLmZvY3VzTWFuYWdlci5hZGQoaCxcbjEpfX12YXIgZj1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSxiPUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aDtDS0VESVRPUi5wbHVnaW5zLmFkZChcImZsb2F0aW5nc3BhY2VcIix7aW5pdDpmdW5jdGlvbihiKXtiLm9uKFwibG9hZGVkXCIsZnVuY3Rpb24oKXthKHRoaXMpfSxudWxsLG51bGwsMjApfX0pfSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwibGlzdGJsb2NrXCIse3JlcXVpcmVzOlwicGFuZWxcIixvbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWxpc3RcIiwnXFx4M2N1bCByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiIGNsYXNzXFx4M2RcImNrZV9wYW5lbF9saXN0XCJcXHgzZXtpdGVtc31cXHgzYy91bFxceDNlJyksZj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWxpc3QtaXRlbVwiLCdcXHgzY2xpIGlkXFx4M2RcIntpZH1cIiBjbGFzc1xceDNkXCJja2VfcGFuZWxfbGlzdEl0ZW1cIiByb2xlXFx4M2RwcmVzZW50YXRpb25cXHgzZVxceDNjYSBpZFxceDNkXCJ7aWR9X29wdGlvblwiIF9ja2VfZm9jdXNcXHgzZDEgaGlkZWZvY3VzXFx4M2R0cnVlIHRpdGxlXFx4M2RcInt0aXRsZX1cIiBocmVmXFx4M2RcImphdmFzY3JpcHQ6dm9pZChcXCd7dmFsfVxcJylcIiAge29uY2xpY2t9XFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Y2xpY2tGbn0sXFwne3ZhbH1cXCcpOyByZXR1cm4gZmFsc2U7XCIgcm9sZVxceDNkXCJvcHRpb25cIlxceDNle3RleHR9XFx4M2MvYVxceDNlXFx4M2MvbGlcXHgzZScpLFxuYj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWxpc3QtZ3JvdXBcIiwnXFx4M2NoMSBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX3BhbmVsX2dyb3VwdGl0bGVcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiIFxceDNle2xhYmVsfVxceDNjL2gxXFx4M2UnKSxjPS9cXCcvZztDS0VESVRPUi51aS5wYW5lbC5wcm90b3R5cGUuYWRkTGlzdEJsb2NrPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuYWRkQmxvY2soYSxuZXcgQ0tFRElUT1IudWkubGlzdEJsb2NrKHRoaXMuZ2V0SG9sZGVyRWxlbWVudCgpLGIpKX07Q0tFRElUT1IudWkubGlzdEJsb2NrPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLnVpLnBhbmVsLmJsb2NrLCQ6ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3ZhciBjPWIuYXR0cmlidXRlc3x8KGIuYXR0cmlidXRlcz17fSk7KHRoaXMubXVsdGlTZWxlY3Q9ISFiLm11bHRpU2VsZWN0KSYmKGNbXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiXT0hMCk7IWMucm9sZSYmXG4oYy5yb2xlPVwibGlzdGJveFwiKTt0aGlzLmJhc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsYy5yb2xlKTtjPXRoaXMua2V5cztjWzQwXT1cIm5leHRcIjtjWzldPVwibmV4dFwiO2NbMzhdPVwicHJldlwiO2NbQ0tFRElUT1IuU0hJRlQrOV09XCJwcmV2XCI7Y1szMl09Q0tFRElUT1IuZW52LmllP1wibW91c2V1cFwiOlwiY2xpY2tcIjtDS0VESVRPUi5lbnYuaWUmJihjWzEzXT1cIm1vdXNldXBcIik7dGhpcy5fLnBlbmRpbmdIdG1sPVtdO3RoaXMuXy5wZW5kaW5nTGlzdD1bXTt0aGlzLl8uaXRlbXM9e307dGhpcy5fLmdyb3Vwcz17fX0sXzp7Y2xvc2U6ZnVuY3Rpb24oKXtpZih0aGlzLl8uc3RhcnRlZCl7dmFyIGI9YS5vdXRwdXQoe2l0ZW1zOnRoaXMuXy5wZW5kaW5nTGlzdC5qb2luKFwiXCIpfSk7dGhpcy5fLnBlbmRpbmdMaXN0PVtdO3RoaXMuXy5wZW5kaW5nSHRtbC5wdXNoKGIpO2RlbGV0ZSB0aGlzLl8uc3RhcnRlZH19LGdldENsaWNrOmZ1bmN0aW9uKCl7dGhpcy5fLmNsaWNrfHxcbih0aGlzLl8uY2xpY2s9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy50b2dnbGUoYSk7aWYodGhpcy5vbkNsaWNrKXRoaXMub25DbGljayhhLGIpfSx0aGlzKSk7cmV0dXJuIHRoaXMuXy5jbGlja319LHByb3RvOnthZGQ6ZnVuY3Rpb24oYSxiLGwpe3ZhciBkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3RoaXMuXy5zdGFydGVkfHwodGhpcy5fLnN0YXJ0ZWQ9MSx0aGlzLl8uc2l6ZT10aGlzLl8uc2l6ZXx8MCk7dGhpcy5fLml0ZW1zW2FdPWQ7dmFyIGg7aD1DS0VESVRPUi50b29scy5odG1sRW5jb2RlQXR0cihhKS5yZXBsYWNlKGMsXCJcXFxcJ1wiKTthPXtpZDpkLHZhbDpoLG9uY2xpY2s6Q0tFRElUT1IuZW52LmllPydvbmNsaWNrXFx4M2RcInJldHVybiBmYWxzZTtcIiBvbm1vdXNldXAnOlwib25jbGlja1wiLGNsaWNrRm46dGhpcy5fLmdldENsaWNrKCksdGl0bGU6Q0tFRElUT1IudG9vbHMuaHRtbEVuY29kZUF0dHIobHx8YSksdGV4dDpifHxhfTtcbnRoaXMuXy5wZW5kaW5nTGlzdC5wdXNoKGYub3V0cHV0KGEpKX0sc3RhcnRHcm91cDpmdW5jdGlvbihhKXt0aGlzLl8uY2xvc2UoKTt2YXIgYz1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTt0aGlzLl8uZ3JvdXBzW2FdPWM7dGhpcy5fLnBlbmRpbmdIdG1sLnB1c2goYi5vdXRwdXQoe2lkOmMsbGFiZWw6YX0pKX0sY29tbWl0OmZ1bmN0aW9uKCl7dGhpcy5fLmNsb3NlKCk7dGhpcy5lbGVtZW50LmFwcGVuZEh0bWwodGhpcy5fLnBlbmRpbmdIdG1sLmpvaW4oXCJcIikpO2RlbGV0ZSB0aGlzLl8uc2l6ZTt0aGlzLl8ucGVuZGluZ0h0bWw9W119LHRvZ2dsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmlzTWFya2VkKGEpO2I/dGhpcy51bm1hcmsoYSk6dGhpcy5tYXJrKGEpO3JldHVybiFifSxoaWRlR3JvdXA6ZnVuY3Rpb24oYSl7dmFyIGI9KGE9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLl8uZ3JvdXBzW2FdKSkmJmEuZ2V0TmV4dCgpO2EmJihhLnNldFN0eWxlKFwiZGlzcGxheVwiLFxuXCJub25lXCIpLGImJlwidWxcIj09Yi5nZXROYW1lKCkmJmIuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpKX0saGlkZUl0ZW06ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLl8uaXRlbXNbYV0pLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKX0sc2hvd0FsbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5pdGVtcyxiPXRoaXMuXy5ncm91cHMsYz10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKSxkO2ZvcihkIGluIGEpYy5nZXRCeUlkKGFbZF0pLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiXCIpO2Zvcih2YXIgZiBpbiBiKWE9Yy5nZXRCeUlkKGJbZl0pLGQ9YS5nZXROZXh0KCksYS5zZXRTdHlsZShcImRpc3BsYXlcIixcIlwiKSxkJiZcInVsXCI9PWQuZ2V0TmFtZSgpJiZkLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiXCIpfSxtYXJrOmZ1bmN0aW9uKGEpe3RoaXMubXVsdGlTZWxlY3R8fHRoaXMudW5tYXJrQWxsKCk7YT10aGlzLl8uaXRlbXNbYV07dmFyIGI9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZChhKTtcbmIuYWRkQ2xhc3MoXCJja2Vfc2VsZWN0ZWRcIik7dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZChhK1wiX29wdGlvblwiKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsITApO3RoaXMub25NYXJrJiZ0aGlzLm9uTWFyayhiKX0sdW5tYXJrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpO2E9dGhpcy5fLml0ZW1zW2FdO3ZhciBjPWIuZ2V0QnlJZChhKTtjLnJlbW92ZUNsYXNzKFwiY2tlX3NlbGVjdGVkXCIpO2IuZ2V0QnlJZChhK1wiX29wdGlvblwiKS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpO3RoaXMub25Vbm1hcmsmJnRoaXMub25Vbm1hcmsoYyl9LHVubWFya0FsbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5pdGVtcyxiPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLGM7Zm9yKGMgaW4gYSl7dmFyIGQ9YVtjXTtiLmdldEJ5SWQoZCkucmVtb3ZlQ2xhc3MoXCJja2Vfc2VsZWN0ZWRcIik7Yi5nZXRCeUlkKGQrXCJfb3B0aW9uXCIpLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIil9dGhpcy5vblVubWFyayYmXG50aGlzLm9uVW5tYXJrKCl9LGlzTWFya2VkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5pdGVtc1thXSkuaGFzQ2xhc3MoXCJja2Vfc2VsZWN0ZWRcIil9LGZvY3VzOmZ1bmN0aW9uKGEpe3RoaXMuXy5mb2N1c0luZGV4PS0xO3ZhciBiPXRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKSxjLGQ9LTE7aWYoYSlmb3IoYz10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5pdGVtc1thXSkuZ2V0Rmlyc3QoKTthPWIuZ2V0SXRlbSgrK2QpOyl7aWYoYS5lcXVhbHMoYykpe3RoaXMuXy5mb2N1c0luZGV4PWQ7YnJlYWt9fWVsc2UgdGhpcy5lbGVtZW50LmZvY3VzKCk7YyYmc2V0VGltZW91dChmdW5jdGlvbigpe2MuZm9jdXMoKX0sMCl9fX0pfX0pLGZ1bmN0aW9uKCl7dmFyIGE9J1xceDNjYSBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2J1dHRvbiBja2VfYnV0dG9uX197bmFtZX0gY2tlX2J1dHRvbl97c3RhdGV9IHtjbHN9XCInK1xuKENLRURJVE9SLmVudi5nZWNrbyYmIUNLRURJVE9SLmVudi5oYz9cIlwiOlwiIGhyZWZcXHgzZFxcXCJqYXZhc2NyaXB0OnZvaWQoJ3t0aXRsZUpzfScpXFxcIlwiKSsnIHRpdGxlXFx4M2RcInt0aXRsZX1cIiB0YWJpbmRleFxceDNkXCItMVwiIGhpZGVmb2N1c1xceDNkXCJ0cnVlXCIgcm9sZVxceDNkXCJidXR0b25cIiBhcmlhLWxhYmVsbGVkYnlcXHgzZFwie2lkfV9sYWJlbFwiIGFyaWEtZGVzY3JpYmVkYnlcXHgzZFwie2lkfV9kZXNjcmlwdGlvblwiIGFyaWEtaGFzcG9wdXBcXHgzZFwie2hhc0Fycm93fVwiIGFyaWEtZGlzYWJsZWRcXHgzZFwie2FyaWFEaXNhYmxlZH1cIic7Q0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjJiYoYSs9JyBvbmtleXByZXNzXFx4M2RcInJldHVybiBmYWxzZTtcIicpO0NLRURJVE9SLmVudi5nZWNrbyYmKGErPScgb25ibHVyXFx4M2RcInRoaXMuc3R5bGUuY3NzVGV4dCBcXHgzZCB0aGlzLnN0eWxlLmNzc1RleHQ7XCInKTt2YXIgYT1hKygnIG9ua2V5ZG93blxceDNkXCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtrZXlkb3duRm59LGV2ZW50KTtcIiBvbmZvY3VzXFx4M2RcInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2ZvY3VzRm59LGV2ZW50KTtcIiAnK1xuKENLRURJVE9SLmVudi5pZT8nb25jbGlja1xceDNkXCJyZXR1cm4gZmFsc2U7XCIgb25tb3VzZXVwJzpcIm9uY2xpY2tcIikrJ1xceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHRoaXMpO3JldHVybiBmYWxzZTtcIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9idXR0b25faWNvbiBja2VfYnV0dG9uX197aWNvbk5hbWV9X2ljb25cIiBzdHlsZVxceDNkXCJ7c3R5bGV9XCInKSxhPWErJ1xceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X2xhYmVsXCIgY2xhc3NcXHgzZFwiY2tlX2J1dHRvbl9sYWJlbCBja2VfYnV0dG9uX197bmFtZX1fbGFiZWxcIiBhcmlhLWhpZGRlblxceDNkXCJmYWxzZVwiXFx4M2V7bGFiZWx9XFx4M2Mvc3BhblxceDNlXFx4M2NzcGFuIGlkXFx4M2RcIntpZH1fZGVzY3JpcHRpb25cIiBjbGFzc1xceDNkXCJja2VfYnV0dG9uX2xhYmVsXCIgYXJpYS1oaWRkZW5cXHgzZFwiZmFsc2VcIlxceDNle2FyaWFTaG9ydGN1dH1cXHgzYy9zcGFuXFx4M2V7YXJyb3dIdG1sfVxceDNjL2FcXHgzZScsXG5mPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwiYnV0dG9uQXJyb3dcIiwnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9idXR0b25fYXJyb3dcIlxceDNlJysoQ0tFRElUT1IuZW52LmhjP1wiXFx4MjYjOTY2MDtcIjpcIlwiKStcIlxceDNjL3NwYW5cXHgzZVwiKSxiPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwiYnV0dG9uXCIsYSk7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJidXR0b25cIix7YmVmb3JlSW5pdDpmdW5jdGlvbihhKXthLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfQlVUVE9OLENLRURJVE9SLnVpLmJ1dHRvbi5oYW5kbGVyKX19KTtDS0VESVRPUi5VSV9CVVRUT049XCJidXR0b25cIjtDS0VESVRPUi51aS5idXR0b249ZnVuY3Rpb24oYSl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYSx7dGl0bGU6YS5sYWJlbCxjbGljazphLmNsaWNrfHxmdW5jdGlvbihiKXtiLmV4ZWNDb21tYW5kKGEuY29tbWFuZCl9fSk7dGhpcy5fPXt9fTtDS0VESVRPUi51aS5idXR0b24uaGFuZGxlcj17Y3JlYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IudWkuYnV0dG9uKGEpfX07XG5DS0VESVRPUi51aS5idXR0b24ucHJvdG90eXBlPXtyZW5kZXI6ZnVuY3Rpb24oYSxlKXtmdW5jdGlvbiBtKCl7dmFyIGI9YS5tb2RlO2ImJihiPXRoaXMubW9kZXNbYl0/dm9pZCAwIT09dVtiXT91W2JdOkNLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxiPWEucmVhZE9ubHkmJiF0aGlzLnJlYWRPbmx5P0NLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEOmIsdGhpcy5zZXRTdGF0ZShiKSx0aGlzLnJlZnJlc2gmJnRoaXMucmVmcmVzaCgpKX12YXIgbD1DS0VESVRPUi5lbnYsZD10aGlzLl8uaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksaD1cIlwiLGs9dGhpcy5jb21tYW5kLGcsbixxO3RoaXMuXy5lZGl0b3I9YTt2YXIgcD17aWQ6ZCxidXR0b246dGhpcyxlZGl0b3I6YSxmb2N1czpmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZCkuZm9jdXMoKX0sZXhlY3V0ZTpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmNsaWNrKGEpfSxhdHRhY2g6ZnVuY3Rpb24oYSl7dGhpcy5idXR0b24uYXR0YWNoKGEpfX0sXG50PUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGEpe2lmKHAub25rZXkpcmV0dXJuIGE9bmV3IENLRURJVE9SLmRvbS5ldmVudChhKSwhMSE9PXAub25rZXkocCxhLmdldEtleXN0cm9rZSgpKX0pLHY9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7dmFyIGI7cC5vbmZvY3VzJiYoYj0hMSE9PXAub25mb2N1cyhwLG5ldyBDS0VESVRPUi5kb20uZXZlbnQoYSkpKTtyZXR1cm4gYn0pLHI9MDtwLmNsaWNrRm49Zz1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe3ImJihhLnVubG9ja1NlbGVjdGlvbigxKSxyPTApO3AuZXhlY3V0ZSgpO2wuaU9TJiZhLmZvY3VzKCl9KTtpZih0aGlzLm1vZGVzKXt2YXIgdT17fTthLm9uKFwiYmVmb3JlTW9kZVVubG9hZFwiLGZ1bmN0aW9uKCl7YS5tb2RlJiZ0aGlzLl8uc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYodVthLm1vZGVdPXRoaXMuXy5zdGF0ZSl9LHRoaXMpO2Eub24oXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIixcbm0sdGhpcyk7YS5vbihcIm1vZGVcIixtLHRoaXMpOyF0aGlzLnJlYWRPbmx5JiZhLm9uKFwicmVhZE9ubHlcIixtLHRoaXMpfWVsc2UgayYmKGs9YS5nZXRDb21tYW5kKGspKSYmKGsub24oXCJzdGF0ZVwiLGZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0ZShrLnN0YXRlKX0sdGhpcyksaCs9ay5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04/XCJvblwiOmsuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEP1wiZGlzYWJsZWRcIjpcIm9mZlwiKTtpZih0aGlzLmRpcmVjdGlvbmFsKWEub24oXCJjb250ZW50RGlyQ2hhbmdlZFwiLGZ1bmN0aW9uKGIpe3ZhciBkPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmlkKSxlPWQuZ2V0Rmlyc3QoKTtiPWIuZGF0YTtiIT1hLmxhbmcuZGlyP2QuYWRkQ2xhc3MoXCJja2VfXCIrYik6ZC5yZW1vdmVDbGFzcyhcImNrZV9sdHJcIikucmVtb3ZlQ2xhc3MoXCJja2VfcnRsXCIpO2Uuc2V0QXR0cmlidXRlKFwic3R5bGVcIixDS0VESVRPUi5za2luLmdldEljb25TdHlsZShCLFxuXCJydGxcIj09Yix0aGlzLmljb24sdGhpcy5pY29uT2Zmc2V0KSl9LHRoaXMpO2s/KG49YS5nZXRDb21tYW5kS2V5c3Ryb2tlKGspKSYmKHE9Q0tFRElUT1IudG9vbHMua2V5c3Ryb2tlVG9TdHJpbmcoYS5sYW5nLmNvbW1vbi5rZXlib2FyZCxuKSk6aCs9XCJvZmZcIjt2YXIgQj1uPXRoaXMubmFtZXx8dGhpcy5jb21tYW5kO3RoaXMuaWNvbiYmIS9cXC4vLnRlc3QodGhpcy5pY29uKSYmKEI9dGhpcy5pY29uLHRoaXMuaWNvbj1udWxsKTtoPXtpZDpkLG5hbWU6bixpY29uTmFtZTpCLGxhYmVsOnRoaXMubGFiZWwsY2xzOnRoaXMuY2xhc3NOYW1lfHxcIlwiLHN0YXRlOmgsYXJpYURpc2FibGVkOlwiZGlzYWJsZWRcIj09aD9cInRydWVcIjpcImZhbHNlXCIsdGl0bGU6dGhpcy50aXRsZSsocT9cIiAoXCIrcS5kaXNwbGF5K1wiKVwiOlwiXCIpLGFyaWFTaG9ydGN1dDpxP2EubGFuZy5jb21tb24ua2V5Ym9hcmRTaG9ydGN1dCtcIiBcIitxLmFyaWE6XCJcIix0aXRsZUpzOmwuZ2Vja28mJiFsLmhjP1wiXCI6KHRoaXMudGl0bGV8fFxuXCJcIikucmVwbGFjZShcIidcIixcIlwiKSxoYXNBcnJvdzp0aGlzLmhhc0Fycm93P1widHJ1ZVwiOlwiZmFsc2VcIixrZXlkb3duRm46dCxmb2N1c0ZuOnYsY2xpY2tGbjpnLHN0eWxlOkNLRURJVE9SLnNraW4uZ2V0SWNvblN0eWxlKEIsXCJydGxcIj09YS5sYW5nLmRpcix0aGlzLmljb24sdGhpcy5pY29uT2Zmc2V0KSxhcnJvd0h0bWw6dGhpcy5oYXNBcnJvdz9mLm91dHB1dCgpOlwiXCJ9O2Iub3V0cHV0KGgsZSk7aWYodGhpcy5vblJlbmRlcil0aGlzLm9uUmVuZGVyKCk7cmV0dXJuIHB9LHNldFN0YXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5zdGF0ZT09YSlyZXR1cm4hMTt0aGlzLl8uc3RhdGU9YTt2YXIgYj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pZCk7cmV0dXJuIGI/KGIuc2V0U3RhdGUoYSxcImNrZV9idXR0b25cIiksYT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ/Yi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsITApOmIucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKSxcbnRoaXMuaGFzQXJyb3c/KGE9YT09Q0tFRElUT1IuVFJJU1RBVEVfT04/dGhpcy5fLmVkaXRvci5sYW5nLmJ1dHRvbi5zZWxlY3RlZExhYmVsLnJlcGxhY2UoLyUxL2csdGhpcy5sYWJlbCk6dGhpcy5sYWJlbCxDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pZCtcIl9sYWJlbFwiKS5zZXRUZXh0KGEpKTphPT1DS0VESVRPUi5UUklTVEFURV9PTj9iLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLCEwKTpiLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiKSwhMCk6ITF9LGdldFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5zdGF0ZX0sdG9GZWF0dXJlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5mZWF0dXJlKXJldHVybiB0aGlzLl8uZmVhdHVyZTt2YXIgYj10aGlzO3RoaXMuYWxsb3dlZENvbnRlbnR8fHRoaXMucmVxdWlyZWRDb250ZW50fHwhdGhpcy5jb21tYW5kfHwoYj1hLmdldENvbW1hbmQodGhpcy5jb21tYW5kKXx8Yik7cmV0dXJuIHRoaXMuXy5mZWF0dXJlPVxuYn19O0NLRURJVE9SLnVpLnByb3RvdHlwZS5hZGRCdXR0b249ZnVuY3Rpb24oYSxiKXt0aGlzLmFkZChhLENLRURJVE9SLlVJX0JVVFRPTixiKX19KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJyaWNoY29tYm9cIix7cmVxdWlyZXM6XCJmbG9hdHBhbmVsLGxpc3RibG9jayxidXR0b25cIixiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe2EudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9SSUNIQ09NQk8sQ0tFRElUT1IudWkucmljaENvbWJvLmhhbmRsZXIpfX0pLGZ1bmN0aW9uKCl7dmFyIGE9J1xceDNjc3BhbiBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2NvbWJvIGNrZV9jb21ib19fe25hbWV9IHtjbHN9XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2NzcGFuIGlkXFx4M2RcIntpZH1fbGFiZWxcIiBjbGFzc1xceDNkXCJja2VfY29tYm9fbGFiZWxcIlxceDNle2xhYmVsfVxceDNjL3NwYW5cXHgzZVxceDNjYSBjbGFzc1xceDNkXCJja2VfY29tYm9fYnV0dG9uXCIgdGl0bGVcXHgzZFwie3RpdGxlfVwiIHRhYmluZGV4XFx4M2RcIi0xXCInK1xuKENLRURJVE9SLmVudi5nZWNrbyYmIUNLRURJVE9SLmVudi5oYz9cIlwiOlwiIGhyZWZcXHgzZFxcXCJqYXZhc2NyaXB0OnZvaWQoJ3t0aXRsZUpzfScpXFxcIlwiKSsnIGhpZGVmb2N1c1xceDNkXCJ0cnVlXCIgcm9sZVxceDNkXCJidXR0b25cIiBhcmlhLWxhYmVsbGVkYnlcXHgzZFwie2lkfV9sYWJlbFwiIGFyaWEtaGFzcG9wdXBcXHgzZFwidHJ1ZVwiJztDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMmJihhKz0nIG9ua2V5cHJlc3NcXHgzZFwicmV0dXJuIGZhbHNlO1wiJyk7Q0tFRElUT1IuZW52LmdlY2tvJiYoYSs9JyBvbmJsdXJcXHgzZFwidGhpcy5zdHlsZS5jc3NUZXh0IFxceDNkIHRoaXMuc3R5bGUuY3NzVGV4dDtcIicpO3ZhciBhPWErKCcgb25rZXlkb3duXFx4M2RcInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2tleWRvd25Gbn0sZXZlbnQsdGhpcyk7XCIgb25mb2N1c1xceDNkXCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtmb2N1c0ZufSxldmVudCk7XCIgJysoQ0tFRElUT1IuZW52LmllP1xuJ29uY2xpY2tcXHgzZFwicmV0dXJuIGZhbHNlO1wiIG9ubW91c2V1cCc6XCJvbmNsaWNrXCIpKydcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtjbGlja0ZufSx0aGlzKTtyZXR1cm4gZmFsc2U7XCJcXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X3RleHRcIiBjbGFzc1xceDNkXCJja2VfY29tYm9fdGV4dCBja2VfY29tYm9faW5saW5lbGFiZWxcIlxceDNle2xhYmVsfVxceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfY29tYm9fb3BlblwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2NvbWJvX2Fycm93XCJcXHgzZScrKENLRURJVE9SLmVudi5oYz9cIlxceDI2Izk2NjA7XCI6Q0tFRElUT1IuZW52LmFpcj9cIlxceDI2bmJzcDtcIjpcIlwiKStcIlxceDNjL3NwYW5cXHgzZVxceDNjL3NwYW5cXHgzZVxceDNjL2FcXHgzZVxceDNjL3NwYW5cXHgzZVwiKSxmPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwiY29tYm9cIixhKTtDS0VESVRPUi5VSV9SSUNIQ09NQk89XCJyaWNoY29tYm9cIjtDS0VESVRPUi51aS5yaWNoQ29tYm89XG5DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxhLHtjYW5Hcm91cDohMSx0aXRsZTphLmxhYmVsLG1vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOjF9KTthPXRoaXMucGFuZWx8fHt9O2RlbGV0ZSB0aGlzLnBhbmVsO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO3RoaXMuZG9jdW1lbnQ9YS5wYXJlbnQmJmEucGFyZW50LmdldERvY3VtZW50KCl8fENLRURJVE9SLmRvY3VtZW50O2EuY2xhc3NOYW1lPVwiY2tlX2NvbWJvcGFuZWxcIjthLmJsb2NrPXttdWx0aVNlbGVjdDphLm11bHRpU2VsZWN0LGF0dHJpYnV0ZXM6YS5hdHRyaWJ1dGVzfTthLnRvb2xiYXJSZWxhdGVkPSEwO3RoaXMuXz17cGFuZWxEZWZpbml0aW9uOmEsaXRlbXM6e319fSxwcm90bzp7cmVuZGVySHRtbDpmdW5jdGlvbihhKXt2YXIgYz1bXTt0aGlzLnJlbmRlcihhLGMpO3JldHVybiBjLmpvaW4oXCJcIil9LHJlbmRlcjpmdW5jdGlvbihhLFxuYyl7ZnVuY3Rpb24gZSgpe2lmKHRoaXMuZ2V0U3RhdGUoKSE9Q0tFRElUT1IuVFJJU1RBVEVfT04pe3ZhciBjPXRoaXMubW9kZXNbYS5tb2RlXT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ7YS5yZWFkT25seSYmIXRoaXMucmVhZE9ubHkmJihjPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKTt0aGlzLnNldFN0YXRlKGMpO3RoaXMuc2V0VmFsdWUoXCJcIik7YyE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJnRoaXMucmVmcmVzaCYmdGhpcy5yZWZyZXNoKCl9fXZhciBtPUNLRURJVE9SLmVudixsPVwiY2tlX1wiK3RoaXMuaWQsZD1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihjKXtxJiYoYS51bmxvY2tTZWxlY3Rpb24oMSkscT0wKTtrLmV4ZWN1dGUoYyl9LHRoaXMpLGg9dGhpcyxrPXtpZDpsLGNvbWJvOnRoaXMsZm9jdXM6ZnVuY3Rpb24oKXtDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGwpLmdldENoaWxkKDEpLmZvY3VzKCl9LFxuZXhlY3V0ZTpmdW5jdGlvbihjKXt2YXIgZD1oLl87aWYoZC5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpaWYoaC5jcmVhdGVQYW5lbChhKSxkLm9uKWQucGFuZWwuaGlkZSgpO2Vsc2V7aC5jb21taXQoKTt2YXIgZT1oLmdldFZhbHVlKCk7ZT9kLmxpc3QubWFyayhlKTpkLmxpc3QudW5tYXJrQWxsKCk7ZC5wYW5lbC5zaG93QmxvY2soaC5pZCxuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYyksNCl9fSxjbGlja0ZuOmR9O2Eub24oXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIixlLHRoaXMpO2Eub24oXCJtb2RlXCIsZSx0aGlzKTthLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZSx0aGlzKTshdGhpcy5yZWFkT25seSYmYS5vbihcInJlYWRPbmx5XCIsZSx0aGlzKTt2YXIgZz1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihjLGUpe2M9bmV3IENLRURJVE9SLmRvbS5ldmVudChjKTt2YXIgZj1jLmdldEtleXN0cm9rZSgpO2lmKDQwPT1mKWEub25jZShcInBhbmVsU2hvd1wiLGZ1bmN0aW9uKGEpe2EuZGF0YS5fLnBhbmVsLl8uY3VycmVudEJsb2NrLm9uS2V5RG93big0MCl9KTtcbnN3aXRjaChmKXtjYXNlIDEzOmNhc2UgMzI6Y2FzZSA0MDpDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oZCxlKTticmVhaztkZWZhdWx0Omsub25rZXkoayxmKX1jLnByZXZlbnREZWZhdWx0KCl9KSxuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7ay5vbmZvY3VzJiZrLm9uZm9jdXMoKX0pLHE9MDtrLmtleURvd25Gbj1nO209e2lkOmwsbmFtZTp0aGlzLm5hbWV8fHRoaXMuY29tbWFuZCxsYWJlbDp0aGlzLmxhYmVsLHRpdGxlOnRoaXMudGl0bGUsY2xzOnRoaXMuY2xhc3NOYW1lfHxcIlwiLHRpdGxlSnM6bS5nZWNrbyYmIW0uaGM/XCJcIjoodGhpcy50aXRsZXx8XCJcIikucmVwbGFjZShcIidcIixcIlwiKSxrZXlkb3duRm46Zyxmb2N1c0ZuOm4sY2xpY2tGbjpkfTtmLm91dHB1dChtLGMpO2lmKHRoaXMub25SZW5kZXIpdGhpcy5vblJlbmRlcigpO3JldHVybiBrfSxjcmVhdGVQYW5lbDpmdW5jdGlvbihhKXtpZighdGhpcy5fLnBhbmVsKXt2YXIgYz10aGlzLl8ucGFuZWxEZWZpbml0aW9uLFxuZT10aGlzLl8ucGFuZWxEZWZpbml0aW9uLmJsb2NrLGY9Yy5wYXJlbnR8fENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSxsPVwiY2tlX2NvbWJvcGFuZWxfX1wiK3RoaXMubmFtZSxkPW5ldyBDS0VESVRPUi51aS5mbG9hdFBhbmVsKGEsZixjKSxoPWQuYWRkTGlzdEJsb2NrKHRoaXMuaWQsZSksaz10aGlzO2Qub25TaG93PWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKGwpO2suc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pO2suXy5vbj0xO2suZWRpdG9yRm9jdXMmJiFhLmZvY3VzTWFuYWdlci5oYXNGb2N1cyYmYS5mb2N1cygpO2lmKGsub25PcGVuKWsub25PcGVuKCk7YS5vbmNlKFwicGFuZWxTaG93XCIsZnVuY3Rpb24oKXtoLmZvY3VzKCFoLm11bHRpU2VsZWN0JiZrLmdldFZhbHVlKCkpfSl9O2Qub25IaWRlPWZ1bmN0aW9uKGMpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhsKTtrLnNldFN0YXRlKGsubW9kZXMmJmsubW9kZXNbYS5tb2RlXT9DS0VESVRPUi5UUklTVEFURV9PRkY6XG5DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7ay5fLm9uPTA7aWYoIWMmJmsub25DbG9zZSlrLm9uQ2xvc2UoKX07ZC5vbkVzY2FwZT1mdW5jdGlvbigpe2QuaGlkZSgxKX07aC5vbkNsaWNrPWZ1bmN0aW9uKGEsYil7ay5vbkNsaWNrJiZrLm9uQ2xpY2suY2FsbChrLGEsYik7ZC5oaWRlKCl9O3RoaXMuXy5wYW5lbD1kO3RoaXMuXy5saXN0PWg7ZC5nZXRCbG9jayh0aGlzLmlkKS5vbkhpZGU9ZnVuY3Rpb24oKXtrLl8ub249MDtrLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRil9O3RoaXMuaW5pdCYmdGhpcy5pbml0KCl9fSxzZXRWYWx1ZTpmdW5jdGlvbihhLGMpe3RoaXMuXy52YWx1ZT1hO3ZhciBlPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZChcImNrZV9cIit0aGlzLmlkK1wiX3RleHRcIik7ZSYmKGF8fGM/ZS5yZW1vdmVDbGFzcyhcImNrZV9jb21ib19pbmxpbmVsYWJlbFwiKTooYz10aGlzLmxhYmVsLGUuYWRkQ2xhc3MoXCJja2VfY29tYm9faW5saW5lbGFiZWxcIikpLGUuc2V0VGV4dChcInVuZGVmaW5lZFwiIT1cbnR5cGVvZiBjP2M6YSkpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8udmFsdWV8fFwiXCJ9LHVubWFya0FsbDpmdW5jdGlvbigpe3RoaXMuXy5saXN0LnVubWFya0FsbCgpfSxtYXJrOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0Lm1hcmsoYSl9LGhpZGVJdGVtOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0LmhpZGVJdGVtKGEpfSxoaWRlR3JvdXA6ZnVuY3Rpb24oYSl7dGhpcy5fLmxpc3QuaGlkZUdyb3VwKGEpfSxzaG93QWxsOmZ1bmN0aW9uKCl7dGhpcy5fLmxpc3Quc2hvd0FsbCgpfSxhZGQ6ZnVuY3Rpb24oYSxjLGUpe3RoaXMuXy5pdGVtc1thXT1lfHxhO3RoaXMuXy5saXN0LmFkZChhLGMsZSl9LHN0YXJ0R3JvdXA6ZnVuY3Rpb24oYSl7dGhpcy5fLmxpc3Quc3RhcnRHcm91cChhKX0sY29tbWl0OmZ1bmN0aW9uKCl7dGhpcy5fLmNvbW1pdHRlZHx8KHRoaXMuXy5saXN0LmNvbW1pdCgpLHRoaXMuXy5jb21taXR0ZWQ9MSxDS0VESVRPUi51aS5maXJlKFwicmVhZHlcIix0aGlzKSk7XG50aGlzLl8uY29tbWl0dGVkPTF9LHNldFN0YXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5zdGF0ZSE9YSl7dmFyIGM9dGhpcy5kb2N1bWVudC5nZXRCeUlkKFwiY2tlX1wiK3RoaXMuaWQpO2Muc2V0U3RhdGUoYSxcImNrZV9jb21ib1wiKTthPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9jLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwhMCk6Yy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIpO3RoaXMuXy5zdGF0ZT1hfX0sZ2V0U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnN0YXRlfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl8uc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZ0aGlzLnNldFN0YXRlKHRoaXMuXy5sYXN0U3RhdGUpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmKHRoaXMuXy5sYXN0U3RhdGU9dGhpcy5fLnN0YXRlLHRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpKX19LFxuc3RhdGljczp7aGFuZGxlcjp7Y3JlYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IudWkucmljaENvbWJvKGEpfX19fSk7Q0tFRElUT1IudWkucHJvdG90eXBlLmFkZFJpY2hDb21ibz1mdW5jdGlvbihhLGMpe3RoaXMuYWRkKGEsQ0tFRElUT1IuVUlfUklDSENPTUJPLGMpfX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcImZvcm1hdFwiLHtyZXF1aXJlczpcInJpY2hjb21ib1wiLGluaXQ6ZnVuY3Rpb24oYSl7aWYoIWEuYmxvY2tsZXNzKXtmb3IodmFyIGY9YS5jb25maWcsYj1hLmxhbmcuZm9ybWF0LGM9Zi5mb3JtYXRfdGFncy5zcGxpdChcIjtcIiksZT17fSxtPTAsbD1bXSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBoPWNbZF0saz1uZXcgQ0tFRElUT1Iuc3R5bGUoZltcImZvcm1hdF9cIitoXSk7aWYoIWEuZmlsdGVyLmN1c3RvbUNvbmZpZ3x8YS5maWx0ZXIuY2hlY2soaykpbSsrLGVbaF09ayxlW2hdLl8uZW50ZXJNb2RlPWEuY29uZmlnLmVudGVyTW9kZSxsLnB1c2goayl9MCE9PVxubSYmYS51aS5hZGRSaWNoQ29tYm8oXCJGb3JtYXRcIix7bGFiZWw6Yi5sYWJlbCx0aXRsZTpiLnBhbmVsVGl0bGUsdG9vbGJhcjpcInN0eWxlcywyMFwiLGFsbG93ZWRDb250ZW50OmwscGFuZWw6e2NzczpbQ0tFRElUT1Iuc2tpbi5nZXRQYXRoKFwiZWRpdG9yXCIpXS5jb25jYXQoZi5jb250ZW50c0NzcyksbXVsdGlTZWxlY3Q6ITEsYXR0cmlidXRlczp7XCJhcmlhLWxhYmVsXCI6Yi5wYW5lbFRpdGxlfX0saW5pdDpmdW5jdGlvbigpe3RoaXMuc3RhcnRHcm91cChiLnBhbmVsVGl0bGUpO2Zvcih2YXIgYSBpbiBlKXt2YXIgYz1iW1widGFnX1wiK2FdO3RoaXMuYWRkKGEsZVthXS5idWlsZFByZXZpZXcoYyksYyl9fSxvbkNsaWNrOmZ1bmN0aW9uKGIpe2EuZm9jdXMoKTthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7Yj1lW2JdO3ZhciBjPWEuZWxlbWVudFBhdGgoKTthW2IuY2hlY2tBY3RpdmUoYyxhKT9cInJlbW92ZVN0eWxlXCI6XCJhcHBseVN0eWxlXCJdKGIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmZpcmUoXCJzYXZlU25hcHNob3RcIil9LFxuMCl9LG9uUmVuZGVyOmZ1bmN0aW9uKCl7YS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZ2V0VmFsdWUoKTtiPWIuZGF0YS5wYXRoO3RoaXMucmVmcmVzaCgpO2Zvcih2YXIgZCBpbiBlKWlmKGVbZF0uY2hlY2tBY3RpdmUoYixhKSl7ZCE9YyYmdGhpcy5zZXRWYWx1ZShkLGEubGFuZy5mb3JtYXRbXCJ0YWdfXCIrZF0pO3JldHVybn10aGlzLnNldFZhbHVlKFwiXCIpfSx0aGlzKX0sb25PcGVuOmZ1bmN0aW9uKCl7dGhpcy5zaG93QWxsKCk7Zm9yKHZhciBiIGluIGUpYS5hY3RpdmVGaWx0ZXIuY2hlY2soZVtiXSl8fHRoaXMuaGlkZUl0ZW0oYil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj1hLmVsZW1lbnRQYXRoKCk7aWYoYil7aWYoYi5pc0NvbnRleHRGb3IoXCJwXCIpKWZvcih2YXIgYyBpbiBlKWlmKGEuYWN0aXZlRmlsdGVyLmNoZWNrKGVbY10pKXJldHVybjt0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX19fSl9fX0pLENLRURJVE9SLmNvbmZpZy5mb3JtYXRfdGFncz1cblwicDtoMTtoMjtoMztoNDtoNTtoNjtwcmU7YWRkcmVzcztkaXZcIixDS0VESVRPUi5jb25maWcuZm9ybWF0X3A9e2VsZW1lbnQ6XCJwXCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfZGl2PXtlbGVtZW50OlwiZGl2XCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfcHJlPXtlbGVtZW50OlwicHJlXCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfYWRkcmVzcz17ZWxlbWVudDpcImFkZHJlc3NcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9oMT17ZWxlbWVudDpcImgxXCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfaDI9e2VsZW1lbnQ6XCJoMlwifSxDS0VESVRPUi5jb25maWcuZm9ybWF0X2gzPXtlbGVtZW50OlwiaDNcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9oND17ZWxlbWVudDpcImg0XCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfaDU9e2VsZW1lbnQ6XCJoNVwifSxDS0VESVRPUi5jb25maWcuZm9ybWF0X2g2PXtlbGVtZW50OlwiaDZcIn0sZnVuY3Rpb24oKXt2YXIgYT17Y2FuVW5kbzohMSxleGVjOmZ1bmN0aW9uKGEpe3ZhciBiPVxuYS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaHJcIik7YS5pbnNlcnRFbGVtZW50KGIpfSxhbGxvd2VkQ29udGVudDpcImhyXCIscmVxdWlyZWRDb250ZW50OlwiaHJcIn07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJob3Jpem9udGFscnVsZVwiLHtpbml0OmZ1bmN0aW9uKGYpe2YuYmxvY2tsZXNzfHwoZi5hZGRDb21tYW5kKFwiaG9yaXpvbnRhbHJ1bGVcIixhKSxmLnVpLmFkZEJ1dHRvbiYmZi51aS5hZGRCdXR0b24oXCJIb3Jpem9udGFsUnVsZVwiLHtsYWJlbDpmLmxhbmcuaG9yaXpvbnRhbHJ1bGUudG9vbGJhcixjb21tYW5kOlwiaG9yaXpvbnRhbHJ1bGVcIix0b29sYmFyOlwiaW5zZXJ0LDQwXCJ9KSl9fSl9KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJodG1sd3JpdGVyXCIse2luaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9bmV3IENLRURJVE9SLmh0bWxXcml0ZXI7Zi5mb3JjZVNpbXBsZUFtcGVyc2FuZD1hLmNvbmZpZy5mb3JjZVNpbXBsZUFtcGVyc2FuZDtmLmluZGVudGF0aW9uQ2hhcnM9YS5jb25maWcuZGF0YUluZGVudGF0aW9uQ2hhcnN8fFxuXCJcXHRcIjthLmRhdGFQcm9jZXNzb3Iud3JpdGVyPWZ9fSksQ0tFRElUT1IuaHRtbFdyaXRlcj1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyLCQ6ZnVuY3Rpb24oKXt0aGlzLmJhc2UoKTt0aGlzLmluZGVudGF0aW9uQ2hhcnM9XCJcXHRcIjt0aGlzLnNlbGZDbG9zaW5nRW5kPVwiIC9cXHgzZVwiO3RoaXMubGluZUJyZWFrQ2hhcnM9XCJcXG5cIjt0aGlzLnNvcnRBdHRyaWJ1dGVzPTE7dGhpcy5fLmluZGVudD0wO3RoaXMuXy5pbmRlbnRhdGlvbj1cIlwiO3RoaXMuXy5pblByZT0wO3RoaXMuXy5ydWxlcz17fTt2YXIgYT1DS0VESVRPUi5kdGQsZjtmb3IoZiBpbiBDS0VESVRPUi50b29scy5leHRlbmQoe30sYS4kbm9uQm9keUNvbnRlbnQsYS4kYmxvY2ssYS4kbGlzdEl0ZW0sYS4kdGFibGVDb250ZW50KSl0aGlzLnNldFJ1bGVzKGYse2luZGVudDohYVtmXVtcIiNcIl0sYnJlYWtCZWZvcmVPcGVuOjEsYnJlYWtCZWZvcmVDbG9zZTohYVtmXVtcIiNcIl0sXG5icmVha0FmdGVyQ2xvc2U6MSxuZWVkc1NwYWNlOmYgaW4gYS4kYmxvY2smJiEoZiBpbntsaToxLGR0OjEsZGQ6MX0pfSk7dGhpcy5zZXRSdWxlcyhcImJyXCIse2JyZWFrQWZ0ZXJPcGVuOjF9KTt0aGlzLnNldFJ1bGVzKFwidGl0bGVcIix7aW5kZW50OjAsYnJlYWtBZnRlck9wZW46MH0pO3RoaXMuc2V0UnVsZXMoXCJzdHlsZVwiLHtpbmRlbnQ6MCxicmVha0JlZm9yZUNsb3NlOjF9KTt0aGlzLnNldFJ1bGVzKFwicHJlXCIse2JyZWFrQWZ0ZXJPcGVuOjEsaW5kZW50OjB9KX0scHJvdG86e29wZW5UYWc6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy5fLnJ1bGVzW2FdO3RoaXMuXy5hZnRlckNsb3NlciYmZiYmZi5uZWVkc1NwYWNlJiZ0aGlzLl8ubmVlZHNTcGFjZSYmdGhpcy5fLm91dHB1dC5wdXNoKFwiXFxuXCIpO3RoaXMuXy5pbmRlbnQ/dGhpcy5pbmRlbnRhdGlvbigpOmYmJmYuYnJlYWtCZWZvcmVPcGVuJiYodGhpcy5saW5lQnJlYWsoKSx0aGlzLmluZGVudGF0aW9uKCkpO3RoaXMuXy5vdXRwdXQucHVzaChcIlxceDNjXCIsXG5hKTt0aGlzLl8uYWZ0ZXJDbG9zZXI9MH0sb3BlblRhZ0Nsb3NlOmZ1bmN0aW9uKGEsZil7dmFyIGI9dGhpcy5fLnJ1bGVzW2FdO2Y/KHRoaXMuXy5vdXRwdXQucHVzaCh0aGlzLnNlbGZDbG9zaW5nRW5kKSxiJiZiLmJyZWFrQWZ0ZXJDbG9zZSYmKHRoaXMuXy5uZWVkc1NwYWNlPWIubmVlZHNTcGFjZSkpOih0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzZVwiKSxiJiZiLmluZGVudCYmKHRoaXMuXy5pbmRlbnRhdGlvbis9dGhpcy5pbmRlbnRhdGlvbkNoYXJzKSk7YiYmYi5icmVha0FmdGVyT3BlbiYmdGhpcy5saW5lQnJlYWsoKTtcInByZVwiPT1hJiYodGhpcy5fLmluUHJlPTEpfSxhdHRyaWJ1dGU6ZnVuY3Rpb24oYSxmKXtcInN0cmluZ1wiPT10eXBlb2YgZiYmKHRoaXMuZm9yY2VTaW1wbGVBbXBlcnNhbmQmJihmPWYucmVwbGFjZSgvJmFtcDsvZyxcIlxceDI2XCIpKSxmPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGVBdHRyKGYpKTt0aGlzLl8ub3V0cHV0LnB1c2goXCIgXCIsYSwnXFx4M2RcIicsZiwnXCInKX0sXG5jbG9zZVRhZzpmdW5jdGlvbihhKXt2YXIgZj10aGlzLl8ucnVsZXNbYV07ZiYmZi5pbmRlbnQmJih0aGlzLl8uaW5kZW50YXRpb249dGhpcy5fLmluZGVudGF0aW9uLnN1YnN0cih0aGlzLmluZGVudGF0aW9uQ2hhcnMubGVuZ3RoKSk7dGhpcy5fLmluZGVudD90aGlzLmluZGVudGF0aW9uKCk6ZiYmZi5icmVha0JlZm9yZUNsb3NlJiYodGhpcy5saW5lQnJlYWsoKSx0aGlzLmluZGVudGF0aW9uKCkpO3RoaXMuXy5vdXRwdXQucHVzaChcIlxceDNjL1wiLGEsXCJcXHgzZVwiKTtcInByZVwiPT1hJiYodGhpcy5fLmluUHJlPTApO2YmJmYuYnJlYWtBZnRlckNsb3NlJiYodGhpcy5saW5lQnJlYWsoKSx0aGlzLl8ubmVlZHNTcGFjZT1mLm5lZWRzU3BhY2UpO3RoaXMuXy5hZnRlckNsb3Nlcj0xfSx0ZXh0OmZ1bmN0aW9uKGEpe3RoaXMuXy5pbmRlbnQmJih0aGlzLmluZGVudGF0aW9uKCksIXRoaXMuXy5pblByZSYmKGE9Q0tFRElUT1IudG9vbHMubHRyaW0oYSkpKTt0aGlzLl8ub3V0cHV0LnB1c2goYSl9LFxuY29tbWVudDpmdW5jdGlvbihhKXt0aGlzLl8uaW5kZW50JiZ0aGlzLmluZGVudGF0aW9uKCk7dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2MhLS1cIixhLFwiLS1cXHgzZVwiKX0sbGluZUJyZWFrOmZ1bmN0aW9uKCl7IXRoaXMuXy5pblByZSYmMDx0aGlzLl8ub3V0cHV0Lmxlbmd0aCYmdGhpcy5fLm91dHB1dC5wdXNoKHRoaXMubGluZUJyZWFrQ2hhcnMpO3RoaXMuXy5pbmRlbnQ9MX0saW5kZW50YXRpb246ZnVuY3Rpb24oKXshdGhpcy5fLmluUHJlJiZ0aGlzLl8uaW5kZW50YXRpb24mJnRoaXMuXy5vdXRwdXQucHVzaCh0aGlzLl8uaW5kZW50YXRpb24pO3RoaXMuXy5pbmRlbnQ9MH0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl8ub3V0cHV0PVtdO3RoaXMuXy5pbmRlbnQ9MDt0aGlzLl8uaW5kZW50YXRpb249XCJcIjt0aGlzLl8uYWZ0ZXJDbG9zZXI9MDt0aGlzLl8uaW5QcmU9MDt0aGlzLl8ubmVlZHNTcGFjZT0wfSxzZXRSdWxlczpmdW5jdGlvbihhLGYpe3ZhciBiPXRoaXMuXy5ydWxlc1thXTtcbmI/Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGIsZiwhMCk6dGhpcy5fLnJ1bGVzW2FdPWZ9fX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGMpe2N8fChjPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRFbGVtZW50KCkpO2lmKGMmJmMuaXMoXCJpbWdcIikmJiFjLmRhdGEoXCJja2UtcmVhbGVsZW1lbnRcIikmJiFjLmlzUmVhZE9ubHkoKSlyZXR1cm4gY31mdW5jdGlvbiBmKGEpe3ZhciBjPWEuZ2V0U3R5bGUoXCJmbG9hdFwiKTtpZihcImluaGVyaXRcIj09Y3x8XCJub25lXCI9PWMpYz0wO2N8fChjPWEuZ2V0QXR0cmlidXRlKFwiYWxpZ25cIikpO3JldHVybiBjfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwiaW1hZ2VcIix7cmVxdWlyZXM6XCJkaWFsb2dcIixpbml0OmZ1bmN0aW9uKGIpe2lmKCFiLnBsdWdpbnMuaW1hZ2UyKXtDS0VESVRPUi5kaWFsb2cuYWRkKFwiaW1hZ2VcIix0aGlzLnBhdGgrXCJkaWFsb2dzL2ltYWdlLmpzXCIpO3ZhciBjPVwiaW1nW2FsdCwhc3JjXXtib3JkZXItc3R5bGUsYm9yZGVyLXdpZHRoLGZsb2F0LGhlaWdodCxtYXJnaW4sbWFyZ2luLWJvdHRvbSxtYXJnaW4tbGVmdCxtYXJnaW4tcmlnaHQsbWFyZ2luLXRvcCx3aWR0aH1cIjtcbkNLRURJVE9SLmRpYWxvZy5pc1RhYkVuYWJsZWQoYixcImltYWdlXCIsXCJhZHZhbmNlZFwiKSYmKGM9XCJpbWdbYWx0LGRpcixpZCxsYW5nLGxvbmdkZXNjLCFzcmMsdGl0bGVdeyp9KCopXCIpO2IuYWRkQ29tbWFuZChcImltYWdlXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJpbWFnZVwiLHthbGxvd2VkQ29udGVudDpjLHJlcXVpcmVkQ29udGVudDpcImltZ1thbHQsc3JjXVwiLGNvbnRlbnRUcmFuc2Zvcm1hdGlvbnM6W1tcImltZ3t3aWR0aH06IHNpemVUb1N0eWxlXCIsXCJpbWdbd2lkdGhdOiBzaXplVG9BdHRyaWJ1dGVcIl0sW1wiaW1ne2Zsb2F0fTogYWxpZ25tZW50VG9TdHlsZVwiLFwiaW1nW2FsaWduXTogYWxpZ25tZW50VG9BdHRyaWJ1dGVcIl1dfSkpO2IudWkuYWRkQnV0dG9uJiZiLnVpLmFkZEJ1dHRvbihcIkltYWdlXCIse2xhYmVsOmIubGFuZy5jb21tb24uaW1hZ2UsY29tbWFuZDpcImltYWdlXCIsdG9vbGJhcjpcImluc2VydCwxMFwifSk7Yi5vbihcImRvdWJsZWNsaWNrXCIsZnVuY3Rpb24oYSl7dmFyIGI9XG5hLmRhdGEuZWxlbWVudDshYi5pcyhcImltZ1wiKXx8Yi5kYXRhKFwiY2tlLXJlYWxlbGVtZW50XCIpfHxiLmlzUmVhZE9ubHkoKXx8KGEuZGF0YS5kaWFsb2c9XCJpbWFnZVwiKX0pO2IuYWRkTWVudUl0ZW1zJiZiLmFkZE1lbnVJdGVtcyh7aW1hZ2U6e2xhYmVsOmIubGFuZy5pbWFnZS5tZW51LGNvbW1hbmQ6XCJpbWFnZVwiLGdyb3VwOlwiaW1hZ2VcIn19KTtiLmNvbnRleHRNZW51JiZiLmNvbnRleHRNZW51LmFkZExpc3RlbmVyKGZ1bmN0aW9uKGMpe2lmKGEoYixjKSlyZXR1cm57aW1hZ2U6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfX0pfX0sYWZ0ZXJJbml0OmZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoYyl7dmFyIG09Yi5nZXRDb21tYW5kKFwianVzdGlmeVwiK2MpO2lmKG0pe2lmKFwibGVmdFwiPT1jfHxcInJpZ2h0XCI9PWMpbS5vbihcImV4ZWNcIixmdW5jdGlvbihsKXt2YXIgZD1hKGIpLGg7ZCYmKGg9ZihkKSxoPT1jPyhkLnJlbW92ZVN0eWxlKFwiZmxvYXRcIiksYz09ZihkKSYmZC5yZW1vdmVBdHRyaWJ1dGUoXCJhbGlnblwiKSk6XG5kLnNldFN0eWxlKFwiZmxvYXRcIixjKSxsLmNhbmNlbCgpKX0pO20ub24oXCJyZWZyZXNoXCIsZnVuY3Rpb24obCl7dmFyIGQ9YShiKTtkJiYoZD1mKGQpLHRoaXMuc2V0U3RhdGUoZD09Yz9DS0VESVRPUi5UUklTVEFURV9PTjpcInJpZ2h0XCI9PWN8fFwibGVmdFwiPT1jP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCksbC5jYW5jZWwoKSl9KX19Yi5wbHVnaW5zLmltYWdlMnx8KGMoXCJsZWZ0XCIpLGMoXCJyaWdodFwiKSxjKFwiY2VudGVyXCIpLGMoXCJibG9ja1wiKSl9fSl9KCksQ0tFRElUT1IuY29uZmlnLmltYWdlX3JlbW92ZUxpbmtCeUVtcHR5VVJMPSEwLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3ZhciBkPWMuZXhlYyhhKSxlPWMuZXhlYyhiKTtpZihkKXtpZighZFsyXSYmXCJweFwiPT1lWzJdKXJldHVybiBlWzFdO2lmKFwicHhcIj09ZFsyXSYmIWVbMl0pcmV0dXJuIGVbMV0rXCJweFwifXJldHVybiBifXZhciBmPUNLRURJVE9SLmh0bWxQYXJzZXIuY3NzU3R5bGUsXG5iPUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aCxjPS9eKCg/OlxcZCooPzpcXC5cXGQrKSl8KD86XFxkKykpKC4qKT8kL2ksZT17ZWxlbWVudHM6eyQ6ZnVuY3Rpb24oYil7dmFyIGM9Yi5hdHRyaWJ1dGVzO2lmKChjPShjPShjPWMmJmNbXCJkYXRhLWNrZS1yZWFsZWxlbWVudFwiXSkmJm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGRlY29kZVVSSUNvbXBvbmVudChjKSkpJiZjLmNoaWxkcmVuWzBdKSYmYi5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtcmVzaXphYmxlXCJdKXt2YXIgZD0obmV3IGYoYikpLnJ1bGVzO2I9Yy5hdHRyaWJ1dGVzO3ZhciBlPWQud2lkdGgsZD1kLmhlaWdodDtlJiYoYi53aWR0aD1hKGIud2lkdGgsZSkpO2QmJihiLmhlaWdodD1hKGIuaGVpZ2h0LGQpKX1yZXR1cm4gY319fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImZha2VvYmplY3RzXCIse2luaXQ6ZnVuY3Rpb24oYSl7YS5maWx0ZXIuYWxsb3coXCJpbWdbIWRhdGEtY2tlLXJlYWxlbGVtZW50LHNyYyxhbHQsdGl0bGVdKCopeyp9XCIsXG5cImZha2VvYmplY3RzXCIpfSxhZnRlckluaXQ6ZnVuY3Rpb24oYSl7KGE9KGE9YS5kYXRhUHJvY2Vzc29yKSYmYS5odG1sRmlsdGVyKSYmYS5hZGRSdWxlcyhlLHthcHBseVRvQWxsOiEwfSl9fSk7Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5jcmVhdGVGYWtlRWxlbWVudD1mdW5jdGlvbihhLGMsZCxlKXt2YXIgaz10aGlzLmxhbmcuZmFrZW9iamVjdHMsaz1rW2RdfHxrLnVua25vd247Yz17XCJjbGFzc1wiOmMsXCJkYXRhLWNrZS1yZWFsZWxlbWVudFwiOmVuY29kZVVSSUNvbXBvbmVudChhLmdldE91dGVySHRtbCgpKSxcImRhdGEtY2tlLXJlYWwtbm9kZS10eXBlXCI6YS50eXBlLGFsdDprLHRpdGxlOmssYWxpZ246YS5nZXRBdHRyaWJ1dGUoXCJhbGlnblwiKXx8XCJcIn07Q0tFRElUT1IuZW52LmhjfHwoYy5zcmM9Q0tFRElUT1IudG9vbHMudHJhbnNwYXJlbnRJbWFnZURhdGEpO2QmJihjW1wiZGF0YS1ja2UtcmVhbC1lbGVtZW50LXR5cGVcIl09ZCk7ZSYmKGNbXCJkYXRhLWNrZS1yZXNpemFibGVcIl09XG5lLGQ9bmV3IGYsZT1hLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLGE9YS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiksZSYmKGQucnVsZXMud2lkdGg9YihlKSksYSYmKGQucnVsZXMuaGVpZ2h0PWIoYSkpLGQucG9wdWxhdGUoYykpO3JldHVybiB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIix7YXR0cmlidXRlczpjfSl9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuY3JlYXRlRmFrZVBhcnNlckVsZW1lbnQ9ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGs9dGhpcy5sYW5nLmZha2VvYmplY3RzLGs9a1tkXXx8ay51bmtub3duLGc7Zz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjthLndyaXRlSHRtbChnKTtnPWcuZ2V0SHRtbCgpO2M9e1wiY2xhc3NcIjpjLFwiZGF0YS1ja2UtcmVhbGVsZW1lbnRcIjplbmNvZGVVUklDb21wb25lbnQoZyksXCJkYXRhLWNrZS1yZWFsLW5vZGUtdHlwZVwiOmEudHlwZSxhbHQ6ayx0aXRsZTprLGFsaWduOmEuYXR0cmlidXRlcy5hbGlnbnx8XCJcIn07XG5DS0VESVRPUi5lbnYuaGN8fChjLnNyYz1DS0VESVRPUi50b29scy50cmFuc3BhcmVudEltYWdlRGF0YSk7ZCYmKGNbXCJkYXRhLWNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiXT1kKTtlJiYoY1tcImRhdGEtY2tlLXJlc2l6YWJsZVwiXT1lLGU9YS5hdHRyaWJ1dGVzLGE9bmV3IGYsZD1lLndpZHRoLGU9ZS5oZWlnaHQsdm9pZCAwIT09ZCYmKGEucnVsZXMud2lkdGg9YihkKSksdm9pZCAwIT09ZSYmKGEucnVsZXMuaGVpZ2h0PWIoZSkpLGEucG9wdWxhdGUoYykpO3JldHVybiBuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KFwiaW1nXCIsYyl9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUucmVzdG9yZVJlYWxFbGVtZW50PWZ1bmN0aW9uKGIpe2lmKGIuZGF0YShcImNrZS1yZWFsLW5vZGUtdHlwZVwiKSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXJldHVybiBudWxsO3ZhciBjPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGRlY29kZVVSSUNvbXBvbmVudChiLmRhdGEoXCJja2UtcmVhbGVsZW1lbnRcIikpLFxudGhpcy5kb2N1bWVudCk7aWYoYi5kYXRhKFwiY2tlLXJlc2l6YWJsZVwiKSl7dmFyIGQ9Yi5nZXRTdHlsZShcIndpZHRoXCIpO2I9Yi5nZXRTdHlsZShcImhlaWdodFwiKTtkJiZjLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYShjLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLGQpKTtiJiZjLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGEoYy5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiksYikpfXJldHVybiBjfX0oKSxcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIGEucmVwbGFjZSgvJy9nLFwiXFxcXCRcXHgyNlwiKX1mdW5jdGlvbiBmKGEpe2Zvcih2YXIgYixjPWEubGVuZ3RoLGQ9W10sZT0wO2U8YztlKyspYj1hLmNoYXJDb2RlQXQoZSksZC5wdXNoKGIpO3JldHVyblwiU3RyaW5nLmZyb21DaGFyQ29kZShcIitkLmpvaW4oXCIsXCIpK1wiKVwifWZ1bmN0aW9uIGIoYixjKXt2YXIgZD1iLnBsdWdpbnMubGluayxlPWQuY29tcGlsZWRQcm90ZWN0aW9uRnVuY3Rpb24ucGFyYW1zLGYsZztnPVtkLmNvbXBpbGVkUHJvdGVjdGlvbkZ1bmN0aW9uLm5hbWUsXG5cIihcIl07Zm9yKHZhciBoPTA7aDxlLmxlbmd0aDtoKyspZD1lW2hdLnRvTG93ZXJDYXNlKCksZj1jW2RdLDA8aCYmZy5wdXNoKFwiLFwiKSxnLnB1c2goXCInXCIsZj9hKGVuY29kZVVSSUNvbXBvbmVudChjW2RdKSk6XCJcIixcIidcIik7Zy5wdXNoKFwiKVwiKTtyZXR1cm4gZy5qb2luKFwiXCIpfWZ1bmN0aW9uIGMoYSl7YT1hLmNvbmZpZy5lbWFpbFByb3RlY3Rpb258fFwiXCI7dmFyIGI7YSYmXCJlbmNvZGVcIiE9YSYmKGI9e30sYS5yZXBsYWNlKC9eKFteKF0rKVxcKChbXildKylcXCkkLyxmdW5jdGlvbihhLGMsZCl7Yi5uYW1lPWM7Yi5wYXJhbXM9W107ZC5yZXBsYWNlKC9bXixcXHNdKy9nLGZ1bmN0aW9uKGEpe2IucGFyYW1zLnB1c2goYSl9KX0pKTtyZXR1cm4gYn1DS0VESVRPUi5wbHVnaW5zLmFkZChcImxpbmtcIix7cmVxdWlyZXM6XCJkaWFsb2csZmFrZW9iamVjdHNcIixvbkxvYWQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe3JldHVybiBjLnJlcGxhY2UoLyUxL2csXCJydGxcIj09Yj9cInJpZ2h0XCI6XCJsZWZ0XCIpLnJlcGxhY2UoLyUyL2csXG5cImNrZV9jb250ZW50c19cIitiKX12YXIgYj1cImJhY2tncm91bmQ6dXJsKFwiK0NLRURJVE9SLmdldFVybCh0aGlzLnBhdGgrXCJpbWFnZXNcIisoQ0tFRElUT1IuZW52LmhpZHBpP1wiL2hpZHBpXCI6XCJcIikrXCIvYW5jaG9yLnBuZ1wiKStcIikgbm8tcmVwZWF0ICUxIGNlbnRlcjtib3JkZXI6MXB4IGRvdHRlZCAjMDBmO2JhY2tncm91bmQtc2l6ZToxNnB4O1wiLGM9XCIuJTIgYS5ja2VfYW5jaG9yLC4lMiBhLmNrZV9hbmNob3JfZW1wdHksLmNrZV9lZGl0YWJsZS4lMiBhW25hbWVdLC5ja2VfZWRpdGFibGUuJTIgYVtkYXRhLWNrZS1zYXZlZC1uYW1lXXtcIitiK1wicGFkZGluZy0lMToxOHB4O2N1cnNvcjphdXRvO30uJTIgaW1nLmNrZV9hbmNob3J7XCIrYitcIndpZHRoOjE2cHg7bWluLWhlaWdodDoxNXB4O2hlaWdodDoxLjE1ZW07dmVydGljYWwtYWxpZ246dGV4dC1ib3R0b207fVwiO0NLRURJVE9SLmFkZENzcyhhKFwibHRyXCIpK2EoXCJydGxcIikpfSxpbml0OmZ1bmN0aW9uKGEpe3ZhciBiPVwiYVshaHJlZl1cIjtcbkNLRURJVE9SLmRpYWxvZy5pc1RhYkVuYWJsZWQoYSxcImxpbmtcIixcImFkdmFuY2VkXCIpJiYoYj1iLnJlcGxhY2UoXCJdXCIsXCIsYWNjZXNza2V5LGNoYXJzZXQsZGlyLGlkLGxhbmcsbmFtZSxyZWwsdGFiaW5kZXgsdGl0bGUsdHlwZSxkb3dubG9hZF17Kn0oKilcIikpO0NLRURJVE9SLmRpYWxvZy5pc1RhYkVuYWJsZWQoYSxcImxpbmtcIixcInRhcmdldFwiKSYmKGI9Yi5yZXBsYWNlKFwiXVwiLFwiLHRhcmdldCxvbmNsaWNrXVwiKSk7YS5hZGRDb21tYW5kKFwibGlua1wiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKFwibGlua1wiLHthbGxvd2VkQ29udGVudDpiLHJlcXVpcmVkQ29udGVudDpcImFbaHJlZl1cIn0pKTthLmFkZENvbW1hbmQoXCJhbmNob3JcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcImFuY2hvclwiLHthbGxvd2VkQ29udGVudDpcImFbIW5hbWUsaWRdXCIscmVxdWlyZWRDb250ZW50OlwiYVtuYW1lXVwifSkpO2EuYWRkQ29tbWFuZChcInVubGlua1wiLG5ldyBDS0VESVRPUi51bmxpbmtDb21tYW5kKTtcbmEuYWRkQ29tbWFuZChcInJlbW92ZUFuY2hvclwiLG5ldyBDS0VESVRPUi5yZW1vdmVBbmNob3JDb21tYW5kKTthLnNldEtleXN0cm9rZShDS0VESVRPUi5DVFJMKzc2LFwibGlua1wiKTthLnVpLmFkZEJ1dHRvbiYmKGEudWkuYWRkQnV0dG9uKFwiTGlua1wiLHtsYWJlbDphLmxhbmcubGluay50b29sYmFyLGNvbW1hbmQ6XCJsaW5rXCIsdG9vbGJhcjpcImxpbmtzLDEwXCJ9KSxhLnVpLmFkZEJ1dHRvbihcIlVubGlua1wiLHtsYWJlbDphLmxhbmcubGluay51bmxpbmssY29tbWFuZDpcInVubGlua1wiLHRvb2xiYXI6XCJsaW5rcywyMFwifSksYS51aS5hZGRCdXR0b24oXCJBbmNob3JcIix7bGFiZWw6YS5sYW5nLmxpbmsuYW5jaG9yLnRvb2xiYXIsY29tbWFuZDpcImFuY2hvclwiLHRvb2xiYXI6XCJsaW5rcywzMFwifSkpO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJsaW5rXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy9saW5rLmpzXCIpO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJhbmNob3JcIix0aGlzLnBhdGgrXCJkaWFsb2dzL2FuY2hvci5qc1wiKTtcbmEub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKGIpe3ZhciBjPUNLRURJVE9SLnBsdWdpbnMubGluay5nZXRTZWxlY3RlZExpbmsoYSl8fGIuZGF0YS5lbGVtZW50O2MuaXNSZWFkT25seSgpfHwoYy5pcyhcImFcIik/KGIuZGF0YS5kaWFsb2c9IWMuZ2V0QXR0cmlidXRlKFwibmFtZVwiKXx8Yy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpJiZjLmdldENoaWxkQ291bnQoKT9cImxpbmtcIjpcImFuY2hvclwiLGIuZGF0YS5saW5rPWMpOkNLRURJVE9SLnBsdWdpbnMubGluay50cnlSZXN0b3JlRmFrZUFuY2hvcihhLGMpJiYoYi5kYXRhLmRpYWxvZz1cImFuY2hvclwiKSl9LG51bGwsbnVsbCwwKTthLm9uKFwiZG91YmxlY2xpY2tcIixmdW5jdGlvbihiKXtiLmRhdGEuZGlhbG9nIGlue2xpbms6MSxhbmNob3I6MX0mJmIuZGF0YS5saW5rJiZhLmdldFNlbGVjdGlvbigpLnNlbGVjdEVsZW1lbnQoYi5kYXRhLmxpbmspfSxudWxsLG51bGwsMjApO2EuYWRkTWVudUl0ZW1zJiZhLmFkZE1lbnVJdGVtcyh7YW5jaG9yOntsYWJlbDphLmxhbmcubGluay5hbmNob3IubWVudSxcbmNvbW1hbmQ6XCJhbmNob3JcIixncm91cDpcImFuY2hvclwiLG9yZGVyOjF9LHJlbW92ZUFuY2hvcjp7bGFiZWw6YS5sYW5nLmxpbmsuYW5jaG9yLnJlbW92ZSxjb21tYW5kOlwicmVtb3ZlQW5jaG9yXCIsZ3JvdXA6XCJhbmNob3JcIixvcmRlcjo1fSxsaW5rOntsYWJlbDphLmxhbmcubGluay5tZW51LGNvbW1hbmQ6XCJsaW5rXCIsZ3JvdXA6XCJsaW5rXCIsb3JkZXI6MX0sdW5saW5rOntsYWJlbDphLmxhbmcubGluay51bmxpbmssY29tbWFuZDpcInVubGlua1wiLGdyb3VwOlwibGlua1wiLG9yZGVyOjV9fSk7YS5jb250ZXh0TWVudSYmYS5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihiKXtpZighYnx8Yi5pc1JlYWRPbmx5KCkpcmV0dXJuIG51bGw7Yj1DS0VESVRPUi5wbHVnaW5zLmxpbmsudHJ5UmVzdG9yZUZha2VBbmNob3IoYSxiKTtpZighYiYmIShiPUNLRURJVE9SLnBsdWdpbnMubGluay5nZXRTZWxlY3RlZExpbmsoYSkpKXJldHVybiBudWxsO3ZhciBjPXt9O2IuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSYmXG5iLmdldENoaWxkQ291bnQoKSYmKGM9e2xpbms6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHVubGluazpDS0VESVRPUi5UUklTVEFURV9PRkZ9KTtiJiZiLmhhc0F0dHJpYnV0ZShcIm5hbWVcIikmJihjLmFuY2hvcj1jLnJlbW92ZUFuY2hvcj1DS0VESVRPUi5UUklTVEFURV9PRkYpO3JldHVybiBjfSk7dGhpcy5jb21waWxlZFByb3RlY3Rpb25GdW5jdGlvbj1jKGEpfSxhZnRlckluaXQ6ZnVuY3Rpb24oYSl7YS5kYXRhUHJvY2Vzc29yLmRhdGFGaWx0ZXIuYWRkUnVsZXMoe2VsZW1lbnRzOnthOmZ1bmN0aW9uKGIpe3JldHVybiBiLmF0dHJpYnV0ZXMubmFtZT9iLmNoaWxkcmVuLmxlbmd0aD9udWxsOmEuY3JlYXRlRmFrZVBhcnNlckVsZW1lbnQoYixcImNrZV9hbmNob3JcIixcImFuY2hvclwiKTpudWxsfX19KTt2YXIgYj1hLl8uZWxlbWVudHNQYXRoJiZhLl8uZWxlbWVudHNQYXRoLmZpbHRlcnM7YiYmYi5wdXNoKGZ1bmN0aW9uKGIsYyl7aWYoXCJhXCI9PWMmJihDS0VESVRPUi5wbHVnaW5zLmxpbmsudHJ5UmVzdG9yZUZha2VBbmNob3IoYSxcbmIpfHxiLmdldEF0dHJpYnV0ZShcIm5hbWVcIikmJighYi5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpfHwhYi5nZXRDaGlsZENvdW50KCkpKSlyZXR1cm5cImFuY2hvclwifSl9fSk7dmFyIGU9L15qYXZhc2NyaXB0Oi8sbT0vXm1haWx0bzooW14/XSspKD86XFw/KC4rKSk/JC8sbD0vc3ViamVjdD0oW147PzpAJj0kLFxcL10qKS9pLGQ9L2JvZHk9KFteOz86QCY9JCxcXC9dKikvaSxoPS9eIyguKikkLyxrPS9eKCg/Omh0dHB8aHR0cHN8ZnRwfG5ld3MpOlxcL1xcLyk/KC4qKSQvLGc9L14oXyg/OnNlbGZ8dG9wfHBhcmVudHxibGFuaykpJC8sbj0vXmphdmFzY3JpcHQ6dm9pZFxcKGxvY2F0aW9uXFwuaHJlZj0nbWFpbHRvOidcXCtTdHJpbmdcXC5mcm9tQ2hhckNvZGVcXCgoW14pXSspXFwpKD86XFwrJyguKiknKT9cXCkkLyxxPS9eamF2YXNjcmlwdDooW14oXSspXFwoKFteKV0rKVxcKSQvLHA9L1xccyp3aW5kb3cub3BlblxcKFxccyp0aGlzXFwuaHJlZlxccyosXFxzKig/OicoW14nXSopJ3xudWxsKVxccyosXFxzKicoW14nXSopJ1xccypcXClcXHMqO1xccypyZXR1cm5cXHMqZmFsc2U7KlxccyovLFxudD0vKD86XnwsKShbXj1dKyk9KFxcZCt8eWVzfG5vKS9naSx2PXtpZDpcImFkdklkXCIsZGlyOlwiYWR2TGFuZ0RpclwiLGFjY2Vzc0tleTpcImFkdkFjY2Vzc0tleVwiLG5hbWU6XCJhZHZOYW1lXCIsbGFuZzpcImFkdkxhbmdDb2RlXCIsdGFiaW5kZXg6XCJhZHZUYWJJbmRleFwiLHRpdGxlOlwiYWR2VGl0bGVcIix0eXBlOlwiYWR2Q29udGVudFR5cGVcIixcImNsYXNzXCI6XCJhZHZDU1NDbGFzc2VzXCIsY2hhcnNldDpcImFkdkNoYXJzZXRcIixzdHlsZTpcImFkdlN0eWxlc1wiLHJlbDpcImFkdlJlbFwifTtDS0VESVRPUi5wbHVnaW5zLmxpbms9e2dldFNlbGVjdGVkTGluazpmdW5jdGlvbihhKXt2YXIgYj1hLmdldFNlbGVjdGlvbigpLGM9Yi5nZXRTZWxlY3RlZEVsZW1lbnQoKTtyZXR1cm4gYyYmYy5pcyhcImFcIik/YzooYj1iLmdldFJhbmdlcygpWzBdKT8oYi5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX1RFWFQpLGEuZWxlbWVudFBhdGgoYi5nZXRDb21tb25BbmNlc3RvcigpKS5jb250YWlucyhcImFcIiwxKSk6bnVsbH0sZ2V0RWRpdG9yQW5jaG9yczpmdW5jdGlvbihhKXtmb3IodmFyIGI9XG5hLmVkaXRhYmxlKCksYz1iLmlzSW5saW5lKCkmJiFhLnBsdWdpbnMuZGl2YXJlYT9hLmRvY3VtZW50OmIsYj1jLmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLGM9Yy5nZXRFbGVtZW50c0J5VGFnKFwiaW1nXCIpLGQ9W10sZT0wLGY7Zj1iLmdldEl0ZW0oZSsrKTspKGYuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpfHxmLmhhc0F0dHJpYnV0ZShcIm5hbWVcIikpJiZkLnB1c2goe25hbWU6Zi5kYXRhKFwiY2tlLXNhdmVkLW5hbWVcIil8fGYuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSxpZDpmLmdldEF0dHJpYnV0ZShcImlkXCIpfSk7Zm9yKGU9MDtmPWMuZ2V0SXRlbShlKyspOykoZj10aGlzLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGEsZikpJiZkLnB1c2goe25hbWU6Zi5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpLGlkOmYuZ2V0QXR0cmlidXRlKFwiaWRcIil9KTtyZXR1cm4gZH0sZmFrZUFuY2hvcjohMCx0cnlSZXN0b3JlRmFrZUFuY2hvcjpmdW5jdGlvbihhLGIpe2lmKGImJmIuZGF0YShcImNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiKSYmXG5cImFuY2hvclwiPT1iLmRhdGEoXCJja2UtcmVhbC1lbGVtZW50LXR5cGVcIikpe3ZhciBjPWEucmVzdG9yZVJlYWxFbGVtZW50KGIpO2lmKGMuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpKXJldHVybiBjfX0scGFyc2VMaW5rQXR0cmlidXRlczpmdW5jdGlvbihhLGIpe3ZhciBjPWImJihiLmRhdGEoXCJja2Utc2F2ZWQtaHJlZlwiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKXx8XCJcIixmPWEucGx1Z2lucy5saW5rLmNvbXBpbGVkUHJvdGVjdGlvbkZ1bmN0aW9uLHc9YS5jb25maWcuZW1haWxQcm90ZWN0aW9uLHosRD17fTtjLm1hdGNoKGUpJiYoXCJlbmNvZGVcIj09dz9jPWMucmVwbGFjZShuLGZ1bmN0aW9uKGEsYixjKXtjPWN8fFwiXCI7cmV0dXJuXCJtYWlsdG86XCIrU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsYi5zcGxpdChcIixcIikpK2MucmVwbGFjZSgvXFxcXCcvZyxcIidcIil9KTp3JiZjLnJlcGxhY2UocSxmdW5jdGlvbihhLGIsYyl7aWYoYj09Zi5uYW1lKXtELnR5cGU9XCJlbWFpbFwiO2E9RC5lbWFpbD1cbnt9O2I9LyheJyl8KCckKS9nO2M9Yy5tYXRjaCgvW14sXFxzXSsvZyk7Zm9yKHZhciBkPWMubGVuZ3RoLGUsZyxoPTA7aDxkO2grKyllPWRlY29kZVVSSUNvbXBvbmVudCxnPWNbaF0ucmVwbGFjZShiLFwiXCIpLnJlcGxhY2UoL1xcXFwnL2csXCInXCIpLGc9ZShnKSxlPWYucGFyYW1zW2hdLnRvTG93ZXJDYXNlKCksYVtlXT1nO2EuYWRkcmVzcz1bYS5uYW1lLGEuZG9tYWluXS5qb2luKFwiQFwiKX19KSk7aWYoIUQudHlwZSlpZih3PWMubWF0Y2goaCkpRC50eXBlPVwiYW5jaG9yXCIsRC5hbmNob3I9e30sRC5hbmNob3IubmFtZT1ELmFuY2hvci5pZD13WzFdO2Vsc2UgaWYodz1jLm1hdGNoKG0pKXt6PWMubWF0Y2gobCk7Yz1jLm1hdGNoKGQpO0QudHlwZT1cImVtYWlsXCI7dmFyIHk9RC5lbWFpbD17fTt5LmFkZHJlc3M9d1sxXTt6JiYoeS5zdWJqZWN0PWRlY29kZVVSSUNvbXBvbmVudCh6WzFdKSk7YyYmKHkuYm9keT1kZWNvZGVVUklDb21wb25lbnQoY1sxXSkpfWVsc2UgYyYmKHo9Yy5tYXRjaChrKSkmJlxuKEQudHlwZT1cInVybFwiLEQudXJsPXt9LEQudXJsLnByb3RvY29sPXpbMV0sRC51cmwudXJsPXpbMl0pO2lmKGIpe2lmKGM9Yi5nZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIikpRC50YXJnZXQ9e3R5cGU6Yy5tYXRjaChnKT9jOlwiZnJhbWVcIixuYW1lOmN9O2Vsc2UgaWYoYz0oYz1iLmRhdGEoXCJja2UtcGEtb25jbGlja1wiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJvbmNsaWNrXCIpKSYmYy5tYXRjaChwKSlmb3IoRC50YXJnZXQ9e3R5cGU6XCJwb3B1cFwiLG5hbWU6Y1sxXX07dz10LmV4ZWMoY1syXSk7KVwieWVzXCIhPXdbMl0mJlwiMVwiIT13WzJdfHx3WzFdaW57aGVpZ2h0OjEsd2lkdGg6MSx0b3A6MSxsZWZ0OjF9P2lzRmluaXRlKHdbMl0pJiYoRC50YXJnZXRbd1sxXV09d1syXSk6RC50YXJnZXRbd1sxXV09ITA7bnVsbCE9PWIuZ2V0QXR0cmlidXRlKFwiZG93bmxvYWRcIikmJihELmRvd25sb2FkPSEwKTt2YXIgYz17fSxBO2ZvcihBIGluIHYpKHc9Yi5nZXRBdHRyaWJ1dGUoQSkpJiYoY1t2W0FdXT13KTtpZihBPVxuYi5kYXRhKFwiY2tlLXNhdmVkLW5hbWVcIil8fGMuYWR2TmFtZSljLmFkdk5hbWU9QTtDS0VESVRPUi50b29scy5pc0VtcHR5KGMpfHwoRC5hZHZhbmNlZD1jKX1yZXR1cm4gRH0sZ2V0TGlua0F0dHJpYnV0ZXM6ZnVuY3Rpb24oYyxkKXt2YXIgZT1jLmNvbmZpZy5lbWFpbFByb3RlY3Rpb258fFwiXCIsZz17fTtzd2l0Y2goZC50eXBlKXtjYXNlIFwidXJsXCI6dmFyIGU9ZC51cmwmJnZvaWQgMCE9PWQudXJsLnByb3RvY29sP2QudXJsLnByb3RvY29sOlwiaHR0cDovL1wiLGg9ZC51cmwmJkNLRURJVE9SLnRvb2xzLnRyaW0oZC51cmwudXJsKXx8XCJcIjtnW1wiZGF0YS1ja2Utc2F2ZWQtaHJlZlwiXT0wPT09aC5pbmRleE9mKFwiL1wiKT9oOmUraDticmVhaztjYXNlIFwiYW5jaG9yXCI6ZT1kLmFuY2hvciYmZC5hbmNob3IuaWQ7Z1tcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl09XCIjXCIrKGQuYW5jaG9yJiZkLmFuY2hvci5uYW1lfHxlfHxcIlwiKTticmVhaztjYXNlIFwiZW1haWxcIjp2YXIgaz1kLmVtYWlsLGg9ay5hZGRyZXNzO1xuc3dpdGNoKGUpe2Nhc2UgXCJcIjpjYXNlIFwiZW5jb2RlXCI6dmFyIGw9ZW5jb2RlVVJJQ29tcG9uZW50KGsuc3ViamVjdHx8XCJcIiksbT1lbmNvZGVVUklDb21wb25lbnQoay5ib2R5fHxcIlwiKSxrPVtdO2wmJmsucHVzaChcInN1YmplY3RcXHgzZFwiK2wpO20mJmsucHVzaChcImJvZHlcXHgzZFwiK20pO2s9ay5sZW5ndGg/XCI/XCIray5qb2luKFwiXFx4MjZcIik6XCJcIjtcImVuY29kZVwiPT1lPyhlPVtcImphdmFzY3JpcHQ6dm9pZChsb2NhdGlvbi5ocmVmXFx4M2QnbWFpbHRvOicrXCIsZihoKV0sayYmZS5wdXNoKFwiKydcIixhKGspLFwiJ1wiKSxlLnB1c2goXCIpXCIpKTplPVtcIm1haWx0bzpcIixoLGtdO2JyZWFrO2RlZmF1bHQ6ZT1oLnNwbGl0KFwiQFwiLDIpLGsubmFtZT1lWzBdLGsuZG9tYWluPWVbMV0sZT1bXCJqYXZhc2NyaXB0OlwiLGIoYyxrKV19Z1tcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl09ZS5qb2luKFwiXCIpfWlmKGQudGFyZ2V0KWlmKFwicG9wdXBcIj09ZC50YXJnZXQudHlwZSl7Zm9yKHZhciBlPVtcIndpbmRvdy5vcGVuKHRoaXMuaHJlZiwgJ1wiLFxuZC50YXJnZXQubmFtZXx8XCJcIixcIicsICdcIl0sbj1cInJlc2l6YWJsZSBzdGF0dXMgbG9jYXRpb24gdG9vbGJhciBtZW51YmFyIGZ1bGxzY3JlZW4gc2Nyb2xsYmFycyBkZXBlbmRlbnRcIi5zcGxpdChcIiBcIiksaD1uLmxlbmd0aCxsPWZ1bmN0aW9uKGEpe2QudGFyZ2V0W2FdJiZuLnB1c2goYStcIlxceDNkXCIrZC50YXJnZXRbYV0pfSxrPTA7azxoO2srKyluW2tdKz1kLnRhcmdldFtuW2tdXT9cIlxceDNkeWVzXCI6XCJcXHgzZG5vXCI7bChcIndpZHRoXCIpO2woXCJsZWZ0XCIpO2woXCJoZWlnaHRcIik7bChcInRvcFwiKTtlLnB1c2gobi5qb2luKFwiLFwiKSxcIicpOyByZXR1cm4gZmFsc2U7XCIpO2dbXCJkYXRhLWNrZS1wYS1vbmNsaWNrXCJdPWUuam9pbihcIlwiKX1lbHNlXCJub3RTZXRcIiE9ZC50YXJnZXQudHlwZSYmZC50YXJnZXQubmFtZSYmKGcudGFyZ2V0PWQudGFyZ2V0Lm5hbWUpO2QuZG93bmxvYWQmJihnLmRvd25sb2FkPVwiXCIpO2lmKGQuYWR2YW5jZWQpe2Zvcih2YXIgdCBpbiB2KShlPWQuYWR2YW5jZWRbdlt0XV0pJiZcbihnW3RdPWUpO2cubmFtZSYmKGdbXCJkYXRhLWNrZS1zYXZlZC1uYW1lXCJdPWcubmFtZSl9Z1tcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl0mJihnLmhyZWY9Z1tcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl0pO3Q9e3RhcmdldDoxLG9uY2xpY2s6MSxcImRhdGEtY2tlLXBhLW9uY2xpY2tcIjoxLFwiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiOjEsZG93bmxvYWQ6MX07ZC5hZHZhbmNlZCYmQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHQsdik7Zm9yKHZhciBwIGluIGcpZGVsZXRlIHRbcF07cmV0dXJue3NldDpnLHJlbW92ZWQ6Q0tFRElUT1IudG9vbHMub2JqZWN0S2V5cyh0KX19LHNob3dEaXNwbGF5VGV4dEZvckVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17aW1nOjEsdGFibGU6MSx0Ym9keToxLHRoZWFkOjEsdGZvb3Q6MSxpbnB1dDoxLHNlbGVjdDoxLHRleHRhcmVhOjF9O3JldHVybiBiLndpZGdldHMmJmIud2lkZ2V0cy5mb2N1c2VkPyExOiFhfHwhYS5nZXROYW1lfHwhYS5pcyhjKX19O0NLRURJVE9SLnVubGlua0NvbW1hbmQ9XG5mdW5jdGlvbigpe307Q0tFRElUT1IudW5saW5rQ29tbWFuZC5wcm90b3R5cGU9e2V4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IENLRURJVE9SLnN0eWxlKHtlbGVtZW50OlwiYVwiLHR5cGU6Q0tFRElUT1IuU1RZTEVfSU5MSU5FLGFsd2F5c1JlbW92ZUVsZW1lbnQ6MX0pO2EucmVtb3ZlU3R5bGUoYil9LHJlZnJlc2g6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmxhc3RFbGVtZW50JiZiLmxhc3RFbGVtZW50LmdldEFzY2VuZGFudChcImFcIiwhMCk7YyYmXCJhXCI9PWMuZ2V0TmFtZSgpJiZjLmdldEF0dHJpYnV0ZShcImhyZWZcIikmJmMuZ2V0Q2hpbGRDb3VudCgpP3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKTp0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX0sY29udGV4dFNlbnNpdGl2ZToxLHN0YXJ0RGlzYWJsZWQ6MSxyZXF1aXJlZENvbnRlbnQ6XCJhW2hyZWZdXCJ9O0NLRURJVE9SLnJlbW92ZUFuY2hvckNvbW1hbmQ9ZnVuY3Rpb24oKXt9O0NLRURJVE9SLnJlbW92ZUFuY2hvckNvbW1hbmQucHJvdG90eXBlPVxue2V4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRTZWxlY3Rpb24oKSxjPWIuY3JlYXRlQm9va21hcmtzKCksZDtpZihiJiYoZD1iLmdldFNlbGVjdGVkRWxlbWVudCgpKSYmKGQuZ2V0Q2hpbGRDb3VudCgpP2QuaXMoXCJhXCIpOkNLRURJVE9SLnBsdWdpbnMubGluay50cnlSZXN0b3JlRmFrZUFuY2hvcihhLGQpKSlkLnJlbW92ZSgxKTtlbHNlIGlmKGQ9Q0tFRElUT1IucGx1Z2lucy5saW5rLmdldFNlbGVjdGVkTGluayhhKSlkLmhhc0F0dHJpYnV0ZShcImhyZWZcIik/KGQucmVtb3ZlQXR0cmlidXRlcyh7bmFtZToxLFwiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiOjF9KSxkLnJlbW92ZUNsYXNzKFwiY2tlX2FuY2hvclwiKSk6ZC5yZW1vdmUoMSk7Yi5zZWxlY3RCb29rbWFya3MoYyl9LHJlcXVpcmVkQ29udGVudDpcImFbbmFtZV1cIn07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmNvbmZpZyx7bGlua1Nob3dBZHZhbmNlZFRhYjohMCxsaW5rU2hvd1RhcmdldFRhYjohMH0pfSgpLFwidXNlIHN0cmljdFwiLFxuZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXtyZXR1cm4gbihiKSYmbihjKSYmYy5lcXVhbHMoYi5nZXROZXh0KGZ1bmN0aW9uKGEpe3JldHVybiEoWihhKXx8WChhKXx8cShhKSl9KSl9ZnVuY3Rpb24gZihhKXt0aGlzLnVwcGVyPWFbMF07dGhpcy5sb3dlcj1hWzFdO3RoaXMuc2V0LmFwcGx5KHRoaXMsYS5zbGljZSgyKSl9ZnVuY3Rpb24gYihhKXt2YXIgYj1hLmVsZW1lbnQ7aWYoYiYmbihiKSYmKGI9Yi5nZXRBc2NlbmRhbnQoYS50cmlnZ2VycywhMCkpJiZhLmVkaXRhYmxlLmNvbnRhaW5zKGIpKXt2YXIgYz1sKGIpO2lmKFwidHJ1ZVwiPT1jLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4gYjtpZihjLmlzKGEudHJpZ2dlcnMpKXJldHVybiBjfXJldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiLGMpe3coYSxiKTt3KGEsYyk7YT1iLnNpemUuYm90dG9tO2M9Yy5zaXplLnRvcDtyZXR1cm4gYSYmYz8wfChhK2MpLzI6YXx8Y31mdW5jdGlvbiBlKGEsYixjKXtyZXR1cm4gYj1cbmJbYz9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKGZ1bmN0aW9uKGIpe3JldHVybiBiJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmIVooYil8fG4oYikmJiFxKGIpJiYhZyhhLGIpfSl9ZnVuY3Rpb24gbShhLGIsYyl7cmV0dXJuIGE+YiYmYTxjfWZ1bmN0aW9uIGwoYSxiKXtpZihhLmRhdGEoXCJja2UtZWRpdGFibGVcIikpcmV0dXJuIG51bGw7Zm9yKGJ8fChhPWEuZ2V0UGFyZW50KCkpO2EmJiFhLmRhdGEoXCJja2UtZWRpdGFibGVcIik7KXtpZihhLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4gYTthPWEuZ2V0UGFyZW50KCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZChhKXt2YXIgYj1hLmRvYyxjPUYoJ1xceDNjc3BhbiBjb250ZW50ZWRpdGFibGVcXHgzZFwiZmFsc2VcIiBzdHlsZVxceDNkXCInK1ErXCJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXItdG9wOjFweCBkYXNoZWQgXCIrYS5ib3hDb2xvcisnXCJcXHgzZVxceDNjL3NwYW5cXHgzZScsYiksZD1DS0VESVRPUi5nZXRVcmwodGhpcy5wYXRoK1xuXCJpbWFnZXMvXCIrKEUuaGlkcGk/XCJoaWRwaS9cIjpcIlwiKStcImljb25cIisoYS5ydGw/XCItcnRsXCI6XCJcIikrXCIucG5nXCIpO0EoYyx7YXR0YWNoOmZ1bmN0aW9uKCl7dGhpcy53cmFwLmdldFBhcmVudCgpfHx0aGlzLndyYXAuYXBwZW5kVG8oYS5lZGl0YWJsZSwhMCk7cmV0dXJuIHRoaXN9LGxpbmVDaGlsZHJlbjpbQShGKCdcXHgzY3NwYW4gdGl0bGVcXHgzZFwiJythLmVkaXRvci5sYW5nLm1hZ2ljbGluZS50aXRsZSsnXCIgY29udGVudGVkaXRhYmxlXFx4M2RcImZhbHNlXCJcXHgzZVxceDI2Izg2Mjk7XFx4M2Mvc3BhblxceDNlJyxiKSx7YmFzZTpRK1wiaGVpZ2h0OjE3cHg7d2lkdGg6MTdweDtcIisoYS5ydGw/XCJsZWZ0XCI6XCJyaWdodFwiKStcIjoxN3B4O2JhY2tncm91bmQ6dXJsKFwiK2QrXCIpIGNlbnRlciBuby1yZXBlYXQgXCIrYS5ib3hDb2xvcitcIjtjdXJzb3I6cG9pbnRlcjtcIisoRS5oYz9cImZvbnQtc2l6ZTogMTVweDtsaW5lLWhlaWdodDoxNHB4O2JvcmRlcjoxcHggc29saWQgI2ZmZjt0ZXh0LWFsaWduOmNlbnRlcjtcIjpcblwiXCIpKyhFLmhpZHBpP1wiYmFja2dyb3VuZC1zaXplOiA5cHggMTBweDtcIjpcIlwiKSxsb29rczpbXCJ0b3A6LThweDsgYm9yZGVyLXJhZGl1czogMnB4O1wiLFwidG9wOi0xN3B4OyBib3JkZXItcmFkaXVzOiAycHggMnB4IDBweCAwcHg7XCIsXCJ0b3A6LTFweDsgYm9yZGVyLXJhZGl1czogMHB4IDBweCAycHggMnB4O1wiXX0pLEEoRihWLGIpLHtiYXNlOlkrXCJsZWZ0OjBweDtib3JkZXItbGVmdC1jb2xvcjpcIithLmJveENvbG9yK1wiO1wiLGxvb2tzOltcImJvcmRlci13aWR0aDo4cHggMCA4cHggOHB4O3RvcDotOHB4XCIsXCJib3JkZXItd2lkdGg6OHB4IDAgMCA4cHg7dG9wOi04cHhcIixcImJvcmRlci13aWR0aDowIDAgOHB4IDhweDt0b3A6MHB4XCJdfSksQShGKFYsYikse2Jhc2U6WStcInJpZ2h0OjBweDtib3JkZXItcmlnaHQtY29sb3I6XCIrYS5ib3hDb2xvcitcIjtcIixsb29rczpbXCJib3JkZXItd2lkdGg6OHB4IDhweCA4cHggMDt0b3A6LThweFwiLFwiYm9yZGVyLXdpZHRoOjhweCA4cHggMCAwO3RvcDotOHB4XCIsXG5cImJvcmRlci13aWR0aDowIDhweCA4cHggMDt0b3A6MHB4XCJdfSldLGRldGFjaDpmdW5jdGlvbigpe3RoaXMud3JhcC5nZXRQYXJlbnQoKSYmdGhpcy53cmFwLnJlbW92ZSgpO3JldHVybiB0aGlzfSxtb3VzZU5lYXI6ZnVuY3Rpb24oKXt3KGEsdGhpcyk7dmFyIGI9YS5ob2xkRGlzdGFuY2UsYz10aGlzLnNpemU7cmV0dXJuIGMmJm0oYS5tb3VzZS55LGMudG9wLWIsYy5ib3R0b20rYikmJm0oYS5tb3VzZS54LGMubGVmdC1iLGMucmlnaHQrYik/ITA6ITF9LHBsYWNlOmZ1bmN0aW9uKCl7dmFyIGI9YS52aWV3LGM9YS5lZGl0YWJsZSxkPWEudHJpZ2dlcixlPWQudXBwZXIsZj1kLmxvd2VyLGc9ZXx8ZixoPWcuZ2V0UGFyZW50KCksaz17fTt0aGlzLnRyaWdnZXI9ZDtlJiZ3KGEsZSwhMCk7ZiYmdyhhLGYsITApO3coYSxoLCEwKTthLmluSW5saW5lTW9kZSYmeihhLCEwKTtoLmVxdWFscyhjKT8oay5sZWZ0PWIuc2Nyb2xsLngsay5yaWdodD0tYi5zY3JvbGwueCxrLndpZHRoPVwiXCIpOihrLmxlZnQ9XG5nLnNpemUubGVmdC1nLnNpemUubWFyZ2luLmxlZnQrYi5zY3JvbGwueC0oYS5pbklubGluZU1vZGU/Yi5lZGl0YWJsZS5sZWZ0K2IuZWRpdGFibGUuYm9yZGVyLmxlZnQ6MCksay53aWR0aD1nLnNpemUub3V0ZXJXaWR0aCtnLnNpemUubWFyZ2luLmxlZnQrZy5zaXplLm1hcmdpbi5yaWdodCtiLnNjcm9sbC54LGsucmlnaHQ9XCJcIik7ZSYmZj9rLnRvcD1lLnNpemUubWFyZ2luLmJvdHRvbT09PWYuc2l6ZS5tYXJnaW4udG9wPzB8ZS5zaXplLmJvdHRvbStlLnNpemUubWFyZ2luLmJvdHRvbS8yOmUuc2l6ZS5tYXJnaW4uYm90dG9tPGYuc2l6ZS5tYXJnaW4udG9wP2Uuc2l6ZS5ib3R0b20rZS5zaXplLm1hcmdpbi5ib3R0b206ZS5zaXplLmJvdHRvbStlLnNpemUubWFyZ2luLmJvdHRvbS1mLnNpemUubWFyZ2luLnRvcDplP2Z8fChrLnRvcD1lLnNpemUuYm90dG9tK2Uuc2l6ZS5tYXJnaW4uYm90dG9tKTprLnRvcD1mLnNpemUudG9wLWYuc2l6ZS5tYXJnaW4udG9wO2QuaXMoVCl8fG0oay50b3AsXG5iLnNjcm9sbC55LTE1LGIuc2Nyb2xsLnkrNSk/KGsudG9wPWEuaW5JbmxpbmVNb2RlPzA6Yi5zY3JvbGwueSx0aGlzLmxvb2soVCkpOmQuaXMoTyl8fG0oay50b3AsYi5wYW5lLmJvdHRvbS01LGIucGFuZS5ib3R0b20rMTUpPyhrLnRvcD1hLmluSW5saW5lTW9kZT9iLmVkaXRhYmxlLmhlaWdodCtiLmVkaXRhYmxlLnBhZGRpbmcudG9wK2IuZWRpdGFibGUucGFkZGluZy5ib3R0b206Yi5wYW5lLmJvdHRvbS0xLHRoaXMubG9vayhPKSk6KGEuaW5JbmxpbmVNb2RlJiYoay50b3AtPWIuZWRpdGFibGUudG9wK2IuZWRpdGFibGUuYm9yZGVyLnRvcCksdGhpcy5sb29rKEspKTthLmluSW5saW5lTW9kZSYmKGsudG9wLS0say50b3ArPWIuZWRpdGFibGUuc2Nyb2xsLnRvcCxrLmxlZnQrPWIuZWRpdGFibGUuc2Nyb2xsLmxlZnQpO2Zvcih2YXIgbCBpbiBrKWtbbF09Q0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoKGtbbF0pO3RoaXMuc2V0U3R5bGVzKGspfSxsb29rOmZ1bmN0aW9uKGEpe2lmKHRoaXMub2xkTG9vayE9XG5hKXtmb3IodmFyIGI9dGhpcy5saW5lQ2hpbGRyZW4ubGVuZ3RoLGM7Yi0tOykoYz10aGlzLmxpbmVDaGlsZHJlbltiXSkuc2V0QXR0cmlidXRlKFwic3R5bGVcIixjLmJhc2UrYy5sb29rc1swfGEvMl0pO3RoaXMub2xkTG9vaz1hfX0sd3JhcDpuZXcgQyhcInNwYW5cIixhLmRvYyl9KTtmb3IoYj1jLmxpbmVDaGlsZHJlbi5sZW5ndGg7Yi0tOyljLmxpbmVDaGlsZHJlbltiXS5hcHBlbmRUbyhjKTtjLmxvb2soSyk7Yy5hcHBlbmRUbyhjLndyYXApO2MudW5zZWxlY3RhYmxlKCk7Yy5saW5lQ2hpbGRyZW5bMF0ub24oXCJtb3VzZXVwXCIsZnVuY3Rpb24oYil7Yy5kZXRhY2goKTtoKGEsZnVuY3Rpb24oYil7dmFyIGM9YS5saW5lLnRyaWdnZXI7YltjLmlzKEkpP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShjLmlzKEkpP2MubG93ZXI6Yy51cHBlcil9LCEwKTthLmVkaXRvci5mb2N1cygpO0UuaWV8fGEuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUnx8YS5ob3ROb2RlLnNjcm9sbEludG9WaWV3KCk7XG5iLmRhdGEucHJldmVudERlZmF1bHQoITApfSk7Yy5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCghMCl9KTthLmxpbmU9Y31mdW5jdGlvbiBoKGEsYixjKXt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGEuZG9jKSxlPWEuZWRpdG9yLGY7RS5pZSYmYS5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSP2Y9YS5kb2MuY3JlYXRlVGV4dChjYSk6KGY9KGY9bChhLmVsZW1lbnQsITApKSYmZi5kYXRhKFwiY2tlLWVudGVyLW1vZGVcIil8fGEuZW50ZXJNb2RlLGY9bmV3IEMoTVtmXSxhLmRvYyksZi5pcyhcImJyXCIpfHxhLmRvYy5jcmVhdGVUZXh0KGNhKS5hcHBlbmRUbyhmKSk7YyYmZS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2IoZik7ZC5tb3ZlVG9Qb3NpdGlvbihmLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtlLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbZF0pO2EuaG90Tm9kZT1mO2MmJmUuZmlyZShcInNhdmVTbmFwc2hvdFwiKX1cbmZ1bmN0aW9uIGsoYSxjKXtyZXR1cm57Y2FuVW5kbzohMCxtb2Rlczp7d3lzaXd5ZzoxfSxleGVjOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChiKXt2YXIgZT1FLmllJiY5PkUudmVyc2lvbj9cIiBcIjpjYSxmPWEuaG90Tm9kZSYmYS5ob3ROb2RlLmdldFRleHQoKT09ZSYmYS5lbGVtZW50LmVxdWFscyhhLmhvdE5vZGUpJiZhLmxhc3RDbWREaXJlY3Rpb249PT0hIWM7aChhLGZ1bmN0aW9uKGQpe2YmJmEuaG90Tm9kZSYmYS5ob3ROb2RlLnJlbW92ZSgpO2RbYz9cImluc2VydEFmdGVyXCI6XCJpbnNlcnRCZWZvcmVcIl0oYik7ZC5zZXRBdHRyaWJ1dGVzKHtcImRhdGEtY2tlLW1hZ2ljbGluZS1ob3RcIjoxLFwiZGF0YS1ja2UtbWFnaWNsaW5lLWRpclwiOiEhY30pO2EubGFzdENtZERpcmVjdGlvbj0hIWN9KTtFLmllfHxhLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlJ8fGEuaG90Tm9kZS5zY3JvbGxJbnRvVmlldygpO2EubGluZS5kZXRhY2goKX1yZXR1cm4gZnVuY3Rpb24oZil7Zj1mLmdldFNlbGVjdGlvbigpLmdldFN0YXJ0RWxlbWVudCgpO1xudmFyIGc7Zj1mLmdldEFzY2VuZGFudChOLDEpO2lmKCF2KGEsZikmJmYmJiFmLmVxdWFscyhhLmVkaXRhYmxlKSYmIWYuY29udGFpbnMoYS5lZGl0YWJsZSkpeyhnPWwoZikpJiZcImZhbHNlXCI9PWcuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiYoZj1nKTthLmVsZW1lbnQ9ZjtnPWUoYSxmLCFjKTt2YXIgaDtuKGcpJiZnLmlzKGEudHJpZ2dlcnMpJiZnLmlzKEwpJiYoIWUoYSxnLCFjKXx8KGg9ZShhLGcsIWMpKSYmbihoKSYmaC5pcyhhLnRyaWdnZXJzKSk/ZChnKTooaD1iKGEsZiksbihoKSYmKGUoYSxoLCFjKT8oZj1lKGEsaCwhYykpJiZuKGYpJiZmLmlzKGEudHJpZ2dlcnMpJiZkKGgpOmQoaCkpKX19fSgpfX1mdW5jdGlvbiBnKGEsYil7aWYoIWJ8fGIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhYi4kKXJldHVybiExO3ZhciBjPWEubGluZTtyZXR1cm4gYy53cmFwLmVxdWFscyhiKXx8Yy53cmFwLmNvbnRhaW5zKGIpfWZ1bmN0aW9uIG4oYSl7cmV0dXJuIGEmJlxuYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuJH1mdW5jdGlvbiBxKGEpe2lmKCFuKGEpKXJldHVybiExO3ZhciBiOyhiPXAoYSkpfHwobihhKT8oYj17bGVmdDoxLHJpZ2h0OjEsY2VudGVyOjF9LGI9ISghYlthLmdldENvbXB1dGVkU3R5bGUoXCJmbG9hdFwiKV0mJiFiW2EuZ2V0QXR0cmlidXRlKFwiYWxpZ25cIildKSk6Yj0hMSk7cmV0dXJuIGJ9ZnVuY3Rpb24gcChhKXtyZXR1cm4hIXthYnNvbHV0ZToxLGZpeGVkOjF9W2EuZ2V0Q29tcHV0ZWRTdHlsZShcInBvc2l0aW9uXCIpXX1mdW5jdGlvbiB0KGEsYil7cmV0dXJuIG4oYik/Yi5pcyhhLnRyaWdnZXJzKTpudWxsfWZ1bmN0aW9uIHYoYSxiKXtpZighYilyZXR1cm4hMTtmb3IodmFyIGM9Yi5nZXRQYXJlbnRzKDEpLGQ9Yy5sZW5ndGg7ZC0tOylmb3IodmFyIGU9YS50YWJ1TGlzdC5sZW5ndGg7ZS0tOylpZihjW2RdLmhhc0F0dHJpYnV0ZShhLnRhYnVMaXN0W2VdKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiByKGEsYixjKXtiPVxuYltjP1wiZ2V0TGFzdFwiOlwiZ2V0Rmlyc3RcIl0oZnVuY3Rpb24oYil7cmV0dXJuIGEuaXNSZWxldmFudChiKSYmIWIuaXMoVSl9KTtpZighYilyZXR1cm4hMTt3KGEsYik7cmV0dXJuIGM/Yi5zaXplLnRvcD5hLm1vdXNlLnk6Yi5zaXplLmJvdHRvbTxhLm1vdXNlLnl9ZnVuY3Rpb24gdShhKXt2YXIgYj1hLmVkaXRhYmxlLGM9YS5tb3VzZSxkPWEudmlldyxlPWEudHJpZ2dlck9mZnNldDt6KGEpO3ZhciBoPWMueT4oYS5pbklubGluZU1vZGU/ZC5lZGl0YWJsZS50b3ArZC5lZGl0YWJsZS5oZWlnaHQvMjpNYXRoLm1pbihkLmVkaXRhYmxlLmhlaWdodCxkLnBhbmUuaGVpZ2h0KS8yKSxiPWJbaD9cImdldExhc3RcIjpcImdldEZpcnN0XCJdKGZ1bmN0aW9uKGEpe3JldHVybiEoWihhKXx8WChhKSl9KTtpZighYilyZXR1cm4gbnVsbDtnKGEsYikmJihiPWEubGluZS53cmFwW2g/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShmdW5jdGlvbihhKXtyZXR1cm4hKFooYSl8fFgoYSkpfSkpO2lmKCFuKGIpfHxcbnEoYil8fCF0KGEsYikpcmV0dXJuIG51bGw7dyhhLGIpO3JldHVybiFoJiYwPD1iLnNpemUudG9wJiZtKGMueSwwLGIuc2l6ZS50b3ArZSk/KGE9YS5pbklubGluZU1vZGV8fDA9PT1kLnNjcm9sbC55P1Q6SyxuZXcgZihbbnVsbCxiLEksUCxhXSkpOmgmJmIuc2l6ZS5ib3R0b208PWQucGFuZS5oZWlnaHQmJm0oYy55LGIuc2l6ZS5ib3R0b20tZSxkLnBhbmUuaGVpZ2h0KT8oYT1hLmluSW5saW5lTW9kZXx8bShiLnNpemUuYm90dG9tLGQucGFuZS5oZWlnaHQtZSxkLnBhbmUuaGVpZ2h0KT9POkssbmV3IGYoW2IsbnVsbCxILFAsYV0pKTpudWxsfWZ1bmN0aW9uIEIoYSl7dmFyIGM9YS5tb3VzZSxkPWEudmlldyxnPWEudHJpZ2dlck9mZnNldCxoPWIoYSk7aWYoIWgpcmV0dXJuIG51bGw7dyhhLGgpO3ZhciBnPU1hdGgubWluKGcsMHxoLnNpemUub3V0ZXJIZWlnaHQvMiksaz1bXSxsLHA7aWYobShjLnksaC5zaXplLnRvcC0xLGguc2l6ZS50b3ArZykpcD0hMTtlbHNlIGlmKG0oYy55LFxuaC5zaXplLmJvdHRvbS1nLGguc2l6ZS5ib3R0b20rMSkpcD0hMDtlbHNlIHJldHVybiBudWxsO2lmKHEoaCl8fHIoYSxoLHApfHxoLmdldFBhcmVudCgpLmlzKFcpKXJldHVybiBudWxsO3ZhciB1PWUoYSxoLCFwKTtpZih1KXtpZih1JiZ1LnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVClyZXR1cm4gbnVsbDtpZihuKHUpKXtpZihxKHUpfHwhdChhLHUpfHx1LmdldFBhcmVudCgpLmlzKFcpKXJldHVybiBudWxsO2s9W3UsaF1bcD9cInJldmVyc2VcIjpcImNvbmNhdFwiXSgpLmNvbmNhdChbUixQXSl9fWVsc2UgaC5lcXVhbHMoYS5lZGl0YWJsZVtwP1wiZ2V0TGFzdFwiOlwiZ2V0Rmlyc3RcIl0oYS5pc1JlbGV2YW50KSk/KHooYSkscCYmbShjLnksaC5zaXplLmJvdHRvbS1nLGQucGFuZS5oZWlnaHQpJiZtKGguc2l6ZS5ib3R0b20sZC5wYW5lLmhlaWdodC1nLGQucGFuZS5oZWlnaHQpP2w9TzptKGMueSwwLGguc2l6ZS50b3ArZykmJihsPVQpKTpsPUssaz1bbnVsbCxoXVtwP1wicmV2ZXJzZVwiOlwiY29uY2F0XCJdKCkuY29uY2F0KFtwP1xuSDpJLFAsbCxoLmVxdWFscyhhLmVkaXRhYmxlW3A/XCJnZXRMYXN0XCI6XCJnZXRGaXJzdFwiXShhLmlzUmVsZXZhbnQpKT9wP086VDpLXSk7cmV0dXJuIDAgaW4gaz9uZXcgZihrKTpudWxsfWZ1bmN0aW9uIHgoYSxiLGMsZCl7Zm9yKHZhciBlPWIuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLGY9e30sZz17fSxoPXt9LGs9e30sbD1iYS5sZW5ndGg7bC0tOylmW2JhW2xdXT1wYXJzZUludChiLmdldENvbXB1dGVkU3R5bGUuY2FsbChiLFwiYm9yZGVyLVwiK2JhW2xdK1wiLXdpZHRoXCIpLDEwKXx8MCxoW2JhW2xdXT1wYXJzZUludChiLmdldENvbXB1dGVkU3R5bGUuY2FsbChiLFwicGFkZGluZy1cIitiYVtsXSksMTApfHwwLGdbYmFbbF1dPXBhcnNlSW50KGIuZ2V0Q29tcHV0ZWRTdHlsZS5jYWxsKGIsXCJtYXJnaW4tXCIrYmFbbF0pLDEwKXx8MDtjJiYhZHx8RChhLGQpO2sudG9wPWUueS0oYz8wOmEudmlldy5zY3JvbGwueSk7ay5sZWZ0PWUueC0oYz8wOmEudmlldy5zY3JvbGwueCk7ay5vdXRlcldpZHRoPVxuYi4kLm9mZnNldFdpZHRoO2sub3V0ZXJIZWlnaHQ9Yi4kLm9mZnNldEhlaWdodDtrLmhlaWdodD1rLm91dGVySGVpZ2h0LShoLnRvcCtoLmJvdHRvbStmLnRvcCtmLmJvdHRvbSk7ay53aWR0aD1rLm91dGVyV2lkdGgtKGgubGVmdCtoLnJpZ2h0K2YubGVmdCtmLnJpZ2h0KTtrLmJvdHRvbT1rLnRvcCtrLm91dGVySGVpZ2h0O2sucmlnaHQ9ay5sZWZ0K2sub3V0ZXJXaWR0aDthLmluSW5saW5lTW9kZSYmKGsuc2Nyb2xsPXt0b3A6Yi4kLnNjcm9sbFRvcCxsZWZ0OmIuJC5zY3JvbGxMZWZ0fSk7cmV0dXJuIEEoe2JvcmRlcjpmLHBhZGRpbmc6aCxtYXJnaW46ZyxpZ25vcmVTY3JvbGw6Y30saywhMCl9ZnVuY3Rpb24gdyhhLGIsYyl7aWYoIW4oYikpcmV0dXJuIGIuc2l6ZT1udWxsO2lmKCFiLnNpemUpYi5zaXplPXt9O2Vsc2UgaWYoYi5zaXplLmlnbm9yZVNjcm9sbD09YyYmYi5zaXplLmRhdGU+bmV3IERhdGUtUylyZXR1cm4gbnVsbDtyZXR1cm4gQShiLnNpemUseChhLGIsYykse2RhdGU6K25ldyBEYXRlfSxcbiEwKX1mdW5jdGlvbiB6KGEsYil7YS52aWV3LmVkaXRhYmxlPXgoYSxhLmVkaXRhYmxlLGIsITApfWZ1bmN0aW9uIEQoYSxiKXthLnZpZXd8fChhLnZpZXc9e30pO3ZhciBjPWEudmlldztpZighKCFiJiZjJiZjLmRhdGU+bmV3IERhdGUtUykpe3ZhciBkPWEud2luLGM9ZC5nZXRTY3JvbGxQb3NpdGlvbigpLGQ9ZC5nZXRWaWV3UGFuZVNpemUoKTtBKGEudmlldyx7c2Nyb2xsOnt4OmMueCx5OmMueSx3aWR0aDphLmRvYy4kLmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aC1kLndpZHRoLGhlaWdodDphLmRvYy4kLmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQtZC5oZWlnaHR9LHBhbmU6e3dpZHRoOmQud2lkdGgsaGVpZ2h0OmQuaGVpZ2h0LGJvdHRvbTpkLmhlaWdodCtjLnl9LGRhdGU6K25ldyBEYXRlfSwhMCl9fWZ1bmN0aW9uIHkoYSxiLGMsZCl7Zm9yKHZhciBlPWQsZz1kLGg9MCxrPSExLGw9ITEsbT1hLnZpZXcucGFuZS5oZWlnaHQsbj1hLm1vdXNlO24ueStoPG0mJjA8bi55LVxuaDspe2t8fChrPWIoZSxkKSk7bHx8KGw9YihnLGQpKTshayYmMDxuLnktaCYmKGU9YyhhLHt4Om4ueCx5Om4ueS1ofSkpOyFsJiZuLnkraDxtJiYoZz1jKGEse3g6bi54LHk6bi55K2h9KSk7aWYoayYmbClicmVhaztoKz0yfXJldHVybiBuZXcgZihbZSxnLG51bGwsbnVsbF0pfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwibWFnaWNsaW5lXCIse2luaXQ6ZnVuY3Rpb24oYSl7dmFyIGM9YS5jb25maWcsbD1jLm1hZ2ljbGluZV90cmlnZ2VyT2Zmc2V0fHwzMCxtPXtlZGl0b3I6YSxlbnRlck1vZGU6Yy5lbnRlck1vZGUsdHJpZ2dlck9mZnNldDpsLGhvbGREaXN0YW5jZTowfGwqKGMubWFnaWNsaW5lX2hvbGREaXN0YW5jZXx8LjUpLGJveENvbG9yOmMubWFnaWNsaW5lX2NvbG9yfHxcIiNmZjAwMDBcIixydGw6XCJydGxcIj09Yy5jb250ZW50c0xhbmdEaXJlY3Rpb24sdGFidUxpc3Q6W1wiZGF0YS1ja2UtaGlkZGVuLXNlbFwiXS5jb25jYXQoYy5tYWdpY2xpbmVfdGFidUxpc3R8fFtdKSx0cmlnZ2VyczpjLm1hZ2ljbGluZV9ldmVyeXdoZXJlP1xuTjp7dGFibGU6MSxocjoxLGRpdjoxLHVsOjEsb2w6MSxkbDoxLGZvcm06MSxibG9ja3F1b3RlOjF9fSx0LHIsdzttLmlzUmVsZXZhbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4oYSkmJiFnKG0sYSkmJiFxKGEpfTthLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7dmFyIGw9YS5lZGl0YWJsZSgpLG49YS5kb2N1bWVudCxxPWEud2luZG93O0EobSx7ZWRpdGFibGU6bCxpbklubGluZU1vZGU6bC5pc0lubGluZSgpLGRvYzpuLHdpbjpxLGhvdE5vZGU6bnVsbH0sITApO20uYm91bmRhcnk9bS5pbklubGluZU1vZGU/bS5lZGl0YWJsZTptLmRvYy5nZXREb2N1bWVudEVsZW1lbnQoKTtsLmlzKEcuJGlubGluZSl8fChtLmluSW5saW5lTW9kZSYmIXAobCkmJmwuc2V0U3R5bGVzKHtwb3NpdGlvbjpcInJlbGF0aXZlXCIsdG9wOm51bGwsbGVmdDpudWxsfSksZC5jYWxsKHRoaXMsbSksRChtKSxsLmF0dGFjaExpc3RlbmVyKGEsXCJiZWZvcmVVbmRvSW1hZ2VcIixmdW5jdGlvbigpe20ubGluZS5kZXRhY2goKX0pLFxubC5hdHRhY2hMaXN0ZW5lcihhLFwiYmVmb3JlR2V0RGF0YVwiLGZ1bmN0aW9uKCl7bS5saW5lLndyYXAuZ2V0UGFyZW50KCkmJihtLmxpbmUuZGV0YWNoKCksYS5vbmNlKFwiZ2V0RGF0YVwiLGZ1bmN0aW9uKCl7bS5saW5lLmF0dGFjaCgpfSxudWxsLG51bGwsMUUzKSl9LG51bGwsbnVsbCwwKSxsLmF0dGFjaExpc3RlbmVyKG0uaW5JbmxpbmVNb2RlP246bi5nZXRXaW5kb3coKS5nZXRGcmFtZSgpLFwibW91c2VvdXRcIixmdW5jdGlvbihiKXtpZihcInd5c2l3eWdcIj09YS5tb2RlKWlmKG0uaW5JbmxpbmVNb2RlKXt2YXIgYz1iLmRhdGEuJC5jbGllbnRYO2I9Yi5kYXRhLiQuY2xpZW50WTtEKG0pO3oobSwhMCk7dmFyIGQ9bS52aWV3LmVkaXRhYmxlLGU9bS52aWV3LnNjcm9sbDtjPmQubGVmdC1lLngmJmM8ZC5yaWdodC1lLngmJmI+ZC50b3AtZS55JiZiPGQuYm90dG9tLWUueXx8KGNsZWFyVGltZW91dCh3KSx3PW51bGwsbS5saW5lLmRldGFjaCgpKX1lbHNlIGNsZWFyVGltZW91dCh3KSx3PW51bGwsXG5tLmxpbmUuZGV0YWNoKCl9KSxsLmF0dGFjaExpc3RlbmVyKGwsXCJrZXl1cFwiLGZ1bmN0aW9uKCl7bS5oaWRkZW5Nb2RlPTB9KSxsLmF0dGFjaExpc3RlbmVyKGwsXCJrZXlkb3duXCIsZnVuY3Rpb24oYil7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSlzd2l0Y2goYi5kYXRhLmdldEtleXN0cm9rZSgpKXtjYXNlIDIyMjgyNDA6Y2FzZSAxNjptLmhpZGRlbk1vZGU9MSxtLmxpbmUuZGV0YWNoKCl9fSksbC5hdHRhY2hMaXN0ZW5lcihtLmluSW5saW5lTW9kZT9sOm4sXCJtb3VzZW1vdmVcIixmdW5jdGlvbihiKXtyPSEwO2lmKFwid3lzaXd5Z1wiPT1hLm1vZGUmJiFhLnJlYWRPbmx5JiYhdyl7dmFyIGM9e3g6Yi5kYXRhLiQuY2xpZW50WCx5OmIuZGF0YS4kLmNsaWVudFl9O3c9c2V0VGltZW91dChmdW5jdGlvbigpe20ubW91c2U9Yzt3PW0udHJpZ2dlcj1udWxsO0QobSk7ciYmIW0uaGlkZGVuTW9kZSYmYS5mb2N1c01hbmFnZXIuaGFzRm9jdXMmJiFtLmxpbmUubW91c2VOZWFyKCkmJihtLmVsZW1lbnQ9XG5kYShtLCEwKSkmJigobS50cmlnZ2VyPXUobSl8fEIobSl8fGZhKG0pKSYmIXYobSxtLnRyaWdnZXIudXBwZXJ8fG0udHJpZ2dlci5sb3dlcik/bS5saW5lLmF0dGFjaCgpLnBsYWNlKCk6KG0udHJpZ2dlcj1udWxsLG0ubGluZS5kZXRhY2goKSkscj0hMSl9LDMwKX19KSxsLmF0dGFjaExpc3RlbmVyKHEsXCJzY3JvbGxcIixmdW5jdGlvbigpe1wid3lzaXd5Z1wiPT1hLm1vZGUmJihtLmxpbmUuZGV0YWNoKCksRS53ZWJraXQmJihtLmhpZGRlbk1vZGU9MSxjbGVhclRpbWVvdXQodCksdD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bS5tb3VzZURvd258fChtLmhpZGRlbk1vZGU9MCl9LDUwKSkpfSksbC5hdHRhY2hMaXN0ZW5lcihKP246cSxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7XCJ3eXNpd3lnXCI9PWEubW9kZSYmKG0ubGluZS5kZXRhY2goKSxtLmhpZGRlbk1vZGU9MSxtLm1vdXNlRG93bj0xKX0pLGwuYXR0YWNoTGlzdGVuZXIoSj9uOnEsXCJtb3VzZXVwXCIsZnVuY3Rpb24oKXttLmhpZGRlbk1vZGU9XG4wO20ubW91c2VEb3duPTB9KSxhLmFkZENvbW1hbmQoXCJhY2Nlc3NQcmV2aW91c1NwYWNlXCIsayhtKSksYS5hZGRDb21tYW5kKFwiYWNjZXNzTmV4dFNwYWNlXCIsayhtLCEwKSksYS5zZXRLZXlzdHJva2UoW1tjLm1hZ2ljbGluZV9rZXlzdHJva2VQcmV2aW91cyxcImFjY2Vzc1ByZXZpb3VzU3BhY2VcIl0sW2MubWFnaWNsaW5lX2tleXN0cm9rZU5leHQsXCJhY2Nlc3NOZXh0U3BhY2VcIl1dKSxhLm9uKFwibG9hZFNuYXBzaG90XCIsZnVuY3Rpb24oKXt2YXIgYixjLGQsZTtmb3IoZSBpbntwOjEsYnI6MSxkaXY6MX0pZm9yKGI9YS5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnKGUpLGQ9Yi5jb3VudCgpO2QtLTspaWYoKGM9Yi5nZXRJdGVtKGQpKS5kYXRhKFwiY2tlLW1hZ2ljbGluZS1ob3RcIikpe20uaG90Tm9kZT1jO20ubGFzdENtZERpcmVjdGlvbj1cInRydWVcIj09PWMuZGF0YShcImNrZS1tYWdpY2xpbmUtZGlyXCIpPyEwOiExO3JldHVybn19KSx0aGlzLmJhY2tkb29yPXthY2Nlc3NGb2N1c1NwYWNlOmgsXG5ib3hUcmlnZ2VyOmYsaXNMaW5lOmcsZ2V0QXNjZW5kYW50VHJpZ2dlcjpiLGdldE5vbkVtcHR5TmVpZ2hib3VyOmUsZ2V0U2l6ZTp4LHRoYXQ6bSx0cmlnZ2VyRWRnZTpCLHRyaWdnZXJFZGl0YWJsZTp1LHRyaWdnZXJFeHBhbmQ6ZmF9KX0sdGhpcyl9fSk7dmFyIEE9Q0tFRElUT1IudG9vbHMuZXh0ZW5kLEM9Q0tFRElUT1IuZG9tLmVsZW1lbnQsRj1DLmNyZWF0ZUZyb21IdG1sLEU9Q0tFRElUT1IuZW52LEo9Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uLEc9Q0tFRElUT1IuZHRkLE09e30sST0xMjgsSD02NCxSPTMyLFA9MTYsVD00LE89MixLPTEsY2E9XCLCoFwiLFc9Ry4kbGlzdEl0ZW0sVT1HLiR0YWJsZUNvbnRlbnQsTD1BKHt9LEcuJG5vbkVkaXRhYmxlLEcuJGVtcHR5KSxOPUcuJGJsb2NrLFM9MTAwLFE9XCJ3aWR0aDowcHg7aGVpZ2h0OjBweDtwYWRkaW5nOjBweDttYXJnaW46MHB4O2Rpc3BsYXk6YmxvY2s7ei1pbmRleDo5OTk5O2NvbG9yOiNmZmY7cG9zaXRpb246YWJzb2x1dGU7Zm9udC1zaXplOiAwcHg7bGluZS1oZWlnaHQ6MHB4O1wiLFxuWT1RK1wiYm9yZGVyLWNvbG9yOnRyYW5zcGFyZW50O2Rpc3BsYXk6YmxvY2s7Ym9yZGVyLXN0eWxlOnNvbGlkO1wiLFY9XCJcXHgzY3NwYW5cXHgzZVwiK2NhK1wiXFx4M2Mvc3BhblxceDNlXCI7TVtDS0VESVRPUi5FTlRFUl9CUl09XCJiclwiO01bQ0tFRElUT1IuRU5URVJfUF09XCJwXCI7TVtDS0VESVRPUi5FTlRFUl9ESVZdPVwiZGl2XCI7Zi5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihhLGIsYyl7dGhpcy5wcm9wZXJ0aWVzPWErYisoY3x8Syk7cmV0dXJuIHRoaXN9LGlzOmZ1bmN0aW9uKGEpe3JldHVybih0aGlzLnByb3BlcnRpZXMmYSk9PWF9fTt2YXIgZGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyl7dmFyIGQ9Yi4kLmVsZW1lbnRGcm9tUG9pbnQoYy54LGMueSk7cmV0dXJuIGQmJmQubm9kZVR5cGU/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGQpOm51bGx9cmV0dXJuIGZ1bmN0aW9uKGIsYyxkKXtpZighYi5tb3VzZSlyZXR1cm4gbnVsbDt2YXIgZT1iLmRvYyxmPWIubGluZS53cmFwO2Q9ZHx8Yi5tb3VzZTtcbnZhciBoPWEoZSxkKTtjJiZnKGIsaCkmJihmLmhpZGUoKSxoPWEoZSxkKSxmLnNob3coKSk7cmV0dXJuIWh8fGgudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhaC4kfHxFLmllJiY5PkUudmVyc2lvbiYmIWIuYm91bmRhcnkuZXF1YWxzKGgpJiYhYi5ib3VuZGFyeS5jb250YWlucyhoKT9udWxsOmh9fSgpLFo9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLFg9Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZShDS0VESVRPUi5OT0RFX0NPTU1FTlQpLGZhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihlKXt2YXIgZj1lLmVsZW1lbnQsZyxoLGs7aWYoIW4oZil8fGYuY29udGFpbnMoZS5lZGl0YWJsZSl8fGYuaXNSZWFkT25seSgpKXJldHVybiBudWxsO2s9eShlLGZ1bmN0aW9uKGEsYil7cmV0dXJuIWIuZXF1YWxzKGEpfSxmdW5jdGlvbihhLGIpe3JldHVybiBkYShhLCEwLGIpfSxmKTtnPWsudXBwZXI7aD1rLmxvd2VyO2lmKGEoZSxnLGgpKXJldHVybiBrLnNldChSLFxuOCk7aWYoZyYmZi5jb250YWlucyhnKSlmb3IoOyFnLmdldFBhcmVudCgpLmVxdWFscyhmKTspZz1nLmdldFBhcmVudCgpO2Vsc2UgZz1mLmdldEZpcnN0KGZ1bmN0aW9uKGEpe3JldHVybiBkKGUsYSl9KTtpZihoJiZmLmNvbnRhaW5zKGgpKWZvcig7IWguZ2V0UGFyZW50KCkuZXF1YWxzKGYpOyloPWguZ2V0UGFyZW50KCk7ZWxzZSBoPWYuZ2V0TGFzdChmdW5jdGlvbihhKXtyZXR1cm4gZChlLGEpfSk7aWYoIWd8fCFoKXJldHVybiBudWxsO3coZSxnKTt3KGUsaCk7aWYoIW0oZS5tb3VzZS55LGcuc2l6ZS50b3AsaC5zaXplLmJvdHRvbSkpcmV0dXJuIG51bGw7Zm9yKHZhciBmPU51bWJlci5NQVhfVkFMVUUsbCxwLHQsdTtoJiYhaC5lcXVhbHMoZykmJihwPWcuZ2V0TmV4dChlLmlzUmVsZXZhbnQpKTspbD1NYXRoLmFicyhjKGUsZyxwKS1lLm1vdXNlLnkpLGw8ZiYmKGY9bCx0PWcsdT1wKSxnPXAsdyhlLGcpO2lmKCF0fHwhdXx8IW0oZS5tb3VzZS55LHQuc2l6ZS50b3AsdS5zaXplLmJvdHRvbSkpcmV0dXJuIG51bGw7XG5rLnVwcGVyPXQ7ay5sb3dlcj11O3JldHVybiBrLnNldChSLDgpfWZ1bmN0aW9uIGQoYSxiKXtyZXR1cm4hKGImJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHxYKGIpfHxxKGIpfHxnKGEsYil8fGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLiQmJmIuaXMoXCJiclwiKSl9cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWIoYyksZTtpZihlPWQpe2U9ZC51cHBlcjt2YXIgZj1kLmxvd2VyO2U9IWV8fCFmfHxxKGYpfHxxKGUpfHxmLmVxdWFscyhlKXx8ZS5lcXVhbHMoZil8fGYuY29udGFpbnMoZSl8fGUuY29udGFpbnMoZik/ITE6dChjLGUpJiZ0KGMsZikmJmEoYyxlLGYpPyEwOiExfXJldHVybiBlP2Q6bnVsbH19KCksYmE9W1widG9wXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwiYm90dG9tXCJdfSgpLENLRURJVE9SLmNvbmZpZy5tYWdpY2xpbmVfa2V5c3Ryb2tlUHJldmlvdXM9Q0tFRElUT1IuQ1RSTCtDS0VESVRPUi5TSElGVCs1MSxDS0VESVRPUi5jb25maWcubWFnaWNsaW5lX2tleXN0cm9rZU5leHQ9XG5DS0VESVRPUi5DVFJMK0NLRURJVE9SLlNISUZUKzUyLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtpZighYXx8YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fFwiZm9ybVwiIT1hLmdldE5hbWUoKSlyZXR1cm5bXTtmb3IodmFyIGI9W10sYz1bXCJzdHlsZVwiLFwiY2xhc3NOYW1lXCJdLGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGY9YS4kLmVsZW1lbnRzLm5hbWVkSXRlbShjW2VdKTtmJiYoZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZiksYi5wdXNoKFtmLGYubmV4dFNpYmxpbmddKSxmLnJlbW92ZSgpKX1yZXR1cm4gYn1mdW5jdGlvbiBmKGEsYil7aWYoYSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiZm9ybVwiPT1hLmdldE5hbWUoKSYmMDxiLmxlbmd0aClmb3IodmFyIGM9Yi5sZW5ndGgtMTswPD1jO2MtLSl7dmFyIGU9YltjXVswXSxmPWJbY11bMV07Zj9lLmluc2VydEJlZm9yZShmKTplLmFwcGVuZFRvKGEpfX1mdW5jdGlvbiBiKGIsYyl7dmFyIGQ9YShiKSxlPVxue30saz1iLiQ7Y3x8KGVbXCJjbGFzc1wiXT1rLmNsYXNzTmFtZXx8XCJcIixrLmNsYXNzTmFtZT1cIlwiKTtlLmlubGluZT1rLnN0eWxlLmNzc1RleHR8fFwiXCI7Y3x8KGsuc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOiBzdGF0aWM7IG92ZXJmbG93OiB2aXNpYmxlXCIpO2YoZCk7cmV0dXJuIGV9ZnVuY3Rpb24gYyhiLGMpe3ZhciBkPWEoYiksZT1iLiQ7XCJjbGFzc1wiaW4gYyYmKGUuY2xhc3NOYW1lPWNbXCJjbGFzc1wiXSk7XCJpbmxpbmVcImluIGMmJihlLnN0eWxlLmNzc1RleHQ9Yy5pbmxpbmUpO2YoZCl9ZnVuY3Rpb24gZShhKXtpZighYS5lZGl0YWJsZSgpLmlzSW5saW5lKCkpe3ZhciBiPUNLRURJVE9SLmluc3RhbmNlcyxjO2ZvcihjIGluIGIpe3ZhciBlPWJbY107XCJ3eXNpd3lnXCIhPWUubW9kZXx8ZS5yZWFkT25seXx8KGU9ZS5kb2N1bWVudC5nZXRCb2R5KCksZS5zZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIiwhMSksZS5zZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIiwhMCkpfWEuZWRpdGFibGUoKS5oYXNGb2N1cyYmXG4oYS50b29sYm94LmZvY3VzKCksYS5mb2N1cygpKX19Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJtYXhpbWl6ZVwiLHtpbml0OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGYoKXt2YXIgYj1rLmdldFZpZXdQYW5lU2l6ZSgpO2EucmVzaXplKGIud2lkdGgsYi5oZWlnaHQsbnVsbCwhMCl9aWYoYS5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSl7dmFyIGQ9YS5sYW5nLGg9Q0tFRElUT1IuZG9jdW1lbnQsaz1oLmdldFdpbmRvdygpLGcsbixxLHA9Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO2EuYWRkQ29tbWFuZChcIm1heGltaXplXCIse21vZGVzOnt3eXNpd3lnOiFDS0VESVRPUi5lbnYuaU9TLHNvdXJjZTohQ0tFRElUT1IuZW52LmlPU30scmVhZE9ubHk6MSxlZGl0b3JGb2N1czohMSxleGVjOmZ1bmN0aW9uKCl7dmFyIHQ9YS5jb250YWluZXIuZ2V0Rmlyc3QoZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0NsYXNzKFwiY2tlX2lubmVyXCIpfSksXG52PWEudWkuc3BhY2UoXCJjb250ZW50c1wiKTtpZihcInd5c2l3eWdcIj09YS5tb2RlKXt2YXIgcj1hLmdldFNlbGVjdGlvbigpO2c9ciYmci5nZXRSYW5nZXMoKTtuPWsuZ2V0U2Nyb2xsUG9zaXRpb24oKX1lbHNle3ZhciB1PWEuZWRpdGFibGUoKS4kO2c9IUNLRURJVE9SLmVudi5pZSYmW3Uuc2VsZWN0aW9uU3RhcnQsdS5zZWxlY3Rpb25FbmRdO249W3Uuc2Nyb2xsTGVmdCx1LnNjcm9sbFRvcF19aWYodGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKXtrLm9uKFwicmVzaXplXCIsZik7cT1rLmdldFNjcm9sbFBvc2l0aW9uKCk7Zm9yKHI9YS5jb250YWluZXI7cj1yLmdldFBhcmVudCgpOylyLnNldEN1c3RvbURhdGEoXCJtYXhpbWl6ZV9zYXZlZF9zdHlsZXNcIixiKHIpKSxyLnNldFN0eWxlKFwiei1pbmRleFwiLGEuY29uZmlnLmJhc2VGbG9hdFpJbmRleC01KTt2LnNldEN1c3RvbURhdGEoXCJtYXhpbWl6ZV9zYXZlZF9zdHlsZXNcIixiKHYsITApKTt0LnNldEN1c3RvbURhdGEoXCJtYXhpbWl6ZV9zYXZlZF9zdHlsZXNcIixcbmIodCwhMCkpO3Y9e292ZXJmbG93OkNLRURJVE9SLmVudi53ZWJraXQ/XCJcIjpcImhpZGRlblwiLHdpZHRoOjAsaGVpZ2h0OjB9O2guZ2V0RG9jdW1lbnRFbGVtZW50KCkuc2V0U3R5bGVzKHYpOyFDS0VESVRPUi5lbnYuZ2Vja28mJmguZ2V0RG9jdW1lbnRFbGVtZW50KCkuc2V0U3R5bGUoXCJwb3NpdGlvblwiLFwiZml4ZWRcIik7Q0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYucXVpcmtzfHxoLmdldEJvZHkoKS5zZXRTdHlsZXModik7Q0tFRElUT1IuZW52LmllP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtrLiQuc2Nyb2xsVG8oMCwwKX0sMCk6ay4kLnNjcm9sbFRvKDAsMCk7dC5zZXRTdHlsZShcInBvc2l0aW9uXCIsQ0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYucXVpcmtzP1wiZml4ZWRcIjpcImFic29sdXRlXCIpO3QuJC5vZmZzZXRMZWZ0O3Quc2V0U3R5bGVzKHtcInotaW5kZXhcIjphLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgtNSxsZWZ0OlwiMHB4XCIsdG9wOlwiMHB4XCJ9KTt0LmFkZENsYXNzKFwiY2tlX21heGltaXplZFwiKTtcbmYoKTt2PXQuZ2V0RG9jdW1lbnRQb3NpdGlvbigpO3Quc2V0U3R5bGVzKHtsZWZ0Oi0xKnYueCtcInB4XCIsdG9wOi0xKnYueStcInB4XCJ9KTtDS0VESVRPUi5lbnYuZ2Vja28mJmUoYSl9ZWxzZSBpZih0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTil7ay5yZW1vdmVMaXN0ZW5lcihcInJlc2l6ZVwiLGYpO2Zvcih2YXIgcj1bdix0XSxCPTA7QjxyLmxlbmd0aDtCKyspYyhyW0JdLHJbQl0uZ2V0Q3VzdG9tRGF0YShcIm1heGltaXplX3NhdmVkX3N0eWxlc1wiKSkscltCXS5yZW1vdmVDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIpO2ZvcihyPWEuY29udGFpbmVyO3I9ci5nZXRQYXJlbnQoKTspYyhyLHIuZ2V0Q3VzdG9tRGF0YShcIm1heGltaXplX3NhdmVkX3N0eWxlc1wiKSksci5yZW1vdmVDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIpO0NLRURJVE9SLmVudi5pZT9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ay4kLnNjcm9sbFRvKHEueCxxLnkpfSwwKTprLiQuc2Nyb2xsVG8ocS54LFxucS55KTt0LnJlbW92ZUNsYXNzKFwiY2tlX21heGltaXplZFwiKTtDS0VESVRPUi5lbnYud2Via2l0JiYodC5zZXRTdHlsZShcImRpc3BsYXlcIixcImlubGluZVwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5zZXRTdHlsZShcImRpc3BsYXlcIixcImJsb2NrXCIpfSwwKSk7YS5maXJlKFwicmVzaXplXCIse291dGVySGVpZ2h0OmEuY29udGFpbmVyLiQub2Zmc2V0SGVpZ2h0LGNvbnRlbnRzSGVpZ2h0OnYuJC5vZmZzZXRIZWlnaHQsb3V0ZXJXaWR0aDphLmNvbnRhaW5lci4kLm9mZnNldFdpZHRofSl9dGhpcy50b2dnbGVTdGF0ZSgpO2lmKHI9dGhpcy51aUl0ZW1zWzBdKXY9dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGP2QubWF4aW1pemUubWF4aW1pemU6ZC5tYXhpbWl6ZS5taW5pbWl6ZSxyPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoci5fLmlkKSxyLmdldENoaWxkKDEpLnNldEh0bWwodiksci5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLHYpLHIuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCdqYXZhc2NyaXB0OnZvaWQoXCInK1xudisnXCIpOycpO1wid3lzaXd5Z1wiPT1hLm1vZGU/Zz8oQ0tFRElUT1IuZW52LmdlY2tvJiZlKGEpLGEuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKGcpLCh1PWEuZ2V0U2VsZWN0aW9uKCkuZ2V0U3RhcnRFbGVtZW50KCkpJiZ1LnNjcm9sbEludG9WaWV3KCEwKSk6ay4kLnNjcm9sbFRvKG4ueCxuLnkpOihnJiYodS5zZWxlY3Rpb25TdGFydD1nWzBdLHUuc2VsZWN0aW9uRW5kPWdbMV0pLHUuc2Nyb2xsTGVmdD1uWzBdLHUuc2Nyb2xsVG9wPW5bMV0pO2c9bj1udWxsO3A9dGhpcy5zdGF0ZTthLmZpcmUoXCJtYXhpbWl6ZVwiLHRoaXMuc3RhdGUpfSxjYW5VbmRvOiExfSk7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKFwiTWF4aW1pemVcIix7bGFiZWw6ZC5tYXhpbWl6ZS5tYXhpbWl6ZSxjb21tYW5kOlwibWF4aW1pemVcIix0b29sYmFyOlwidG9vbHMsMTBcIn0pO2Eub24oXCJtb2RlXCIsZnVuY3Rpb24oKXt2YXIgYj1hLmdldENvbW1hbmQoXCJtYXhpbWl6ZVwiKTtiLnNldFN0YXRlKGIuc3RhdGU9PVxuQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ/Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ6cCl9LG51bGwsbnVsbCwxMDApfX19KX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxjLGUpe3ZhciBmPUNLRURJVE9SLmNsZWFuV29yZDtmP2UoKTooYT1DS0VESVRPUi5nZXRVcmwoYS5jb25maWcucGFzdGVGcm9tV29yZENsZWFudXBGaWxlfHxjK1wiZmlsdGVyL2RlZmF1bHQuanNcIiksQ0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoYSxlLG51bGwsITApKTtyZXR1cm4hZn1mdW5jdGlvbiBmKGEpe2EuZGF0YS50eXBlPVwiaHRtbFwifUNLRURJVE9SLnBsdWdpbnMuYWRkKFwicGFzdGVmcm9td29yZFwiLHtyZXF1aXJlczpcImNsaXBib2FyZFwiLGluaXQ6ZnVuY3Rpb24oYil7dmFyIGM9MCxlPXRoaXMucGF0aDtiLmFkZENvbW1hbmQoXCJwYXN0ZWZyb213b3JkXCIse2NhblVuZG86ITEsYXN5bmM6ITAsZXhlYzpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2M9MTthLm9uY2UoXCJiZWZvcmVQYXN0ZVwiLGYpO1xuYS5nZXRDbGlwYm9hcmREYXRhKHt0aXRsZTphLmxhbmcucGFzdGVmcm9td29yZC50aXRsZX0sZnVuY3Rpb24oYyl7YyYmYS5maXJlKFwicGFzdGVcIix7dHlwZTpcImh0bWxcIixkYXRhVmFsdWU6Yy5kYXRhVmFsdWUsbWV0aG9kOlwicGFzdGVcIixkYXRhVHJhbnNmZXI6Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaW5pdFBhc3RlRGF0YVRyYW5zZmVyKCl9KTthLmZpcmUoXCJhZnRlckNvbW1hbmRFeGVjXCIse25hbWU6XCJwYXN0ZWZyb213b3JkXCIsY29tbWFuZDpiLHJldHVyblZhbHVlOiEhY30pfSl9fSk7Yi51aS5hZGRCdXR0b24mJmIudWkuYWRkQnV0dG9uKFwiUGFzdGVGcm9tV29yZFwiLHtsYWJlbDpiLmxhbmcucGFzdGVmcm9td29yZC50b29sYmFyLGNvbW1hbmQ6XCJwYXN0ZWZyb213b3JkXCIsdG9vbGJhcjpcImNsaXBib2FyZCw1MFwifSk7Yi5vbihcInBhc3RlU3RhdGVcIixmdW5jdGlvbihhKXtiLmdldENvbW1hbmQoXCJwYXN0ZWZyb213b3JkXCIpLnNldFN0YXRlKGEuZGF0YSl9KTtiLm9uKFwicGFzdGVcIixcbmZ1bmN0aW9uKGYpe3ZhciBsPWYuZGF0YSxkPWwuZGF0YVZhbHVlLGg9LyhjbGFzcz1cXFwiP01zb3xzdHlsZT1cXFwiW15cXFwiXSpcXGJtc29cXC18dzpXb3JkRG9jdW1lbnR8PG86XFx3Kz58PFxcL2ZvbnQ+KS8saz17ZGF0YVZhbHVlOmR9O2lmKGQmJihjfHxoLnRlc3QoZCkpJiYoITEhPT1iLmZpcmUoXCJwYXN0ZUZyb21Xb3JkXCIsayl8fGMpKXtsLmRvbnRGaWx0ZXI9ITA7dmFyIGc9YShiLGUsZnVuY3Rpb24oKXtpZihnKWIuZmlyZShcInBhc3RlXCIsbCk7ZWxzZSBpZighYi5jb25maWcucGFzdGVGcm9tV29yZFByb21wdENsZWFudXB8fGN8fGNvbmZpcm0oYi5sYW5nLnBhc3RlZnJvbXdvcmQuY29uZmlybUNsZWFudXApKWsuZGF0YVZhbHVlPUNLRURJVE9SLmNsZWFuV29yZChrLmRhdGFWYWx1ZSxiKSxiLmZpcmUoXCJhZnRlclBhc3RlRnJvbVdvcmRcIixrKSxsLmRhdGFWYWx1ZT1rLmRhdGFWYWx1ZTtjPTB9KTtnJiZmLmNhbmNlbCgpfX0sbnVsbCxudWxsLDMpfX0pfSgpLGZ1bmN0aW9uKCl7dmFyIGE9XG57Y2FuVW5kbzohMSxhc3luYzohMCxleGVjOmZ1bmN0aW9uKGYpe2YuZ2V0Q2xpcGJvYXJkRGF0YSh7dGl0bGU6Zi5sYW5nLnBhc3RldGV4dC50aXRsZX0sZnVuY3Rpb24oYil7YiYmZi5maXJlKFwicGFzdGVcIix7dHlwZTpcInRleHRcIixkYXRhVmFsdWU6Yi5kYXRhVmFsdWUsbWV0aG9kOlwicGFzdGVcIixkYXRhVHJhbnNmZXI6Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaW5pdFBhc3RlRGF0YVRyYW5zZmVyKCl9KTtmLmZpcmUoXCJhZnRlckNvbW1hbmRFeGVjXCIse25hbWU6XCJwYXN0ZXRleHRcIixjb21tYW5kOmEscmV0dXJuVmFsdWU6ISFifSl9KX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwicGFzdGV0ZXh0XCIse3JlcXVpcmVzOlwiY2xpcGJvYXJkXCIsaW5pdDpmdW5jdGlvbihmKXtmLmFkZENvbW1hbmQoXCJwYXN0ZXRleHRcIixhKTtmLnVpLmFkZEJ1dHRvbiYmZi51aS5hZGRCdXR0b24oXCJQYXN0ZVRleHRcIix7bGFiZWw6Zi5sYW5nLnBhc3RldGV4dC5idXR0b24sY29tbWFuZDpcInBhc3RldGV4dFwiLFxudG9vbGJhcjpcImNsaXBib2FyZCw0MFwifSk7aWYoZi5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0KWYub24oXCJiZWZvcmVQYXN0ZVwiLGZ1bmN0aW9uKGEpe1wiaHRtbFwiIT1hLmRhdGEudHlwZSYmKGEuZGF0YS50eXBlPVwidGV4dFwiKX0pO2Yub24oXCJwYXN0ZVN0YXRlXCIsZnVuY3Rpb24oYSl7Zi5nZXRDb21tYW5kKFwicGFzdGV0ZXh0XCIpLnNldFN0YXRlKGEuZGF0YSl9KX19KX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcInJlbW92ZWZvcm1hdFwiLHtpbml0OmZ1bmN0aW9uKGEpe2EuYWRkQ29tbWFuZChcInJlbW92ZUZvcm1hdFwiLENLRURJVE9SLnBsdWdpbnMucmVtb3ZlZm9ybWF0LmNvbW1hbmRzLnJlbW92ZWZvcm1hdCk7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKFwiUmVtb3ZlRm9ybWF0XCIse2xhYmVsOmEubGFuZy5yZW1vdmVmb3JtYXQudG9vbGJhcixjb21tYW5kOlwicmVtb3ZlRm9ybWF0XCIsdG9vbGJhcjpcImNsZWFudXAsMTBcIn0pfX0pLENLRURJVE9SLnBsdWdpbnMucmVtb3ZlZm9ybWF0PVxue2NvbW1hbmRzOntyZW1vdmVmb3JtYXQ6e2V4ZWM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBmPWEuXy5yZW1vdmVGb3JtYXRSZWdleHx8KGEuXy5yZW1vdmVGb3JtYXRSZWdleD1uZXcgUmVnRXhwKFwiXig/OlwiK2EuY29uZmlnLnJlbW92ZUZvcm1hdFRhZ3MucmVwbGFjZSgvLC9nLFwifFwiKStcIikkXCIsXCJpXCIpKSxiPWEuXy5yZW1vdmVBdHRyaWJ1dGVzfHwoYS5fLnJlbW92ZUF0dHJpYnV0ZXM9YS5jb25maWcucmVtb3ZlRm9ybWF0QXR0cmlidXRlcy5zcGxpdChcIixcIikpLGM9Q0tFRElUT1IucGx1Z2lucy5yZW1vdmVmb3JtYXQuZmlsdGVyLGU9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKSxtPWUuY3JlYXRlSXRlcmF0b3IoKSxsPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVH0sZDtkPW0uZ2V0TmV4dFJhbmdlKCk7KXtkLmNvbGxhcHNlZHx8ZC5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVCk7dmFyIGg9ZC5jcmVhdGVCb29rbWFyaygpLFxuaz1oLnN0YXJ0Tm9kZSxnPWguZW5kTm9kZSxuPWZ1bmN0aW9uKGIpe2Zvcih2YXIgZD1hLmVsZW1lbnRQYXRoKGIpLGU9ZC5lbGVtZW50cyxnPTEsaDsoaD1lW2ddKSYmIWguZXF1YWxzKGQuYmxvY2spJiYhaC5lcXVhbHMoZC5ibG9ja0xpbWl0KTtnKyspZi50ZXN0KGguZ2V0TmFtZSgpKSYmYyhhLGgpJiZiLmJyZWFrUGFyZW50KGgpfTtuKGspO2lmKGcpZm9yKG4oZyksaz1rLmdldE5leHRTb3VyY2VOb2RlKCEwLENLRURJVE9SLk5PREVfRUxFTUVOVCk7ayYmIWsuZXF1YWxzKGcpOylpZihrLmlzUmVhZE9ubHkoKSl7aWYoay5nZXRQb3NpdGlvbihnKSZDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUylicmVhaztrPWsuZ2V0TmV4dChsKX1lbHNlIG49ay5nZXROZXh0U291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpLFwiaW1nXCI9PWsuZ2V0TmFtZSgpJiZrLmRhdGEoXCJja2UtcmVhbGVsZW1lbnRcIil8fCFjKGEsayl8fChmLnRlc3Qoay5nZXROYW1lKCkpP2sucmVtb3ZlKDEpOlxuKGsucmVtb3ZlQXR0cmlidXRlcyhiKSxhLmZpcmUoXCJyZW1vdmVGb3JtYXRDbGVhbnVwXCIsaykpKSxrPW47ZC5tb3ZlVG9Cb29rbWFyayhoKX1hLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrKCk7YS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoZSl9fX0sZmlsdGVyOmZ1bmN0aW9uKGEsZil7Zm9yKHZhciBiPWEuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzfHxbXSxjPTA7YzxiLmxlbmd0aDtjKyspaWYoITE9PT1iW2NdKGYpKXJldHVybiExO3JldHVybiEwfX0sQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5hZGRSZW1vdmVGb3JtYXRGaWx0ZXI9ZnVuY3Rpb24oYSl7dGhpcy5fLnJlbW92ZUZvcm1hdEZpbHRlcnN8fCh0aGlzLl8ucmVtb3ZlRm9ybWF0RmlsdGVycz1bXSk7dGhpcy5fLnJlbW92ZUZvcm1hdEZpbHRlcnMucHVzaChhKX0sQ0tFRElUT1IuY29uZmlnLnJlbW92ZUZvcm1hdFRhZ3M9XCJiLGJpZyxjaXRlLGNvZGUsZGVsLGRmbixlbSxmb250LGksaW5zLGtiZCxxLHMsc2FtcCxzbWFsbCxzcGFuLHN0cmlrZSxzdHJvbmcsc3ViLHN1cCx0dCx1LHZhclwiLFxuQ0tFRElUT1IuY29uZmlnLnJlbW92ZUZvcm1hdEF0dHJpYnV0ZXM9XCJjbGFzcyxzdHlsZSxsYW5nLHdpZHRoLGhlaWdodCxhbGlnbixoc3BhY2UsdmFsaWduXCIsQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJyZXNpemVcIix7aW5pdDpmdW5jdGlvbihhKXtmdW5jdGlvbiBmKGIpe3ZhciBlPWgud2lkdGgsZj1oLmhlaWdodCxsPWUrKGIuZGF0YS4kLnNjcmVlblgtZC54KSooXCJydGxcIj09bT8tMToxKTtiPWYrKGIuZGF0YS4kLnNjcmVlblktZC55KTtrJiYoZT1NYXRoLm1heChjLnJlc2l6ZV9taW5XaWR0aCxNYXRoLm1pbihsLGMucmVzaXplX21heFdpZHRoKSkpO2cmJihmPU1hdGgubWF4KGMucmVzaXplX21pbkhlaWdodCxNYXRoLm1pbihiLGMucmVzaXplX21heEhlaWdodCkpKTthLnJlc2l6ZShrP2U6bnVsbCxmKX1mdW5jdGlvbiBiKCl7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixmKTtDS0VESVRPUi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixcbmIpO2EuZG9jdW1lbnQmJihhLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZiksYS5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixiKSl9dmFyIGM9YS5jb25maWcsZT1hLnVpLnNwYWNlSWQoXCJyZXNpemVyXCIpLG09YS5lbGVtZW50P2EuZWxlbWVudC5nZXREaXJlY3Rpb24oMSk6XCJsdHJcIjshYy5yZXNpemVfZGlyJiYoYy5yZXNpemVfZGlyPVwidmVydGljYWxcIik7dm9pZCAwPT09Yy5yZXNpemVfbWF4V2lkdGgmJihjLnJlc2l6ZV9tYXhXaWR0aD0zRTMpO3ZvaWQgMD09PWMucmVzaXplX21heEhlaWdodCYmKGMucmVzaXplX21heEhlaWdodD0zRTMpO3ZvaWQgMD09PWMucmVzaXplX21pbldpZHRoJiYoYy5yZXNpemVfbWluV2lkdGg9NzUwKTt2b2lkIDA9PT1jLnJlc2l6ZV9taW5IZWlnaHQmJihjLnJlc2l6ZV9taW5IZWlnaHQ9MjUwKTtpZighMSE9PWMucmVzaXplX2VuYWJsZWQpe3ZhciBsPW51bGwsZCxoLGs9KFwiYm90aFwiPT1jLnJlc2l6ZV9kaXJ8fFxuXCJob3Jpem9udGFsXCI9PWMucmVzaXplX2RpcikmJmMucmVzaXplX21pbldpZHRoIT1jLnJlc2l6ZV9tYXhXaWR0aCxnPShcImJvdGhcIj09Yy5yZXNpemVfZGlyfHxcInZlcnRpY2FsXCI9PWMucmVzaXplX2RpcikmJmMucmVzaXplX21pbkhlaWdodCE9Yy5yZXNpemVfbWF4SGVpZ2h0LG49Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oZSl7bHx8KGw9YS5nZXRSZXNpemFibGUoKSk7aD17d2lkdGg6bC4kLm9mZnNldFdpZHRofHwwLGhlaWdodDpsLiQub2Zmc2V0SGVpZ2h0fHwwfTtkPXt4OmUuc2NyZWVuWCx5OmUuc2NyZWVuWX07Yy5yZXNpemVfbWluV2lkdGg+aC53aWR0aCYmKGMucmVzaXplX21pbldpZHRoPWgud2lkdGgpO2MucmVzaXplX21pbkhlaWdodD5oLmhlaWdodCYmKGMucmVzaXplX21pbkhlaWdodD1oLmhlaWdodCk7Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZW1vdmVcIixmKTtDS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNldXBcIixiKTthLmRvY3VtZW50JiZcbihhLmRvY3VtZW50Lm9uKFwibW91c2Vtb3ZlXCIsZiksYS5kb2N1bWVudC5vbihcIm1vdXNldXBcIixiKSk7ZS5wcmV2ZW50RGVmYXVsdCYmZS5wcmV2ZW50RGVmYXVsdCgpfSk7YS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKG4pfSk7YS5vbihcInVpU3BhY2VcIixmdW5jdGlvbihiKXtpZihcImJvdHRvbVwiPT1iLmRhdGEuc3BhY2Upe3ZhciBjPVwiXCI7ayYmIWcmJihjPVwiIGNrZV9yZXNpemVyX2hvcml6b250YWxcIik7IWsmJmcmJihjPVwiIGNrZV9yZXNpemVyX3ZlcnRpY2FsXCIpO3ZhciBkPSdcXHgzY3NwYW4gaWRcXHgzZFwiJytlKydcIiBjbGFzc1xceDNkXCJja2VfcmVzaXplcicrYytcIiBja2VfcmVzaXplcl9cIittKydcIiB0aXRsZVxceDNkXCInK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYS5sYW5nLmNvbW1vbi5yZXNpemUpKydcIiBvbm1vdXNlZG93blxceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oJytuKycsIGV2ZW50KVwiXFx4M2UnKyhcImx0clwiPT1cbm0/XCLil6JcIjpcIuKXo1wiKStcIlxceDNjL3NwYW5cXHgzZVwiO1wibHRyXCI9PW0mJlwibHRyXCI9PWM/Yi5kYXRhLmh0bWwrPWQ6Yi5kYXRhLmh0bWw9ZCtiLmRhdGEuaHRtbH19LGEsbnVsbCwxMDApO2Eub24oXCJtYXhpbWl6ZVwiLGZ1bmN0aW9uKGIpe2EudWkuc3BhY2UoXCJyZXNpemVyXCIpW2IuZGF0YT09Q0tFRElUT1IuVFJJU1RBVEVfT04/XCJoaWRlXCI6XCJzaG93XCJdKCl9KX19fSksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJtZW51YnV0dG9uXCIse3JlcXVpcmVzOlwiYnV0dG9uLG1lbnVcIixvbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl8sYz1iLm1lbnU7Yi5zdGF0ZSE9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYoYi5vbiYmYz9jLmhpZGUoKTooYi5wcmV2aW91c1N0YXRlPWIuc3RhdGUsY3x8KGM9Yi5tZW51PW5ldyBDS0VESVRPUi5tZW51KGEse3BhbmVsOntjbGFzc05hbWU6XCJja2VfbWVudV9wYW5lbFwiLGF0dHJpYnV0ZXM6e1wiYXJpYS1sYWJlbFwiOmEubGFuZy5jb21tb24ub3B0aW9uc319fSksXG5jLm9uSGlkZT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5jb21tYW5kP2EuZ2V0Q29tbWFuZCh0aGlzLmNvbW1hbmQpLm1vZGVzOnRoaXMubW9kZXM7dGhpcy5zZXRTdGF0ZSghY3x8Y1thLm1vZGVdP2IucHJldmlvdXNTdGF0ZTpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7Yi5vbj0wfSx0aGlzKSx0aGlzLm9uTWVudSYmYy5hZGRMaXN0ZW5lcih0aGlzLm9uTWVudSkpLHRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pLGIub249MSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5zaG93KENLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoYi5pZCksNCl9LDApKSl9O0NLRURJVE9SLnVpLm1lbnVCdXR0b249Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3Moe2Jhc2U6Q0tFRElUT1IudWkuYnV0dG9uLCQ6ZnVuY3Rpb24oZil7ZGVsZXRlIGYucGFuZWw7dGhpcy5iYXNlKGYpO3RoaXMuaGFzQXJyb3c9ITA7dGhpcy5jbGljaz1hfSxzdGF0aWNzOntoYW5kbGVyOntjcmVhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5tZW51QnV0dG9uKGEpfX19fSl9LFxuYmVmb3JlSW5pdDpmdW5jdGlvbihhKXthLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfTUVOVUJVVFRPTixDS0VESVRPUi51aS5tZW51QnV0dG9uLmhhbmRsZXIpfX0pLENLRURJVE9SLlVJX01FTlVCVVRUT049XCJtZW51YnV0dG9uXCIsXCJ1c2Ugc3RyaWN0XCIsQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJzY2F5dFwiLHtyZXF1aXJlczpcIm1lbnVidXR0b24sZGlhbG9nXCIsdGFiVG9PcGVuOm51bGwsZGlhbG9nTmFtZTpcInNjYXl0RGlhbG9nXCIsb25Mb2FkOmZ1bmN0aW9uKGEpe0NLRURJVE9SLnBsdWdpbnMuc2NheXQub25Mb2FkVGltZXN0YW1wPShuZXcgRGF0ZSkuZ2V0VGltZSgpO1wibW9vbm8tbGlzYVwiPT0oQ0tFRElUT1Iuc2tpbk5hbWV8fGEuY29uZmlnLnNraW4pJiZDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVNoZWV0KHRoaXMucGF0aCtcInNraW5zL1wiK0NLRURJVE9SLnNraW4ubmFtZStcIi9zY2F5dC5jc3NcIil9LGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcyxiPUNLRURJVE9SLnBsdWdpbnMuc2NheXQ7XG50aGlzLmJpbmRFdmVudHMoYSk7dGhpcy5wYXJzZUNvbmZpZyhhKTt0aGlzLmFkZFJ1bGUoYSk7Q0tFRElUT1IuZGlhbG9nLmFkZCh0aGlzLmRpYWxvZ05hbWUsQ0tFRElUT1IuZ2V0VXJsKHRoaXMucGF0aCtcImRpYWxvZ3Mvb3B0aW9ucy5qc1wiKSk7dGhpcy5hZGRNZW51SXRlbXMoYSk7dmFyIGM9YS5sYW5nLnNjYXl0LGU9Q0tFRElUT1IuZW52O2EudWkuYWRkKFwiU2NheXRcIixDS0VESVRPUi5VSV9NRU5VQlVUVE9OLHtsYWJlbDpjLnRleHRfdGl0bGUsdGl0bGU6YS5wbHVnaW5zLndzYz9hLmxhbmcud3NjLnRpdGxlOmMudGV4dF90aXRsZSxtb2Rlczp7d3lzaXd5ZzohKGUuaWUmJig4PmUudmVyc2lvbnx8ZS5xdWlya3MpKX0sdG9vbGJhcjpcInNwZWxsY2hlY2tlciwyMFwiLHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYz1hLnVpLmluc3RhbmNlcy5TY2F5dC5nZXRTdGF0ZSgpO2Euc2NheXQmJihjPWIuc3RhdGUuc2NheXRbYS5uYW1lXT9DS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkYpO1xuYS5maXJlKFwic2NheXRCdXR0b25TdGF0ZVwiLGMpfSxvblJlbmRlcjpmdW5jdGlvbigpe3ZhciBiPXRoaXM7YS5vbihcInNjYXl0QnV0dG9uU3RhdGVcIixmdW5jdGlvbihhKXt2b2lkIDAhPT10eXBlb2YgYS5kYXRhJiZiLnNldFN0YXRlKGEuZGF0YSl9KX0sb25NZW51OmZ1bmN0aW9uKCl7dmFyIGM9YS5zY2F5dDthLmdldE1lbnVJdGVtKFwic2NheXRUb2dnbGVcIikubGFiZWw9YS5sYW5nLnNjYXl0W2MmJmIuc3RhdGUuc2NheXRbYS5uYW1lXT9cImJ0bl9kaXNhYmxlXCI6XCJidG5fZW5hYmxlXCJdO2M9e3NjYXl0VG9nZ2xlOkNLRURJVE9SLlRSSVNUQVRFX09GRixzY2F5dE9wdGlvbnM6Yz9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsc2NheXRMYW5nczpjP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxzY2F5dERpY3Q6Yz9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsc2NheXRBYm91dDpjP1xuQ0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELFdTQzphLnBsdWdpbnMud3NjP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRH07YS5jb25maWcuc2NheXRfdWlUYWJzWzBdfHxkZWxldGUgYy5zY2F5dE9wdGlvbnM7YS5jb25maWcuc2NheXRfdWlUYWJzWzFdfHxkZWxldGUgYy5zY2F5dExhbmdzO2EuY29uZmlnLnNjYXl0X3VpVGFic1syXXx8ZGVsZXRlIGMuc2NheXREaWN0O3JldHVybiBjfX0pO2EuY29udGV4dE1lbnUmJmEuYWRkTWVudUl0ZW1zJiYoYS5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihiLGMpe3ZhciBkPWEuc2NheXQsZSxrO2QmJihrPWQuZ2V0U2VsZWN0aW9uTm9kZSgpKSYmKGU9Zi5tZW51R2VuZXJhdG9yKGEsayksZC5zaG93QmFubmVyKFwiLlwiK2EuY29udGV4dE1lbnUuXy5kZWZpbml0aW9uLnBhbmVsLmNsYXNzTmFtZS5zcGxpdChcIiBcIikuam9pbihcIiAuXCIpKSk7cmV0dXJuIGV9KSxcbmEuY29udGV4dE1lbnUuXy5vbkhpZGU9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYS5jb250ZXh0TWVudS5fLm9uSGlkZSxmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1hLnNjYXl0O2MmJmMuaGlkZUJhbm5lcigpO3JldHVybiBiLmFwcGx5KHRoaXMpfX0pKX0sYWRkTWVudUl0ZW1zOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMsYj1DS0VESVRPUi5wbHVnaW5zLnNjYXl0O2EuYWRkTWVudUdyb3VwKFwic2NheXRCdXR0b25cIik7Zm9yKHZhciBjPWEuY29uZmlnLnNjYXl0X2NvbnRleHRNZW51SXRlbXNPcmRlci5zcGxpdChcInxcIiksZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV09XCJzY2F5dF9cIitjW2VdO2lmKChjPVtcImdyYXl0X2Rlc2NyaXB0aW9uXCIsXCJncmF5dF9zdWdnZXN0XCIsXCJncmF5dF9jb250cm9sXCJdLmNvbmNhdChjKSkmJmMubGVuZ3RoKWZvcihlPTA7ZTxjLmxlbmd0aDtlKyspYS5hZGRNZW51R3JvdXAoY1tlXSxlLTEwKTthLmFkZENvbW1hbmQoXCJzY2F5dFRvZ2dsZVwiLFxue2V4ZWM6ZnVuY3Rpb24oYSl7dmFyIGM9YS5zY2F5dDtiLnN0YXRlLnNjYXl0W2EubmFtZV09IWIuc3RhdGUuc2NheXRbYS5uYW1lXTshMD09PWIuc3RhdGUuc2NheXRbYS5uYW1lXT9jfHxiLmNyZWF0ZVNjYXl0KGEpOmMmJmIuZGVzdHJveShhKX19KTthLmFkZENvbW1hbmQoXCJzY2F5dEFib3V0XCIse2V4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XCJhYm91dFwiO2EubG9ja1NlbGVjdGlvbigpO2Eub3BlbkRpYWxvZyhmLmRpYWxvZ05hbWUpfX0pO2EuYWRkQ29tbWFuZChcInNjYXl0T3B0aW9uc1wiLHtleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVwib3B0aW9uc1wiO2EubG9ja1NlbGVjdGlvbigpO2Eub3BlbkRpYWxvZyhmLmRpYWxvZ05hbWUpfX0pO2EuYWRkQ29tbWFuZChcInNjYXl0TGFuZ3NcIix7ZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0LnRhYlRvT3Blbj1cImxhbmdzXCI7YS5sb2NrU2VsZWN0aW9uKCk7YS5vcGVuRGlhbG9nKGYuZGlhbG9nTmFtZSl9fSk7XG5hLmFkZENvbW1hbmQoXCJzY2F5dERpY3RcIix7ZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0LnRhYlRvT3Blbj1cImRpY3Rpb25hcmllc1wiO2EubG9ja1NlbGVjdGlvbigpO2Eub3BlbkRpYWxvZyhmLmRpYWxvZ05hbWUpfX0pO2M9e3NjYXl0VG9nZ2xlOntsYWJlbDphLmxhbmcuc2NheXQuYnRuX2VuYWJsZSxncm91cDpcInNjYXl0QnV0dG9uXCIsY29tbWFuZDpcInNjYXl0VG9nZ2xlXCJ9LHNjYXl0QWJvdXQ6e2xhYmVsOmEubGFuZy5zY2F5dC5idG5fYWJvdXQsZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dEFib3V0XCJ9LHNjYXl0T3B0aW9uczp7bGFiZWw6YS5sYW5nLnNjYXl0LmJ0bl9vcHRpb25zLGdyb3VwOlwic2NheXRCdXR0b25cIixjb21tYW5kOlwic2NheXRPcHRpb25zXCJ9LHNjYXl0TGFuZ3M6e2xhYmVsOmEubGFuZy5zY2F5dC5idG5fbGFuZ3MsZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dExhbmdzXCJ9LHNjYXl0RGljdDp7bGFiZWw6YS5sYW5nLnNjYXl0LmJ0bl9kaWN0aW9uYXJpZXMsXG5ncm91cDpcInNjYXl0QnV0dG9uXCIsY29tbWFuZDpcInNjYXl0RGljdFwifX07YS5wbHVnaW5zLndzYyYmKGMuV1NDPXtsYWJlbDphLmxhbmcud3NjLnRvb2xiYXIsZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLG9uQ2xpY2s6ZnVuY3Rpb24oKXt2YXIgYj1DS0VESVRPUi5wbHVnaW5zLnNjYXl0LGM9YS5zY2F5dCxkPWEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/YS5jb250YWluZXIuZ2V0VGV4dCgpOmEuZG9jdW1lbnQuZ2V0Qm9keSgpLmdldFRleHQoKTsoZD1kLnJlcGxhY2UoL1xccy9nLFwiXCIpKT8oYyYmYi5zdGF0ZS5zY2F5dFthLm5hbWVdJiZjLnNldE1hcmt1cFBhdXNlZCYmYy5zZXRNYXJrdXBQYXVzZWQoITApLGEubG9ja1NlbGVjdGlvbigpLGEuZXhlY0NvbW1hbmQoXCJjaGVja3NwZWxsXCIpKTphbGVydChcIk5vdGhpbmcgdG8gY2hlY2shXCIpfX0pO2EuYWRkTWVudUl0ZW1zKGMpfSxiaW5kRXZlbnRzOmZ1bmN0aW9uKGEpe3ZhciBmPUNLRURJVE9SLnBsdWdpbnMuc2NheXQsXG5iPWEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUsYz1mdW5jdGlvbigpe2YuZGVzdHJveShhKX0sZT1mdW5jdGlvbigpeyFmLnN0YXRlLnNjYXl0W2EubmFtZV18fGEucmVhZE9ubHl8fGEuc2NheXR8fGYuY3JlYXRlU2NheXQoYSl9LG09ZnVuY3Rpb24oKXt2YXIgYz1hLmVkaXRhYmxlKCk7Yy5hdHRhY2hMaXN0ZW5lcihjLFwiZm9jdXNcIixmdW5jdGlvbihjKXtDS0VESVRPUi5wbHVnaW5zLnNjYXl0JiYhYS5zY2F5dCYmc2V0VGltZW91dChlLDApO2M9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCYmQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdGF0ZS5zY2F5dFthLm5hbWVdJiZhLnNjYXl0O3ZhciBkLGY7aWYoKGJ8fGMpJiZhLl8uc2F2ZWRTZWxlY3Rpb24pe2M9YS5fLnNhdmVkU2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO2M9IWMmJmEuXy5zYXZlZFNlbGVjdGlvbi5nZXRSYW5nZXMoKTtmb3IodmFyIGw9MDtsPGMubGVuZ3RoO2wrKylmPWNbbF0sXCJzdHJpbmdcIj09PVxudHlwZW9mIGYuc3RhcnRDb250YWluZXIuJC5ub2RlVmFsdWUmJihkPWYuc3RhcnRDb250YWluZXIuZ2V0VGV4dCgpLmxlbmd0aCwoZDxmLnN0YXJ0T2Zmc2V0fHxkPGYuZW5kT2Zmc2V0KSYmYS51bmxvY2tTZWxlY3Rpb24oITEpKX19LHRoaXMsbnVsbCwtMTApfSxsPWZ1bmN0aW9uKCl7Yj9hLmNvbmZpZy5zY2F5dF9pbmxpbmVNb2RlSW1tZWRpYXRlTWFya3VwP2UoKTooYS5vbihcImJsdXJcIixmdW5jdGlvbigpe3NldFRpbWVvdXQoYywwKX0pLGEub24oXCJmb2N1c1wiLGUpLGEuZm9jdXNNYW5hZ2VyLmhhc0ZvY3VzJiZlKCkpOmUoKTttKCk7dmFyIGQ9YS5lZGl0YWJsZSgpO2QuYXR0YWNoTGlzdGVuZXIoZCxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGIpe2I9Yi5kYXRhLmdldFRhcmdldCgpO3ZhciBjPWEud2lkZ2V0cyYmYS53aWRnZXRzLmdldEJ5RWxlbWVudChiKTtjJiYoYy53cmFwcGVyPWIuZ2V0QXNjZW5kYW50KGZ1bmN0aW9uKGEpe3JldHVybiBhLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCIpfSxcbiEwKSl9LHRoaXMsbnVsbCwtMTApfTthLm9uKFwiY29udGVudERvbVwiLGwpO2Eub24oXCJiZWZvcmVDb21tYW5kRXhlY1wiLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2NheXQsZT1udWxsLGc9ITEsbD0hMDtiLmRhdGEubmFtZSBpbiBmLm9wdGlvbnMuZGlzYWJsaW5nQ29tbWFuZEV4ZWMmJlwid3lzaXd5Z1wiPT1hLm1vZGU/YyYmKGYuZGVzdHJveShhKSxhLmZpcmUoXCJzY2F5dEJ1dHRvblN0YXRlXCIsQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpKTpcImJvbGRcIiE9PWIuZGF0YS5uYW1lJiZcIml0YWxpY1wiIT09Yi5kYXRhLm5hbWUmJlwidW5kZXJsaW5lXCIhPT1iLmRhdGEubmFtZSYmXCJzdHJpa2VcIiE9PWIuZGF0YS5uYW1lJiZcInN1YnNjcmlwdFwiIT09Yi5kYXRhLm5hbWUmJlwic3VwZXJzY3JpcHRcIiE9PWIuZGF0YS5uYW1lJiZcImVudGVyXCIhPT1iLmRhdGEubmFtZSYmXCJjdXRcIiE9PWIuZGF0YS5uYW1lJiZcImxhbmd1YWdlXCIhPT1iLmRhdGEubmFtZXx8IWN8fChcImN1dFwiPT09Yi5kYXRhLm5hbWUmJihsPSExLFxuZz0hMCksXCJsYW5ndWFnZVwiPT09Yi5kYXRhLm5hbWUmJihlPShlPWEucGx1Z2lucy5sYW5ndWFnZS5nZXRDdXJyZW50TGFuZ0VsZW1lbnQoYSkpJiZlLiQsZz0hMCksYS5maXJlKFwicmVsb2FkTWFya3VwU2NheXRcIix7cmVtb3ZlT3B0aW9uczp7cmVtb3ZlSW5zaWRlOmwsZm9yY2VCb29rbWFyazpnLHNlbGVjdGlvbk5vZGU6ZX0sdGltZW91dDowfSkpfSk7YS5vbihcImJlZm9yZVNldE1vZGVcIixmdW5jdGlvbihiKXtpZihcInNvdXJjZVwiPT1iLmRhdGEpe2lmKGI9YS5zY2F5dClmLmRlc3Ryb3koYSksYS5maXJlKFwic2NheXRCdXR0b25TdGF0ZVwiLENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKTthLmRvY3VtZW50JiZhLmRvY3VtZW50LmdldEJvZHkoKS5yZW1vdmVBdHRyaWJ1dGUoXCJfanF1aWRcIil9fSk7YS5vbihcImFmdGVyQ29tbWFuZEV4ZWNcIixmdW5jdGlvbihiKXtcInd5c2l3eWdcIiE9YS5tb2RlfHxcInVuZG9cIiE9Yi5kYXRhLm5hbWUmJlwicmVkb1wiIT1iLmRhdGEubmFtZXx8c2V0VGltZW91dChmdW5jdGlvbigpe2YucmVsb2FkTWFya3VwKGEuc2NheXQpfSxcbjI1MCl9KTthLm9uKFwicmVhZE9ubHlcIixmdW5jdGlvbihiKXt2YXIgYztiJiYoYz1hLnNjYXl0LCEwPT09Yi5lZGl0b3IucmVhZE9ubHk/YyYmYy5maXJlKFwicmVtb3ZlTWFya3VwSW5Eb2N1bWVudFwiLHt9KTpjP2YucmVsb2FkTWFya3VwKGMpOlwid3lzaXd5Z1wiPT1iLmVkaXRvci5tb2RlJiYhMD09PWYuc3RhdGUuc2NheXRbYi5lZGl0b3IubmFtZV0mJihmLmNyZWF0ZVNjYXl0KGEpLGIuZWRpdG9yLmZpcmUoXCJzY2F5dEJ1dHRvblN0YXRlXCIsQ0tFRElUT1IuVFJJU1RBVEVfT04pKSl9KTthLm9uKFwiYmVmb3JlRGVzdHJveVwiLGMpO2Eub24oXCJzZXREYXRhXCIsZnVuY3Rpb24oKXtjKCk7KGEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkV8fGEucGx1Z2lucy5kaXZhcmVhKSYmbCgpfSx0aGlzLG51bGwsNTApO2Eub24oXCJyZWxvYWRNYXJrdXBTY2F5dFwiLGZ1bmN0aW9uKGIpe3ZhciBjPWIuZGF0YSYmYi5kYXRhLnJlbW92ZU9wdGlvbnM7Yj1iLmRhdGEmJmIuZGF0YS50aW1lb3V0O1xudmFyIGU9YS5zY2F5dDtlJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5yZW1vdmVNYXJrdXBJblNlbGVjdGlvbk5vZGUoYyk7Zi5yZWxvYWRNYXJrdXAoZSl9LGJ8fDApfSk7YS5vbihcImluc2VydEVsZW1lbnRcIixmdW5jdGlvbigpe2EuZmlyZShcInJlbG9hZE1hcmt1cFNjYXl0XCIse3JlbW92ZU9wdGlvbnM6e2ZvcmNlQm9va21hcms6ITB9fSl9LHRoaXMsbnVsbCw1MCk7YS5vbihcImluc2VydEh0bWxcIixmdW5jdGlvbigpe2EuZmlyZShcInJlbG9hZE1hcmt1cFNjYXl0XCIpfSx0aGlzLG51bGwsNTApO2Eub24oXCJpbnNlcnRUZXh0XCIsZnVuY3Rpb24oKXthLmZpcmUoXCJyZWxvYWRNYXJrdXBTY2F5dFwiKX0sdGhpcyxudWxsLDUwKTthLm9uKFwic2NheXREaWFsb2dTaG93blwiLGZ1bmN0aW9uKGIpe2IuZGF0YS5zZWxlY3RQYWdlKGEuc2NheXQudGFiVG9PcGVuKX0pfSxwYXJzZUNvbmZpZzpmdW5jdGlvbihhKXt2YXIgZj1DS0VESVRPUi5wbHVnaW5zLnNjYXl0O2YucmVwbGFjZU9sZE9wdGlvbnNOYW1lcyhhLmNvbmZpZyk7XG5cImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9hdXRvU3RhcnR1cCYmKGEuY29uZmlnLnNjYXl0X2F1dG9TdGFydHVwPSExKTtmLnN0YXRlLnNjYXl0W2EubmFtZV09YS5jb25maWcuc2NheXRfYXV0b1N0YXJ0dXA7XCJib29sZWFuXCIhPT10eXBlb2YgYS5jb25maWcuZ3JheXRfYXV0b1N0YXJ0dXAmJihhLmNvbmZpZy5ncmF5dF9hdXRvU3RhcnR1cD0hMSk7XCJib29sZWFuXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfaW5saW5lTW9kZUltbWVkaWF0ZU1hcmt1cCYmKGEuY29uZmlnLnNjYXl0X2lubGluZU1vZGVJbW1lZGlhdGVNYXJrdXA9ITEpO2Yuc3RhdGUuZ3JheXRbYS5uYW1lXT1hLmNvbmZpZy5ncmF5dF9hdXRvU3RhcnR1cDthLmNvbmZpZy5zY2F5dF9jb250ZXh0Q29tbWFuZHN8fChhLmNvbmZpZy5zY2F5dF9jb250ZXh0Q29tbWFuZHM9XCJpZ25vcmV8aWdub3JlYWxsfGFkZFwiKTthLmNvbmZpZy5zY2F5dF9jb250ZXh0TWVudUl0ZW1zT3JkZXJ8fChhLmNvbmZpZy5zY2F5dF9jb250ZXh0TWVudUl0ZW1zT3JkZXI9XG5cInN1Z2dlc3R8bW9yZXN1Z2dlc3R8Y29udHJvbFwiKTthLmNvbmZpZy5zY2F5dF9zTGFuZ3x8KGEuY29uZmlnLnNjYXl0X3NMYW5nPVwiZW5fVVNcIik7aWYodm9pZCAwPT09YS5jb25maWcuc2NheXRfbWF4U3VnZ2VzdGlvbnN8fFwibnVtYmVyXCIhPXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9tYXhTdWdnZXN0aW9uc3x8MD5hLmNvbmZpZy5zY2F5dF9tYXhTdWdnZXN0aW9ucylhLmNvbmZpZy5zY2F5dF9tYXhTdWdnZXN0aW9ucz01O2lmKHZvaWQgMD09PWEuY29uZmlnLnNjYXl0X21pbldvcmRMZW5ndGh8fFwibnVtYmVyXCIhPXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9taW5Xb3JkTGVuZ3RofHwxPmEuY29uZmlnLnNjYXl0X21pbldvcmRMZW5ndGgpYS5jb25maWcuc2NheXRfbWluV29yZExlbmd0aD00O2lmKHZvaWQgMD09PWEuY29uZmlnLnNjYXl0X2N1c3RvbURpY3Rpb25hcnlJZHN8fFwic3RyaW5nXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfY3VzdG9tRGljdGlvbmFyeUlkcylhLmNvbmZpZy5zY2F5dF9jdXN0b21EaWN0aW9uYXJ5SWRzPVxuXCJcIjtpZih2b2lkIDA9PT1hLmNvbmZpZy5zY2F5dF91c2VyRGljdGlvbmFyeU5hbWV8fFwic3RyaW5nXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfdXNlckRpY3Rpb25hcnlOYW1lKWEuY29uZmlnLnNjYXl0X3VzZXJEaWN0aW9uYXJ5TmFtZT1udWxsO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYS5jb25maWcuc2NheXRfdWlUYWJzJiYzPT09YS5jb25maWcuc2NheXRfdWlUYWJzLnNwbGl0KFwiLFwiKS5sZW5ndGgpe3ZhciBiPVtdLGM9W107YS5jb25maWcuc2NheXRfdWlUYWJzPWEuY29uZmlnLnNjYXl0X3VpVGFicy5zcGxpdChcIixcIik7Q0tFRElUT1IudG9vbHMuc2VhcmNoKGEuY29uZmlnLnNjYXl0X3VpVGFicyxmdW5jdGlvbihhKXsxPT09TnVtYmVyKGEpfHwwPT09TnVtYmVyKGEpPyhjLnB1c2goITApLGIucHVzaChOdW1iZXIoYSkpKTpjLnB1c2goITEpfSk7bnVsbD09PUNLRURJVE9SLnRvb2xzLnNlYXJjaChjLCExKT9hLmNvbmZpZy5zY2F5dF91aVRhYnM9YjphLmNvbmZpZy5zY2F5dF91aVRhYnM9XG5bMSwxLDFdfWVsc2UgYS5jb25maWcuc2NheXRfdWlUYWJzPVsxLDEsMV07XCJzdHJpbmdcIiE9dHlwZW9mIGEuY29uZmlnLnNjYXl0X3NlcnZpY2VQcm90b2NvbCYmKGEuY29uZmlnLnNjYXl0X3NlcnZpY2VQcm90b2NvbD1udWxsKTtcInN0cmluZ1wiIT10eXBlb2YgYS5jb25maWcuc2NheXRfc2VydmljZUhvc3QmJihhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlSG9zdD1udWxsKTtcInN0cmluZ1wiIT10eXBlb2YgYS5jb25maWcuc2NheXRfc2VydmljZVBvcnQmJihhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUG9ydD1udWxsKTtcInN0cmluZ1wiIT10eXBlb2YgYS5jb25maWcuc2NheXRfc2VydmljZVBhdGgmJihhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUGF0aD1udWxsKTthLmNvbmZpZy5zY2F5dF9tb3JlU3VnZ2VzdGlvbnN8fChhLmNvbmZpZy5zY2F5dF9tb3JlU3VnZ2VzdGlvbnM9XCJvblwiKTtcInN0cmluZ1wiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2N1c3RvbWVySWQmJihhLmNvbmZpZy5zY2F5dF9jdXN0b21lcklkPVxuXCIxOld2RjBENC1VdFBxTjEtNDNua0Q0LU5LdlVtMi1kYVFxazMtTG1OaUktejdZc2I0LW13cnkyNC1UOFlyUzMtUTJ0cHEyXCIpO1wic3RyaW5nXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfc3JjVXJsJiYoZj1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCxmPS0xIT1mLnNlYXJjaCgvaHR0cHM/Oi8pP2Y6XCJodHRwOlwiLGEuY29uZmlnLnNjYXl0X3NyY1VybD1mK1wiLy9zdmMud2Vic3BlbGxjaGVja2VyLm5ldC9zcGVsbGNoZWNrMzEvbGYvc2NheXQzL2Nrc2NheXQvY2tzY2F5dC5qc1wiKTtcImJvb2xlYW5cIiE9PXR5cGVvZiBDS0VESVRPUi5jb25maWcuc2NheXRfaGFuZGxlQ2hlY2tEaXJ0eSYmKENLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVDaGVja0RpcnR5PSEwKTtcImJvb2xlYW5cIiE9PXR5cGVvZiBDS0VESVRPUi5jb25maWcuc2NheXRfaGFuZGxlVW5kb1JlZG8mJihDS0VESVRPUi5jb25maWcuc2NheXRfaGFuZGxlVW5kb1JlZG89ITApO0NLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVVbmRvUmVkbz1cbkNLRURJVE9SLnBsdWdpbnMudW5kbz9DS0VESVRPUi5jb25maWcuc2NheXRfaGFuZGxlVW5kb1JlZG86ITE7XCJib29sZWFuXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfbXVsdGlMYW5ndWFnZU1vZGUmJihhLmNvbmZpZy5zY2F5dF9tdWx0aUxhbmd1YWdlTW9kZT0hMSk7XCJvYmplY3RcIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9tdWx0aUxhbmd1YWdlU3R5bGVzJiYoYS5jb25maWcuc2NheXRfbXVsdGlMYW5ndWFnZVN0eWxlcz17fSk7YS5jb25maWcuc2NheXRfaWdub3JlQWxsQ2Fwc1dvcmRzJiZcImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVBbGxDYXBzV29yZHMmJihhLmNvbmZpZy5zY2F5dF9pZ25vcmVBbGxDYXBzV29yZHM9ITEpO2EuY29uZmlnLnNjYXl0X2lnbm9yZURvbWFpbk5hbWVzJiZcImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVEb21haW5OYW1lcyYmKGEuY29uZmlnLnNjYXl0X2lnbm9yZURvbWFpbk5hbWVzPSExKTthLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhNaXhlZENhc2VzJiZcblwiYm9vbGVhblwiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE1peGVkQ2FzZXMmJihhLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhNaXhlZENhc2VzPSExKTthLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhOdW1iZXJzJiZcImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhOdW1iZXJzJiYoYS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTnVtYmVycz0hMSk7aWYoYS5jb25maWcuc2NheXRfZGlzYWJsZU9wdGlvbnNTdG9yYWdlKXt2YXIgZj1DS0VESVRPUi50b29scy5pc0FycmF5KGEuY29uZmlnLnNjYXl0X2Rpc2FibGVPcHRpb25zU3RvcmFnZSk/YS5jb25maWcuc2NheXRfZGlzYWJsZU9wdGlvbnNTdG9yYWdlOlwic3RyaW5nXCI9PT10eXBlb2YgYS5jb25maWcuc2NheXRfZGlzYWJsZU9wdGlvbnNTdG9yYWdlP1thLmNvbmZpZy5zY2F5dF9kaXNhYmxlT3B0aW9uc1N0b3JhZ2VdOnZvaWQgMCxlPVwiYWxsIG9wdGlvbnMgbGFuZyBpZ25vcmUtYWxsLWNhcHMtd29yZHMgaWdub3JlLWRvbWFpbi1uYW1lcyBpZ25vcmUtd29yZHMtd2l0aC1taXhlZC1jYXNlcyBpZ25vcmUtd29yZHMtd2l0aC1udW1iZXJzXCIuc3BsaXQoXCIgXCIpLFxubT1bXCJsYW5nXCIsXCJpZ25vcmUtYWxsLWNhcHMtd29yZHNcIixcImlnbm9yZS1kb21haW4tbmFtZXNcIixcImlnbm9yZS13b3Jkcy13aXRoLW1peGVkLWNhc2VzXCIsXCJpZ25vcmUtd29yZHMtd2l0aC1udW1iZXJzXCJdLGw9Q0tFRElUT1IudG9vbHMuc2VhcmNoLGQ9Q0tFRElUT1IudG9vbHMuaW5kZXhPZjthLmNvbmZpZy5zY2F5dF9kaXNhYmxlT3B0aW9uc1N0b3JhZ2U9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGY9YVtjXSxxPSEhbChhLFwib3B0aW9uc1wiKTtpZighbChlLGYpfHxxJiZsKG0sZnVuY3Rpb24oYSl7aWYoXCJsYW5nXCI9PT1hKXJldHVybiExfSkpcmV0dXJuO2wobSxmKSYmbS5zcGxpY2UoZChtLGYpLDEpO2lmKFwiYWxsXCI9PT1mfHxxJiZsKGEsXCJsYW5nXCIpKXJldHVybltdO1wib3B0aW9uc1wiPT09ZiYmKG09W1wibGFuZ1wiXSl9cmV0dXJuIGI9Yi5jb25jYXQobSl9KGYpfX0sYWRkUnVsZTpmdW5jdGlvbihhKXt2YXIgZj1DS0VESVRPUi5wbHVnaW5zLnNjYXl0LFxuYj1hLmRhdGFQcm9jZXNzb3IsYz1iJiZiLmh0bWxGaWx0ZXIsZT1hLl8uZWxlbWVudHNQYXRoJiZhLl8uZWxlbWVudHNQYXRoLmZpbHRlcnMsYj1iJiZiLmRhdGFGaWx0ZXIsbT1hLmFkZFJlbW92ZUZvcm1hdEZpbHRlcixsPWZ1bmN0aW9uKGIpe2lmKGEuc2NheXQmJihiLmhhc0F0dHJpYnV0ZShmLm9wdGlvbnMuZGF0YV9hdHRyaWJ1dGVfbmFtZSl8fGIuaGFzQXR0cmlidXRlKGYub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGUpKSlyZXR1cm4hMX0sZD1mdW5jdGlvbihiKXt2YXIgYz0hMDthLnNjYXl0JiYoYi5oYXNBdHRyaWJ1dGUoZi5vcHRpb25zLmRhdGFfYXR0cmlidXRlX25hbWUpfHxiLmhhc0F0dHJpYnV0ZShmLm9wdGlvbnMucHJvYmxlbV9ncmFtbWFyX2RhdGFfYXR0cmlidXRlKSkmJihjPSExKTtyZXR1cm4gY307ZSYmZS5wdXNoKGwpO2ImJmIuYWRkUnVsZXMoe2VsZW1lbnRzOntzcGFuOmZ1bmN0aW9uKGEpe3ZhciBiPWEuaGFzQ2xhc3MoZi5vcHRpb25zLm1pc3NwZWxsZWRfd29yZF9jbGFzcykmJlxuYS5hdHRyaWJ1dGVzW2Yub3B0aW9ucy5kYXRhX2F0dHJpYnV0ZV9uYW1lXSxjPWEuaGFzQ2xhc3MoZi5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9jbGFzcykmJmEuYXR0cmlidXRlc1tmLm9wdGlvbnMucHJvYmxlbV9ncmFtbWFyX2RhdGFfYXR0cmlidXRlXTtmJiYoYnx8YykmJmRlbGV0ZSBhLm5hbWU7cmV0dXJuIGF9fX0pO2MmJmMuYWRkUnVsZXMoe2VsZW1lbnRzOntzcGFuOmZ1bmN0aW9uKGEpe3ZhciBiPWEuaGFzQ2xhc3MoZi5vcHRpb25zLm1pc3NwZWxsZWRfd29yZF9jbGFzcykmJmEuYXR0cmlidXRlc1tmLm9wdGlvbnMuZGF0YV9hdHRyaWJ1dGVfbmFtZV0sYz1hLmhhc0NsYXNzKGYub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfY2xhc3MpJiZhLmF0dHJpYnV0ZXNbZi5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9kYXRhX2F0dHJpYnV0ZV07ZiYmKGJ8fGMpJiZkZWxldGUgYS5uYW1lO3JldHVybiBhfX19KTttJiZtLmNhbGwoYSxkKX0sc2NheXRNZW51RGVmaW5pdGlvbjpmdW5jdGlvbihhKXt2YXIgZj1cbnRoaXM7YT1hLnNjYXl0O3JldHVybntzY2F5dDp7c2NheXRfaWdub3JlOntsYWJlbDphLmdldExvY2FsKFwiYnRuX2lnbm9yZVwiKSxncm91cDpcInNjYXl0X2NvbnRyb2xcIixvcmRlcjoxLGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC5pZ25vcmVXb3JkKCl9fSxzY2F5dF9pZ25vcmVhbGw6e2xhYmVsOmEuZ2V0TG9jYWwoXCJidG5faWdub3JlQWxsXCIpLGdyb3VwOlwic2NheXRfY29udHJvbFwiLG9yZGVyOjIsZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0Lmlnbm9yZUFsbFdvcmRzKCl9fSxzY2F5dF9hZGQ6e2xhYmVsOmEuZ2V0TG9jYWwoXCJidG5fYWRkV29yZFwiKSxncm91cDpcInNjYXl0X2NvbnRyb2xcIixvcmRlcjozLGV4ZWM6ZnVuY3Rpb24oYSl7dmFyIGM9YS5zY2F5dDtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5hZGRXb3JkVG9Vc2VyRGljdGlvbmFyeSgpfSwxMCl9fSxzY2F5dF9vcHRpb246e2xhYmVsOmEuZ2V0TG9jYWwoXCJidG5fb3B0aW9uc1wiKSxncm91cDpcInNjYXl0X2NvbnRyb2xcIixvcmRlcjo0LFxuZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0LnRhYlRvT3Blbj1cIm9wdGlvbnNcIjthLmxvY2tTZWxlY3Rpb24oKTthLm9wZW5EaWFsb2coZi5kaWFsb2dOYW1lKX0sdmVyaWZpY2F0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiAxPT1hLmNvbmZpZy5zY2F5dF91aVRhYnNbMF0/ITA6ITF9fSxzY2F5dF9sYW5ndWFnZTp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9sYW5nc1wiKSxncm91cDpcInNjYXl0X2NvbnRyb2xcIixvcmRlcjo1LGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XCJsYW5nc1wiO2EubG9ja1NlbGVjdGlvbigpO2Eub3BlbkRpYWxvZyhmLmRpYWxvZ05hbWUpfSx2ZXJpZmljYXRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PWEuY29uZmlnLnNjYXl0X3VpVGFic1sxXT8hMDohMX19LHNjYXl0X2RpY3Rpb25hcnk6e2xhYmVsOmEuZ2V0TG9jYWwoXCJidG5fZGljdGlvbmFyaWVzXCIpLGdyb3VwOlwic2NheXRfY29udHJvbFwiLG9yZGVyOjYsZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0LnRhYlRvT3Blbj1cblwiZGljdGlvbmFyaWVzXCI7YS5sb2NrU2VsZWN0aW9uKCk7YS5vcGVuRGlhbG9nKGYuZGlhbG9nTmFtZSl9LHZlcmlmaWNhdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gMT09YS5jb25maWcuc2NheXRfdWlUYWJzWzJdPyEwOiExfX0sc2NheXRfYWJvdXQ6e2xhYmVsOmEuZ2V0TG9jYWwoXCJidG5fYWJvdXRcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6NyxleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVwiYWJvdXRcIjthLmxvY2tTZWxlY3Rpb24oKTthLm9wZW5EaWFsb2coZi5kaWFsb2dOYW1lKX19fSxncmF5dDp7Z3JheXRfcHJvYmxlbWRlc2NyaXB0aW9uOntsYWJlbDpcIkdyYW1tYXIgcHJvYmxlbSBkZXNjcmlwdGlvblwiLGdyb3VwOlwiZ3JheXRfZGVzY3JpcHRpb25cIixvcmRlcjoxLHN0YXRlOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELGV4ZWM6ZnVuY3Rpb24oYSl7fX0sZ3JheXRfaWdub3JlOntsYWJlbDphLmdldExvY2FsKFwiYnRuX2lnbm9yZVwiKSxncm91cDpcImdyYXl0X2NvbnRyb2xcIixcbm9yZGVyOjIsZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0Lmlnbm9yZVBocmFzZSgpfX19fX0sYnVpbGRTdWdnZXN0aW9uTWVudUl0ZW1zOmZ1bmN0aW9uKGEsZixiKXt2YXIgYz17fSxlPXt9LG09Yj9cIndvcmRcIjpcInBocmFzZVwiLGw9Yj9cInN0YXJ0R3JhbW1hckNoZWNrXCI6XCJzdGFydFNwZWxsQ2hlY2tcIixkPWEuc2NheXQ7aWYoMDxmLmxlbmd0aCYmXCJub19hbnlfc3VnZ2VzdGlvbnNcIiE9PWZbMF0paWYoYilmb3IoYj0wO2I8Zi5sZW5ndGg7YisrKXt2YXIgaD1cInNjYXl0X3N1Z2dlc3RfXCIrQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdWdnZXN0aW9uc1tiXS5yZXBsYWNlKFwiIFwiLFwiX1wiKTthLmFkZENvbW1hbmQoaCx0aGlzLmNyZWF0ZUNvbW1hbmQoQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdWdnZXN0aW9uc1tiXSxtLGwpKTtiPGEuY29uZmlnLnNjYXl0X21heFN1Z2dlc3Rpb25zPyhhLmFkZE1lbnVJdGVtKGgse2xhYmVsOmZbYl0sY29tbWFuZDpoLGdyb3VwOlwic2NheXRfc3VnZ2VzdFwiLFxub3JkZXI6YisxfSksY1toXT1DS0VESVRPUi5UUklTVEFURV9PRkYpOihhLmFkZE1lbnVJdGVtKGgse2xhYmVsOmZbYl0sY29tbWFuZDpoLGdyb3VwOlwic2NheXRfbW9yZXN1Z2dlc3RcIixvcmRlcjpiKzF9KSxlW2hdPUNLRURJVE9SLlRSSVNUQVRFX09GRixcIm9uXCI9PT1hLmNvbmZpZy5zY2F5dF9tb3JlU3VnZ2VzdGlvbnMmJihhLmFkZE1lbnVJdGVtKFwic2NheXRfbW9yZXN1Z2dlc3RcIix7bGFiZWw6ZC5nZXRMb2NhbChcImJ0bl9tb3JlU3VnZ2VzdGlvbnNcIiksZ3JvdXA6XCJzY2F5dF9tb3Jlc3VnZ2VzdFwiLG9yZGVyOjEwLGdldEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIGV9fSksYy5zY2F5dF9tb3Jlc3VnZ2VzdD1DS0VESVRPUi5UUklTVEFURV9PRkYpKX1lbHNlIGZvcihiPTA7YjxmLmxlbmd0aDtiKyspaD1cImdyYXl0X3N1Z2dlc3RfXCIrQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdWdnZXN0aW9uc1tiXS5yZXBsYWNlKFwiIFwiLFwiX1wiKSxhLmFkZENvbW1hbmQoaCx0aGlzLmNyZWF0ZUNvbW1hbmQoQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdWdnZXN0aW9uc1tiXSxcbm0sbCkpLGEuYWRkTWVudUl0ZW0oaCx7bGFiZWw6ZltiXSxjb21tYW5kOmgsZ3JvdXA6XCJncmF5dF9zdWdnZXN0XCIsb3JkZXI6YisxfSksY1toXT1DS0VESVRPUi5UUklTVEFURV9PRkY7ZWxzZSBjLm5vX3NjYXl0X3N1Z2dlc3Q9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsYS5hZGRDb21tYW5kKFwibm9fc2NheXRfc3VnZ2VzdFwiLHtleGVjOmZ1bmN0aW9uKCl7fX0pLGEuYWRkTWVudUl0ZW0oXCJub19zY2F5dF9zdWdnZXN0XCIse2xhYmVsOmQuZ2V0TG9jYWwoXCJidG5fbm9TdWdnZXN0aW9uc1wiKXx8XCJub19zY2F5dF9zdWdnZXN0XCIsY29tbWFuZDpcIm5vX3NjYXl0X3N1Z2dlc3RcIixncm91cDpcInNjYXl0X3N1Z2dlc3RcIixvcmRlcjowfSk7cmV0dXJuIGN9LG1lbnVHZW5lcmF0b3I6ZnVuY3Rpb24oYSxmKXt2YXIgYj1hLnNjYXl0LGM9dGhpcy5zY2F5dE1lbnVEZWZpbml0aW9uKGEpLGU9e30sbT1hLmNvbmZpZy5zY2F5dF9jb250ZXh0Q29tbWFuZHMuc3BsaXQoXCJ8XCIpLGw9Zi5nZXRBdHRyaWJ1dGUoYi5nZXRMYW5nQXR0cmlidXRlKCkpfHxcbmIuZ2V0TGFuZygpLGQsaDtkPWIuaXNTY2F5dE5vZGUoZik7aD1iLmlzR3JheXROb2RlKGYpO2Q/KGM9Yy5zY2F5dCxlPWYuZ2V0QXR0cmlidXRlKGIuZ2V0U2NheXROb2RlQXR0cmlidXRlTmFtZSgpKSxiLmZpcmUoXCJnZXRTdWdnZXN0aW9uc0xpc3RcIix7bGFuZzpsLHdvcmQ6ZX0pLGU9dGhpcy5idWlsZFN1Z2dlc3Rpb25NZW51SXRlbXMoYSxDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN1Z2dlc3Rpb25zLGQpKTpoJiYoYz1jLmdyYXl0LGU9Zi5nZXRBdHRyaWJ1dGUoYi5nZXRHcmF5dE5vZGVBdHRyaWJ1dGVOYW1lKCkpLGg9Yi5nZXRQcm9ibGVtRGVzY3JpcHRpb25UZXh0KGUsbCksYy5ncmF5dF9wcm9ibGVtZGVzY3JpcHRpb24mJmgmJihjLmdyYXl0X3Byb2JsZW1kZXNjcmlwdGlvbi5sYWJlbD1oKSxiLmZpcmUoXCJnZXRHcmFtbWFyU3VnZ2VzdGlvbnNMaXN0XCIse2xhbmc6bCxwaHJhc2U6ZX0pLGU9dGhpcy5idWlsZFN1Z2dlc3Rpb25NZW51SXRlbXMoYSxDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN1Z2dlc3Rpb25zLFxuZCkpO2lmKGQmJlwib2ZmXCI9PWEuY29uZmlnLnNjYXl0X2NvbnRleHRDb21tYW5kcylyZXR1cm4gZTtmb3IodmFyIGsgaW4gYylkJiYtMT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihtLGsucmVwbGFjZShcInNjYXl0X1wiLFwiXCIpKSYmXCJhbGxcIiE9YS5jb25maWcuc2NheXRfY29udGV4dENvbW1hbmRzfHwoZVtrXT1cInVuZGVmaW5lZFwiIT10eXBlb2YgY1trXS5zdGF0ZT9jW2tdLnN0YXRlOkNLRURJVE9SLlRSSVNUQVRFX09GRixcImZ1bmN0aW9uXCIhPT10eXBlb2YgY1trXS52ZXJpZmljYXRpb258fGNba10udmVyaWZpY2F0aW9uKGEpfHxkZWxldGUgZVtrXSxhLmFkZENvbW1hbmQoayx7ZXhlYzpjW2tdLmV4ZWN9KSxhLmFkZE1lbnVJdGVtKGsse2xhYmVsOmEubGFuZy5zY2F5dFtjW2tdLmxhYmVsXXx8Y1trXS5sYWJlbCxjb21tYW5kOmssZ3JvdXA6Y1trXS5ncm91cCxvcmRlcjpjW2tdLm9yZGVyfSkpO3JldHVybiBlfSxjcmVhdGVDb21tYW5kOmZ1bmN0aW9uKGEsZixiKXtyZXR1cm57ZXhlYzpmdW5jdGlvbihjKXtjPVxuYy5zY2F5dDt2YXIgZT17fTtlW2ZdPWE7Yy5yZXBsYWNlU2VsZWN0aW9uTm9kZShlKTtcInN0YXJ0R3JhbW1hckNoZWNrXCI9PT1iJiZjLnJlbW92ZU1hcmt1cEluU2VsZWN0aW9uTm9kZSh7Z3JhbW1hck9ubHk6ITB9KTtjLmZpcmUoYil9fX19KSxDS0VESVRPUi5wbHVnaW5zLnNjYXl0PXtjaGFyc1RvT2JzZXJ2ZTpbe2NoYXJOYW1lOlwiY2tlLWZpbGxpbmdDaGFyXCIsY2hhckNvZGU6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi52ZXJzaW9uLm1hdGNoKC9eXFxkKFxcLlxcZCopKi8pLGE9YSYmYVswXSxmO2lmKGEpe2Y9XCI0LjUuN1wiO3ZhciBiLGE9YS5yZXBsYWNlKC9cXC4vZyxcIlwiKTtmPWYucmVwbGFjZSgvXFwuL2csXCJcIik7Yj1hLmxlbmd0aC1mLmxlbmd0aDtiPTA8PWI/YjowO2Y9cGFyc2VJbnQoYSk+PXBhcnNlSW50KGYpKk1hdGgucG93KDEwLGIpfXJldHVybiBmP0FycmF5KDcpLmpvaW4oU3RyaW5nLmZyb21DaGFyQ29kZSg4MjAzKSk6U3RyaW5nLmZyb21DaGFyQ29kZSg4MjAzKX0oKX1dLFxub25Mb2FkVGltZXN0YW1wOlwiXCIsc3RhdGU6e3NjYXl0Ont9LGdyYXl0Ont9fSx3YXJuaW5nQ291bnRlcjowLHN1Z2dlc3Rpb25zOltdLG9wdGlvbnM6e2Rpc2FibGluZ0NvbW1hbmRFeGVjOntzb3VyY2U6ITAsbmV3cGFnZTohMCx0ZW1wbGF0ZXM6ITB9LGRhdGFfYXR0cmlidXRlX25hbWU6XCJkYXRhLXNjYXl0LXdvcmRcIixtaXNzcGVsbGVkX3dvcmRfY2xhc3M6XCJzY2F5dC1taXNzcGVsbC13b3JkXCIscHJvYmxlbV9ncmFtbWFyX2RhdGFfYXR0cmlidXRlOlwiZGF0YS1ncmF5dC1waHJhc2VcIixwcm9ibGVtX2dyYW1tYXJfY2xhc3M6XCJncmFtbS1wcm9ibGVtXCJ9LGJhY2tDb21wYXRpYmlsaXR5TWFwOntzY2F5dF9zZXJ2aWNlX3Byb3RvY29sOlwic2NheXRfc2VydmljZVByb3RvY29sXCIsc2NheXRfc2VydmljZV9ob3N0Olwic2NheXRfc2VydmljZUhvc3RcIixzY2F5dF9zZXJ2aWNlX3BvcnQ6XCJzY2F5dF9zZXJ2aWNlUG9ydFwiLHNjYXl0X3NlcnZpY2VfcGF0aDpcInNjYXl0X3NlcnZpY2VQYXRoXCIsXG5zY2F5dF9jdXN0b21lcmlkOlwic2NheXRfY3VzdG9tZXJJZFwifSxhbGFybUNvbXBhdGliaWxpdHlNZXNzYWdlOmZ1bmN0aW9uKCl7NT50aGlzLndhcm5pbmdDb3VudGVyJiYoY29uc29sZS53YXJuKFwiTm90ZTogWW91IGFyZSB1c2luZyBsYXRlc3QgdmVyc2lvbiBvZiBTQ0FZVCBwbHVnLWluLiBJdCBpcyByZWNvbW1lbmRlZCB0byB1cGdyYWRlIFdlYlNwZWxsQ2hlY2tlci5uZXQgYXBwbGljYXRpb24gdG8gdmVyc2lvbiB2NC44LjMuQ29udGFjdCB1cyBieSBlLW1haWwgYXQgc3VwcG9ydEB3ZWJzcGVsbGNoZWNrZXIubmV0LlwiKSx0aGlzLndhcm5pbmdDb3VudGVyKz0xKX0scmVsb2FkTWFya3VwOmZ1bmN0aW9uKGEpe3ZhciBmO2EmJihmPWEuZ2V0U2NheXRMYW5nTGlzdCgpLGEucmVsb2FkTWFya3VwP2EucmVsb2FkTWFya3VwKCk6KHRoaXMuYWxhcm1Db21wYXRpYmlsaXR5TWVzc2FnZSgpLGYmJmYubHRyJiZmLnJ0bCYmYS5maXJlKFwic3RhcnRTcGVsbENoZWNrLCBzdGFydEdyYW1tYXJDaGVja1wiKSkpfSxcbnJlcGxhY2VPbGRPcHRpb25zTmFtZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBmIGluIGEpZiBpbiB0aGlzLmJhY2tDb21wYXRpYmlsaXR5TWFwJiYoYVt0aGlzLmJhY2tDb21wYXRpYmlsaXR5TWFwW2ZdXT1hW2ZdLGRlbGV0ZSBhW2ZdKX0sY3JlYXRlU2NheXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcyxiPUNLRURJVE9SLnBsdWdpbnMuc2NheXQ7dGhpcy5sb2FkU2NheXRMaWJyYXJ5KGEsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gbmV3IFNDQVlULkNLU0NBWVQoYSxmdW5jdGlvbigpe30sZnVuY3Rpb24oKXt9KX12YXIgbT1hLndpbmRvdyYmYS53aW5kb3cuZ2V0RnJhbWUoKXx8YS5lZGl0YWJsZSgpO2lmKG0pe209e2xhbmc6YS5jb25maWcuc2NheXRfc0xhbmcsY29udGFpbmVyOm0uJCxjdXN0b21EaWN0aW9uYXJ5OmEuY29uZmlnLnNjYXl0X2N1c3RvbURpY3Rpb25hcnlJZHMsdXNlckRpY3Rpb25hcnlOYW1lOmEuY29uZmlnLnNjYXl0X3VzZXJEaWN0aW9uYXJ5TmFtZSxcbmxvY2FsaXphdGlvbjphLmxhbmdDb2RlLGN1c3RvbWVyX2lkOmEuY29uZmlnLnNjYXl0X2N1c3RvbWVySWQsZGVidWc6YS5jb25maWcuc2NheXRfZGVidWcsZGF0YV9hdHRyaWJ1dGVfbmFtZTpmLm9wdGlvbnMuZGF0YV9hdHRyaWJ1dGVfbmFtZSxtaXNzcGVsbGVkX3dvcmRfY2xhc3M6Zi5vcHRpb25zLm1pc3NwZWxsZWRfd29yZF9jbGFzcyxwcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGU6Zi5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9kYXRhX2F0dHJpYnV0ZSxwcm9ibGVtX2dyYW1tYXJfY2xhc3M6Zi5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9jbGFzcyxcIm9wdGlvbnMtdG8tcmVzdG9yZVwiOmEuY29uZmlnLnNjYXl0X2Rpc2FibGVPcHRpb25zU3RvcmFnZSxmb2N1c2VkOmEuZWRpdGFibGUoKS5oYXNGb2N1cyxpZ25vcmVFbGVtZW50c1JlZ2V4OmEuY29uZmlnLnNjYXl0X2VsZW1lbnRzVG9JZ25vcmUsbWluV29yZExlbmd0aDphLmNvbmZpZy5zY2F5dF9taW5Xb3JkTGVuZ3RoLFxubXVsdGlMYW5ndWFnZU1vZGU6YS5jb25maWcuc2NheXRfbXVsdGlMYW5ndWFnZU1vZGUsbXVsdGlMYW5ndWFnZVN0eWxlczphLmNvbmZpZy5zY2F5dF9tdWx0aUxhbmd1YWdlU3R5bGVzLGdyYXl0QXV0b1N0YXJ0dXA6Yi5zdGF0ZS5ncmF5dFthLm5hbWVdLGNoYXJzVG9PYnNlcnZlOmIuY2hhcnNUb09ic2VydmV9O2EuY29uZmlnLnNjYXl0X3NlcnZpY2VQcm90b2NvbCYmKG0uc2VydmljZV9wcm90b2NvbD1hLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUHJvdG9jb2wpO2EuY29uZmlnLnNjYXl0X3NlcnZpY2VIb3N0JiYobS5zZXJ2aWNlX2hvc3Q9YS5jb25maWcuc2NheXRfc2VydmljZUhvc3QpO2EuY29uZmlnLnNjYXl0X3NlcnZpY2VQb3J0JiYobS5zZXJ2aWNlX3BvcnQ9YS5jb25maWcuc2NheXRfc2VydmljZVBvcnQpO2EuY29uZmlnLnNjYXl0X3NlcnZpY2VQYXRoJiYobS5zZXJ2aWNlX3BhdGg9YS5jb25maWcuc2NheXRfc2VydmljZVBhdGgpO1wiYm9vbGVhblwiPT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lnbm9yZUFsbENhcHNXb3JkcyYmXG4obVtcImlnbm9yZS1hbGwtY2Fwcy13b3Jkc1wiXT1hLmNvbmZpZy5zY2F5dF9pZ25vcmVBbGxDYXBzV29yZHMpO1wiYm9vbGVhblwiPT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lnbm9yZURvbWFpbk5hbWVzJiYobVtcImlnbm9yZS1kb21haW4tbmFtZXNcIl09YS5jb25maWcuc2NheXRfaWdub3JlRG9tYWluTmFtZXMpO1wiYm9vbGVhblwiPT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE1peGVkQ2FzZXMmJihtW1wiaWdub3JlLXdvcmRzLXdpdGgtbWl4ZWQtY2FzZXNcIl09YS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTWl4ZWRDYXNlcyk7XCJib29sZWFuXCI9PT10eXBlb2YgYS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTnVtYmVycyYmKG1bXCJpZ25vcmUtd29yZHMtd2l0aC1udW1iZXJzXCJdPWEuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE51bWJlcnMpO3ZhciBsO3RyeXtsPWUobSl9Y2F0Y2goZCl7Zi5hbGFybUNvbXBhdGliaWxpdHlNZXNzYWdlKCksZGVsZXRlIG0uY2hhcnNUb09ic2VydmUsXG5sPWUobSl9bC5zdWJzY3JpYmUoXCJzdWdnZXN0aW9uTGlzdFNlbmRcIixmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz1bXSxkPTA7ZDxhLnN1Z2dlc3Rpb25MaXN0Lmxlbmd0aDtkKyspYltcIndvcmRfXCIrYS5zdWdnZXN0aW9uTGlzdFtkXV18fChiW1wid29yZF9cIithLnN1Z2dlc3Rpb25MaXN0W2RdXT1hLnN1Z2dlc3Rpb25MaXN0W2RdLGMucHVzaChhLnN1Z2dlc3Rpb25MaXN0W2RdKSk7Q0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdWdnZXN0aW9ucz1jfSk7bC5zdWJzY3JpYmUoXCJzZWxlY3Rpb25Jc0NoYW5nZWRcIixmdW5jdGlvbihiKXthLmdldFNlbGVjdGlvbigpLmlzTG9ja2VkJiZhLmxvY2tTZWxlY3Rpb24oKX0pO2wuc3Vic2NyaWJlKFwiZ3JheXRTdGF0ZUNoYW5nZWRcIixmdW5jdGlvbihkKXtiLnN0YXRlLmdyYXl0W2EubmFtZV09ZC5zdGF0ZX0pO2wuYWRkTWFya3VwSGFuZGxlciYmbC5hZGRNYXJrdXBIYW5kbGVyKGZ1bmN0aW9uKGIpe3ZhciBkPWEuZWRpdGFibGUoKSxlPWQuZ2V0Q3VzdG9tRGF0YShiLmNoYXJOYW1lKTtcbmUmJihlLiQ9Yi5ub2RlLGQuc2V0Q3VzdG9tRGF0YShiLmNoYXJOYW1lLGUpKX0pO2Euc2NheXQ9bDthLmZpcmUoXCJzY2F5dEJ1dHRvblN0YXRlXCIsYS5yZWFkT25seT9DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDpDS0VESVRPUi5UUklTVEFURV9PTil9ZWxzZSBiLnN0YXRlLnNjYXl0W2EubmFtZV09ITF9KX0sZGVzdHJveTpmdW5jdGlvbihhKXthLnNjYXl0JiZhLnNjYXl0LmRlc3Ryb3koKTtkZWxldGUgYS5zY2F5dDthLmZpcmUoXCJzY2F5dEJ1dHRvblN0YXRlXCIsQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKX0sbG9hZFNjYXl0TGlicmFyeTpmdW5jdGlvbihhLGYpe3ZhciBiLGM9ZnVuY3Rpb24oKXtDS0VESVRPUi5maXJlT25jZShcInNjYXl0UmVhZHlcIik7YS5zY2F5dHx8XCJmdW5jdGlvblwiPT09dHlwZW9mIGYmJmYoYSl9O1widW5kZWZpbmVkXCI9PT10eXBlb2Ygd2luZG93LlNDQVlUfHxcImZ1bmN0aW9uXCIhPT10eXBlb2Ygd2luZG93LlNDQVlULkNLU0NBWVQ/KGI9YS5jb25maWcuc2NheXRfc3JjVXJsK1xuXCI/XCIrdGhpcy5vbkxvYWRUaW1lc3RhbXAsQ0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoYixmdW5jdGlvbihhKXthJiZjKCl9KSk6d2luZG93LlNDQVlUJiZcImZ1bmN0aW9uXCI9PT10eXBlb2Ygd2luZG93LlNDQVlULkNLU0NBWVQmJmMoKX19LENLRURJVE9SLm9uKFwiZGlhbG9nRGVmaW5pdGlvblwiLGZ1bmN0aW9uKGEpe3ZhciBmPWEuZGF0YS5uYW1lO2E9YS5kYXRhLmRlZmluaXRpb24uZGlhbG9nO2lmKFwic2NheXREaWFsb2dcIj09PWYpYS5vbihcImNhbmNlbFwiLGZ1bmN0aW9uKGEpe3JldHVybiExfSx0aGlzLG51bGwsLTEpO2lmKFwiY2hlY2tzcGVsbFwiPT09ZilhLm9uKFwiY2FuY2VsXCIsZnVuY3Rpb24oYSl7YT1hLnNlbmRlciYmYS5zZW5kZXIuZ2V0UGFyZW50RWRpdG9yKCk7dmFyIGM9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCxlPWEuc2NheXQ7ZSYmYy5zdGF0ZS5zY2F5dFthLm5hbWVdJiZlLnNldE1hcmt1cFBhdXNlZCYmZS5zZXRNYXJrdXBQYXVzZWQoITEpO2EudW5sb2NrU2VsZWN0aW9uKCl9LFxudGhpcyxudWxsLC0yKTtpZihcImxpbmtcIj09PWYpYS5vbihcIm9rXCIsZnVuY3Rpb24oYSl7dmFyIGM9YS5zZW5kZXImJmEuc2VuZGVyLmdldFBhcmVudEVkaXRvcigpO2MmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmZpcmUoXCJyZWxvYWRNYXJrdXBTY2F5dFwiLHtyZW1vdmVPcHRpb25zOntyZW1vdmVJbnNpZGU6ITAsZm9yY2VCb29rbWFyazohMH0sdGltZW91dDowfSl9LDApfSl9KSxDS0VESVRPUi5vbihcInNjYXl0UmVhZHlcIixmdW5jdGlvbigpe2lmKCEwPT09Q0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZUNoZWNrRGlydHkpe3ZhciBhPUNLRURJVE9SLmVkaXRvci5wcm90b3R5cGU7YS5jaGVja0RpcnR5PUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGEuY2hlY2tEaXJ0eSxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1udWxsLGU9dGhpcy5zY2F5dDtpZihDS0VESVRPUi5wbHVnaW5zLnNjYXl0JiZDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN0YXRlLnNjYXl0W3RoaXMubmFtZV0mJlxudGhpcy5zY2F5dCl7aWYoYz1cInJlYWR5XCI9PXRoaXMuc3RhdHVzKXZhciBmPWUucmVtb3ZlTWFya3VwRnJvbVN0cmluZyh0aGlzLmdldFNuYXBzaG90KCkpLGU9ZS5yZW1vdmVNYXJrdXBGcm9tU3RyaW5nKHRoaXMuXy5wcmV2aW91c1ZhbHVlKSxjPWMmJmUhPT1mfWVsc2UgYz1hLmNhbGwodGhpcyk7cmV0dXJuIGN9fSk7YS5yZXNldERpcnR5PUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGEucmVzZXREaXJ0eSxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz10aGlzLnNjYXl0O0NLRURJVE9SLnBsdWdpbnMuc2NheXQmJkNLRURJVE9SLnBsdWdpbnMuc2NheXQuc3RhdGUuc2NheXRbdGhpcy5uYW1lXSYmdGhpcy5zY2F5dD90aGlzLl8ucHJldmlvdXNWYWx1ZT1jLnJlbW92ZU1hcmt1cEZyb21TdHJpbmcodGhpcy5nZXRTbmFwc2hvdCgpKTphLmNhbGwodGhpcyl9fSl9aWYoITA9PT1DS0VESVRPUi5jb25maWcuc2NheXRfaGFuZGxlVW5kb1JlZG8pe3ZhciBhPUNLRURJVE9SLnBsdWdpbnMudW5kby5JbWFnZS5wcm90b3R5cGUsXG5mPVwiZnVuY3Rpb25cIj09dHlwZW9mIGEuZXF1YWxzQ29udGVudD9cImVxdWFsc0NvbnRlbnRcIjpcImVxdWFsc1wiO2FbZl09Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYVtmXSxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGU9Yy5lZGl0b3Iuc2NheXQsZj10aGlzLmNvbnRlbnRzLGw9Yy5jb250ZW50cyxkPW51bGw7Q0tFRElUT1IucGx1Z2lucy5zY2F5dCYmQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdGF0ZS5zY2F5dFtjLmVkaXRvci5uYW1lXSYmYy5lZGl0b3Iuc2NheXQmJih0aGlzLmNvbnRlbnRzPWUucmVtb3ZlTWFya3VwRnJvbVN0cmluZyhmKXx8XCJcIixjLmNvbnRlbnRzPWUucmVtb3ZlTWFya3VwRnJvbVN0cmluZyhsKXx8XCJcIik7ZD1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmNvbnRlbnRzPWY7Yy5jb250ZW50cz1sO3JldHVybiBkfX0pfX0pLGZ1bmN0aW9uKCl7dmFyIGE9e3ByZXNlcnZlU3RhdGU6ITAsZWRpdG9yRm9jdXM6ITEscmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGEpe3RoaXMudG9nZ2xlU3RhdGUoKTtcbnRoaXMucmVmcmVzaChhKX0scmVmcmVzaDpmdW5jdGlvbihhKXtpZihhLmRvY3VtZW50KXt2YXIgYj10aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTj9cImF0dGFjaENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiO2EuZWRpdGFibGUoKVtiXShcImNrZV9zaG93X2JvcmRlcnNcIil9fX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJzaG93Ym9yZGVyc1wiLHttb2Rlczp7d3lzaXd5ZzoxfSxvbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgYTthPShDS0VESVRPUi5lbnYuaWU2Q29tcGF0P1tcIi4lMSB0YWJsZS4lMixcIixcIi4lMSB0YWJsZS4lMiB0ZCwgLiUxIHRhYmxlLiUyIHRoXCIsXCJ7XCIsXCJib3JkZXIgOiAjZDNkM2QzIDFweCBkb3R0ZWRcIixcIn1cIl06XCIuJTEgdGFibGUuJTIsOy4lMSB0YWJsZS4lMiBcXHgzZSB0ciBcXHgzZSB0ZCwgLiUxIHRhYmxlLiUyIFxceDNlIHRyIFxceDNlIHRoLDsuJTEgdGFibGUuJTIgXFx4M2UgdGJvZHkgXFx4M2UgdHIgXFx4M2UgdGQsIC4lMSB0YWJsZS4lMiBcXHgzZSB0Ym9keSBcXHgzZSB0ciBcXHgzZSB0aCw7LiUxIHRhYmxlLiUyIFxceDNlIHRoZWFkIFxceDNlIHRyIFxceDNlIHRkLCAuJTEgdGFibGUuJTIgXFx4M2UgdGhlYWQgXFx4M2UgdHIgXFx4M2UgdGgsOy4lMSB0YWJsZS4lMiBcXHgzZSB0Zm9vdCBcXHgzZSB0ciBcXHgzZSB0ZCwgLiUxIHRhYmxlLiUyIFxceDNlIHRmb290IFxceDNlIHRyIFxceDNlIHRoO3s7Ym9yZGVyIDogI2QzZDNkMyAxcHggZG90dGVkO31cIi5zcGxpdChcIjtcIikpLmpvaW4oXCJcIikucmVwbGFjZSgvJTIvZyxcblwiY2tlX3Nob3dfYm9yZGVyXCIpLnJlcGxhY2UoLyUxL2csXCJja2Vfc2hvd19ib3JkZXJzIFwiKTtDS0VESVRPUi5hZGRDc3MoYSl9LGluaXQ6ZnVuY3Rpb24oZil7dmFyIGI9Zi5hZGRDb21tYW5kKFwic2hvd2JvcmRlcnNcIixhKTtiLmNhblVuZG89ITE7ITEhPT1mLmNvbmZpZy5zdGFydHVwU2hvd0JvcmRlcnMmJmIuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pO2Yub24oXCJtb2RlXCIsZnVuY3Rpb24oKXtiLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmYi5yZWZyZXNoKGYpfSxudWxsLG51bGwsMTAwKTtmLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7Yi5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJmIucmVmcmVzaChmKX0pO2Yub24oXCJyZW1vdmVGb3JtYXRDbGVhbnVwXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7Zi5nZXRDb21tYW5kKFwic2hvd2JvcmRlcnNcIikuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZhLmlzKFwidGFibGVcIikmJighYS5oYXNBdHRyaWJ1dGUoXCJib3JkZXJcIil8fFxuMD49cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoXCJib3JkZXJcIiksMTApKSYmYS5hZGRDbGFzcyhcImNrZV9zaG93X2JvcmRlclwiKX0pfSxhZnRlckluaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhUHJvY2Vzc29yO2E9YiYmYi5kYXRhRmlsdGVyO2I9YiYmYi5odG1sRmlsdGVyO2EmJmEuYWRkUnVsZXMoe2VsZW1lbnRzOnt0YWJsZTpmdW5jdGlvbihhKXthPWEuYXR0cmlidXRlczt2YXIgYj1hW1wiY2xhc3NcIl0sZj1wYXJzZUludChhLmJvcmRlciwxMCk7ZiYmISgwPj1mKXx8YiYmLTEhPWIuaW5kZXhPZihcImNrZV9zaG93X2JvcmRlclwiKXx8KGFbXCJjbGFzc1wiXT0oYnx8XCJcIikrXCIgY2tlX3Nob3dfYm9yZGVyXCIpfX19KTtiJiZiLmFkZFJ1bGVzKHtlbGVtZW50czp7dGFibGU6ZnVuY3Rpb24oYSl7YT1hLmF0dHJpYnV0ZXM7dmFyIGI9YVtcImNsYXNzXCJdO2ImJihhW1wiY2xhc3NcIl09Yi5yZXBsYWNlKFwiY2tlX3Nob3dfYm9yZGVyXCIsXCJcIikucmVwbGFjZSgvXFxzezJ9LyxcIiBcIikucmVwbGFjZSgvXlxccyt8XFxzKyQvLFxuXCJcIikpfX19KX19KTtDS0VESVRPUi5vbihcImRpYWxvZ0RlZmluaXRpb25cIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEubmFtZTtpZihcInRhYmxlXCI9PWJ8fFwidGFibGVQcm9wZXJ0aWVzXCI9PWIpaWYoYT1hLmRhdGEuZGVmaW5pdGlvbixiPWEuZ2V0Q29udGVudHMoXCJpbmZvXCIpLmdldChcInR4dEJvcmRlclwiKSxiLmNvbW1pdD1DS0VESVRPUi50b29scy5vdmVycmlkZShiLmNvbW1pdCxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixmKXthLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgbD1wYXJzZUludCh0aGlzLmdldFZhbHVlKCksMTApO2ZbIWx8fDA+PWw/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oXCJja2Vfc2hvd19ib3JkZXJcIil9fSksYT0oYT1hLmdldENvbnRlbnRzKFwiYWR2YW5jZWRcIikpJiZhLmdldChcImFkdkNTU0NsYXNzZXNcIikpYS5zZXR1cD1DS0VESVRPUi50b29scy5vdmVycmlkZShhLnNldHVwLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe2EuYXBwbHkodGhpcyxcbmFyZ3VtZW50cyk7dGhpcy5zZXRWYWx1ZSh0aGlzLmdldFZhbHVlKCkucmVwbGFjZSgvY2tlX3Nob3dfYm9yZGVyLyxcIlwiKSl9fSksYS5jb21taXQ9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYS5jb21taXQsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZil7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cGFyc2VJbnQoZi5nZXRBdHRyaWJ1dGUoXCJib3JkZXJcIiksMTApfHxmLmFkZENsYXNzKFwiY2tlX3Nob3dfYm9yZGVyXCIpfX0pfSl9KCksZnVuY3Rpb24oKXtDS0VESVRPUi5wbHVnaW5zLmFkZChcInNvdXJjZWFyZWFcIix7aW5pdDpmdW5jdGlvbihmKXtmdW5jdGlvbiBiKCl7dmFyIGE9ZSYmdGhpcy5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCkpO3RoaXMuaGlkZSgpO3RoaXMuc2V0U3R5bGUoXCJoZWlnaHRcIix0aGlzLmdldFBhcmVudCgpLiQuY2xpZW50SGVpZ2h0K1wicHhcIik7dGhpcy5zZXRTdHlsZShcIndpZHRoXCIsdGhpcy5nZXRQYXJlbnQoKS4kLmNsaWVudFdpZHRoK1xuXCJweFwiKTt0aGlzLnNob3coKTthJiZ0aGlzLmZvY3VzKCl9aWYoZi5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSl7dmFyIGM9Q0tFRElUT1IucGx1Z2lucy5zb3VyY2VhcmVhO2YuYWRkTW9kZShcInNvdXJjZVwiLGZ1bmN0aW9uKGMpe3ZhciBlPWYudWkuc3BhY2UoXCJjb250ZW50c1wiKS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtlLnNldFN0eWxlcyhDS0VESVRPUi50b29scy5leHRlbmQoe3dpZHRoOkNLRURJVE9SLmVudi5pZTdDb21wYXQ/XCI5OSVcIjpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIscmVzaXplOlwibm9uZVwiLG91dGxpbmU6XCJub25lXCIsXCJ0ZXh0LWFsaWduXCI6XCJsZWZ0XCJ9LENLRURJVE9SLnRvb2xzLmNzc1ZlbmRvclByZWZpeChcInRhYi1zaXplXCIsZi5jb25maWcuc291cmNlQXJlYVRhYlNpemV8fDQpKSk7ZS5zZXRBdHRyaWJ1dGUoXCJkaXJcIixcImx0clwiKTtlLmFkZENsYXNzKFwiY2tlX3NvdXJjZVwiKS5hZGRDbGFzcyhcImNrZV9yZXNldFwiKS5hZGRDbGFzcyhcImNrZV9lbmFibGVfY29udGV4dF9tZW51XCIpO1xuZi51aS5zcGFjZShcImNvbnRlbnRzXCIpLmFwcGVuZChlKTtlPWYuZWRpdGFibGUobmV3IGEoZixlKSk7ZS5zZXREYXRhKGYuZ2V0RGF0YSgxKSk7Q0tFRElUT1IuZW52LmllJiYoZS5hdHRhY2hMaXN0ZW5lcihmLFwicmVzaXplXCIsYixlKSxlLmF0dGFjaExpc3RlbmVyKENLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLFwicmVzaXplXCIsYixlKSxDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGIsMCxlKSk7Zi5maXJlKFwiYXJpYVdpZGdldFwiLHRoaXMpO2MoKX0pO2YuYWRkQ29tbWFuZChcInNvdXJjZVwiLGMuY29tbWFuZHMuc291cmNlKTtmLnVpLmFkZEJ1dHRvbiYmZi51aS5hZGRCdXR0b24oXCJTb3VyY2VcIix7bGFiZWw6Zi5sYW5nLnNvdXJjZWFyZWEudG9vbGJhcixjb21tYW5kOlwic291cmNlXCIsdG9vbGJhcjpcIm1vZGUsMTBcIn0pO2Yub24oXCJtb2RlXCIsZnVuY3Rpb24oKXtmLmdldENvbW1hbmQoXCJzb3VyY2VcIikuc2V0U3RhdGUoXCJzb3VyY2VcIj09Zi5tb2RlP0NLRURJVE9SLlRSSVNUQVRFX09OOlxuQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKX0pO3ZhciBlPUNLRURJVE9SLmVudi5pZSYmOT09Q0tFRElUT1IuZW52LnZlcnNpb259fX0pO3ZhciBhPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLmVkaXRhYmxlLHByb3RvOntzZXREYXRhOmZ1bmN0aW9uKGEpe3RoaXMuc2V0VmFsdWUoYSk7dGhpcy5zdGF0dXM9XCJyZWFkeVwiO3RoaXMuZWRpdG9yLmZpcmUoXCJkYXRhUmVhZHlcIil9LGdldERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpfSxpbnNlcnRIdG1sOmZ1bmN0aW9uKCl7fSxpbnNlcnRFbGVtZW50OmZ1bmN0aW9uKCl7fSxpbnNlcnRUZXh0OmZ1bmN0aW9uKCl7fSxzZXRSZWFkT25seTpmdW5jdGlvbihhKXt0aGlzWyhhP1wic2V0XCI6XCJyZW1vdmVcIikrXCJBdHRyaWJ1dGVcIl0oXCJyZWFkT25seVwiLFwicmVhZG9ubHlcIil9LGRldGFjaDpmdW5jdGlvbigpe2EuYmFzZVByb3RvLmRldGFjaC5jYWxsKHRoaXMpO3RoaXMuY2xlYXJDdXN0b21EYXRhKCk7XG50aGlzLnJlbW92ZSgpfX19KX0oKSxDS0VESVRPUi5wbHVnaW5zLnNvdXJjZWFyZWE9e2NvbW1hbmRzOntzb3VyY2U6e21vZGVzOnt3eXNpd3lnOjEsc291cmNlOjF9LGVkaXRvckZvY3VzOiExLHJlYWRPbmx5OjEsZXhlYzpmdW5jdGlvbihhKXtcInd5c2l3eWdcIj09YS5tb2RlJiZhLmZpcmUoXCJzYXZlU25hcHNob3RcIik7YS5nZXRDb21tYW5kKFwic291cmNlXCIpLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKTthLnNldE1vZGUoXCJzb3VyY2VcIj09YS5tb2RlP1wid3lzaXd5Z1wiOlwic291cmNlXCIpfSxjYW5VbmRvOiExfX19LENLRURJVE9SLnBsdWdpbnMuYWRkKFwic3BlY2lhbGNoYXJcIix7YXZhaWxhYmxlTGFuZ3M6e2FmOjEsYXI6MSxiZzoxLGNhOjEsY3M6MSxjeToxLGRhOjEsZGU6MSxcImRlLWNoXCI6MSxlbDoxLGVuOjEsXCJlbi1nYlwiOjEsZW86MSxlczoxLGV0OjEsZXU6MSxmYToxLGZpOjEsZnI6MSxcImZyLWNhXCI6MSxnbDoxLGhlOjEsaHI6MSxodToxLGlkOjEsaXQ6MSxqYToxLFxua206MSxrbzoxLGt1OjEsbHQ6MSxsdjoxLG5iOjEsbmw6MSxubzoxLHBsOjEscHQ6MSxcInB0LWJyXCI6MSxydToxLHNpOjEsc2s6MSxzbDoxLHNxOjEsc3Y6MSx0aDoxLHRyOjEsdHQ6MSx1ZzoxLHVrOjEsdmk6MSx6aDoxLFwiemgtY25cIjoxfSxyZXF1aXJlczpcImRpYWxvZ1wiLGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcztDS0VESVRPUi5kaWFsb2cuYWRkKFwic3BlY2lhbGNoYXJcIix0aGlzLnBhdGgrXCJkaWFsb2dzL3NwZWNpYWxjaGFyLmpzXCIpO2EuYWRkQ29tbWFuZChcInNwZWNpYWxjaGFyXCIse2V4ZWM6ZnVuY3Rpb24oKXt2YXIgYj1hLmxhbmdDb2RlLGI9Zi5hdmFpbGFibGVMYW5nc1tiXT9iOmYuYXZhaWxhYmxlTGFuZ3NbYi5yZXBsYWNlKC8tLiovLFwiXCIpXT9iLnJlcGxhY2UoLy0uKi8sXCJcIik6XCJlblwiO0NLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChmLnBhdGgrXCJkaWFsb2dzL2xhbmcvXCIrYitcIi5qc1wiKSxmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLmV4dGVuZChhLmxhbmcuc3BlY2lhbGNoYXIsXG5mLmxhbmdFbnRyaWVzW2JdKTthLm9wZW5EaWFsb2coXCJzcGVjaWFsY2hhclwiKX0pfSxtb2Rlczp7d3lzaXd5ZzoxfSxjYW5VbmRvOiExfSk7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKFwiU3BlY2lhbENoYXJcIix7bGFiZWw6YS5sYW5nLnNwZWNpYWxjaGFyLnRvb2xiYXIsY29tbWFuZDpcInNwZWNpYWxjaGFyXCIsdG9vbGJhcjpcImluc2VydCw1MFwifSl9fSksQ0tFRElUT1IuY29uZmlnLnNwZWNpYWxDaGFycz1cIiEgXFx4MjZxdW90OyAjICQgJSBcXHgyNmFtcDsgJyAoICkgKiArIC0gLiAvIDAgMSAyIDMgNCA1IDYgNyA4IDkgOiA7IFxceDI2bHQ7IFxceDNkIFxceDI2Z3Q7ID8gQCBBIEIgQyBEIEUgRiBHIEggSSBKIEsgTCBNIE4gTyBQIFEgUiBTIFQgVSBWIFcgWCBZIFogWyBdIF4gXyBgIGEgYiBjIGQgZSBmIGcgaCBpIGogayBsIG0gbiBvIHAgcSByIHMgdCB1IHYgdyB4IHkgeiB7IHwgfSB+IFxceDI2ZXVybzsgXFx4MjZsc3F1bzsgXFx4MjZyc3F1bzsgXFx4MjZsZHF1bzsgXFx4MjZyZHF1bzsgXFx4MjZuZGFzaDsgXFx4MjZtZGFzaDsgXFx4MjZpZXhjbDsgXFx4MjZjZW50OyBcXHgyNnBvdW5kOyBcXHgyNmN1cnJlbjsgXFx4MjZ5ZW47IFxceDI2YnJ2YmFyOyBcXHgyNnNlY3Q7IFxceDI2dW1sOyBcXHgyNmNvcHk7IFxceDI2b3JkZjsgXFx4MjZsYXF1bzsgXFx4MjZub3Q7IFxceDI2cmVnOyBcXHgyNm1hY3I7IFxceDI2ZGVnOyBcXHgyNnN1cDI7IFxceDI2c3VwMzsgXFx4MjZhY3V0ZTsgXFx4MjZtaWNybzsgXFx4MjZwYXJhOyBcXHgyNm1pZGRvdDsgXFx4MjZjZWRpbDsgXFx4MjZzdXAxOyBcXHgyNm9yZG07IFxceDI2cmFxdW87IFxceDI2ZnJhYzE0OyBcXHgyNmZyYWMxMjsgXFx4MjZmcmFjMzQ7IFxceDI2aXF1ZXN0OyBcXHgyNkFncmF2ZTsgXFx4MjZBYWN1dGU7IFxceDI2QWNpcmM7IFxceDI2QXRpbGRlOyBcXHgyNkF1bWw7IFxceDI2QXJpbmc7IFxceDI2QUVsaWc7IFxceDI2Q2NlZGlsOyBcXHgyNkVncmF2ZTsgXFx4MjZFYWN1dGU7IFxceDI2RWNpcmM7IFxceDI2RXVtbDsgXFx4MjZJZ3JhdmU7IFxceDI2SWFjdXRlOyBcXHgyNkljaXJjOyBcXHgyNkl1bWw7IFxceDI2RVRIOyBcXHgyNk50aWxkZTsgXFx4MjZPZ3JhdmU7IFxceDI2T2FjdXRlOyBcXHgyNk9jaXJjOyBcXHgyNk90aWxkZTsgXFx4MjZPdW1sOyBcXHgyNnRpbWVzOyBcXHgyNk9zbGFzaDsgXFx4MjZVZ3JhdmU7IFxceDI2VWFjdXRlOyBcXHgyNlVjaXJjOyBcXHgyNlV1bWw7IFxceDI2WWFjdXRlOyBcXHgyNlRIT1JOOyBcXHgyNnN6bGlnOyBcXHgyNmFncmF2ZTsgXFx4MjZhYWN1dGU7IFxceDI2YWNpcmM7IFxceDI2YXRpbGRlOyBcXHgyNmF1bWw7IFxceDI2YXJpbmc7IFxceDI2YWVsaWc7IFxceDI2Y2NlZGlsOyBcXHgyNmVncmF2ZTsgXFx4MjZlYWN1dGU7IFxceDI2ZWNpcmM7IFxceDI2ZXVtbDsgXFx4MjZpZ3JhdmU7IFxceDI2aWFjdXRlOyBcXHgyNmljaXJjOyBcXHgyNml1bWw7IFxceDI2ZXRoOyBcXHgyNm50aWxkZTsgXFx4MjZvZ3JhdmU7IFxceDI2b2FjdXRlOyBcXHgyNm9jaXJjOyBcXHgyNm90aWxkZTsgXFx4MjZvdW1sOyBcXHgyNmRpdmlkZTsgXFx4MjZvc2xhc2g7IFxceDI2dWdyYXZlOyBcXHgyNnVhY3V0ZTsgXFx4MjZ1Y2lyYzsgXFx4MjZ1dW1sOyBcXHgyNnlhY3V0ZTsgXFx4MjZ0aG9ybjsgXFx4MjZ5dW1sOyBcXHgyNk9FbGlnOyBcXHgyNm9lbGlnOyBcXHgyNiMzNzI7IFxceDI2IzM3NCBcXHgyNiMzNzMgXFx4MjYjMzc1OyBcXHgyNnNicXVvOyBcXHgyNiM4MjE5OyBcXHgyNmJkcXVvOyBcXHgyNmhlbGxpcDsgXFx4MjZ0cmFkZTsgXFx4MjYjOTY1ODsgXFx4MjZidWxsOyBcXHgyNnJhcnI7IFxceDI2ckFycjsgXFx4MjZoQXJyOyBcXHgyNmRpYW1zOyBcXHgyNmFzeW1wO1wiLnNwbGl0KFwiIFwiKSxcbmZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJzdHlsZXNjb21ib1wiLHtyZXF1aXJlczpcInJpY2hjb21ib1wiLGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9YS5jb25maWcsYj1hLmxhbmcuc3R5bGVzY29tYm8sYz17fSxlPVtdLG09W107YS5vbihcInN0eWxlc1NldFwiLGZ1bmN0aW9uKGIpe2lmKGI9Yi5kYXRhLnN0eWxlcyl7Zm9yKHZhciBkLGgsayxnPTAsbj1iLmxlbmd0aDtnPG47ZysrKShkPWJbZ10sYS5ibG9ja2xlc3MmJmQuZWxlbWVudCBpbiBDS0VESVRPUi5kdGQuJGJsb2NrfHxcInN0cmluZ1wiPT10eXBlb2YgZC50eXBlJiYhQ0tFRElUT1Iuc3R5bGUuY3VzdG9tSGFuZGxlcnNbZC50eXBlXXx8KGg9ZC5uYW1lLGQ9bmV3IENLRURJVE9SLnN0eWxlKGQpLGEuZmlsdGVyLmN1c3RvbUNvbmZpZyYmIWEuZmlsdGVyLmNoZWNrKGQpKSl8fChkLl9uYW1lPWgsZC5fLmVudGVyTW9kZT1mLmVudGVyTW9kZSxkLl8udHlwZT1rPWQuYXNzaWduZWRUb3x8ZC50eXBlLGQuXy53ZWlnaHQ9XG5nKzFFMyooaz09Q0tFRElUT1IuU1RZTEVfT0JKRUNUPzE6az09Q0tFRElUT1IuU1RZTEVfQkxPQ0s/MjozKSxjW2hdPWQsZS5wdXNoKGQpLG0ucHVzaChkKSk7ZS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuXy53ZWlnaHQtYi5fLndlaWdodH0pfX0pO2EudWkuYWRkUmljaENvbWJvKFwiU3R5bGVzXCIse2xhYmVsOmIubGFiZWwsdGl0bGU6Yi5wYW5lbFRpdGxlLHRvb2xiYXI6XCJzdHlsZXMsMTBcIixhbGxvd2VkQ29udGVudDptLHBhbmVsOntjc3M6W0NLRURJVE9SLnNraW4uZ2V0UGF0aChcImVkaXRvclwiKV0uY29uY2F0KGYuY29udGVudHNDc3MpLG11bHRpU2VsZWN0OiEwLGF0dHJpYnV0ZXM6e1wiYXJpYS1sYWJlbFwiOmIucGFuZWxUaXRsZX19LGluaXQ6ZnVuY3Rpb24oKXt2YXIgYSxjLGYsayxnLG07Zz0wO2ZvcihtPWUubGVuZ3RoO2c8bTtnKyspYT1lW2ddLGM9YS5fbmFtZSxrPWEuXy50eXBlLGshPWYmJih0aGlzLnN0YXJ0R3JvdXAoYltcInBhbmVsVGl0bGVcIitTdHJpbmcoayldKSxcbmY9ayksdGhpcy5hZGQoYyxhLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVD9jOmEuYnVpbGRQcmV2aWV3KCksYyk7dGhpcy5jb21taXQoKX0sb25DbGljazpmdW5jdGlvbihiKXthLmZvY3VzKCk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2I9Y1tiXTt2YXIgZD1hLmVsZW1lbnRQYXRoKCk7YVtiLmNoZWNrQWN0aXZlKGQsYSk/XCJyZW1vdmVTdHlsZVwiOlwiYXBwbHlTdHlsZVwiXShiKTthLmZpcmUoXCJzYXZlU25hcHNob3RcIil9LG9uUmVuZGVyOmZ1bmN0aW9uKCl7YS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMuZ2V0VmFsdWUoKTtiPWIuZGF0YS5wYXRoLmVsZW1lbnRzO2Zvcih2YXIgZT0wLGY9Yi5sZW5ndGgsZztlPGY7ZSsrKXtnPWJbZV07Zm9yKHZhciBtIGluIGMpaWYoY1ttXS5jaGVja0VsZW1lbnRSZW1vdmFibGUoZywhMCxhKSl7bSE9ZCYmdGhpcy5zZXRWYWx1ZShtKTtyZXR1cm59fXRoaXMuc2V0VmFsdWUoXCJcIil9LHRoaXMpfSxvbk9wZW46ZnVuY3Rpb24oKXt2YXIgZT1cbmEuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRFbGVtZW50KCksZT1hLmVsZW1lbnRQYXRoKGUpLGQ9WzAsMCwwLDBdO3RoaXMuc2hvd0FsbCgpO3RoaXMudW5tYXJrQWxsKCk7Zm9yKHZhciBmIGluIGMpe3ZhciBrPWNbZl0sZz1rLl8udHlwZTtrLmNoZWNrQXBwbGljYWJsZShlLGEsYS5hY3RpdmVGaWx0ZXIpP2RbZ10rKzp0aGlzLmhpZGVJdGVtKGYpO2suY2hlY2tBY3RpdmUoZSxhKSYmdGhpcy5tYXJrKGYpfWRbQ0tFRElUT1IuU1RZTEVfQkxPQ0tdfHx0aGlzLmhpZGVHcm91cChiW1wicGFuZWxUaXRsZVwiK1N0cmluZyhDS0VESVRPUi5TVFlMRV9CTE9DSyldKTtkW0NLRURJVE9SLlNUWUxFX0lOTElORV18fHRoaXMuaGlkZUdyb3VwKGJbXCJwYW5lbFRpdGxlXCIrU3RyaW5nKENLRURJVE9SLlNUWUxFX0lOTElORSldKTtkW0NLRURJVE9SLlNUWUxFX09CSkVDVF18fHRoaXMuaGlkZUdyb3VwKGJbXCJwYW5lbFRpdGxlXCIrU3RyaW5nKENLRURJVE9SLlNUWUxFX09CSkVDVCldKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPVxuYS5lbGVtZW50UGF0aCgpO2lmKGIpe2Zvcih2YXIgZCBpbiBjKWlmKGNbZF0uY2hlY2tBcHBsaWNhYmxlKGIsYSxhLmFjdGl2ZUZpbHRlcikpcmV0dXJuO3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX0scmVzZXQ6ZnVuY3Rpb24oKXtjPXt9O2U9W119fSl9fSl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybntlZGl0b3JGb2N1czohMSxjYW5VbmRvOiExLG1vZGVzOnt3eXNpd3lnOjF9LGV4ZWM6ZnVuY3Rpb24oYil7aWYoYi5lZGl0YWJsZSgpLmhhc0ZvY3VzKXt2YXIgYz1iLmdldFNlbGVjdGlvbigpLGQ7aWYoZD0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLmdldENvbW1vbkFuY2VzdG9yKCksYy5yb290KSkuY29udGFpbnMoe3RkOjEsdGg6MX0sMSkpe3ZhciBjPWIuY3JlYXRlUmFuZ2UoKSxmPUNLRURJVE9SLnRvb2xzLnRyeVRoZXNlKGZ1bmN0aW9uKCl7dmFyIGI9ZC5nZXRQYXJlbnQoKS4kLmNlbGxzW2QuJC5jZWxsSW5kZXgrXG4oYT8tMToxKV07Yi5wYXJlbnROb2RlLnBhcmVudE5vZGU7cmV0dXJuIGJ9LGZ1bmN0aW9uKCl7dmFyIGI9ZC5nZXRQYXJlbnQoKSxiPWIuZ2V0QXNjZW5kYW50KFwidGFibGVcIikuJC5yb3dzW2IuJC5yb3dJbmRleCsoYT8tMToxKV07cmV0dXJuIGIuY2VsbHNbYT9iLmNlbGxzLmxlbmd0aC0xOjBdfSk7aWYoZnx8YSlpZihmKWY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGYpLGMubW92ZVRvRWxlbWVudEVkaXRTdGFydChmKSxjLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmMuY2hlY2tFbmRPZkJsb2NrKCl8fGMuc2VsZWN0Tm9kZUNvbnRlbnRzKGYpO2Vsc2UgcmV0dXJuITA7ZWxzZXtmb3IodmFyIGs9ZC5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKS4kLGY9ZC5nZXRQYXJlbnQoKS4kLmNlbGxzLGs9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGsuaW5zZXJ0Um93KC0xKSxiLmRvY3VtZW50KSxnPTAsbj1mLmxlbmd0aDtnPG47ZysrKWsuYXBwZW5kKChuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZltnXSxcbmIuZG9jdW1lbnQpKS5jbG9uZSghMSwhMSkpLmFwcGVuZEJvZ3VzKCk7Yy5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGspfWMuc2VsZWN0KCEwKTtyZXR1cm4hMH19cmV0dXJuITF9fX12YXIgZj17ZWRpdG9yRm9jdXM6ITEsbW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX19LGI9e2V4ZWM6ZnVuY3Rpb24oYSl7YS5jb250YWluZXIuZm9jdXNOZXh0KCEwLGEudGFiSW5kZXgpfX0sYz17ZXhlYzpmdW5jdGlvbihhKXthLmNvbnRhaW5lci5mb2N1c1ByZXZpb3VzKCEwLGEudGFiSW5kZXgpfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ0YWJcIix7aW5pdDpmdW5jdGlvbihlKXtmb3IodmFyIG09ITEhPT1lLmNvbmZpZy5lbmFibGVUYWJLZXlUb29scyxsPWUuY29uZmlnLnRhYlNwYWNlc3x8MCxkPVwiXCI7bC0tOylkKz1cIsKgXCI7aWYoZCllLm9uKFwia2V5XCIsZnVuY3Rpb24oYSl7OT09YS5kYXRhLmtleUNvZGUmJihlLmluc2VydFRleHQoZCksYS5jYW5jZWwoKSl9KTtpZihtKWUub24oXCJrZXlcIixmdW5jdGlvbihhKXsoOT09XG5hLmRhdGEua2V5Q29kZSYmZS5leGVjQ29tbWFuZChcInNlbGVjdE5leHRDZWxsXCIpfHxhLmRhdGEua2V5Q29kZT09Q0tFRElUT1IuU0hJRlQrOSYmZS5leGVjQ29tbWFuZChcInNlbGVjdFByZXZpb3VzQ2VsbFwiKSkmJmEuY2FuY2VsKCl9KTtlLmFkZENvbW1hbmQoXCJibHVyXCIsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGIsZikpO2UuYWRkQ29tbWFuZChcImJsdXJCYWNrXCIsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGMsZikpO2UuYWRkQ29tbWFuZChcInNlbGVjdE5leHRDZWxsXCIsYSgpKTtlLmFkZENvbW1hbmQoXCJzZWxlY3RQcmV2aW91c0NlbGxcIixhKCEwKSl9fSl9KCksQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmZvY3VzTmV4dD1mdW5jdGlvbihhLGYpe3ZhciBiPXZvaWQgMD09PWY/dGhpcy5nZXRUYWJJbmRleCgpOmYsYyxlLG0sbCxkLGg7aWYoMD49Yilmb3IoZD10aGlzLmdldE5leHRTb3VyY2VOb2RlKGEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTtkOyl7aWYoZC5pc1Zpc2libGUoKSYmXG4wPT09ZC5nZXRUYWJJbmRleCgpKXttPWQ7YnJlYWt9ZD1kLmdldE5leHRTb3VyY2VOb2RlKCExLENLRURJVE9SLk5PREVfRUxFTUVOVCl9ZWxzZSBmb3IoZD10aGlzLmdldERvY3VtZW50KCkuZ2V0Qm9keSgpLmdldEZpcnN0KCk7ZD1kLmdldE5leHRTb3VyY2VOb2RlKCExLENLRURJVE9SLk5PREVfRUxFTUVOVCk7KXtpZighYylpZighZSYmZC5lcXVhbHModGhpcykpe2lmKGU9ITAsYSl7aWYoIShkPWQuZ2V0TmV4dFNvdXJjZU5vZGUoITAsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSkpYnJlYWs7Yz0xfX1lbHNlIGUmJiF0aGlzLmNvbnRhaW5zKGQpJiYoYz0xKTtpZihkLmlzVmlzaWJsZSgpJiYhKDA+KGg9ZC5nZXRUYWJJbmRleCgpKSkpe2lmKGMmJmg9PWIpe209ZDticmVha31oPmImJighbXx8IWx8fGg8bCk/KG09ZCxsPWgpOm18fDAhPT1ofHwobT1kLGw9aCl9fW0mJm0uZm9jdXMoKX0sQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmZvY3VzUHJldmlvdXM9ZnVuY3Rpb24oYSxcbmYpe2Zvcih2YXIgYj12b2lkIDA9PT1mP3RoaXMuZ2V0VGFiSW5kZXgoKTpmLGMsZSxtLGw9MCxkLGg9dGhpcy5nZXREb2N1bWVudCgpLmdldEJvZHkoKS5nZXRMYXN0KCk7aD1oLmdldFByZXZpb3VzU291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpOyl7aWYoIWMpaWYoIWUmJmguZXF1YWxzKHRoaXMpKXtpZihlPSEwLGEpe2lmKCEoaD1oLmdldFByZXZpb3VzU291cmNlTm9kZSghMCxDS0VESVRPUi5OT0RFX0VMRU1FTlQpKSlicmVhaztjPTF9fWVsc2UgZSYmIXRoaXMuY29udGFpbnMoaCkmJihjPTEpO2lmKGguaXNWaXNpYmxlKCkmJiEoMD4oZD1oLmdldFRhYkluZGV4KCkpKSlpZigwPj1iKXtpZihjJiYwPT09ZCl7bT1oO2JyZWFrfWQ+bCYmKG09aCxsPWQpfWVsc2V7aWYoYyYmZD09Yil7bT1oO2JyZWFrfWQ8YiYmKCFtfHxkPmwpJiYobT1oLGw9ZCl9fW0mJm0uZm9jdXMoKX0sQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJ0YWJsZVwiLHtyZXF1aXJlczpcImRpYWxvZ1wiLGluaXQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGF8fFxue30se2NvbnRleHRTZW5zaXRpdmU6MSxyZWZyZXNoOmZ1bmN0aW9uKGEsYil7dGhpcy5zZXRTdGF0ZShiLmNvbnRhaW5zKFwidGFibGVcIiwxKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX0pfWlmKCFhLmJsb2NrbGVzcyl7dmFyIGI9YS5sYW5nLnRhYmxlO2EuYWRkQ29tbWFuZChcInRhYmxlXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJ0YWJsZVwiLHtjb250ZXh0OlwidGFibGVcIixhbGxvd2VkQ29udGVudDpcInRhYmxle3dpZHRoLGhlaWdodH1bYWxpZ24sYm9yZGVyLGNlbGxwYWRkaW5nLGNlbGxzcGFjaW5nLHN1bW1hcnldO2NhcHRpb24gdGJvZHkgdGhlYWQgdGZvb3Q7dGggdGQgdHJbc2NvcGVdO1wiKyhhLnBsdWdpbnMuZGlhbG9nYWR2dGFiP1widGFibGVcIithLnBsdWdpbnMuZGlhbG9nYWR2dGFiLmFsbG93ZWRDb250ZW50KCk6XCJcIikscmVxdWlyZWRDb250ZW50OlwidGFibGVcIixjb250ZW50VHJhbnNmb3JtYXRpb25zOltbXCJ0YWJsZXt3aWR0aH06IHNpemVUb1N0eWxlXCIsXG5cInRhYmxlW3dpZHRoXTogc2l6ZVRvQXR0cmlidXRlXCJdLFtcInRkOiBzcGxpdEJvcmRlclNob3J0aGFuZFwiXSxbe2VsZW1lbnQ6XCJ0YWJsZVwiLHJpZ2h0OmZ1bmN0aW9uKGEpe2Euc3R5bGVzJiYoYS5zdHlsZXMuYm9yZGVyJiZhLnN0eWxlcy5ib3JkZXIubWF0Y2goL3NvbGlkLykmJihhLmF0dHJpYnV0ZXMuYm9yZGVyPTEpLFwiY29sbGFwc2VcIj09YS5zdHlsZXNbXCJib3JkZXItY29sbGFwc2VcIl0mJihhLmF0dHJpYnV0ZXMuY2VsbHNwYWNpbmc9MCkpfX1dXX0pKTthLmFkZENvbW1hbmQoXCJ0YWJsZVByb3BlcnRpZXNcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcInRhYmxlUHJvcGVydGllc1wiLGYoKSkpO2EuYWRkQ29tbWFuZChcInRhYmxlRGVsZXRlXCIsZih7ZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1hLmVsZW1lbnRQYXRoKCkuY29udGFpbnMoXCJ0YWJsZVwiLDEpO2lmKGIpe3ZhciBmPWIuZ2V0UGFyZW50KCksbD1hLmVkaXRhYmxlKCk7MSE9Zi5nZXRDaGlsZENvdW50KCl8fGYuaXMoXCJ0ZFwiLFxuXCJ0aFwiKXx8Zi5lcXVhbHMobCl8fChiPWYpO2E9YS5jcmVhdGVSYW5nZSgpO2EubW92ZVRvUG9zaXRpb24oYixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2IucmVtb3ZlKCk7YS5zZWxlY3QoKX19fSkpO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIlRhYmxlXCIse2xhYmVsOmIudG9vbGJhcixjb21tYW5kOlwidGFibGVcIix0b29sYmFyOlwiaW5zZXJ0LDMwXCJ9KTtDS0VESVRPUi5kaWFsb2cuYWRkKFwidGFibGVcIix0aGlzLnBhdGgrXCJkaWFsb2dzL3RhYmxlLmpzXCIpO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJ0YWJsZVByb3BlcnRpZXNcIix0aGlzLnBhdGgrXCJkaWFsb2dzL3RhYmxlLmpzXCIpO2EuYWRkTWVudUl0ZW1zJiZhLmFkZE1lbnVJdGVtcyh7dGFibGU6e2xhYmVsOmIubWVudSxjb21tYW5kOlwidGFibGVQcm9wZXJ0aWVzXCIsZ3JvdXA6XCJ0YWJsZVwiLG9yZGVyOjV9LHRhYmxlZGVsZXRlOntsYWJlbDpiLmRlbGV0ZVRhYmxlLGNvbW1hbmQ6XCJ0YWJsZURlbGV0ZVwiLGdyb3VwOlwidGFibGVcIixcbm9yZGVyOjF9fSk7YS5vbihcImRvdWJsZWNsaWNrXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmVsZW1lbnQuaXMoXCJ0YWJsZVwiKSYmKGEuZGF0YS5kaWFsb2c9XCJ0YWJsZVByb3BlcnRpZXNcIil9KTthLmNvbnRleHRNZW51JiZhLmNvbnRleHRNZW51LmFkZExpc3RlbmVyKGZ1bmN0aW9uKCl7cmV0dXJue3RhYmxlZGVsZXRlOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZTpDS0VESVRPUi5UUklTVEFURV9PRkZ9fSl9fX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtmdW5jdGlvbiBiKGEpezA8Yy5sZW5ndGh8fGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhcS50ZXN0KGEuZ2V0TmFtZSgpKXx8YS5nZXRDdXN0b21EYXRhKFwic2VsZWN0ZWRfY2VsbFwiKXx8KENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihkLGEsXCJzZWxlY3RlZF9jZWxsXCIsITApLGMucHVzaChhKSl9YT1hLmdldFJhbmdlcygpO2Zvcih2YXIgYz1bXSxkPXt9LGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGY9YVtlXTtcbmlmKGYuY29sbGFwc2VkKWY9Zi5nZXRDb21tb25BbmNlc3RvcigpLChmPWYuZ2V0QXNjZW5kYW50KFwidGRcIiwhMCl8fGYuZ2V0QXNjZW5kYW50KFwidGhcIiwhMCkpJiZjLnB1c2goZik7ZWxzZXt2YXIgZj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihmKSxnO2ZvcihmLmd1YXJkPWI7Zz1mLm5leHQoKTspZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmcuaXMoQ0tFRElUT1IuZHRkLnRhYmxlKXx8KGc9Zy5nZXRBc2NlbmRhbnQoXCJ0ZFwiLCEwKXx8Zy5nZXRBc2NlbmRhbnQoXCJ0aFwiLCEwKSkmJiFnLmdldEN1c3RvbURhdGEoXCJzZWxlY3RlZF9jZWxsXCIpJiYoQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGQsZyxcInNlbGVjdGVkX2NlbGxcIiwhMCksYy5wdXNoKGcpKX19Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGQpO3JldHVybiBjfWZ1bmN0aW9uIGYoYixjKXtmb3IodmFyIGQ9YShiKSxlPWRbMF0sZj1lLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGU9ZS5nZXREb2N1bWVudCgpLFxuZz1kWzBdLmdldFBhcmVudCgpLGg9Zy4kLnJvd0luZGV4LGQ9ZFtkLmxlbmd0aC0xXSxrPWQuZ2V0UGFyZW50KCkuJC5yb3dJbmRleCtkLiQucm93U3Bhbi0xLGQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGYuJC5yb3dzW2tdKSxoPWM/aDprLGc9Yz9nOmQsZD1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGYpLGY9ZFtoXSxoPWM/ZFtoLTFdOmRbaCsxXSxkPWRbMF0ubGVuZ3RoLGU9ZS5jcmVhdGVFbGVtZW50KFwidHJcIiksaz0wO2Zba10mJms8ZDtrKyspe3ZhciBsOzE8ZltrXS5yb3dTcGFuJiZoJiZmW2tdPT1oW2tdPyhsPWZba10sbC5yb3dTcGFuKz0xKToobD0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGZba10pKS5jbG9uZSgpLGwucmVtb3ZlQXR0cmlidXRlKFwicm93U3BhblwiKSxsLmFwcGVuZEJvZ3VzKCksZS5hcHBlbmQobCksbD1sLiQpO2srPWwuY29sU3Bhbi0xfWM/ZS5pbnNlcnRCZWZvcmUoZyk6ZS5pbnNlcnRBZnRlcihnKX1mdW5jdGlvbiBiKGMpe2lmKGMgaW5zdGFuY2VvZlxuQ0tFRElUT1IuZG9tLnNlbGVjdGlvbil7dmFyIGQ9YShjKSxlPWRbMF0uZ2V0QXNjZW5kYW50KFwidGFibGVcIiksZj1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGUpO2M9ZFswXS5nZXRQYXJlbnQoKS4kLnJvd0luZGV4O2Zvcih2YXIgZD1kW2QubGVuZ3RoLTFdLGc9ZC5nZXRQYXJlbnQoKS4kLnJvd0luZGV4K2QuJC5yb3dTcGFuLTEsZD1bXSxoPWM7aDw9ZztoKyspe2Zvcih2YXIgaz1mW2hdLGw9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGUuJC5yb3dzW2hdKSxtPTA7bTxrLmxlbmd0aDttKyspe3ZhciBuPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChrW21dKSxxPW4uZ2V0UGFyZW50KCkuJC5yb3dJbmRleDsxPT1uLiQucm93U3Bhbj9uLnJlbW92ZSgpOigtLW4uJC5yb3dTcGFuLHE9PWgmJihxPWZbaCsxXSxxW20tMV0/bi5pbnNlcnRBZnRlcihuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQocVttLTFdKSk6KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChlLiQucm93c1toKzFdKSkuYXBwZW5kKG4sXG4xKSkpO20rPW4uJC5jb2xTcGFuLTF9ZC5wdXNoKGwpfWY9ZS4kLnJvd3M7ZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZltnKzFdfHwoMDxjP2ZbYy0xXTpudWxsKXx8ZS4kLnBhcmVudE5vZGUpO2ZvcihoPWQubGVuZ3RoOzA8PWg7aC0tKWIoZFtoXSk7cmV0dXJuIGV9YyBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50JiYoZT1jLmdldEFzY2VuZGFudChcInRhYmxlXCIpLDE9PWUuJC5yb3dzLmxlbmd0aD9lLnJlbW92ZSgpOmMucmVtb3ZlKCkpO3JldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiKXtmb3IodmFyIGM9Yj9JbmZpbml0eTowLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU7ZT1hW2RdO2Zvcih2YXIgZj1iLGc9ZS5nZXRQYXJlbnQoKS4kLmNlbGxzLGg9MCxrPTA7azxnLmxlbmd0aDtrKyspe3ZhciBsPWdba10saD1oKyhmPzE6bC5jb2xTcGFuKTtpZihsPT1lLiQpYnJlYWt9ZT1oLTE7aWYoYj9lPGM6ZT5jKWM9ZX1yZXR1cm4gY31mdW5jdGlvbiBlKGIsZCl7Zm9yKHZhciBlPVxuYShiKSxmPWVbMF0uZ2V0QXNjZW5kYW50KFwidGFibGVcIiksZz1jKGUsMSksZT1jKGUpLGc9ZD9nOmUsaD1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGYpLGY9W10sZT1bXSxrPWgubGVuZ3RoLGw9MDtsPGs7bCsrKWYucHVzaChoW2xdW2ddKSxlLnB1c2goZD9oW2xdW2ctMV06aFtsXVtnKzFdKTtmb3IobD0wO2w8aztsKyspZltsXSYmKDE8ZltsXS5jb2xTcGFuJiZlW2xdPT1mW2xdPyhnPWZbbF0sZy5jb2xTcGFuKz0xKTooZz0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGZbbF0pKS5jbG9uZSgpLGcucmVtb3ZlQXR0cmlidXRlKFwiY29sU3BhblwiKSxnLmFwcGVuZEJvZ3VzKCksZ1tkP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXS5jYWxsKGcsbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGZbbF0pKSxnPWcuJCksbCs9Zy5yb3dTcGFuLTEpfWZ1bmN0aW9uIG0oYSxiKXt2YXIgYz1hLmdldFN0YXJ0RWxlbWVudCgpO2lmKGM9Yy5nZXRBc2NlbmRhbnQoXCJ0ZFwiLDEpfHxjLmdldEFzY2VuZGFudChcInRoXCIsXG4xKSl7dmFyIGQ9Yy5jbG9uZSgpO2QuYXBwZW5kQm9ndXMoKTtiP2QuaW5zZXJ0QmVmb3JlKGMpOmQuaW5zZXJ0QWZ0ZXIoYyl9fWZ1bmN0aW9uIGwoYil7aWYoYiBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5zZWxlY3Rpb24pe2I9YShiKTt2YXIgYz1iWzBdJiZiWzBdLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGU7YTp7dmFyIGY9MDtlPWIubGVuZ3RoLTE7Zm9yKHZhciBnPXt9LGgsaztoPWJbZisrXTspQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGcsaCxcImRlbGV0ZV9jZWxsXCIsITApO2ZvcihmPTA7aD1iW2YrK107KWlmKChrPWguZ2V0UHJldmlvdXMoKSkmJiFrLmdldEN1c3RvbURhdGEoXCJkZWxldGVfY2VsbFwiKXx8KGs9aC5nZXROZXh0KCkpJiYhay5nZXRDdXN0b21EYXRhKFwiZGVsZXRlX2NlbGxcIikpe0NLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhnKTtlPWs7YnJlYWsgYX1DS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoZyk7az1iWzBdLmdldFBhcmVudCgpO1xuKGs9ay5nZXRQcmV2aW91cygpKT9lPWsuZ2V0TGFzdCgpOihrPWJbZV0uZ2V0UGFyZW50KCksZT0oaz1rLmdldE5leHQoKSk/ay5nZXRDaGlsZCgwKTpudWxsKX1mb3Ioaz1iLmxlbmd0aC0xOzA8PWs7ay0tKWwoYltrXSk7ZT9kKGUsITApOmMmJmMucmVtb3ZlKCl9ZWxzZSBiIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQmJihjPWIuZ2V0UGFyZW50KCksMT09Yy5nZXRDaGlsZENvdW50KCk/Yy5yZW1vdmUoKTpiLnJlbW92ZSgpKX1mdW5jdGlvbiBkKGEsYil7dmFyIGM9YS5nZXREb2N1bWVudCgpLGQ9Q0tFRElUT1IuZG9jdW1lbnQ7Q0tFRElUT1IuZW52LmllJiYxMD09Q0tFRElUT1IuZW52LnZlcnNpb24mJihkLmZvY3VzKCksYy5mb2N1cygpKTtjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYyk7Y1tcIm1vdmVUb0VsZW1lbnRFZGl0XCIrKGI/XCJFbmRcIjpcIlN0YXJ0XCIpXShhKXx8KGMuc2VsZWN0Tm9kZUNvbnRlbnRzKGEpLGMuY29sbGFwc2UoYj8hMTohMCkpO2Muc2VsZWN0KCEwKX1cbmZ1bmN0aW9uIGgoYSxiLGMpe2E9YVtiXTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgYylyZXR1cm4gYTtmb3IoYj0wO2EmJmI8YS5sZW5ndGg7YisrKXtpZihjLmlzJiZhW2JdPT1jLiQpcmV0dXJuIGI7aWYoYj09YylyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGFbYl0pfXJldHVybiBjLmlzPy0xOm51bGx9ZnVuY3Rpb24gayhiLGMsZCl7dmFyIGU9YShiKSxmO2lmKChjPzEhPWUubGVuZ3RoOjI+ZS5sZW5ndGgpfHwoZj1iLmdldENvbW1vbkFuY2VzdG9yKCkpJiZmLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZi5pcyhcInRhYmxlXCIpKXJldHVybiExO3ZhciBnO2I9ZVswXTtmPWIuZ2V0QXNjZW5kYW50KFwidGFibGVcIik7dmFyIGs9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChmKSxsPWsubGVuZ3RoLG09a1swXS5sZW5ndGgsbj1iLmdldFBhcmVudCgpLiQucm93SW5kZXgscT1oKGssbixiKTtpZihjKXt2YXIgQTt0cnl7dmFyIEM9cGFyc2VJbnQoYi5nZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIpLFxuMTApfHwxO2c9cGFyc2VJbnQoYi5nZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIpLDEwKXx8MTtBPWtbXCJ1cFwiPT1jP24tQzpcImRvd25cIj09Yz9uK0M6bl1bXCJsZWZ0XCI9PWM/cS1nOlwicmlnaHRcIj09Yz9xK2c6cV19Y2F0Y2goRil7cmV0dXJuITF9aWYoIUF8fGIuJD09QSlyZXR1cm4hMTtlW1widXBcIj09Y3x8XCJsZWZ0XCI9PWM/XCJ1bnNoaWZ0XCI6XCJwdXNoXCJdKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChBKSl9Yz1iLmdldERvY3VtZW50KCk7dmFyIEU9bixDPUE9MCxKPSFkJiZuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoYyksRz0wO2ZvcihjPTA7YzxlLmxlbmd0aDtjKyspe2c9ZVtjXTt2YXIgTT1nLmdldFBhcmVudCgpLEk9Zy5nZXRGaXJzdCgpLEg9Zy4kLmNvbFNwYW4sUj1nLiQucm93U3BhbixNPU0uJC5yb3dJbmRleCxQPWgoayxNLGcpLEc9RytIKlIsQz1NYXRoLm1heChDLFAtcStIKTtBPU1hdGgubWF4KEEsTS1uK1IpO2R8fChIPWcsKFI9SC5nZXRCb2d1cygpKSYmUi5yZW1vdmUoKSxcbkgudHJpbSgpLGcuZ2V0Q2hpbGRyZW4oKS5jb3VudCgpJiYoTT09RXx8IUl8fEkuaXNCbG9ja0JvdW5kYXJ5JiZJLmlzQmxvY2tCb3VuZGFyeSh7YnI6MX0pfHwoRT1KLmdldExhc3QoQ0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCkpLCFFfHxFLmlzJiZFLmlzKFwiYnJcIil8fEouYXBwZW5kKFwiYnJcIikpLGcubW92ZUNoaWxkcmVuKEopKSxjP2cucmVtb3ZlKCk6Zy5zZXRIdG1sKFwiXCIpKTtFPU19aWYoZClyZXR1cm4gQSpDPT1HO0oubW92ZUNoaWxkcmVuKGIpO2IuYXBwZW5kQm9ndXMoKTtDPj1tP2IucmVtb3ZlQXR0cmlidXRlKFwicm93U3BhblwiKTpiLiQucm93U3Bhbj1BO0E+PWw/Yi5yZW1vdmVBdHRyaWJ1dGUoXCJjb2xTcGFuXCIpOmIuJC5jb2xTcGFuPUM7ZD1uZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KGYuJC5yb3dzKTtlPWQuY291bnQoKTtmb3IoYz1lLTE7MDw9YztjLS0pZj1kLmdldEl0ZW0oYyksZi4kLmNlbGxzLmxlbmd0aHx8KGYucmVtb3ZlKCksZSsrKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIGcoYixjKXt2YXIgZD1hKGIpO2lmKDE8ZC5sZW5ndGgpcmV0dXJuITE7aWYoYylyZXR1cm4hMDt2YXIgZD1kWzBdLGU9ZC5nZXRQYXJlbnQoKSxmPWUuZ2V0QXNjZW5kYW50KFwidGFibGVcIiksZz1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGYpLGs9ZS4kLnJvd0luZGV4LGw9aChnLGssZCksbT1kLiQucm93U3BhbixuO2lmKDE8bSl7bj1NYXRoLmNlaWwobS8yKTtmb3IodmFyIG09TWF0aC5mbG9vcihtLzIpLGU9aytuLGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGYuJC5yb3dzW2VdKSxnPWgoZyxlKSxxLGU9ZC5jbG9uZSgpLGs9MDtrPGcubGVuZ3RoO2srKylpZihxPWdba10scS5wYXJlbnROb2RlPT1mLiQmJms+bCl7ZS5pbnNlcnRCZWZvcmUobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHEpKTticmVha31lbHNlIHE9bnVsbDtxfHxmLmFwcGVuZChlKX1lbHNlIGZvcihtPW49MSxmPWUuY2xvbmUoKSxmLmluc2VydEFmdGVyKGUpLGYuYXBwZW5kKGU9ZC5jbG9uZSgpKSxcbnE9aChnLGspLGw9MDtsPHEubGVuZ3RoO2wrKylxW2xdLnJvd1NwYW4rKztlLmFwcGVuZEJvZ3VzKCk7ZC4kLnJvd1NwYW49bjtlLiQucm93U3Bhbj1tOzE9PW4mJmQucmVtb3ZlQXR0cmlidXRlKFwicm93U3BhblwiKTsxPT1tJiZlLnJlbW92ZUF0dHJpYnV0ZShcInJvd1NwYW5cIik7cmV0dXJuIGV9ZnVuY3Rpb24gbihiLGMpe3ZhciBkPWEoYik7aWYoMTxkLmxlbmd0aClyZXR1cm4hMTtpZihjKXJldHVybiEwO3ZhciBkPWRbMF0sZT1kLmdldFBhcmVudCgpLGY9ZS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxmPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoZiksZz1oKGYsZS4kLnJvd0luZGV4LGQpLGs9ZC4kLmNvbFNwYW47aWYoMTxrKWU9TWF0aC5jZWlsKGsvMiksaz1NYXRoLmZsb29yKGsvMik7ZWxzZXtmb3IodmFyIGs9ZT0xLGw9W10sbT0wO208Zi5sZW5ndGg7bSsrKXt2YXIgbj1mW21dO2wucHVzaChuW2ddKTsxPG5bZ10ucm93U3BhbiYmKG0rPW5bZ10ucm93U3Bhbi0xKX1mb3IoZj1cbjA7ZjxsLmxlbmd0aDtmKyspbFtmXS5jb2xTcGFuKyt9Zj1kLmNsb25lKCk7Zi5pbnNlcnRBZnRlcihkKTtmLmFwcGVuZEJvZ3VzKCk7ZC4kLmNvbFNwYW49ZTtmLiQuY29sU3Bhbj1rOzE9PWUmJmQucmVtb3ZlQXR0cmlidXRlKFwiY29sU3BhblwiKTsxPT1rJiZmLnJlbW92ZUF0dHJpYnV0ZShcImNvbFNwYW5cIik7cmV0dXJuIGZ9dmFyIHE9L14oPzp0ZHx0aCkkLztDS0VESVRPUi5wbHVnaW5zLnRhYmxldG9vbHM9e3JlcXVpcmVzOlwidGFibGUsZGlhbG9nLGNvbnRleHRtZW51XCIsaW5pdDpmdW5jdGlvbihjKXtmdW5jdGlvbiBoKGEpe3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoYXx8e30se2NvbnRleHRTZW5zaXRpdmU6MSxyZWZyZXNoOmZ1bmN0aW9uKGEsYil7dGhpcy5zZXRTdGF0ZShiLmNvbnRhaW5zKHt0ZDoxLHRoOjF9LDEpP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9fSl9ZnVuY3Rpb24gcShhLGIpe3ZhciBkPWMuYWRkQ29tbWFuZChhLFxuYik7Yy5hZGRGZWF0dXJlKGQpfXZhciByPWMubGFuZy50YWJsZTtxKFwiY2VsbFByb3BlcnRpZXNcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcImNlbGxQcm9wZXJ0aWVzXCIsaCh7YWxsb3dlZENvbnRlbnQ6XCJ0ZCB0aHt3aWR0aCxoZWlnaHQsYm9yZGVyLWNvbG9yLGJhY2tncm91bmQtY29sb3Isd2hpdGUtc3BhY2UsdmVydGljYWwtYWxpZ24sdGV4dC1hbGlnbn1bY29sc3Bhbixyb3dzcGFuXVwiLHJlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsY29udGVudFRyYW5zZm9ybWF0aW9uczpbW3tlbGVtZW50OlwidGRcIixsZWZ0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlcy5iYWNrZ3JvdW5kJiZhLnN0eWxlcy5iYWNrZ3JvdW5kLm1hdGNoKC9eKCNbYS1mQS1GMC05XXszLDZ9fHJnYlxcKFtcXGQsIF0rXFwpfFxcdyspJC8pfSxyaWdodDpmdW5jdGlvbihhKXthLnN0eWxlc1tcImJhY2tncm91bmQtY29sb3JcIl09YS5zdHlsZXMuYmFja2dyb3VuZH19XV19KSkpO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJjZWxsUHJvcGVydGllc1wiLFxudGhpcy5wYXRoK1wiZGlhbG9ncy90YWJsZUNlbGwuanNcIik7cShcInJvd0RlbGV0ZVwiLGgoe3JlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7ZChiKGEpKX19KSk7cShcInJvd0luc2VydEJlZm9yZVwiLGgoe3JlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7ZihhLCEwKX19KSk7cShcInJvd0luc2VydEFmdGVyXCIsaCh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGEpe2E9YS5nZXRTZWxlY3Rpb24oKTtmKGEpfX0pKTtxKFwiY29sdW1uRGVsZXRlXCIsaCh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGIpe2I9Yi5nZXRTZWxlY3Rpb24oKTtiPWEoYik7dmFyIGM9YlswXSxlPWJbYi5sZW5ndGgtMV07Yj1jLmdldEFzY2VuZGFudChcInRhYmxlXCIpO2Zvcih2YXIgZj1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGIpLGcsaCxrPVtdLGw9XG4wLG09Zi5sZW5ndGg7bDxtO2wrKylmb3IodmFyIG49MCxwPWZbbF0ubGVuZ3RoO248cDtuKyspZltsXVtuXT09Yy4kJiYoZz1uKSxmW2xdW25dPT1lLiQmJihoPW4pO2ZvcihsPWc7bDw9aDtsKyspZm9yKG49MDtuPGYubGVuZ3RoO24rKyllPWZbbl0sYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYi4kLnJvd3Nbbl0pLGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGVbbF0pLGUuJCYmKDE9PWUuJC5jb2xTcGFuP2UucmVtb3ZlKCk6LS1lLiQuY29sU3BhbixuKz1lLiQucm93U3Bhbi0xLGMuJC5jZWxscy5sZW5ndGh8fGsucHVzaChjKSk7aD1iLiQucm93c1swXSYmYi4kLnJvd3NbMF0uY2VsbHM7Zz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoaFtnXXx8KGc/aFtnLTFdOmIuJC5wYXJlbnROb2RlKSk7ay5sZW5ndGg9PW0mJmIucmVtb3ZlKCk7ZyYmZChnLCEwKX19KSk7cShcImNvbHVtbkluc2VydEJlZm9yZVwiLGgoe3JlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsZXhlYzpmdW5jdGlvbihhKXthPVxuYS5nZXRTZWxlY3Rpb24oKTtlKGEsITApfX0pKTtxKFwiY29sdW1uSW5zZXJ0QWZ0ZXJcIixoKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYSl7YT1hLmdldFNlbGVjdGlvbigpO2UoYSl9fSkpO3EoXCJjZWxsRGVsZXRlXCIsaCh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGEpe2E9YS5nZXRTZWxlY3Rpb24oKTtsKGEpfX0pKTtxKFwiY2VsbE1lcmdlXCIsaCh7YWxsb3dlZENvbnRlbnQ6XCJ0ZFtjb2xzcGFuLHJvd3NwYW5dXCIscmVxdWlyZWRDb250ZW50OlwidGRbY29sc3Bhbixyb3dzcGFuXVwiLGV4ZWM6ZnVuY3Rpb24oYSl7ZChrKGEuZ2V0U2VsZWN0aW9uKCkpLCEwKX19KSk7cShcImNlbGxNZXJnZVJpZ2h0XCIsaCh7YWxsb3dlZENvbnRlbnQ6XCJ0ZFtjb2xzcGFuXVwiLHJlcXVpcmVkQ29udGVudDpcInRkW2NvbHNwYW5dXCIsZXhlYzpmdW5jdGlvbihhKXtkKGsoYS5nZXRTZWxlY3Rpb24oKSxcInJpZ2h0XCIpLCEwKX19KSk7cShcImNlbGxNZXJnZURvd25cIixcbmgoe2FsbG93ZWRDb250ZW50OlwidGRbcm93c3Bhbl1cIixyZXF1aXJlZENvbnRlbnQ6XCJ0ZFtyb3dzcGFuXVwiLGV4ZWM6ZnVuY3Rpb24oYSl7ZChrKGEuZ2V0U2VsZWN0aW9uKCksXCJkb3duXCIpLCEwKX19KSk7cShcImNlbGxWZXJ0aWNhbFNwbGl0XCIsaCh7YWxsb3dlZENvbnRlbnQ6XCJ0ZFtyb3dzcGFuXVwiLHJlcXVpcmVkQ29udGVudDpcInRkW3Jvd3NwYW5dXCIsZXhlYzpmdW5jdGlvbihhKXtkKG4oYS5nZXRTZWxlY3Rpb24oKSkpfX0pKTtxKFwiY2VsbEhvcml6b250YWxTcGxpdFwiLGgoe2FsbG93ZWRDb250ZW50OlwidGRbY29sc3Bhbl1cIixyZXF1aXJlZENvbnRlbnQ6XCJ0ZFtjb2xzcGFuXVwiLGV4ZWM6ZnVuY3Rpb24oYSl7ZChnKGEuZ2V0U2VsZWN0aW9uKCkpKX19KSk7cShcImNlbGxJbnNlcnRCZWZvcmVcIixoKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYSl7YT1hLmdldFNlbGVjdGlvbigpO20oYSwhMCl9fSkpO3EoXCJjZWxsSW5zZXJ0QWZ0ZXJcIixoKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLFxuZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7bShhKX19KSk7Yy5hZGRNZW51SXRlbXMmJmMuYWRkTWVudUl0ZW1zKHt0YWJsZWNlbGw6e2xhYmVsOnIuY2VsbC5tZW51LGdyb3VwOlwidGFibGVjZWxsXCIsb3JkZXI6MSxnZXRJdGVtczpmdW5jdGlvbigpe3ZhciBiPWMuZ2V0U2VsZWN0aW9uKCksZD1hKGIpO3JldHVybnt0YWJsZWNlbGxfaW5zZXJ0QmVmb3JlOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZWNlbGxfaW5zZXJ0QWZ0ZXI6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlY2VsbF9kZWxldGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlY2VsbF9tZXJnZTprKGIsbnVsbCwhMCk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHRhYmxlY2VsbF9tZXJnZV9yaWdodDprKGIsXCJyaWdodFwiLCEwKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsdGFibGVjZWxsX21lcmdlX2Rvd246ayhiLFxuXCJkb3duXCIsITApP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCx0YWJsZWNlbGxfc3BsaXRfdmVydGljYWw6bihiLCEwKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsdGFibGVjZWxsX3NwbGl0X2hvcml6b250YWw6ZyhiLCEwKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsdGFibGVjZWxsX3Byb3BlcnRpZXM6MDxkLmxlbmd0aD9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUR9fX0sdGFibGVjZWxsX2luc2VydEJlZm9yZTp7bGFiZWw6ci5jZWxsLmluc2VydEJlZm9yZSxncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsSW5zZXJ0QmVmb3JlXCIsb3JkZXI6NX0sdGFibGVjZWxsX2luc2VydEFmdGVyOntsYWJlbDpyLmNlbGwuaW5zZXJ0QWZ0ZXIsZ3JvdXA6XCJ0YWJsZWNlbGxcIixjb21tYW5kOlwiY2VsbEluc2VydEFmdGVyXCIsXG5vcmRlcjoxMH0sdGFibGVjZWxsX2RlbGV0ZTp7bGFiZWw6ci5jZWxsLmRlbGV0ZUNlbGwsZ3JvdXA6XCJ0YWJsZWNlbGxcIixjb21tYW5kOlwiY2VsbERlbGV0ZVwiLG9yZGVyOjE1fSx0YWJsZWNlbGxfbWVyZ2U6e2xhYmVsOnIuY2VsbC5tZXJnZSxncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsTWVyZ2VcIixvcmRlcjoxNn0sdGFibGVjZWxsX21lcmdlX3JpZ2h0OntsYWJlbDpyLmNlbGwubWVyZ2VSaWdodCxncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsTWVyZ2VSaWdodFwiLG9yZGVyOjE3fSx0YWJsZWNlbGxfbWVyZ2VfZG93bjp7bGFiZWw6ci5jZWxsLm1lcmdlRG93bixncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsTWVyZ2VEb3duXCIsb3JkZXI6MTh9LHRhYmxlY2VsbF9zcGxpdF9ob3Jpem9udGFsOntsYWJlbDpyLmNlbGwuc3BsaXRIb3Jpem9udGFsLGdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxIb3Jpem9udGFsU3BsaXRcIixvcmRlcjoxOX0sdGFibGVjZWxsX3NwbGl0X3ZlcnRpY2FsOntsYWJlbDpyLmNlbGwuc3BsaXRWZXJ0aWNhbCxcbmdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxWZXJ0aWNhbFNwbGl0XCIsb3JkZXI6MjB9LHRhYmxlY2VsbF9wcm9wZXJ0aWVzOntsYWJlbDpyLmNlbGwudGl0bGUsZ3JvdXA6XCJ0YWJsZWNlbGxwcm9wZXJ0aWVzXCIsY29tbWFuZDpcImNlbGxQcm9wZXJ0aWVzXCIsb3JkZXI6MjF9LHRhYmxlcm93OntsYWJlbDpyLnJvdy5tZW51LGdyb3VwOlwidGFibGVyb3dcIixvcmRlcjoxLGdldEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJue3RhYmxlcm93X2luc2VydEJlZm9yZTpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVyb3dfaW5zZXJ0QWZ0ZXI6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlcm93X2RlbGV0ZTpDS0VESVRPUi5UUklTVEFURV9PRkZ9fX0sdGFibGVyb3dfaW5zZXJ0QmVmb3JlOntsYWJlbDpyLnJvdy5pbnNlcnRCZWZvcmUsZ3JvdXA6XCJ0YWJsZXJvd1wiLGNvbW1hbmQ6XCJyb3dJbnNlcnRCZWZvcmVcIixvcmRlcjo1fSx0YWJsZXJvd19pbnNlcnRBZnRlcjp7bGFiZWw6ci5yb3cuaW5zZXJ0QWZ0ZXIsXG5ncm91cDpcInRhYmxlcm93XCIsY29tbWFuZDpcInJvd0luc2VydEFmdGVyXCIsb3JkZXI6MTB9LHRhYmxlcm93X2RlbGV0ZTp7bGFiZWw6ci5yb3cuZGVsZXRlUm93LGdyb3VwOlwidGFibGVyb3dcIixjb21tYW5kOlwicm93RGVsZXRlXCIsb3JkZXI6MTV9LHRhYmxlY29sdW1uOntsYWJlbDpyLmNvbHVtbi5tZW51LGdyb3VwOlwidGFibGVjb2x1bW5cIixvcmRlcjoxLGdldEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJue3RhYmxlY29sdW1uX2luc2VydEJlZm9yZTpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVjb2x1bW5faW5zZXJ0QWZ0ZXI6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlY29sdW1uX2RlbGV0ZTpDS0VESVRPUi5UUklTVEFURV9PRkZ9fX0sdGFibGVjb2x1bW5faW5zZXJ0QmVmb3JlOntsYWJlbDpyLmNvbHVtbi5pbnNlcnRCZWZvcmUsZ3JvdXA6XCJ0YWJsZWNvbHVtblwiLGNvbW1hbmQ6XCJjb2x1bW5JbnNlcnRCZWZvcmVcIixvcmRlcjo1fSx0YWJsZWNvbHVtbl9pbnNlcnRBZnRlcjp7bGFiZWw6ci5jb2x1bW4uaW5zZXJ0QWZ0ZXIsXG5ncm91cDpcInRhYmxlY29sdW1uXCIsY29tbWFuZDpcImNvbHVtbkluc2VydEFmdGVyXCIsb3JkZXI6MTB9LHRhYmxlY29sdW1uX2RlbGV0ZTp7bGFiZWw6ci5jb2x1bW4uZGVsZXRlQ29sdW1uLGdyb3VwOlwidGFibGVjb2x1bW5cIixjb21tYW5kOlwiY29sdW1uRGVsZXRlXCIsb3JkZXI6MTV9fSk7Yy5jb250ZXh0TWVudSYmYy5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihhLGIsYyl7cmV0dXJuKGE9Yy5jb250YWlucyh7dGQ6MSx0aDoxfSwxKSkmJiFhLmlzUmVhZE9ubHkoKT97dGFibGVjZWxsOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZXJvdzpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVjb2x1bW46Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfTpudWxsfSl9LGdldFNlbGVjdGVkQ2VsbHM6YX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ0YWJsZXRvb2xzXCIsQ0tFRElUT1IucGx1Z2lucy50YWJsZXRvb2xzKX0oKSxDS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwPWZ1bmN0aW9uKGEpe2E9XG5hLiQucm93cztmb3IodmFyIGY9LTEsYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspe2YrKzshYltmXSYmKGJbZl09W10pO2Zvcih2YXIgZT0tMSxtPTA7bTxhW2NdLmNlbGxzLmxlbmd0aDttKyspe3ZhciBsPWFbY10uY2VsbHNbbV07Zm9yKGUrKztiW2ZdW2VdOyllKys7Zm9yKHZhciBkPWlzTmFOKGwuY29sU3Bhbik/MTpsLmNvbFNwYW4sbD1pc05hTihsLnJvd1NwYW4pPzE6bC5yb3dTcGFuLGg9MDtoPGw7aCsrKXtiW2YraF18fChiW2YraF09W10pO2Zvcih2YXIgaz0wO2s8ZDtrKyspYltmK2hdW2Ura109YVtjXS5jZWxsc1ttXX1lKz1kLTF9fXJldHVybiBifSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7ZnVuY3Rpb24gYigpe2Zvcih2YXIgZz1jKCksaD1DS0VESVRPUi50b29scy5jbG9uZShhLmNvbmZpZy50b29sYmFyR3JvdXBzKXx8ZihhKSxrPTA7azxoLmxlbmd0aDtrKyspe3ZhciBtPWhba107aWYoXCIvXCIhPW0pe1wic3RyaW5nXCI9PXR5cGVvZiBtJiYobT1oW2tdPXtuYW1lOm19KTtcbnZhciB2LHI9bS5ncm91cHM7aWYocilmb3IodmFyIHU9MDt1PHIubGVuZ3RoO3UrKyl2PXJbdV0sKHY9Z1t2XSkmJmQobSx2KTsodj1nW20ubmFtZV0pJiZkKG0sdil9fXJldHVybiBofWZ1bmN0aW9uIGMoKXt2YXIgYj17fSxkLGYsZztmb3IoZCBpbiBhLnVpLml0ZW1zKWY9YS51aS5pdGVtc1tkXSxnPWYudG9vbGJhcnx8XCJvdGhlcnNcIixnPWcuc3BsaXQoXCIsXCIpLGY9Z1swXSxnPXBhcnNlSW50KGdbMV18fC0xLDEwKSxiW2ZdfHwoYltmXT1bXSksYltmXS5wdXNoKHtuYW1lOmQsb3JkZXI6Z30pO2ZvcihmIGluIGIpYltmXT1iW2ZdLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5vcmRlcj09Yi5vcmRlcj8wOjA+Yi5vcmRlcj8tMTowPmEub3JkZXI/MTphLm9yZGVyPGIub3JkZXI/LTE6MX0pO3JldHVybiBifWZ1bmN0aW9uIGQoYixjKXtpZihjLmxlbmd0aCl7Yi5pdGVtcz9iLml0ZW1zLnB1c2goYS51aS5jcmVhdGUoXCItXCIpKTpiLml0ZW1zPVtdO2Zvcih2YXIgZDtkPWMuc2hpZnQoKTspZD1cblwic3RyaW5nXCI9PXR5cGVvZiBkP2Q6ZC5uYW1lLGsmJi0xIT1DS0VESVRPUi50b29scy5pbmRleE9mKGssZCl8fChkPWEudWkuY3JlYXRlKGQpKSYmYS5hZGRGZWF0dXJlKGQpJiZiLml0ZW1zLnB1c2goZCl9fWZ1bmN0aW9uIGgoYSl7dmFyIGI9W10sYyxlLGY7Zm9yKGM9MDtjPGEubGVuZ3RoOysrYyllPWFbY10sZj17fSxcIi9cIj09ZT9iLnB1c2goZSk6Q0tFRElUT1IudG9vbHMuaXNBcnJheShlKT8oZChmLENLRURJVE9SLnRvb2xzLmNsb25lKGUpKSxiLnB1c2goZikpOmUuaXRlbXMmJihkKGYsQ0tFRElUT1IudG9vbHMuY2xvbmUoZS5pdGVtcykpLGYubmFtZT1lLm5hbWUsYi5wdXNoKGYpKTtyZXR1cm4gYn12YXIgaz1hLmNvbmZpZy5yZW1vdmVCdXR0b25zLGs9ayYmay5zcGxpdChcIixcIiksZz1hLmNvbmZpZy50b29sYmFyO1wic3RyaW5nXCI9PXR5cGVvZiBnJiYoZz1hLmNvbmZpZ1tcInRvb2xiYXJfXCIrZ10pO3JldHVybiBhLnRvb2xiYXI9Zz9oKGcpOmIoKX1mdW5jdGlvbiBmKGEpe3JldHVybiBhLl8udG9vbGJhckdyb3Vwc3x8XG4oYS5fLnRvb2xiYXJHcm91cHM9W3tuYW1lOlwiZG9jdW1lbnRcIixncm91cHM6W1wibW9kZVwiLFwiZG9jdW1lbnRcIixcImRvY3Rvb2xzXCJdfSx7bmFtZTpcImNsaXBib2FyZFwiLGdyb3VwczpbXCJjbGlwYm9hcmRcIixcInVuZG9cIl19LHtuYW1lOlwiZWRpdGluZ1wiLGdyb3VwczpbXCJmaW5kXCIsXCJzZWxlY3Rpb25cIixcInNwZWxsY2hlY2tlclwiXX0se25hbWU6XCJmb3Jtc1wifSxcIi9cIix7bmFtZTpcImJhc2ljc3R5bGVzXCIsZ3JvdXBzOltcImJhc2ljc3R5bGVzXCIsXCJjbGVhbnVwXCJdfSx7bmFtZTpcInBhcmFncmFwaFwiLGdyb3VwczpbXCJsaXN0XCIsXCJpbmRlbnRcIixcImJsb2Nrc1wiLFwiYWxpZ25cIixcImJpZGlcIl19LHtuYW1lOlwibGlua3NcIn0se25hbWU6XCJpbnNlcnRcIn0sXCIvXCIse25hbWU6XCJzdHlsZXNcIn0se25hbWU6XCJjb2xvcnNcIn0se25hbWU6XCJ0b29sc1wifSx7bmFtZTpcIm90aGVyc1wifSx7bmFtZTpcImFib3V0XCJ9XSl9dmFyIGI9ZnVuY3Rpb24oKXt0aGlzLnRvb2xiYXJzPVtdO3RoaXMuZm9jdXNDb21tYW5kRXhlY3V0ZWQ9ITF9O1xuYi5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiO2I9dGhpcy50b29sYmFyc1thKytdOylmb3IodmFyIGM9MCxkO2Q9Yi5pdGVtc1tjKytdOylpZihkLmZvY3VzKXtkLmZvY3VzKCk7cmV0dXJufX07dmFyIGM9e21vZGVzOnt3eXNpd3lnOjEsc291cmNlOjF9LHJlYWRPbmx5OjEsZXhlYzpmdW5jdGlvbihhKXthLnRvb2xib3gmJihhLnRvb2xib3guZm9jdXNDb21tYW5kRXhlY3V0ZWQ9ITAsQ0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYuYWlyP3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLnRvb2xib3guZm9jdXMoKX0sMTAwKTphLnRvb2xib3guZm9jdXMoKSl9fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInRvb2xiYXJcIix7cmVxdWlyZXM6XCJidXR0b25cIixpbml0OmZ1bmN0aW9uKGUpe3ZhciBmLGw9ZnVuY3Rpb24oYSxiKXt2YXIgYyxnPVwicnRsXCI9PWUubGFuZy5kaXIsbj1lLmNvbmZpZy50b29sYmFyR3JvdXBDeWNsaW5nLHE9Zz8zNzozOSxnPWc/Mzk6MzcsXG5uPXZvaWQgMD09PW58fG47c3dpdGNoKGIpe2Nhc2UgOTpjYXNlIENLRURJVE9SLlNISUZUKzk6Zm9yKDshY3x8IWMuaXRlbXMubGVuZ3RoOylpZihjPTk9PWI/KGM/Yy5uZXh0OmEudG9vbGJhci5uZXh0KXx8ZS50b29sYm94LnRvb2xiYXJzWzBdOihjP2MucHJldmlvdXM6YS50b29sYmFyLnByZXZpb3VzKXx8ZS50b29sYm94LnRvb2xiYXJzW2UudG9vbGJveC50b29sYmFycy5sZW5ndGgtMV0sYy5pdGVtcy5sZW5ndGgpZm9yKGE9Yy5pdGVtc1tmP2MuaXRlbXMubGVuZ3RoLTE6MF07YSYmIWEuZm9jdXM7KShhPWY/YS5wcmV2aW91czphLm5leHQpfHwoYz0wKTthJiZhLmZvY3VzKCk7cmV0dXJuITE7Y2FzZSBxOmM9YTtkbyBjPWMubmV4dCwhYyYmbiYmKGM9YS50b29sYmFyLml0ZW1zWzBdKTt3aGlsZShjJiYhYy5mb2N1cyk7Yz9jLmZvY3VzKCk6bChhLDkpO3JldHVybiExO2Nhc2UgNDA6cmV0dXJuIGEuYnV0dG9uJiZhLmJ1dHRvbi5oYXNBcnJvdz8oZS5vbmNlKFwicGFuZWxTaG93XCIsXG5mdW5jdGlvbihhKXthLmRhdGEuXy5wYW5lbC5fLmN1cnJlbnRCbG9jay5vbktleURvd24oNDApfSksYS5leGVjdXRlKCkpOmwoYSw0MD09Yj9xOmcpLCExO2Nhc2UgZzpjYXNlIDM4OmM9YTtkbyBjPWMucHJldmlvdXMsIWMmJm4mJihjPWEudG9vbGJhci5pdGVtc1thLnRvb2xiYXIuaXRlbXMubGVuZ3RoLTFdKTt3aGlsZShjJiYhYy5mb2N1cyk7Yz9jLmZvY3VzKCk6KGY9MSxsKGEsQ0tFRElUT1IuU0hJRlQrOSksZj0wKTtyZXR1cm4hMTtjYXNlIDI3OnJldHVybiBlLmZvY3VzKCksITE7Y2FzZSAxMzpjYXNlIDMyOnJldHVybiBhLmV4ZWN1dGUoKSwhMX1yZXR1cm4hMH07ZS5vbihcInVpU3BhY2VcIixmdW5jdGlvbihjKXtpZihjLmRhdGEuc3BhY2U9PWUuY29uZmlnLnRvb2xiYXJMb2NhdGlvbil7Yy5yZW1vdmVMaXN0ZW5lcigpO2UudG9vbGJveD1uZXcgYjt2YXIgZj1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKSxrPVsnXFx4M2NzcGFuIGlkXFx4M2RcIicsZiwnXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZScsXG5lLmxhbmcudG9vbGJhci50b29sYmFycyxcIlxceDNjL3NwYW5cXHgzZVwiLCdcXHgzY3NwYW4gaWRcXHgzZFwiJytlLnVpLnNwYWNlSWQoXCJ0b29sYm94XCIpKydcIiBjbGFzc1xceDNkXCJja2VfdG9vbGJveFwiIHJvbGVcXHgzZFwiZ3JvdXBcIiBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiJyxmLCdcIiBvbm1vdXNlZG93blxceDNkXCJyZXR1cm4gZmFsc2U7XCJcXHgzZSddLGY9ITEhPT1lLmNvbmZpZy50b29sYmFyU3RhcnR1cEV4cGFuZGVkLGcsbTtlLmNvbmZpZy50b29sYmFyQ2FuQ29sbGFwc2UmJmUuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUmJmsucHVzaCgnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV90b29sYm94X21haW5cIicrKGY/XCJcXHgzZVwiOicgc3R5bGVcXHgzZFwiZGlzcGxheTpub25lXCJcXHgzZScpKTtmb3IodmFyIHE9ZS50b29sYm94LnRvb2xiYXJzLHA9YShlKSx0PXAubGVuZ3RoLHY9MDt2PHQ7disrKXt2YXIgcix1PTAsQix4PXBbdl0sdz1cIi9cIiE9PXgmJihcIi9cIj09PXBbdisxXXx8dj09XG50LTEpLHo7aWYoeClpZihnJiYoay5wdXNoKFwiXFx4M2Mvc3BhblxceDNlXCIpLG09Zz0wKSxcIi9cIj09PXgpay5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xiYXJfYnJlYWtcIlxceDNlXFx4M2Mvc3BhblxceDNlJyk7ZWxzZXt6PXguaXRlbXN8fHg7Zm9yKHZhciBEPTA7RDx6Lmxlbmd0aDtEKyspe3ZhciB5PXpbRF0sQTtpZih5KXt2YXIgQz1mdW5jdGlvbihhKXthPWEucmVuZGVyKGUsayk7Rj11Lml0ZW1zLnB1c2goYSktMTswPEYmJihhLnByZXZpb3VzPXUuaXRlbXNbRi0xXSxhLnByZXZpb3VzLm5leHQ9YSk7YS50b29sYmFyPXU7YS5vbmtleT1sO2Eub25mb2N1cz1mdW5jdGlvbigpe2UudG9vbGJveC5mb2N1c0NvbW1hbmRFeGVjdXRlZHx8ZS5mb2N1cygpfX07aWYoeS50eXBlPT1DS0VESVRPUi5VSV9TRVBBUkFUT1IpbT1nJiZ5O2Vsc2V7QT0hMSE9PXkuY2FuR3JvdXA7aWYoIXUpe3I9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dT17aWQ6cixpdGVtczpbXX07Qj14Lm5hbWUmJlxuKGUubGFuZy50b29sYmFyLnRvb2xiYXJHcm91cHNbeC5uYW1lXXx8eC5uYW1lKTtrLnB1c2goJ1xceDNjc3BhbiBpZFxceDNkXCInLHIsJ1wiIGNsYXNzXFx4M2RcImNrZV90b29sYmFyJysodz8nIGNrZV90b29sYmFyX2xhc3RcIic6J1wiJyksQj8nIGFyaWEtbGFiZWxsZWRieVxceDNkXCInK3IrJ19sYWJlbFwiJzpcIlwiLCcgcm9sZVxceDNkXCJ0b29sYmFyXCJcXHgzZScpO0ImJmsucHVzaCgnXFx4M2NzcGFuIGlkXFx4M2RcIicsciwnX2xhYmVsXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZScsQixcIlxceDNjL3NwYW5cXHgzZVwiKTtrLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9zdGFydFwiXFx4M2VcXHgzYy9zcGFuXFx4M2UnKTt2YXIgRj1xLnB1c2godSktMTswPEYmJih1LnByZXZpb3VzPXFbRi0xXSx1LnByZXZpb3VzLm5leHQ9dSl9QT9nfHwoay5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xncm91cFwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZScpLGc9MSk6ZyYmKGsucHVzaChcIlxceDNjL3NwYW5cXHgzZVwiKSxcbmc9MCk7bSYmKEMobSksbT0wKTtDKHkpfX19ZyYmKGsucHVzaChcIlxceDNjL3NwYW5cXHgzZVwiKSxtPWc9MCk7dSYmay5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xiYXJfZW5kXCJcXHgzZVxceDNjL3NwYW5cXHgzZVxceDNjL3NwYW5cXHgzZScpfX1lLmNvbmZpZy50b29sYmFyQ2FuQ29sbGFwc2UmJmsucHVzaChcIlxceDNjL3NwYW5cXHgzZVwiKTtpZihlLmNvbmZpZy50b29sYmFyQ2FuQ29sbGFwc2UmJmUuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpe3ZhciBFPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7ZS5leGVjQ29tbWFuZChcInRvb2xiYXJDb2xsYXBzZVwiKX0pO2Uub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihFKX0pO2UuYWRkQ29tbWFuZChcInRvb2xiYXJDb2xsYXBzZVwiLHtyZWFkT25seToxLGV4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9YS51aS5zcGFjZShcInRvb2xiYXJfY29sbGFwc2VyXCIpLFxuYz1iLmdldFByZXZpb3VzKCksZD1hLnVpLnNwYWNlKFwiY29udGVudHNcIiksZT1jLmdldFBhcmVudCgpLGY9cGFyc2VJbnQoZC4kLnN0eWxlLmhlaWdodCwxMCksZz1lLiQub2Zmc2V0SGVpZ2h0LGg9Yi5oYXNDbGFzcyhcImNrZV90b29sYm94X2NvbGxhcHNlcl9taW5cIik7aD8oYy5zaG93KCksYi5yZW1vdmVDbGFzcyhcImNrZV90b29sYm94X2NvbGxhcHNlcl9taW5cIiksYi5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGEubGFuZy50b29sYmFyLnRvb2xiYXJDb2xsYXBzZSkpOihjLmhpZGUoKSxiLmFkZENsYXNzKFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKSxiLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsYS5sYW5nLnRvb2xiYXIudG9vbGJhckV4cGFuZCkpO2IuZ2V0Rmlyc3QoKS5zZXRUZXh0KGg/XCLilrJcIjpcIuKXgFwiKTtkLnNldFN0eWxlKFwiaGVpZ2h0XCIsZi0oZS4kLm9mZnNldEhlaWdodC1nKStcInB4XCIpO2EuZmlyZShcInJlc2l6ZVwiLHtvdXRlckhlaWdodDphLmNvbnRhaW5lci4kLm9mZnNldEhlaWdodCxcbmNvbnRlbnRzSGVpZ2h0OmQuJC5vZmZzZXRIZWlnaHQsb3V0ZXJXaWR0aDphLmNvbnRhaW5lci4kLm9mZnNldFdpZHRofSl9LG1vZGVzOnt3eXNpd3lnOjEsc291cmNlOjF9fSk7ZS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuQUxUKyhDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi53ZWJraXQ/MTg5OjEwOSksXCJ0b29sYmFyQ29sbGFwc2VcIik7ay5wdXNoKCdcXHgzY2EgdGl0bGVcXHgzZFwiJysoZj9lLmxhbmcudG9vbGJhci50b29sYmFyQ29sbGFwc2U6ZS5sYW5nLnRvb2xiYXIudG9vbGJhckV4cGFuZCkrJ1wiIGlkXFx4M2RcIicrZS51aS5zcGFjZUlkKFwidG9vbGJhcl9jb2xsYXBzZXJcIikrJ1wiIHRhYkluZGV4XFx4M2RcIi0xXCIgY2xhc3NcXHgzZFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyJyk7Znx8ay5wdXNoKFwiIGNrZV90b29sYm94X2NvbGxhcHNlcl9taW5cIik7ay5wdXNoKCdcIiBvbmNsaWNrXFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbignK0UrJylcIlxceDNlJywnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9hcnJvd1wiXFx4M2VcXHgyNiM5NjUwO1xceDNjL3NwYW5cXHgzZScsXG5cIlxceDNjL2FcXHgzZVwiKX1rLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIik7Yy5kYXRhLmh0bWwrPWsuam9pbihcIlwiKX19KTtlLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7aWYodGhpcy50b29sYm94KXt2YXIgYSxiPTAsYyxlLGY7Zm9yKGE9dGhpcy50b29sYm94LnRvb2xiYXJzO2I8YS5sZW5ndGg7YisrKWZvcihlPWFbYl0uaXRlbXMsYz0wO2M8ZS5sZW5ndGg7YysrKWY9ZVtjXSxmLmNsaWNrRm4mJkNLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGYuY2xpY2tGbiksZi5rZXlEb3duRm4mJkNLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGYua2V5RG93bkZuKX19KTtlLm9uKFwidWlSZWFkeVwiLGZ1bmN0aW9uKCl7dmFyIGE9ZS51aS5zcGFjZShcInRvb2xib3hcIik7YSYmZS5mb2N1c01hbmFnZXIuYWRkKGEsMSl9KTtlLmFkZENvbW1hbmQoXCJ0b29sYmFyRm9jdXNcIixjKTtlLnNldEtleXN0cm9rZShDS0VESVRPUi5BTFQrMTIxLFwidG9vbGJhckZvY3VzXCIpO2UudWkuYWRkKFwiLVwiLENLRURJVE9SLlVJX1NFUEFSQVRPUixcbnt9KTtlLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfU0VQQVJBVE9SLHtjcmVhdGU6ZnVuY3Rpb24oKXtyZXR1cm57cmVuZGVyOmZ1bmN0aW9uKGEsYil7Yi5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xiYXJfc2VwYXJhdG9yXCIgcm9sZVxceDNkXCJzZXBhcmF0b3JcIlxceDNlXFx4M2Mvc3BhblxceDNlJyk7cmV0dXJue319fX19KX19KTtDS0VESVRPUi51aS5wcm90b3R5cGUuYWRkVG9vbGJhckdyb3VwPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mKHRoaXMuZWRpdG9yKSxoPTA9PT1iLGs9e25hbWU6YX07aWYoYyl7aWYoYz1DS0VESVRPUi50b29scy5zZWFyY2goZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lPT1jfSkpeyFjLmdyb3VwcyYmKGMuZ3JvdXBzPVtdKTtpZihiJiYoYj1DS0VESVRPUi50b29scy5pbmRleE9mKGMuZ3JvdXBzLGIpLDA8PWIpKXtjLmdyb3Vwcy5zcGxpY2UoYisxLDAsYSk7cmV0dXJufWg/Yy5ncm91cHMuc3BsaWNlKDAsMCxhKTpjLmdyb3Vwcy5wdXNoKGEpO1xucmV0dXJufWI9bnVsbH1iJiYoYj1DS0VESVRPUi50b29scy5pbmRleE9mKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZT09Yn0pKTtoP2Quc3BsaWNlKDAsMCxhKTpcIm51bWJlclwiPT10eXBlb2YgYj9kLnNwbGljZShiKzEsMCxrKTpkLnB1c2goYSl9fSgpLENLRURJVE9SLlVJX1NFUEFSQVRPUj1cInNlcGFyYXRvclwiLENLRURJVE9SLmNvbmZpZy50b29sYmFyTG9jYXRpb249XCJ0b3BcIixcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe3ZhciBhPVtDS0VESVRPUi5DVFJMKzkwLENLRURJVE9SLkNUUkwrODksQ0tFRElUT1IuQ1RSTCtDS0VESVRPUi5TSElGVCs5MF0sZj17ODoxLDQ2OjF9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidW5kb1wiLHtpbml0OmZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGUoYSl7Zy5lbmFibGVkJiYhMSE9PWEuZGF0YS5jb21tYW5kLmNhblVuZG8mJmcuc2F2ZSgpfWZ1bmN0aW9uIGYoKXtnLmVuYWJsZWQ9Yy5yZWFkT25seT8hMTpcInd5c2l3eWdcIj09Yy5tb2RlO2cub25DaGFuZ2UoKX1cbnZhciBnPWMudW5kb01hbmFnZXI9bmV3IGIoYyksbD1nLmVkaXRpbmdIYW5kbGVyPW5ldyBtKGcpLHE9Yy5hZGRDb21tYW5kKFwidW5kb1wiLHtleGVjOmZ1bmN0aW9uKCl7Zy51bmRvKCkmJihjLnNlbGVjdGlvbkNoYW5nZSgpLHRoaXMuZmlyZShcImFmdGVyVW5kb1wiKSl9LHN0YXJ0RGlzYWJsZWQ6ITAsY2FuVW5kbzohMX0pLHA9Yy5hZGRDb21tYW5kKFwicmVkb1wiLHtleGVjOmZ1bmN0aW9uKCl7Zy5yZWRvKCkmJihjLnNlbGVjdGlvbkNoYW5nZSgpLHRoaXMuZmlyZShcImFmdGVyUmVkb1wiKSl9LHN0YXJ0RGlzYWJsZWQ6ITAsY2FuVW5kbzohMX0pO2Muc2V0S2V5c3Ryb2tlKFtbYVswXSxcInVuZG9cIl0sW2FbMV0sXCJyZWRvXCJdLFthWzJdLFwicmVkb1wiXV0pO2cub25DaGFuZ2U9ZnVuY3Rpb24oKXtxLnNldFN0YXRlKGcudW5kb2FibGUoKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO3Auc2V0U3RhdGUoZy5yZWRvYWJsZSgpP0NLRURJVE9SLlRSSVNUQVRFX09GRjpcbkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX07Yy5vbihcImJlZm9yZUNvbW1hbmRFeGVjXCIsZSk7Yy5vbihcImFmdGVyQ29tbWFuZEV4ZWNcIixlKTtjLm9uKFwic2F2ZVNuYXBzaG90XCIsZnVuY3Rpb24oYSl7Zy5zYXZlKGEuZGF0YSYmYS5kYXRhLmNvbnRlbnRPbmx5KX0pO2Mub24oXCJjb250ZW50RG9tXCIsbC5hdHRhY2hMaXN0ZW5lcnMsbCk7Yy5vbihcImluc3RhbmNlUmVhZHlcIixmdW5jdGlvbigpe2MuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0pO2Mub24oXCJiZWZvcmVNb2RlVW5sb2FkXCIsZnVuY3Rpb24oKXtcInd5c2l3eWdcIj09Yy5tb2RlJiZnLnNhdmUoITApfSk7Yy5vbihcIm1vZGVcIixmKTtjLm9uKFwicmVhZE9ubHlcIixmKTtjLnVpLmFkZEJ1dHRvbiYmKGMudWkuYWRkQnV0dG9uKFwiVW5kb1wiLHtsYWJlbDpjLmxhbmcudW5kby51bmRvLGNvbW1hbmQ6XCJ1bmRvXCIsdG9vbGJhcjpcInVuZG8sMTBcIn0pLGMudWkuYWRkQnV0dG9uKFwiUmVkb1wiLHtsYWJlbDpjLmxhbmcudW5kby5yZWRvLGNvbW1hbmQ6XCJyZWRvXCIsXG50b29sYmFyOlwidW5kbywyMFwifSkpO2MucmVzZXRVbmRvPWZ1bmN0aW9uKCl7Zy5yZXNldCgpO2MuZmlyZShcInNhdmVTbmFwc2hvdFwiKX07Yy5vbihcInVwZGF0ZVNuYXBzaG90XCIsZnVuY3Rpb24oKXtnLmN1cnJlbnRJbWFnZSYmZy51cGRhdGUoKX0pO2Mub24oXCJsb2NrU25hcHNob3RcIixmdW5jdGlvbihhKXthPWEuZGF0YTtnLmxvY2soYSYmYS5kb250VXBkYXRlLGEmJmEuZm9yY2VVcGRhdGUpfSk7Yy5vbihcInVubG9ja1NuYXBzaG90XCIsZy51bmxvY2ssZyl9fSk7Q0tFRElUT1IucGx1Z2lucy51bmRvPXt9O3ZhciBiPUNLRURJVE9SLnBsdWdpbnMudW5kby5VbmRvTWFuYWdlcj1mdW5jdGlvbihhKXt0aGlzLnN0cm9rZXNSZWNvcmRlZD1bMCwwXTt0aGlzLmxvY2tlZD1udWxsO3RoaXMucHJldmlvdXNLZXlHcm91cD0tMTt0aGlzLmxpbWl0PWEuY29uZmlnLnVuZG9TdGFja1NpemV8fDIwO3RoaXMuc3Ryb2tlc0xpbWl0PTI1O3RoaXMuZWRpdG9yPWE7dGhpcy5yZXNldCgpfTtiLnByb3RvdHlwZT1cbnt0eXBlOmZ1bmN0aW9uKGEsYyl7dmFyIGU9Yi5nZXRLZXlHcm91cChhKSxmPXRoaXMuc3Ryb2tlc1JlY29yZGVkW2VdKzE7Yz1jfHxmPj10aGlzLnN0cm9rZXNMaW1pdDt0aGlzLnR5cGluZ3x8KHRoaXMuaGFzVW5kbz10aGlzLnR5cGluZz0hMCx0aGlzLmhhc1JlZG89ITEsdGhpcy5vbkNoYW5nZSgpKTtjPyhmPTAsdGhpcy5lZGl0b3IuZmlyZShcInNhdmVTbmFwc2hvdFwiKSk6dGhpcy5lZGl0b3IuZmlyZShcImNoYW5nZVwiKTt0aGlzLnN0cm9rZXNSZWNvcmRlZFtlXT1mO3RoaXMucHJldmlvdXNLZXlHcm91cD1lfSxrZXlHcm91cENoYW5nZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGIuZ2V0S2V5R3JvdXAoYSkhPXRoaXMucHJldmlvdXNLZXlHcm91cH0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnNuYXBzaG90cz1bXTt0aGlzLmluZGV4PS0xO3RoaXMuY3VycmVudEltYWdlPW51bGw7dGhpcy5oYXNSZWRvPXRoaXMuaGFzVW5kbz0hMTt0aGlzLmxvY2tlZD1udWxsO3RoaXMucmVzZXRUeXBlKCl9LFxucmVzZXRUeXBlOmZ1bmN0aW9uKCl7dGhpcy5zdHJva2VzUmVjb3JkZWQ9WzAsMF07dGhpcy50eXBpbmc9ITE7dGhpcy5wcmV2aW91c0tleUdyb3VwPS0xfSxyZWZyZXNoU3RhdGU6ZnVuY3Rpb24oKXt0aGlzLmhhc1VuZG89ISF0aGlzLmdldE5leHRJbWFnZSghMCk7dGhpcy5oYXNSZWRvPSEhdGhpcy5nZXROZXh0SW1hZ2UoITEpO3RoaXMucmVzZXRUeXBlKCk7dGhpcy5vbkNoYW5nZSgpfSxzYXZlOmZ1bmN0aW9uKGEsYixlKXt2YXIgZj10aGlzLmVkaXRvcjtpZih0aGlzLmxvY2tlZHx8XCJyZWFkeVwiIT1mLnN0YXR1c3x8XCJ3eXNpd3lnXCIhPWYubW9kZSlyZXR1cm4hMTt2YXIgbD1mLmVkaXRhYmxlKCk7aWYoIWx8fFwicmVhZHlcIiE9bC5zdGF0dXMpcmV0dXJuITE7bD10aGlzLnNuYXBzaG90cztifHwoYj1uZXcgYyhmKSk7aWYoITE9PT1iLmNvbnRlbnRzKXJldHVybiExO2lmKHRoaXMuY3VycmVudEltYWdlKWlmKGIuZXF1YWxzQ29udGVudCh0aGlzLmN1cnJlbnRJbWFnZSkpe2lmKGF8fFxuYi5lcXVhbHNTZWxlY3Rpb24odGhpcy5jdXJyZW50SW1hZ2UpKXJldHVybiExfWVsc2UhMSE9PWUmJmYuZmlyZShcImNoYW5nZVwiKTtsLnNwbGljZSh0aGlzLmluZGV4KzEsbC5sZW5ndGgtdGhpcy5pbmRleC0xKTtsLmxlbmd0aD09dGhpcy5saW1pdCYmbC5zaGlmdCgpO3RoaXMuaW5kZXg9bC5wdXNoKGIpLTE7dGhpcy5jdXJyZW50SW1hZ2U9YjshMSE9PWUmJnRoaXMucmVmcmVzaFN0YXRlKCk7cmV0dXJuITB9LHJlc3RvcmVJbWFnZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkaXRvcixjO2EuYm9va21hcmtzJiYoYi5mb2N1cygpLGM9Yi5nZXRTZWxlY3Rpb24oKSk7dGhpcy5sb2NrZWQ9e2xldmVsOjk5OX07dGhpcy5lZGl0b3IubG9hZFNuYXBzaG90KGEuY29udGVudHMpO2EuYm9va21hcmtzP2Muc2VsZWN0Qm9va21hcmtzKGEuYm9va21hcmtzKTpDS0VESVRPUi5lbnYuaWUmJihjPXRoaXMuZWRpdG9yLmRvY3VtZW50LmdldEJvZHkoKS4kLmNyZWF0ZVRleHRSYW5nZSgpLGMuY29sbGFwc2UoITApLFxuYy5zZWxlY3QoKSk7dGhpcy5sb2NrZWQ9bnVsbDt0aGlzLmluZGV4PWEuaW5kZXg7dGhpcy5jdXJyZW50SW1hZ2U9dGhpcy5zbmFwc2hvdHNbdGhpcy5pbmRleF07dGhpcy51cGRhdGUoKTt0aGlzLnJlZnJlc2hTdGF0ZSgpO2IuZmlyZShcImNoYW5nZVwiKX0sZ2V0TmV4dEltYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc25hcHNob3RzLGM9dGhpcy5jdXJyZW50SW1hZ2UsZTtpZihjKWlmKGEpZm9yKGU9dGhpcy5pbmRleC0xOzA8PWU7ZS0tKXtpZihhPWJbZV0sIWMuZXF1YWxzQ29udGVudChhKSlyZXR1cm4gYS5pbmRleD1lLGF9ZWxzZSBmb3IoZT10aGlzLmluZGV4KzE7ZTxiLmxlbmd0aDtlKyspaWYoYT1iW2VdLCFjLmVxdWFsc0NvbnRlbnQoYSkpcmV0dXJuIGEuaW5kZXg9ZSxhO3JldHVybiBudWxsfSxyZWRvYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWQmJnRoaXMuaGFzUmVkb30sdW5kb2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkJiZ0aGlzLmhhc1VuZG99LFxudW5kbzpmdW5jdGlvbigpe2lmKHRoaXMudW5kb2FibGUoKSl7dGhpcy5zYXZlKCEwKTt2YXIgYT10aGlzLmdldE5leHRJbWFnZSghMCk7aWYoYSlyZXR1cm4gdGhpcy5yZXN0b3JlSW1hZ2UoYSksITB9cmV0dXJuITF9LHJlZG86ZnVuY3Rpb24oKXtpZih0aGlzLnJlZG9hYmxlKCkmJih0aGlzLnNhdmUoITApLHRoaXMucmVkb2FibGUoKSkpe3ZhciBhPXRoaXMuZ2V0TmV4dEltYWdlKCExKTtpZihhKXJldHVybiB0aGlzLnJlc3RvcmVJbWFnZShhKSwhMH1yZXR1cm4hMX0sdXBkYXRlOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmxvY2tlZCl7YXx8KGE9bmV3IGModGhpcy5lZGl0b3IpKTtmb3IodmFyIGI9dGhpcy5pbmRleCxlPXRoaXMuc25hcHNob3RzOzA8YiYmdGhpcy5jdXJyZW50SW1hZ2UuZXF1YWxzQ29udGVudChlW2ItMV0pOyktLWI7ZS5zcGxpY2UoYix0aGlzLmluZGV4LWIrMSxhKTt0aGlzLmluZGV4PWI7dGhpcy5jdXJyZW50SW1hZ2U9YX19LHVwZGF0ZVNlbGVjdGlvbjpmdW5jdGlvbihhKXtpZighdGhpcy5zbmFwc2hvdHMubGVuZ3RoKXJldHVybiExO1xudmFyIGI9dGhpcy5zbmFwc2hvdHMsYz1iW2IubGVuZ3RoLTFdO3JldHVybiBjLmVxdWFsc0NvbnRlbnQoYSkmJiFjLmVxdWFsc1NlbGVjdGlvbihhKT8odGhpcy5jdXJyZW50SW1hZ2U9YltiLmxlbmd0aC0xXT1hLCEwKTohMX0sbG9jazpmdW5jdGlvbihhLGIpe2lmKHRoaXMubG9ja2VkKXRoaXMubG9ja2VkLmxldmVsKys7ZWxzZSBpZihhKXRoaXMubG9ja2VkPXtsZXZlbDoxfTtlbHNle3ZhciBlPW51bGw7aWYoYillPSEwO2Vsc2V7dmFyIGY9bmV3IGModGhpcy5lZGl0b3IsITApO3RoaXMuY3VycmVudEltYWdlJiZ0aGlzLmN1cnJlbnRJbWFnZS5lcXVhbHNDb250ZW50KGYpJiYoZT1mKX10aGlzLmxvY2tlZD17dXBkYXRlOmUsbGV2ZWw6MX19fSx1bmxvY2s6ZnVuY3Rpb24oKXtpZih0aGlzLmxvY2tlZCYmIS0tdGhpcy5sb2NrZWQubGV2ZWwpe3ZhciBhPXRoaXMubG9ja2VkLnVwZGF0ZTt0aGlzLmxvY2tlZD1udWxsO2lmKCEwPT09YSl0aGlzLnVwZGF0ZSgpO2Vsc2UgaWYoYSl7dmFyIGI9XG5uZXcgYyh0aGlzLmVkaXRvciwhMCk7YS5lcXVhbHNDb250ZW50KGIpfHx0aGlzLnVwZGF0ZSgpfX19fTtiLm5hdmlnYXRpb25LZXlDb2Rlcz17Mzc6MSwzODoxLDM5OjEsNDA6MSwzNjoxLDM1OjEsMzM6MSwzNDoxfTtiLmtleUdyb3Vwcz17UFJJTlRBQkxFOjAsRlVOQ1RJT05BTDoxfTtiLmlzTmF2aWdhdGlvbktleT1mdW5jdGlvbihhKXtyZXR1cm4hIWIubmF2aWdhdGlvbktleUNvZGVzW2FdfTtiLmdldEtleUdyb3VwPWZ1bmN0aW9uKGEpe3ZhciBjPWIua2V5R3JvdXBzO3JldHVybiBmW2FdP2MuRlVOQ1RJT05BTDpjLlBSSU5UQUJMRX07Yi5nZXRPcHBvc2l0ZUtleUdyb3VwPWZ1bmN0aW9uKGEpe3ZhciBjPWIua2V5R3JvdXBzO3JldHVybiBhPT1jLkZVTkNUSU9OQUw/Yy5QUklOVEFCTEU6Yy5GVU5DVElPTkFMfTtiLmllRnVuY3Rpb25hbEtleXNCdWc9ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLmVudi5pZSYmYi5nZXRLZXlHcm91cChhKT09Yi5rZXlHcm91cHMuRlVOQ1RJT05BTH07XG52YXIgYz1DS0VESVRPUi5wbHVnaW5zLnVuZG8uSW1hZ2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmVkaXRvcj1hO2EuZmlyZShcImJlZm9yZVVuZG9JbWFnZVwiKTt2YXIgYz1hLmdldFNuYXBzaG90KCk7Q0tFRElUT1IuZW52LmllJiZjJiYoYz1jLnJlcGxhY2UoL1xccytkYXRhLWNrZS1leHBhbmRvPVwiLio/XCIvZyxcIlwiKSk7dGhpcy5jb250ZW50cz1jO2J8fCh0aGlzLmJvb2ttYXJrcz0oYz1jJiZhLmdldFNlbGVjdGlvbigpKSYmYy5jcmVhdGVCb29rbWFya3MyKCEwKSk7YS5maXJlKFwiYWZ0ZXJVbmRvSW1hZ2VcIil9LGU9L1xcYig/OmhyZWZ8c3JjfG5hbWUpPVwiW15cIl0qP1wiL2dpO2MucHJvdG90eXBlPXtlcXVhbHNDb250ZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29udGVudHM7YT1hLmNvbnRlbnRzO0NLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpJiYoYj1iLnJlcGxhY2UoZSxcIlwiKSxhPWEucmVwbGFjZShlLFwiXCIpKTtyZXR1cm4gYiE9XG5hPyExOiEwfSxlcXVhbHNTZWxlY3Rpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ib29rbWFya3M7YT1hLmJvb2ttYXJrcztpZihifHxhKXtpZighYnx8IWF8fGIubGVuZ3RoIT1hLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGU9YltjXSxmPWFbY107aWYoZS5zdGFydE9mZnNldCE9Zi5zdGFydE9mZnNldHx8ZS5lbmRPZmZzZXQhPWYuZW5kT2Zmc2V0fHwhQ0tFRElUT1IudG9vbHMuYXJyYXlDb21wYXJlKGUuc3RhcnQsZi5zdGFydCl8fCFDS0VESVRPUi50b29scy5hcnJheUNvbXBhcmUoZS5lbmQsZi5lbmQpKXJldHVybiExfX1yZXR1cm4hMH19O3ZhciBtPUNLRURJVE9SLnBsdWdpbnMudW5kby5OYXRpdmVFZGl0aW5nSGFuZGxlcj1mdW5jdGlvbihhKXt0aGlzLnVuZG9NYW5hZ2VyPWE7dGhpcy5pZ25vcmVJbnB1dEV2ZW50PSExO3RoaXMua2V5RXZlbnRzU3RhY2s9bmV3IGw7dGhpcy5sYXN0S2V5ZG93bkltYWdlPW51bGx9O20ucHJvdG90eXBlPVxue29uS2V5ZG93bjpmdW5jdGlvbihkKXt2YXIgZT1kLmRhdGEuZ2V0S2V5KCk7aWYoMjI5IT09ZSlpZigtMTxDS0VESVRPUi50b29scy5pbmRleE9mKGEsZC5kYXRhLmdldEtleXN0cm9rZSgpKSlkLmRhdGEucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKHRoaXMua2V5RXZlbnRzU3RhY2suY2xlYW5VcChkKSxkPXRoaXMudW5kb01hbmFnZXIsdGhpcy5rZXlFdmVudHNTdGFjay5nZXRMYXN0KGUpfHx0aGlzLmtleUV2ZW50c1N0YWNrLnB1c2goZSksdGhpcy5sYXN0S2V5ZG93bkltYWdlPW5ldyBjKGQuZWRpdG9yKSxiLmlzTmF2aWdhdGlvbktleShlKXx8dGhpcy51bmRvTWFuYWdlci5rZXlHcm91cENoYW5nZWQoZSkpaWYoZC5zdHJva2VzUmVjb3JkZWRbMF18fGQuc3Ryb2tlc1JlY29yZGVkWzFdKWQuc2F2ZSghMSx0aGlzLmxhc3RLZXlkb3duSW1hZ2UsITEpLGQucmVzZXRUeXBlKCl9LG9uSW5wdXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmlnbm9yZUlucHV0RXZlbnQpdGhpcy5pZ25vcmVJbnB1dEV2ZW50PVxuITE7ZWxzZXt2YXIgYT10aGlzLmtleUV2ZW50c1N0YWNrLmdldExhc3QoKTthfHwoYT10aGlzLmtleUV2ZW50c1N0YWNrLnB1c2goMCkpO3RoaXMua2V5RXZlbnRzU3RhY2suaW5jcmVtZW50KGEua2V5Q29kZSk7dGhpcy5rZXlFdmVudHNTdGFjay5nZXRUb3RhbElucHV0cygpPj10aGlzLnVuZG9NYW5hZ2VyLnN0cm9rZXNMaW1pdCYmKHRoaXMudW5kb01hbmFnZXIudHlwZShhLmtleUNvZGUsITApLHRoaXMua2V5RXZlbnRzU3RhY2sucmVzZXRJbnB1dHMoKSl9fSxvbktleXVwOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMudW5kb01hbmFnZXI7YT1hLmRhdGEuZ2V0S2V5KCk7dmFyIGY9dGhpcy5rZXlFdmVudHNTdGFjay5nZXRUb3RhbElucHV0cygpO3RoaXMua2V5RXZlbnRzU3RhY2sucmVtb3ZlKGEpO2lmKCEoYi5pZUZ1bmN0aW9uYWxLZXlzQnVnKGEpJiZ0aGlzLmxhc3RLZXlkb3duSW1hZ2UmJnRoaXMubGFzdEtleWRvd25JbWFnZS5lcXVhbHNDb250ZW50KG5ldyBjKGUuZWRpdG9yLFxuITApKSkpaWYoMDxmKWUudHlwZShhKTtlbHNlIGlmKGIuaXNOYXZpZ2F0aW9uS2V5KGEpKXRoaXMub25OYXZpZ2F0aW9uS2V5KCEwKX0sb25OYXZpZ2F0aW9uS2V5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudW5kb01hbmFnZXI7IWEmJmIuc2F2ZSghMCxudWxsLCExKXx8Yi51cGRhdGVTZWxlY3Rpb24obmV3IGMoYi5lZGl0b3IpKTtiLnJlc2V0VHlwZSgpfSxpZ25vcmVJbnB1dEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLmlnbm9yZUlucHV0RXZlbnQ9ITB9LGF0dGFjaExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudW5kb01hbmFnZXIuZWRpdG9yLGM9YS5lZGl0YWJsZSgpLGU9dGhpcztjLmF0dGFjaExpc3RlbmVyKGMsXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7ZS5vbktleWRvd24oYSk7aWYoYi5pZUZ1bmN0aW9uYWxLZXlzQnVnKGEuZGF0YS5nZXRLZXkoKSkpZS5vbklucHV0KCl9LG51bGwsbnVsbCw5OTkpO2MuYXR0YWNoTGlzdGVuZXIoYyxDS0VESVRPUi5lbnYuaWU/XG5cImtleXByZXNzXCI6XCJpbnB1dFwiLGUub25JbnB1dCxlLG51bGwsOTk5KTtjLmF0dGFjaExpc3RlbmVyKGMsXCJrZXl1cFwiLGUub25LZXl1cCxlLG51bGwsOTk5KTtjLmF0dGFjaExpc3RlbmVyKGMsXCJwYXN0ZVwiLGUuaWdub3JlSW5wdXRFdmVudExpc3RlbmVyLGUsbnVsbCw5OTkpO2MuYXR0YWNoTGlzdGVuZXIoYyxcImRyb3BcIixlLmlnbm9yZUlucHV0RXZlbnRMaXN0ZW5lcixlLG51bGwsOTk5KTtjLmF0dGFjaExpc3RlbmVyKGMuaXNJbmxpbmUoKT9jOmEuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCksXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZS5vbk5hdmlnYXRpb25LZXkoKX0sbnVsbCxudWxsLDk5OSk7Yy5hdHRhY2hMaXN0ZW5lcih0aGlzLnVuZG9NYW5hZ2VyLmVkaXRvcixcImJsdXJcIixmdW5jdGlvbigpe2Uua2V5RXZlbnRzU3RhY2sucmVtb3ZlKDkpfSxudWxsLG51bGwsOTk5KX19O3ZhciBsPUNLRURJVE9SLnBsdWdpbnMudW5kby5LZXlFdmVudHNTdGFjaz1mdW5jdGlvbigpe3RoaXMuc3RhY2s9XG5bXX07bC5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24oYSl7YT10aGlzLnN0YWNrLnB1c2goe2tleUNvZGU6YSxpbnB1dHM6MH0pO3JldHVybiB0aGlzLnN0YWNrW2EtMV19LGdldExhc3RJbmRleDpmdW5jdGlvbihhKXtpZihcIm51bWJlclwiIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5zdGFjay5sZW5ndGgtMTtmb3IodmFyIGI9dGhpcy5zdGFjay5sZW5ndGg7Yi0tOylpZih0aGlzLnN0YWNrW2JdLmtleUNvZGU9PWEpcmV0dXJuIGI7cmV0dXJuLTF9LGdldExhc3Q6ZnVuY3Rpb24oYSl7YT10aGlzLmdldExhc3RJbmRleChhKTtyZXR1cm4tMSE9YT90aGlzLnN0YWNrW2FdOm51bGx9LGluY3JlbWVudDpmdW5jdGlvbihhKXt0aGlzLmdldExhc3QoYSkuaW5wdXRzKyt9LHJlbW92ZTpmdW5jdGlvbihhKXthPXRoaXMuZ2V0TGFzdEluZGV4KGEpOy0xIT1hJiZ0aGlzLnN0YWNrLnNwbGljZShhLDEpfSxyZXNldElucHV0czpmdW5jdGlvbihhKXtpZihcIm51bWJlclwiPT10eXBlb2YgYSl0aGlzLmdldExhc3QoYSkuaW5wdXRzPVxuMDtlbHNlIGZvcihhPXRoaXMuc3RhY2subGVuZ3RoO2EtLTspdGhpcy5zdGFja1thXS5pbnB1dHM9MH0sZ2V0VG90YWxJbnB1dHM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5zdGFjay5sZW5ndGgsYj0wO2EtLTspYis9dGhpcy5zdGFja1thXS5pbnB1dHM7cmV0dXJuIGJ9LGNsZWFuVXA6ZnVuY3Rpb24oYSl7YT1hLmRhdGEuJDthLmN0cmxLZXl8fGEubWV0YUtleXx8dGhpcy5yZW1vdmUoMTcpO2Euc2hpZnRLZXl8fHRoaXMucmVtb3ZlKDE2KTthLmFsdEtleXx8dGhpcy5yZW1vdmUoMTgpfX19KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJ3c2NcIix7cmVxdWlyZXM6XCJkaWFsb2dcIixwYXJzZUFwaTpmdW5jdGlvbihhKXthLmNvbmZpZy53c2Nfb25GaW5pc2g9XCJmdW5jdGlvblwiPT09dHlwZW9mIGEuY29uZmlnLndzY19vbkZpbmlzaD9hLmNvbmZpZy53c2Nfb25GaW5pc2g6ZnVuY3Rpb24oKXt9O2EuY29uZmlnLndzY19vbkNsb3NlPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmNvbmZpZy53c2Nfb25DbG9zZT9cbmEuY29uZmlnLndzY19vbkNsb3NlOmZ1bmN0aW9uKCl7fX0scGFyc2VDb25maWc6ZnVuY3Rpb24oYSl7YS5jb25maWcud3NjX2N1c3RvbWVySWQ9YS5jb25maWcud3NjX2N1c3RvbWVySWR8fENLRURJVE9SLmNvbmZpZy53c2NfY3VzdG9tZXJJZHx8XCIxOnVhM3h3MS0yWHlHSjMtR1dydUQzLTZPRk5UMS1vWGN1QjEtblI2QnA0LWhnUUhjLUVjWW5nMy1zZFJYRzMtTk9mRmtcIjthLmNvbmZpZy53c2NfY3VzdG9tRGljdGlvbmFyeUlkcz1hLmNvbmZpZy53c2NfY3VzdG9tRGljdGlvbmFyeUlkc3x8Q0tFRElUT1IuY29uZmlnLndzY19jdXN0b21EaWN0aW9uYXJ5SWRzfHxcIlwiO2EuY29uZmlnLndzY191c2VyRGljdGlvbmFyeU5hbWU9YS5jb25maWcud3NjX3VzZXJEaWN0aW9uYXJ5TmFtZXx8Q0tFRElUT1IuY29uZmlnLndzY191c2VyRGljdGlvbmFyeU5hbWV8fFwiXCI7YS5jb25maWcud3NjX2N1c3RvbUxvYWRlclNjcmlwdD1hLmNvbmZpZy53c2NfY3VzdG9tTG9hZGVyU2NyaXB0fHxDS0VESVRPUi5jb25maWcud3NjX2N1c3RvbUxvYWRlclNjcmlwdDtcbmEuY29uZmlnLndzY19pbnRlcmZhY2VMYW5nPWEuY29uZmlnLndzY19pbnRlcmZhY2VMYW5nO0NLRURJVE9SLmNvbmZpZy53c2NfY21kPWEuY29uZmlnLndzY19jbWR8fENLRURJVE9SLmNvbmZpZy53c2NfY21kfHxcInNwZWxsXCI7Q0tFRElUT1IuY29uZmlnLndzY192ZXJzaW9uPVwidjQuMy4wLW1hc3Rlci1kNzY5MjMzXCI7Q0tFRElUT1IuY29uZmlnLndzY19yZW1vdmVHbG9iYWxWYXJpYWJsZT0hMH0sb25Mb2FkOmZ1bmN0aW9uKGEpe1wibW9vbm8tbGlzYVwiPT0oQ0tFRElUT1Iuc2tpbk5hbWV8fGEuY29uZmlnLnNraW4pJiZDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVNoZWV0KHRoaXMucGF0aCtcInNraW5zL1wiK0NLRURJVE9SLnNraW4ubmFtZStcIi93c2MuY3NzXCIpfSxpbml0OmZ1bmN0aW9uKGEpe3ZhciBmPUNLRURJVE9SLmVudjt0aGlzLnBhcnNlQ29uZmlnKGEpO3RoaXMucGFyc2VBcGkoYSk7YS5hZGRDb21tYW5kKFwiY2hlY2tzcGVsbFwiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKFwiY2hlY2tzcGVsbFwiKSkubW9kZXM9XG57d3lzaXd5ZzohQ0tFRElUT1IuZW52Lm9wZXJhJiYhQ0tFRElUT1IuZW52LmFpciYmZG9jdW1lbnQuZG9tYWluPT13aW5kb3cubG9jYXRpb24uaG9zdG5hbWUmJiEoZi5pZSYmKDg+Zi52ZXJzaW9ufHxmLnF1aXJrcykpfTtcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5wbHVnaW5zLnNjYXl0JiZhLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oXCJTcGVsbENoZWNrZXJcIix7bGFiZWw6YS5sYW5nLndzYy50b29sYmFyLGNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBjPWEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/YS5jb250YWluZXIuZ2V0VGV4dCgpOmEuZG9jdW1lbnQuZ2V0Qm9keSgpLmdldFRleHQoKTsoYz1jLnJlcGxhY2UoL1xccy9nLFwiXCIpKT9hLmV4ZWNDb21tYW5kKFwiY2hlY2tzcGVsbFwiKTphbGVydChcIk5vdGhpbmcgdG8gY2hlY2shXCIpfSx0b29sYmFyOlwic3BlbGxjaGVja2VyLDEwXCJ9KTtDS0VESVRPUi5kaWFsb2cuYWRkKFwiY2hlY2tzcGVsbFwiLHRoaXMucGF0aCtcbihDS0VESVRPUi5lbnYuaWUmJjc+PUNLRURJVE9SLmVudi52ZXJzaW9uP1wiZGlhbG9ncy93c2NfaWUuanNcIjp3aW5kb3cucG9zdE1lc3NhZ2U/XCJkaWFsb2dzL3dzYy5qc1wiOlwiZGlhbG9ncy93c2NfaWUuanNcIikpfX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtmdW5jdGlvbiBiKGEpe3ZhciBjPSExO2cuYXR0YWNoTGlzdGVuZXIoZyxcImtleWRvd25cIixmdW5jdGlvbigpe3ZhciBiPWQuZ2V0Qm9keSgpLmdldEVsZW1lbnRzQnlUYWcoYSk7aWYoIWMpe2Zvcih2YXIgZT0wO2U8Yi5jb3VudCgpO2UrKyliLmdldEl0ZW0oZSkuc2V0Q3VzdG9tRGF0YShcInJldGFpblwiLCEwKTtjPSEwfX0sbnVsbCxudWxsLDEpO2cuYXR0YWNoTGlzdGVuZXIoZyxcImtleXVwXCIsZnVuY3Rpb24oKXt2YXIgYj1kLmdldEVsZW1lbnRzQnlUYWcoYSk7YyYmKDEhPWIuY291bnQoKXx8Yi5nZXRJdGVtKDApLmdldEN1c3RvbURhdGEoXCJyZXRhaW5cIil8fGIuZ2V0SXRlbSgwKS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS10ZW1wXCIpfHxcbmIuZ2V0SXRlbSgwKS5yZW1vdmUoMSksYz0hMSl9KX12YXIgYz10aGlzLmVkaXRvcixkPWEuZG9jdW1lbnQsaD1kLmJvZHksaz1kLmdldEVsZW1lbnRCeUlkKFwiY2tlX2FjdHNjcnB0XCIpO2smJmsucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChrKTsoaz1kLmdldEVsZW1lbnRCeUlkKFwiY2tlX3NoaW1zY3JwdFwiKSkmJmsucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChrKTsoaz1kLmdldEVsZW1lbnRCeUlkKFwiY2tlX2Jhc2V0YWdzY3JwdFwiKSkmJmsucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChrKTtoLmNvbnRlbnRFZGl0YWJsZT0hMDtDS0VESVRPUi5lbnYuaWUmJihoLmhpZGVGb2N1cz0hMCxoLmRpc2FibGVkPSEwLGgucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIikpO2RlbGV0ZSB0aGlzLl8uaXNMb2FkaW5nRGF0YTt0aGlzLiQ9aDtkPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQoZCk7dGhpcy5zZXR1cCgpO3RoaXMuZml4SW5pdGlhbFNlbGVjdGlvbigpO3ZhciBnPXRoaXM7Q0tFRElUT1IuZW52LmllJiZcbiFDS0VESVRPUi5lbnYuZWRnZSYmZC5nZXREb2N1bWVudEVsZW1lbnQoKS5hZGRDbGFzcyhkLiQuY29tcGF0TW9kZSk7Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2UmJmMuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9QP2IoXCJwXCIpOkNLRURJVE9SLmVudi5lZGdlJiZjLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfRElWJiZiKFwiZGl2XCIpO2lmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5pZSYmMTA8Q0tFRElUT1IuZW52LnZlcnNpb24pZC5nZXREb2N1bWVudEVsZW1lbnQoKS5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImh0bWxcIikmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmVkaXRhYmxlKCkuZm9jdXMoKX0pfSk7ZihjKTt0cnl7Yy5kb2N1bWVudC4kLmV4ZWNDb21tYW5kKFwiMkQtcG9zaXRpb25cIiwhMSwhMCl9Y2F0Y2gobil7fShDS0VESVRPUi5lbnYuZ2Vja298fENLRURJVE9SLmVudi5pZSYmXCJDU1MxQ29tcGF0XCI9PVxuYy5kb2N1bWVudC4kLmNvbXBhdE1vZGUpJiZ0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLmdldEtleXN0cm9rZSgpO2lmKDMzPT1ifHwzND09YilpZihDS0VESVRPUi5lbnYuaWUpc2V0VGltZW91dChmdW5jdGlvbigpe2MuZ2V0U2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKX0sMCk7ZWxzZSBpZihjLndpbmRvdy4kLmlubmVySGVpZ2h0PnRoaXMuJC5vZmZzZXRIZWlnaHQpe3ZhciBkPWMuY3JlYXRlUmFuZ2UoKTtkWzMzPT1iP1wibW92ZVRvRWxlbWVudEVkaXRTdGFydFwiOlwibW92ZVRvRWxlbWVudEVkaXRFbmRcIl0odGhpcyk7ZC5zZWxlY3QoKTthLmRhdGEucHJldmVudERlZmF1bHQoKX19KTtDS0VESVRPUi5lbnYuaWUmJnRoaXMuYXR0YWNoTGlzdGVuZXIoZCxcImJsdXJcIixmdW5jdGlvbigpe3RyeXtkLiQuc2VsZWN0aW9uLmVtcHR5KCl9Y2F0Y2goYSl7fX0pO0NLRURJVE9SLmVudi5pT1MmJnRoaXMuYXR0YWNoTGlzdGVuZXIoZCxcblwidG91Y2hlbmRcIixmdW5jdGlvbigpe2EuZm9jdXMoKX0pO2g9Yy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnKFwidGl0bGVcIikuZ2V0SXRlbSgwKTtoLmRhdGEoXCJja2UtdGl0bGVcIixoLmdldFRleHQoKSk7Q0tFRElUT1IuZW52LmllJiYoYy5kb2N1bWVudC4kLnRpdGxlPXRoaXMuXy5kb2NUaXRsZSk7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe1widW5sb2FkZWRcIj09dGhpcy5zdGF0dXMmJih0aGlzLnN0YXR1cz1cInJlYWR5XCIpO2MuZmlyZShcImNvbnRlbnREb21cIik7dGhpcy5fLmlzUGVuZGluZ0ZvY3VzJiYoYy5mb2N1cygpLHRoaXMuXy5pc1BlbmRpbmdGb2N1cz0hMSk7c2V0VGltZW91dChmdW5jdGlvbigpe2MuZmlyZShcImRhdGFSZWFkeVwiKX0sMCl9LDAsdGhpcyl9ZnVuY3Rpb24gZihhKXtmdW5jdGlvbiBiKCl7dmFyIGQ7YS5lZGl0YWJsZSgpLmF0dGFjaExpc3RlbmVyKGEsXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBiPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7XG5iJiYoZCYmKGQuZGV0YWNoRXZlbnQoXCJvbnJlc2l6ZXN0YXJ0XCIsYyksZD1udWxsKSxiLiQuYXR0YWNoRXZlbnQoXCJvbnJlc2l6ZXN0YXJ0XCIsYyksZD1iLiQpfSl9ZnVuY3Rpb24gYyhhKXthLnJldHVyblZhbHVlPSExfWlmKENLRURJVE9SLmVudi5nZWNrbyl0cnl7dmFyIGQ9YS5kb2N1bWVudC4kO2QuZXhlY0NvbW1hbmQoXCJlbmFibGVPYmplY3RSZXNpemluZ1wiLCExLCFhLmNvbmZpZy5kaXNhYmxlT2JqZWN0UmVzaXppbmcpO2QuZXhlY0NvbW1hbmQoXCJlbmFibGVJbmxpbmVUYWJsZUVkaXRpbmdcIiwhMSwhYS5jb25maWcuZGlzYWJsZU5hdGl2ZVRhYmxlSGFuZGxlcyl9Y2F0Y2goZil7fWVsc2UgQ0tFRElUT1IuZW52LmllJiYxMT5DS0VESVRPUi5lbnYudmVyc2lvbiYmYS5jb25maWcuZGlzYWJsZU9iamVjdFJlc2l6aW5nJiZiKGEpfWZ1bmN0aW9uIGIoKXt2YXIgYT1bXTtpZig4PD1DS0VESVRPUi5kb2N1bWVudC4kLmRvY3VtZW50TW9kZSl7YS5wdXNoKFwiaHRtbC5DU1MxQ29tcGF0IFtjb250ZW50ZWRpdGFibGVcXHgzZGZhbHNlXXttaW4taGVpZ2h0OjAgIWltcG9ydGFudH1cIik7XG52YXIgYj1bXSxjO2ZvcihjIGluIENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHkpYi5wdXNoKFwiaHRtbC5DU1MxQ29tcGF0IFwiK2MrXCJbY29udGVudGVkaXRhYmxlXFx4M2RmYWxzZV1cIik7YS5wdXNoKGIuam9pbihcIixcIikrXCJ7ZGlzcGxheTppbmxpbmUtYmxvY2t9XCIpfWVsc2UgQ0tFRElUT1IuZW52LmdlY2tvJiYoYS5wdXNoKFwiaHRtbHtoZWlnaHQ6MTAwJSAhaW1wb3J0YW50fVwiKSxhLnB1c2goXCJpbWc6LW1vei1icm9rZW57LW1vei1mb3JjZS1icm9rZW4taW1hZ2UtaWNvbjoxO21pbi13aWR0aDoyNHB4O21pbi1oZWlnaHQ6MjRweH1cIikpO2EucHVzaChcImh0bWx7Y3Vyc29yOnRleHQ7KmN1cnNvcjphdXRvfVwiKTthLnB1c2goXCJpbWcsaW5wdXQsdGV4dGFyZWF7Y3Vyc29yOmRlZmF1bHR9XCIpO3JldHVybiBhLmpvaW4oXCJcXG5cIil9dmFyIGM7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ3eXNpd3lnYXJlYVwiLHtpbml0OmZ1bmN0aW9uKGEpe2EuY29uZmlnLmZ1bGxQYWdlJiZhLmFkZEZlYXR1cmUoe2FsbG93ZWRDb250ZW50OlwiaHRtbCBoZWFkIHRpdGxlOyBzdHlsZSBbbWVkaWEsdHlwZV07IGJvZHkgKCopW2lkXTsgbWV0YSBsaW5rIFsqXVwiLFxucmVxdWlyZWRDb250ZW50OlwiYm9keVwifSk7YS5hZGRNb2RlKFwid3lzaXd5Z1wiLGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGYoZCl7ZCYmZC5yZW1vdmVMaXN0ZW5lcigpO2EuZWRpdGFibGUobmV3IGMoYSxoLiQuY29udGVudFdpbmRvdy5kb2N1bWVudC5ib2R5KSk7YS5zZXREYXRhKGEuZ2V0RGF0YSgxKSxiKX12YXIgZD1cImRvY3VtZW50Lm9wZW4oKTtcIisoQ0tFRElUT1IuZW52LmllP1wiKFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtcIjpcIlwiKStcImRvY3VtZW50LmNsb3NlKCk7XCIsZD1DS0VESVRPUi5lbnYuYWlyP1wiamF2YXNjcmlwdDp2b2lkKDApXCI6Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2U/XCJqYXZhc2NyaXB0OnZvaWQoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoZCkrXCJ9KCkpXCI6XCJcIixoPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2lmcmFtZSBzcmNcXHgzZFwiJytkKydcIiBmcmFtZUJvcmRlclxceDNkXCIwXCJcXHgzZVxceDNjL2lmcmFtZVxceDNlJyk7XG5oLnNldFN0eWxlcyh7d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwifSk7aC5hZGRDbGFzcyhcImNrZV93eXNpd3lnX2ZyYW1lXCIpLmFkZENsYXNzKFwiY2tlX3Jlc2V0XCIpO2Q9YS51aS5zcGFjZShcImNvbnRlbnRzXCIpO2QuYXBwZW5kKGgpO3ZhciBrPUNLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlfHxDS0VESVRPUi5lbnYuZ2Vja287aWYoayloLm9uKFwibG9hZFwiLGYpO3ZhciBnPWEudGl0bGUsbj1hLmZpcmUoXCJhcmlhRWRpdG9ySGVscExhYmVsXCIse30pLmxhYmVsO2cmJihDS0VESVRPUi5lbnYuaWUmJm4mJihnKz1cIiwgXCIrbiksaC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGcpKTtpZihuKXt2YXIgZz1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKSxxPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY3NwYW4gaWRcXHgzZFwiJytnKydcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNlJytuK1wiXFx4M2Mvc3BhblxceDNlXCIpO2QuYXBwZW5kKHEsMSk7aC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRlc2NyaWJlZGJ5XCIsXG5nKX1hLm9uKFwiYmVmb3JlTW9kZVVubG9hZFwiLGZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTtxJiZxLnJlbW92ZSgpfSk7aC5zZXRBdHRyaWJ1dGVzKHt0YWJJbmRleDphLnRhYkluZGV4LGFsbG93VHJhbnNwYXJlbmN5OlwidHJ1ZVwifSk7IWsmJmYoKTthLmZpcmUoXCJhcmlhV2lkZ2V0XCIsaCl9KX19KTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmFkZENvbnRlbnRzQ3NzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29uZmlnLGM9Yi5jb250ZW50c0NzcztDS0VESVRPUi50b29scy5pc0FycmF5KGMpfHwoYi5jb250ZW50c0Nzcz1jP1tjXTpbXSk7Yi5jb250ZW50c0Nzcy5wdXNoKGEpfTtjPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKCl7dGhpcy5iYXNlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl8uZnJhbWVMb2FkZWRIYW5kbGVyPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGIpe0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYSxcbjAsdGhpcyxiKX0sdGhpcyk7dGhpcy5fLmRvY1RpdGxlPXRoaXMuZ2V0V2luZG93KCkuZ2V0RnJhbWUoKS5nZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiKX0sYmFzZTpDS0VESVRPUi5lZGl0YWJsZSxwcm90bzp7c2V0RGF0YTpmdW5jdGlvbihhLGMpe3ZhciBmPXRoaXMuZWRpdG9yO2lmKGMpdGhpcy5zZXRIdG1sKGEpLHRoaXMuZml4SW5pdGlhbFNlbGVjdGlvbigpLGYuZmlyZShcImRhdGFSZWFkeVwiKTtlbHNle3RoaXMuXy5pc0xvYWRpbmdEYXRhPSEwO2YuXy5kYXRhU3RvcmU9e2lkOjF9O3ZhciBkPWYuY29uZmlnLGg9ZC5mdWxsUGFnZSxrPWQuZG9jVHlwZSxnPUNLRURJVE9SLnRvb2xzLmJ1aWxkU3R5bGVIdG1sKGIoKSkucmVwbGFjZSgvPHN0eWxlPi8sJ1xceDNjc3R5bGUgZGF0YS1ja2UtdGVtcFxceDNkXCIxXCJcXHgzZScpO2h8fChnKz1DS0VESVRPUi50b29scy5idWlsZFN0eWxlSHRtbChmLmNvbmZpZy5jb250ZW50c0NzcykpO3ZhciBuPWQuYmFzZUhyZWY/J1xceDNjYmFzZSBocmVmXFx4M2RcIicrXG5kLmJhc2VIcmVmKydcIiBkYXRhLWNrZS10ZW1wXFx4M2RcIjFcIiAvXFx4M2UnOlwiXCI7aCYmKGE9YS5yZXBsYWNlKC88IURPQ1RZUEVbXj5dKj4vaSxmdW5jdGlvbihhKXtmLmRvY1R5cGU9az1hO3JldHVyblwiXCJ9KS5yZXBsYWNlKC88XFw/eG1sXFxzW15cXD9dKlxcPz4vaSxmdW5jdGlvbihhKXtmLnhtbERlY2xhcmF0aW9uPWE7cmV0dXJuXCJcIn0pKTthPWYuZGF0YVByb2Nlc3Nvci50b0h0bWwoYSk7aD8oLzxib2R5W1xcc3w+XS8udGVzdChhKXx8KGE9XCJcXHgzY2JvZHlcXHgzZVwiK2EpLC88aHRtbFtcXHN8Pl0vLnRlc3QoYSl8fChhPVwiXFx4M2NodG1sXFx4M2VcIithK1wiXFx4M2MvaHRtbFxceDNlXCIpLC88aGVhZFtcXHN8Pl0vLnRlc3QoYSk/Lzx0aXRsZVtcXHN8Pl0vLnRlc3QoYSl8fChhPWEucmVwbGFjZSgvPGhlYWRbXj5dKj4vLFwiJFxceDI2XFx4M2N0aXRsZVxceDNlXFx4M2MvdGl0bGVcXHgzZVwiKSk6YT1hLnJlcGxhY2UoLzxodG1sW14+XSo+LyxcIiRcXHgyNlxceDNjaGVhZFxceDNlXFx4M2N0aXRsZVxceDNlXFx4M2MvdGl0bGVcXHgzZVxceDNjL2hlYWRcXHgzZVwiKSxcbm4mJihhPWEucmVwbGFjZSgvPGhlYWRbXj5dKj8+LyxcIiRcXHgyNlwiK24pKSxhPWEucmVwbGFjZSgvPFxcL2hlYWRcXHMqPi8sZytcIiRcXHgyNlwiKSxhPWsrYSk6YT1kLmRvY1R5cGUrJ1xceDNjaHRtbCBkaXJcXHgzZFwiJytkLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbisnXCIgbGFuZ1xceDNkXCInKyhkLmNvbnRlbnRzTGFuZ3VhZ2V8fGYubGFuZ0NvZGUpKydcIlxceDNlXFx4M2NoZWFkXFx4M2VcXHgzY3RpdGxlXFx4M2UnK3RoaXMuXy5kb2NUaXRsZStcIlxceDNjL3RpdGxlXFx4M2VcIituK2crXCJcXHgzYy9oZWFkXFx4M2VcXHgzY2JvZHlcIisoZC5ib2R5SWQ/JyBpZFxceDNkXCInK2QuYm9keUlkKydcIic6XCJcIikrKGQuYm9keUNsYXNzPycgY2xhc3NcXHgzZFwiJytkLmJvZHlDbGFzcysnXCInOlwiXCIpK1wiXFx4M2VcIithK1wiXFx4M2MvYm9keVxceDNlXFx4M2MvaHRtbFxceDNlXCI7Q0tFRElUT1IuZW52LmdlY2tvJiYoYT1hLnJlcGxhY2UoLzxib2R5LywnXFx4M2Nib2R5IGNvbnRlbnRlZGl0YWJsZVxceDNkXCJ0cnVlXCIgJyksMkU0PkNLRURJVE9SLmVudi52ZXJzaW9uJiZcbihhPWEucmVwbGFjZSgvPGJvZHlbXj5dKj4vLFwiJFxceDI2XFx4M2MhLS0gY2tlLWNvbnRlbnQtc3RhcnQgLS1cXHgzZVwiKSkpO2Q9J1xceDNjc2NyaXB0IGlkXFx4M2RcImNrZV9hY3RzY3JwdFwiIHR5cGVcXHgzZFwidGV4dC9qYXZhc2NyaXB0XCInKyhDS0VESVRPUi5lbnYuaWU/JyBkZWZlclxceDNkXCJkZWZlclwiICc6XCJcIikrXCJcXHgzZXZhciB3YXNMb2FkZWRcXHgzZDA7ZnVuY3Rpb24gb25sb2FkKCl7aWYoIXdhc0xvYWRlZCl3aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihcIit0aGlzLl8uZnJhbWVMb2FkZWRIYW5kbGVyK1wiLHdpbmRvdyk7d2FzTG9hZGVkXFx4M2QxO31cIisoQ0tFRElUT1IuZW52LmllP1wib25sb2FkKCk7XCI6J2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIG9ubG9hZCwgZmFsc2UgKTsnKStcIlxceDNjL3NjcmlwdFxceDNlXCI7Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uJiYoZCs9J1xceDNjc2NyaXB0IGlkXFx4M2RcImNrZV9zaGltc2NycHRcIlxceDNld2luZG93LnBhcmVudC5DS0VESVRPUi50b29scy5lbmFibGVIdG1sNUVsZW1lbnRzKGRvY3VtZW50KVxceDNjL3NjcmlwdFxceDNlJyk7XG5uJiZDS0VESVRPUi5lbnYuaWUmJjEwPkNLRURJVE9SLmVudi52ZXJzaW9uJiYoZCs9J1xceDNjc2NyaXB0IGlkXFx4M2RcImNrZV9iYXNldGFnc2NycHRcIlxceDNldmFyIGJhc2VUYWcgXFx4M2QgZG9jdW1lbnQucXVlcnlTZWxlY3RvciggXCJiYXNlXCIgKTtiYXNlVGFnLmhyZWYgXFx4M2QgYmFzZVRhZy5ocmVmO1xceDNjL3NjcmlwdFxceDNlJyk7YT1hLnJlcGxhY2UoLyg/PVxccyo8XFwvKDo/aGVhZCk+KS8sZCk7dGhpcy5jbGVhckN1c3RvbURhdGEoKTt0aGlzLmNsZWFyTGlzdGVuZXJzKCk7Zi5maXJlKFwiY29udGVudERvbVVubG9hZFwiKTt2YXIgcT10aGlzLmdldERvY3VtZW50KCk7dHJ5e3Eud3JpdGUoYSl9Y2F0Y2gocCl7c2V0VGltZW91dChmdW5jdGlvbigpe3Eud3JpdGUoYSl9LDApfX19LGdldERhdGE6ZnVuY3Rpb24oYSl7aWYoYSlyZXR1cm4gdGhpcy5nZXRIdG1sKCk7YT10aGlzLmVkaXRvcjt2YXIgYj1hLmNvbmZpZyxjPWIuZnVsbFBhZ2UsZD1jJiZhLmRvY1R5cGUsZj1jJiZhLnhtbERlY2xhcmF0aW9uLFxuaz10aGlzLmdldERvY3VtZW50KCksYz1jP2suZ2V0RG9jdW1lbnRFbGVtZW50KCkuZ2V0T3V0ZXJIdG1sKCk6ay5nZXRCb2R5KCkuZ2V0SHRtbCgpO0NLRURJVE9SLmVudi5nZWNrbyYmYi5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSJiYoYz1jLnJlcGxhY2UoLzxicj4oPz1cXHMqKDo/JHw8XFwvYm9keT4pKS8sXCJcIikpO2M9YS5kYXRhUHJvY2Vzc29yLnRvRGF0YUZvcm1hdChjKTtmJiYoYz1mK1wiXFxuXCIrYyk7ZCYmKGM9ZCtcIlxcblwiK2MpO3JldHVybiBjfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuXy5pc0xvYWRpbmdEYXRhP3RoaXMuXy5pc1BlbmRpbmdGb2N1cz0hMDpjLmJhc2VQcm90by5mb2N1cy5jYWxsKHRoaXMpfSxkZXRhY2g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvcixiPWEuZG9jdW1lbnQsZjt0cnl7Zj1hLndpbmRvdy5nZXRGcmFtZSgpfWNhdGNoKGQpe31jLmJhc2VQcm90by5kZXRhY2guY2FsbCh0aGlzKTt0aGlzLmNsZWFyQ3VzdG9tRGF0YSgpO2IuZ2V0RG9jdW1lbnRFbGVtZW50KCkuY2xlYXJDdXN0b21EYXRhKCk7XG5DS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbih0aGlzLl8uZnJhbWVMb2FkZWRIYW5kbGVyKTtmJiZmLmdldFBhcmVudCgpPyhmLmNsZWFyQ3VzdG9tRGF0YSgpLChhPWYucmVtb3ZlQ3VzdG9tRGF0YShcIm9uUmVzaXplXCIpKSYmYS5yZW1vdmVMaXN0ZW5lcigpLGYucmVtb3ZlKCkpOkNLRURJVE9SLndhcm4oXCJlZGl0b3ItZGVzdHJveS1pZnJhbWVcIil9fX0pfSgpLENLRURJVE9SLmNvbmZpZy5kaXNhYmxlT2JqZWN0UmVzaXppbmc9ITEsQ0tFRElUT1IuY29uZmlnLmRpc2FibGVOYXRpdmVUYWJsZUhhbmRsZXM9ITAsQ0tFRElUT1IuY29uZmlnLmRpc2FibGVOYXRpdmVTcGVsbENoZWNrZXI9ITAsQ0tFRElUT1IuY29uZmlnLnBsdWdpbnM9XCJkaWFsb2d1aSxkaWFsb2csYTExeWhlbHAsYWJvdXQsYmFzaWNzdHlsZXMsYmxvY2txdW90ZSxjbGlwYm9hcmQscGFuZWwsZmxvYXRwYW5lbCxtZW51LGNvbnRleHRtZW51LGVsZW1lbnRzcGF0aCxpbmRlbnQsaW5kZW50bGlzdCxsaXN0LGVudGVya2V5LGVudGl0aWVzLHBvcHVwLGZpbGVicm93c2VyLGZsb2F0aW5nc3BhY2UsbGlzdGJsb2NrLGJ1dHRvbixyaWNoY29tYm8sZm9ybWF0LGhvcml6b250YWxydWxlLGh0bWx3cml0ZXIsaW1hZ2UsZmFrZW9iamVjdHMsbGluayxtYWdpY2xpbmUsbWF4aW1pemUscGFzdGVmcm9td29yZCxwYXN0ZXRleHQscmVtb3ZlZm9ybWF0LHJlc2l6ZSxtZW51YnV0dG9uLHNjYXl0LHNob3dib3JkZXJzLHNvdXJjZWFyZWEsc3BlY2lhbGNoYXIsc3R5bGVzY29tYm8sdGFiLHRhYmxlLHRhYmxldG9vbHMsdG9vbGJhcix1bmRvLHdzYyx3eXNpd3lnYXJlYVwiLFxuQ0tFRElUT1IuY29uZmlnLnNraW49XCJtb29uby1saXNhXCIsZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhLGIpe3ZhciBjPUNLRURJVE9SLmdldFVybChcInBsdWdpbnMvXCIrYik7YT1hLnNwbGl0KFwiLFwiKTtmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKylDS0VESVRPUi5za2luLmljb25zW2FbZV1dPXtwYXRoOmMsb2Zmc2V0Oi1hWysrZV0sYmdzaXplOmFbKytlXX19O0NLRURJVE9SLmVudi5oaWRwaT9hKFwiYWJvdXQsMCwsYm9sZCwyNCwsaXRhbGljLDQ4LCxzdHJpa2UsNzIsLHN1YnNjcmlwdCw5Niwsc3VwZXJzY3JpcHQsMTIwLCx1bmRlcmxpbmUsMTQ0LCxiaWRpbHRyLDE2OCwsYmlkaXJ0bCwxOTIsLGJsb2NrcXVvdGUsMjE2LCxjb3B5LXJ0bCwyNDAsLGNvcHksMjY0LCxjdXQtcnRsLDI4OCwsY3V0LDMxMiwscGFzdGUtcnRsLDMzNiwscGFzdGUsMzYwLCxjb2Rlc25pcHBldCwzODQsLGJnY29sb3IsNDA4LCx0ZXh0Y29sb3IsNDMyLCxjb3B5Zm9ybWF0dGluZyw0NTYsLGNyZWF0ZWRpdiw0ODAsLGRvY3Byb3BzLXJ0bCw1MDQsLGRvY3Byb3BzLDUyOCwsZW1iZWQsNTUyLCxlbWJlZHNlbWFudGljLDU3NiwsZmluZC1ydGwsNjAwLCxmaW5kLDYyNCwscmVwbGFjZSw2NDgsLGZsYXNoLDY3MiwsYnV0dG9uLDY5NiwsY2hlY2tib3gsNzIwLCxmb3JtLDc0NCwsaGlkZGVuZmllbGQsNzY4LCxpbWFnZWJ1dHRvbiw3OTIsLHJhZGlvLDgxNiwsc2VsZWN0LXJ0bCw4NDAsLHNlbGVjdCw4NjQsLHRleHRhcmVhLXJ0bCw4ODgsLHRleHRhcmVhLDkxMiwsdGV4dGZpZWxkLXJ0bCw5MzYsLHRleHRmaWVsZCw5NjAsLGhvcml6b250YWxydWxlLDk4NCwsaWZyYW1lLDEwMDgsLGltYWdlLDEwMzIsLGluZGVudC1ydGwsMTA1NiwsaW5kZW50LDEwODAsLG91dGRlbnQtcnRsLDExMDQsLG91dGRlbnQsMTEyOCwsanVzdGlmeWJsb2NrLDExNTIsLGp1c3RpZnljZW50ZXIsMTE3NiwsanVzdGlmeWxlZnQsMTIwMCwsanVzdGlmeXJpZ2h0LDEyMjQsLGxhbmd1YWdlLDEyNDgsLGFuY2hvci1ydGwsMTI3MiwsYW5jaG9yLDEyOTYsLGxpbmssMTMyMCwsdW5saW5rLDEzNDQsLGJ1bGxldGVkbGlzdC1ydGwsMTM2OCwsYnVsbGV0ZWRsaXN0LDEzOTIsLG51bWJlcmVkbGlzdC1ydGwsMTQxNiwsbnVtYmVyZWRsaXN0LDE0NDAsLG1hdGhqYXgsMTQ2NCwsbWF4aW1pemUsMTQ4OCwsbmV3cGFnZS1ydGwsMTUxMiwsbmV3cGFnZSwxNTM2LCxwYWdlYnJlYWstcnRsLDE1NjAsLHBhZ2VicmVhaywxNTg0LCxwYXN0ZWZyb213b3JkLXJ0bCwxNjA4LCxwYXN0ZWZyb213b3JkLDE2MzIsLHBhc3RldGV4dC1ydGwsMTY1NiwscGFzdGV0ZXh0LDE2ODAsLHBsYWNlaG9sZGVyLDE3MDQsLHByZXZpZXctcnRsLDE3MjgsLHByZXZpZXcsMTc1MiwscHJpbnQsMTc3NiwscmVtb3ZlZm9ybWF0LDE4MDAsLHNhdmUsMTgyNCwsc2NheXQsMTg0OCwsc2VsZWN0YWxsLDE4NzIsLHNob3dibG9ja3MtcnRsLDE4OTYsLHNob3dibG9ja3MsMTkyMCwsc21pbGV5LDE5NDQsLHNvdXJjZS1ydGwsMTk2OCwsc291cmNlLDE5OTIsLHNvdXJjZWRpYWxvZy1ydGwsMjAxNiwsc291cmNlZGlhbG9nLDIwNDAsLHNwZWNpYWxjaGFyLDIwNjQsLHRhYmxlLDIwODgsLHRlbXBsYXRlcy1ydGwsMjExMiwsdGVtcGxhdGVzLDIxMzYsLHVpY29sb3IsMjE2MCwscmVkby1ydGwsMjE4NCwscmVkbywyMjA4LCx1bmRvLXJ0bCwyMjMyLCx1bmRvLDIyNTYsLHNpbXBsZWJveCw0NTYwLGF1dG8sc3BlbGxjaGVja2VyLDIzMDQsXCIsXG5cImljb25zX2hpZHBpLnBuZ1wiKTphKFwiYWJvdXQsMCxhdXRvLGJvbGQsMjQsYXV0byxpdGFsaWMsNDgsYXV0byxzdHJpa2UsNzIsYXV0byxzdWJzY3JpcHQsOTYsYXV0byxzdXBlcnNjcmlwdCwxMjAsYXV0byx1bmRlcmxpbmUsMTQ0LGF1dG8sYmlkaWx0ciwxNjgsYXV0byxiaWRpcnRsLDE5MixhdXRvLGJsb2NrcXVvdGUsMjE2LGF1dG8sY29weS1ydGwsMjQwLGF1dG8sY29weSwyNjQsYXV0byxjdXQtcnRsLDI4OCxhdXRvLGN1dCwzMTIsYXV0byxwYXN0ZS1ydGwsMzM2LGF1dG8scGFzdGUsMzYwLGF1dG8sY29kZXNuaXBwZXQsMzg0LGF1dG8sYmdjb2xvciw0MDgsYXV0byx0ZXh0Y29sb3IsNDMyLGF1dG8sY29weWZvcm1hdHRpbmcsNDU2LGF1dG8sY3JlYXRlZGl2LDQ4MCxhdXRvLGRvY3Byb3BzLXJ0bCw1MDQsYXV0byxkb2Nwcm9wcyw1MjgsYXV0byxlbWJlZCw1NTIsYXV0byxlbWJlZHNlbWFudGljLDU3NixhdXRvLGZpbmQtcnRsLDYwMCxhdXRvLGZpbmQsNjI0LGF1dG8scmVwbGFjZSw2NDgsYXV0byxmbGFzaCw2NzIsYXV0byxidXR0b24sNjk2LGF1dG8sY2hlY2tib3gsNzIwLGF1dG8sZm9ybSw3NDQsYXV0byxoaWRkZW5maWVsZCw3NjgsYXV0byxpbWFnZWJ1dHRvbiw3OTIsYXV0byxyYWRpbyw4MTYsYXV0byxzZWxlY3QtcnRsLDg0MCxhdXRvLHNlbGVjdCw4NjQsYXV0byx0ZXh0YXJlYS1ydGwsODg4LGF1dG8sdGV4dGFyZWEsOTEyLGF1dG8sdGV4dGZpZWxkLXJ0bCw5MzYsYXV0byx0ZXh0ZmllbGQsOTYwLGF1dG8saG9yaXpvbnRhbHJ1bGUsOTg0LGF1dG8saWZyYW1lLDEwMDgsYXV0byxpbWFnZSwxMDMyLGF1dG8saW5kZW50LXJ0bCwxMDU2LGF1dG8saW5kZW50LDEwODAsYXV0byxvdXRkZW50LXJ0bCwxMTA0LGF1dG8sb3V0ZGVudCwxMTI4LGF1dG8sanVzdGlmeWJsb2NrLDExNTIsYXV0byxqdXN0aWZ5Y2VudGVyLDExNzYsYXV0byxqdXN0aWZ5bGVmdCwxMjAwLGF1dG8sanVzdGlmeXJpZ2h0LDEyMjQsYXV0byxsYW5ndWFnZSwxMjQ4LGF1dG8sYW5jaG9yLXJ0bCwxMjcyLGF1dG8sYW5jaG9yLDEyOTYsYXV0byxsaW5rLDEzMjAsYXV0byx1bmxpbmssMTM0NCxhdXRvLGJ1bGxldGVkbGlzdC1ydGwsMTM2OCxhdXRvLGJ1bGxldGVkbGlzdCwxMzkyLGF1dG8sbnVtYmVyZWRsaXN0LXJ0bCwxNDE2LGF1dG8sbnVtYmVyZWRsaXN0LDE0NDAsYXV0byxtYXRoamF4LDE0NjQsYXV0byxtYXhpbWl6ZSwxNDg4LGF1dG8sbmV3cGFnZS1ydGwsMTUxMixhdXRvLG5ld3BhZ2UsMTUzNixhdXRvLHBhZ2VicmVhay1ydGwsMTU2MCxhdXRvLHBhZ2VicmVhaywxNTg0LGF1dG8scGFzdGVmcm9td29yZC1ydGwsMTYwOCxhdXRvLHBhc3RlZnJvbXdvcmQsMTYzMixhdXRvLHBhc3RldGV4dC1ydGwsMTY1NixhdXRvLHBhc3RldGV4dCwxNjgwLGF1dG8scGxhY2Vob2xkZXIsMTcwNCxhdXRvLHByZXZpZXctcnRsLDE3MjgsYXV0byxwcmV2aWV3LDE3NTIsYXV0byxwcmludCwxNzc2LGF1dG8scmVtb3ZlZm9ybWF0LDE4MDAsYXV0byxzYXZlLDE4MjQsYXV0byxzY2F5dCwxODQ4LGF1dG8sc2VsZWN0YWxsLDE4NzIsYXV0byxzaG93YmxvY2tzLXJ0bCwxODk2LGF1dG8sc2hvd2Jsb2NrcywxOTIwLGF1dG8sc21pbGV5LDE5NDQsYXV0byxzb3VyY2UtcnRsLDE5NjgsYXV0byxzb3VyY2UsMTk5MixhdXRvLHNvdXJjZWRpYWxvZy1ydGwsMjAxNixhdXRvLHNvdXJjZWRpYWxvZywyMDQwLGF1dG8sc3BlY2lhbGNoYXIsMjA2NCxhdXRvLHRhYmxlLDIwODgsYXV0byx0ZW1wbGF0ZXMtcnRsLDIxMTIsYXV0byx0ZW1wbGF0ZXMsMjEzNixhdXRvLHVpY29sb3IsMjE2MCxhdXRvLHJlZG8tcnRsLDIxODQsYXV0byxyZWRvLDIyMDgsYXV0byx1bmRvLXJ0bCwyMjMyLGF1dG8sdW5kbywyMjU2LGF1dG8sc2ltcGxlYm94LDIyODAsYXV0byxzcGVsbGNoZWNrZXIsMjMwNCxhdXRvXCIsXG5cImljb25zLnBuZ1wiKX0oKSl9KSgpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9ja2VkaXRvci9ja2VkaXRvci5qc1xuLy8gbW9kdWxlIGlkID0gNzYzXG4vLyBtb2R1bGUgY2h1bmtzID0gNiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 770:
/* unknown exports provided */
/* all exports used */
/*!***********************************************!*\
  !*** ./~/ng2-ckeditor/lib/ckeditor.module.js ***!
  \***********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar core_1 = __webpack_require__(/*! @angular/core */ 2);\nvar common_1 = __webpack_require__(/*! @angular/common */ 14);\nvar ckeditor_component_1 = __webpack_require__(/*! ./ckeditor.component */ 642);\n/**\n * CKEditorModule\n */\nvar CKEditorModule = (function () {\n    function CKEditorModule() {\n    }\n    CKEditorModule.decorators = [\n        { type: core_1.NgModule, args: [{\n                    imports: [\n                        common_1.CommonModule\n                    ],\n                    declarations: [\n                        ckeditor_component_1.CKEditorComponent,\n                    ],\n                    exports: [\n                        ckeditor_component_1.CKEditorComponent,\n                    ]\n                },] },\n    ];\n    /** @nocollapse */\n    CKEditorModule.ctorParameters = [];\n    return CKEditorModule;\n}());\nexports.CKEditorModule = CKEditorModule;\n//# sourceMappingURL=ckeditor.module.js.map//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzcwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9uZzItY2tlZGl0b3IvbGliL2NrZWRpdG9yLm1vZHVsZS5qcz9hN2Q0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvbW1vbicpO1xudmFyIGNrZWRpdG9yX2NvbXBvbmVudF8xID0gcmVxdWlyZSgnLi9ja2VkaXRvci5jb21wb25lbnQnKTtcbi8qKlxuICogQ0tFZGl0b3JNb2R1bGVcbiAqL1xudmFyIENLRWRpdG9yTW9kdWxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDS0VkaXRvck1vZHVsZSgpIHtcbiAgICB9XG4gICAgQ0tFZGl0b3JNb2R1bGUuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuTmdNb2R1bGUsIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1vbl8xLkNvbW1vbk1vZHVsZVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNrZWRpdG9yX2NvbXBvbmVudF8xLkNLRWRpdG9yQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBja2VkaXRvcl9jb21wb25lbnRfMS5DS0VkaXRvckNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0sXSB9LFxuICAgIF07XG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgQ0tFZGl0b3JNb2R1bGUuY3RvclBhcmFtZXRlcnMgPSBbXTtcbiAgICByZXR1cm4gQ0tFZGl0b3JNb2R1bGU7XG59KCkpO1xuZXhwb3J0cy5DS0VkaXRvck1vZHVsZSA9IENLRWRpdG9yTW9kdWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2tlZGl0b3IubW9kdWxlLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9uZzItY2tlZGl0b3IvbGliL2NrZWRpdG9yLm1vZHVsZS5qc1xuLy8gbW9kdWxlIGlkID0gNzcwXG4vLyBtb2R1bGUgY2h1bmtzID0gNiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 771:
/* unknown exports provided */
/* exports used: CKEditorModule */
/*!*************************************!*\
  !*** ./~/ng2-ckeditor/lib/index.js ***!
  \*************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ckeditor_module_1 = __webpack_require__(/*! ./ckeditor.module */ 770);\nexports.CKEditorModule = ckeditor_module_1.CKEditorModule;\nvar ckeditor_component_1 = __webpack_require__(/*! ./ckeditor.component */ 642);\nexports.CKEditorComponent = ckeditor_component_1.CKEditorComponent;\n//# sourceMappingURL=index.js.map//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzcxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9uZzItY2tlZGl0b3IvbGliL2luZGV4LmpzP2Q1M2UiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY2tlZGl0b3JfbW9kdWxlXzEgPSByZXF1aXJlKCcuL2NrZWRpdG9yLm1vZHVsZScpO1xuZXhwb3J0cy5DS0VkaXRvck1vZHVsZSA9IGNrZWRpdG9yX21vZHVsZV8xLkNLRWRpdG9yTW9kdWxlO1xudmFyIGNrZWRpdG9yX2NvbXBvbmVudF8xID0gcmVxdWlyZSgnLi9ja2VkaXRvci5jb21wb25lbnQnKTtcbmV4cG9ydHMuQ0tFZGl0b3JDb21wb25lbnQgPSBja2VkaXRvcl9jb21wb25lbnRfMS5DS0VkaXRvckNvbXBvbmVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9uZzItY2tlZGl0b3IvbGliL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA3NzFcbi8vIG1vZHVsZSBjaHVua3MgPSA2Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 799:
/* unknown exports provided */
/* all exports used */
/*!************************************************************************************************!*\
  !*** ./~/raw-loader!./~/sass-loader!./src/app/pages/editors/components/ckeditor/ckeditor.scss ***!
  \************************************************************************************************/
/***/ (function(module, exports) {

eval("module.exports = \".cke_source {\\n  color: #7d7d7d !important; }\\n\"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzk5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wYWdlcy9lZGl0b3JzL2NvbXBvbmVudHMvY2tlZGl0b3IvY2tlZGl0b3Iuc2Nzcz9kOWI1Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCIuY2tlX3NvdXJjZSB7XFxuICBjb2xvcjogIzdkN2Q3ZCAhaW1wb3J0YW50OyB9XFxuXCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmF3LWxvYWRlciEuL34vc2Fzcy1sb2FkZXIhLi9zcmMvYXBwL3BhZ2VzL2VkaXRvcnMvY29tcG9uZW50cy9ja2VkaXRvci9ja2VkaXRvci5zY3NzXG4vLyBtb2R1bGUgaWQgPSA3OTlcbi8vIG1vZHVsZSBjaHVua3MgPSA2Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 825:
/* unknown exports provided */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/app/pages/editors/components/ckeditor/ckeditor.html ***!
  \*****************************************************************/
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-md-12\\\">\\r\\n    <ba-card title=\\\"ckeditor\\\" baCardClass=\\\"with-scroll\\\">\\r\\n      <ckeditor [(ngModel)]=\\\"ckeditorContent\\\" [config]=\\\"config\\\"></ckeditor>\\r\\n    </ba-card>\\r\\n  </div>\\r\\n</div>\\r\\n\"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODI1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wYWdlcy9lZGl0b3JzL2NvbXBvbmVudHMvY2tlZGl0b3IvY2tlZGl0b3IuaHRtbD8wNjhjIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcclxcbiAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXHJcXG4gICAgPGJhLWNhcmQgdGl0bGU9XFxcImNrZWRpdG9yXFxcIiBiYUNhcmRDbGFzcz1cXFwid2l0aC1zY3JvbGxcXFwiPlxcclxcbiAgICAgIDxja2VkaXRvciBbKG5nTW9kZWwpXT1cXFwiY2tlZGl0b3JDb250ZW50XFxcIiBbY29uZmlnXT1cXFwiY29uZmlnXFxcIj48L2NrZWRpdG9yPlxcclxcbiAgICA8L2JhLWNhcmQ+XFxyXFxuICA8L2Rpdj5cXHJcXG48L2Rpdj5cXHJcXG5cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2FwcC9wYWdlcy9lZGl0b3JzL2NvbXBvbmVudHMvY2tlZGl0b3IvY2tlZGl0b3IuaHRtbFxuLy8gbW9kdWxlIGlkID0gODI1XG4vLyBtb2R1bGUgY2h1bmtzID0gNiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 875:
/* unknown exports provided */
/*!**********************************************************************************!*\
  !*** ./~/style-loader!./src/app/pages/editors/components/ckeditor/ckeditor.scss ***!
  \**********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../../../../../~/raw-loader!../../../../../../~/sass-loader!./ckeditor.scss */ 799);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(/*! ../../../../../../~/style-loader/addStyles.js */ 6)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../node_modules/raw-loader/index.js!../../../../../../node_modules/sass-loader/index.js!./ckeditor.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../node_modules/raw-loader/index.js!../../../../../../node_modules/sass-loader/index.js!./ckeditor.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODc1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wYWdlcy9lZGl0b3JzL2NvbXBvbmVudHMvY2tlZGl0b3IvY2tlZGl0b3Iuc2Nzcz9mMzg1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmF3LWxvYWRlci9pbmRleC5qcyEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9ja2VkaXRvci5zY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yYXctbG9hZGVyL2luZGV4LmpzIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2NrZWRpdG9yLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yYXctbG9hZGVyL2luZGV4LmpzIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2NrZWRpdG9yLnNjc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9zdHlsZS1sb2FkZXIhLi9zcmMvYXBwL3BhZ2VzL2VkaXRvcnMvY29tcG9uZW50cy9ja2VkaXRvci9ja2VkaXRvci5zY3NzXG4vLyBtb2R1bGUgaWQgPSA4NzVcbi8vIG1vZHVsZSBjaHVua3MgPSA2Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ })

});